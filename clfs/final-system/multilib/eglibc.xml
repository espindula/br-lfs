<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
  "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;
]>

<sect1 id="ch-system-eglibc-32" role="wrap">
  <?dbhtml filename="eglibc.html"?>

  <title>EGLIBC-&eglibc-version; 32 Bit Libraries</title>

  <indexterm zone="ch-system-eglibc-32">
    <primary sortas="a-EGLIBC">EGLIBC</primary>
    <secondary>32 Bit</secondary>
  </indexterm>

  <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
  href="../common/eglibc.xml"
  xpointer="xpointer(//*[@role='package'])"/>

  <sect2 role="installation">
    <title>Installation d'EGLIBC</title>

    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
    href="../common/eglibc.xml"
    xpointer="xpointer(//*[@os='z'])"/>

    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
    href="../common/eglibc.xml"
    xpointer="xpointer(//*[@os='l1'])"/>

    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
    href="../common/eglibc.xml"
    xpointer="xpointer(//*[@os='l2'])"/>

    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
    href="../common/eglibc.xml"
    xpointer="xpointer(//*[@os='l3'])"/>

    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
    href="../common/eglibc.xml"
    xpointer="xpointer(//*[@os='l4'])"/>

    <para os="l5">Les en-têtes RPC ne sont pas installées dans /tools/include/rpc. 
    La construction d'Eglibc 32 bits finira en mauvais état à cause des nouvelles
    aides RPC compilées de façon croisée. Nous n'en voulons pas, donc la
    commande suivante utilisera l'en-tête interne de type rpc.</para>

<screen os="l6"><userinput>sed -i 's/&lt;rpc\/types.h&gt;/"rpc\/types.h"/' sunrpc/rpc_clntout.c</userinput></screen>

    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
    href="../common/eglibc.xml"
    xpointer="xpointer(//*[@os='p3'])"/>

    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
    href="../common/eglibc.xml"
    xpointer="xpointer(//*[@os='p4'])"/>

    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
    href="../common/eglibc.xml"
    xpointer="xpointer(//*[@os='b'])"/>

    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
    href="../common/eglibc.xml"
    xpointer="xpointer(//*[@os='e'])"/>

    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
    href="../common/eglibc.xml"
    xpointer="xpointer(//*[@os='f'])"/>

    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
    href="../common/eglibc.xml"
    xpointer="xpointer(//*[@os='g'])"/>

<screen os="h"><userinput>CC="gcc ${BUILD32}" CXX="g++ ${BUILD32}" \
    ../eglibc-&eglibc-version;/configure --prefix=/usr \
    --disable-profile --enable-add-ons --enable-kernel=2.6.0 \
    --libexecdir=/usr/lib/eglibc --host=${CLFS_TARGET32}</userinput></screen>

    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
    href="../common/eglibc.xml"
    xpointer="xpointer(//*[@os='i'])"/>

    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
    href="../common/eglibc.xml"
    xpointer="xpointer(//*[@os='j'])"/>

    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
    href="../common/eglibc.xml"
    xpointer="xpointer(//*[@os='k'])"/>

    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
    href="../common/eglibc.xml"
    xpointer="xpointer(//*[@os='l'])"/>

    <para os="l1b">En multilib, on a tendance à penser que compiler pour
    <literal>${CLFS_TARGET32}</literal> n'est <emphasis>pas</emphasis> de la
    compilation croisée. EGLIBC a une vision traditionnelle selon laquelle si 
    vous construisez pour un autre hôte, vous faites une compilation croisée,
    donc vous n'exécuterez pas les tests, et donc vous n'avez pas besoin des 
    fichiers de locale. Quand on lance les tests, beaucoup échoueront sans les
    fichiers de localisation. Le sed suivant permet aux tests de réussir&nbsp;:</para>

<screen os="l2b"><userinput>sed -i '/cross-compiling/s@ifeq@ifneq@g' ../eglibc-&eglibc-version;/localedata/Makefile</userinput></screen>

    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
    href="../common/eglibc.xml"
    xpointer="xpointer(//*[@os='m'])"/>

    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
    href="../common/eglibc.xml"
    xpointer="xpointer(//*[@os='n'])"/>

    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
    href="../common/eglibc.xml"
    xpointer="xpointer(//*[@os='o'])"/>

    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
    href="../common/eglibc.xml"
    xpointer="xpointer(//*[@os='p'])"/>

    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
    href="../common/eglibc.xml"
    xpointer="xpointer(//*[@os='q'])"/>

    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
    href="../common/eglibc.xml"
    xpointer="xpointer(//*[@os='r'])"/>

    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
    href="../common/eglibc.xml"
    xpointer="xpointer(//*[@os='s'])"/>

    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
    href="../common/eglibc.xml"
    xpointer="xpointer(//*[@os='t'])"/>

  </sect2>

  <sect2 role="content">
    <title/>

    <para>Les détails sur ce paquet sont disponibles dans <xref
    linkend="contents-eglibc" role="."/></para>

  </sect2>

</sect1>
