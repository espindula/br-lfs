<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
  "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;
]>

<sect1 id="ch-system-kbd" role="wrap">
  <?dbhtml filename="kbd.html"?>

  <title>Kbd-&kbd-version;</title>

  <indexterm zone="ch-system-kbd">
    <primary sortas="a-Kbd">Kbd</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>Le paquet Kbd contient les fichiers de plan de codage et des
    outils pour le clavier.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation de Kbd</title>

    <para os="a">Préparez la compilation de Kbd&nbsp;:</para>

<screen os="b"><userinput>PKG_CONFIG_PATH="/tools/lib/pkgconfig" \
    ./configure --prefix=/usr --disable-vlock --enable-optional-progs</userinput></screen>

    <para os="c">Compilez le paquet&nbsp;:</para>
    
<screen os="d"><userinput>make</userinput></screen>

    <para os="e">Ce paquet n'est pas fourni avec une suite de tests.</para>

    <para os="f">Installez le paquet&nbsp;:</para>

<screen os="g"><userinput>make install</userinput></screen>

   <para os="h">Certains programmes de Kbd sont utilisés par des scripts du paquet CLFS-Bootscripts. Comme il se peut que
    <filename class="directory">/usr</filename> ne soit pas disponibles lors des premières étapes du démarrage, ces binaires 
    doivent être sur la partition racine&nbsp;:</para>

<screen os="i"><userinput>mv -v /usr/bin/{kbd_mode,dumpkeys,loadkeys,openvt,setfont,setvtrgb} /bin</userinput></screen>

  </sect2>

  <sect2 id="contents-kbd" role="content">
    <title>Contenu de Kbd</title>

    <segmentedlist>
      <segtitle>Programmes installés</segtitle>
      <segtitle>Répertoires installés</segtitle>

      <seglistitem>
        <seg>chvt, deallocvt, dumpkeys, fgconsole, getkeycodes, kbdinfo,
        kbd_mode, kbdrate, loadkeys, loadunimap, mapscrn, openvt, psfaddtable
        (lien vers psfxtable), psfgettable (lien vers psfxtable), psfstriptable
        (lien vers psfxtable), psfxtable, resizecons, setfont, setkeycodes,
        setleds, setmetamode, setvtrgb, showconsolefont, showkey,
        unicode_start, et unicode_stop</seg>
        <seg>/usr/share/consolefonts, /usr/share/consoletrans,
        /usr/share/keymaps, /usr/share/unimaps</seg>

      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Descriptions courtes</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="chvt">
        <term><command>chvt</command></term>
        <listitem>
          <para>Change le terminal virtuel en avant plan</para>
          <indexterm zone="ch-system-kbd chvt">
            <primary sortas="b-chvt">chvt</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="deallocvt">
        <term><command>deallocvt</command></term>
        <listitem>
          <para>Désalloue les terminaux virtuels inutilisés</para>
          <indexterm zone="ch-system-kbd deallocvt">
            <primary sortas="b-deallocvt">deallocvt</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="dumpkeys">
        <term><command>dumpkeys</command></term>
        <listitem>
          <indexterm zone="ch-system-kbd dumpkeys">
            <primary sortas="b-dumpkeys">dumpkeys</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="fgconsole">
        <term><command>fgconsole</command></term>
        <listitem>
          <para>Affiche le numéro du terminal virtuel actif</para>
          <indexterm zone="ch-system-kbd fgconsole">
            <primary sortas="b-fgconsole">fgconsole</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="getkeycodes">
        <term><command>getkeycodes</command></term>
        <listitem>
          <para>Affiche la table de correspondance des <quote>scancode</quote> avec
          les <quote>keycode</quote></para>
          <indexterm zone="ch-system-kbd getkeycodes">
            <primary sortas="b-getkeycodes">getkeycodes</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="kbdinfo">
        <term><command>kbdinfo</command></term>
        <listitem>
          <para>Récupère des informations concernant la console</para>
          <indexterm zone="ch-system-kbd kbdinfo">
            <primary sortas="b-kbdinfo">kbdinfo</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="kbd_mode">
        <term><command>kbd_mode</command></term>
        <listitem>
          <para>Affiche ou initialise le mode du clavier</para>
          <indexterm zone="ch-system-kbd kbd_mode">
            <primary sortas="b-kbd_mode">kbd_mode</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="kbdrate">
        <term><command>kbdrate</command></term>
        <listitem>
          <para>Initialise les taux de répétition et de délai du clavier</para>
          <indexterm zone="ch-system-kbd kbdrate">
            <primary sortas="b-kbdrate">kbdrate</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="loadkeys">
        <term><command>loadkeys</command></term>
        <listitem>
          <para>Charge les tables de traduction du clavier</para>
          <indexterm zone="ch-system-kbd loadkeys">
            <primary sortas="b-loadkeys">loadkeys</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="loadunimap">
        <term><command>loadunimap</command></term>
        <listitem>
          <para>Charge la table de correspondance du noyau unicode-police</para>
          <indexterm zone="ch-system-kbd loadunimap">
            <primary sortas="b-loadunimap">loadunimap</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="mapscrn">
        <term><command>mapscrn</command></term>
        <listitem>
          <para>Un programme obsolète utilisé pour charger une table de
          correspondance
          des caractères de sortie définie par l'utilisateur dans le pilote de la
          console. Ceci est maintenant fait par <command>setfont</command></para>
          <indexterm zone="ch-system-kbd mapscrn">
            <primary sortas="b-mapscrn">mapscrn</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="openvt">
        <term><command>openvt</command></term>
        <listitem>
          <para>Lance un programme sur un nouveau terminal virtuel (VT)</para>
          <indexterm zone="ch-system-kbd openvt">
            <primary sortas="b-openvt">openvt</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="psfaddtable">
        <term><command>psfaddtable</command></term>
        <listitem>
          <para>Un lien vers <command>psfxtable</command></para>
          <indexterm zone="ch-system-kbd psfaddtable">
            <primary sortas="b-psfaddtable">psfaddtable</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="psfgettable">
        <term><command>psfgettable</command></term>
        <listitem>
          <para>Un lien vers <command>psfxtable</command></para>
          <indexterm zone="ch-system-kbd psfgettable">
            <primary sortas="b-psfgettable">psfgettable</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="psfstriptable">
        <term><command>psfstriptable</command></term>
        <listitem>
          <para>Un lien vers <command>psfxtable</command></para>
          <indexterm zone="ch-system-kbd psfstriptable">
            <primary sortas="b-psfstriptable">psfstriptable</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="psfxtable">
        <term><command>psfxtable</command></term>
        <listitem>
          <para>Gére les tables de caractères Unicode pour les polices de la 
          console</para>
          <indexterm zone="ch-system-kbd psfxtable">
            <primary sortas="b-psfxtable">psfxtable</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="resizecons">
        <term><command>resizecons</command></term>
        <listitem>
          <para>Change l'idée du noyau sur la taille de la console</para>
          <indexterm zone="ch-system-kbd resizecons">
            <primary sortas="b-resizecons">resizecons</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="setfont">
        <term><command>setfont</command></term>
        <listitem>
          <para>Modifie les polices EGA/VGA
          (<foreignphrase>Enhanced Graphic Adapter</foreignphrase>-<foreignphrase>Video Graphics Array</foreignphrase>
          sur la console</para>
          <indexterm zone="ch-system-kbd setfont">
            <primary sortas="b-setfont">setfont</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="setkeycodes">
        <term><command>setkeycodes</command></term>
        <listitem>
          <para>Charge les entrées de la table de correspondance entre scancode et
          keycode, utile si vous avez des touches inhabituelles sur votre clavier</para>
          <indexterm zone="ch-system-kbd setkeycodes">
            <primary sortas="b-setkeycodes">setkeycodes</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="setleds">
        <term><command>setleds</command></term>
        <listitem>
          <para>Initialise les drapeaux et LED du clavier</para>
          <indexterm zone="ch-system-kbd setleds">
            <primary sortas="b-setleds">setleds</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="setmetamode">
        <term><command>setmetamode</command></term>
        <listitem>
          <para>Définit la gestion des touches meta du clavier</para>
          <indexterm zone="ch-system-kbd setmetamode">
            <primary sortas="b-setmetamode">setmetamode</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="setvtrgb">
        <term><command>setvtrgb</command></term>
        <listitem>
          <para>Règle les couleurs RGB du terminal virtuel</para>
          <indexterm zone="ch-system-kbd setvtrgb">
            <primary sortas="b-setvtrgb">setvtrgb</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="showconsolefont">
        <term><command>showconsolefont</command></term>
        <listitem>
          <para>Affiche la police de l'écran pour la console EGA/VGA</para>
          <indexterm zone="ch-system-kbd showconsolefont">
            <primary sortas="b-showconsolefont">showconsolefont</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="showkey">
        <term><command>showkey</command></term>
        <listitem>
          <para>Affiche les scancodes, keycodes et codes ASCII des touches appuyées sur
          le clavier</para>
          <indexterm zone="ch-system-kbd showkey">
            <primary sortas="b-showkey">showkey</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="unicode_start">
        <term><command>unicode_start</command></term>
        <listitem>
          <para>Met le clavier et la console en mode UNICODE. Ne l''utilisez pas sur CLFS 
          sauf si votre fichier de correspondance est encodé en UTF-8.
          Pour les autres encodages, cet utilitaire donne de mauvais résultats.</para>
          <indexterm zone="ch-system-kbd unicode_start">
            <primary sortas="b-unicode_start">unicode_start</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="unicode_stop">
        <term><command>unicode_stop</command></term>
        <listitem>
          <para>Ramène le clavier et la console dans le mode avant UNICODE</para>
          <indexterm zone="ch-system-kbd unicode_stop">
            <primary sortas="b-unicode_stop">unicode_stop</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>

