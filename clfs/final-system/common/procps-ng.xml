<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
  "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;
]>

<sect1 id="ch-system-procps-ng" role="wrap">
  <?dbhtml filename="procps-ng.html"?>

  <title>Procps-ng-&procps-ng-version;</title>

  <indexterm zone="ch-system-procps-ng">
    <primary sortas="a-Procps-ng">Procps-ng</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>Le paquet Procps-ng contient des programmes pour surveiller les processus.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation de Procps-ng</title>

    <para os="a">Préparez procps-ng pour la compilation:</para>

<screen os="b"><userinput>./configure --prefix=/usr --exec-prefix= \
    --libdir=/usr/lib --docdir=/usr/share/doc/procps-ng-&procps-ng-version; \
    --disable-kill</userinput></screen>

    <variablelist os="c">
      <title>Signification des options de configuration:</title>
      <varlistentry>
        <term><parameter>--disable-kill</parameter></term>
        <listitem>
          <para>Ce paramètre désactive la construction du programme <command>kill</command>
          une meilleure version est installée par le paquet Util-linux.</para>
        </listitem>
      </varlistentry>
    </variablelist>

    <para os="d">Compilez le paquet:</para>

<screen os="e"><userinput>make</userinput></screen>

    <note os="note1">
      <para>En utilisant la méthode du démarrage, deux tests échoueront si le nom d'hote n'est pas initialisé.
      Si vous avez démarré le système temporaire, et que vous vouliez lancer la suite de tests, lancer
      la commande suivante:</para>

<screen><userinput remap="test">hostname clfs</userinput></screen>
    </note>

    <para os="f">Si vous lancez la suite de tests, en premier désactivez un test qui échouera
     quand les scripts n'utilisent pas un périphérique tty:
    </para>

<screen os="g"><userinput remap="test">sed -i -r 's|(pmap_initname)\\\$|\1|' testsuite/pmap.test/pmap.exp
make check</userinput></screen>

    <para os="h">Installez le paquet:</para>

<screen os="i"><userinput>make install</userinput></screen>

    <para os="j">Déplacez les fichiers essentiels dans un endroit qui peut être trouvé si 
    <filename class="directory">/usr</filename> n'est pas monté:</para>

<screen os="k"><userinput>mv -v /usr/bin/pidof /bin
mv -v /usr/lib/libprocps.so.* /lib
ln -sfv ../../lib/$(readlink /usr/lib/libprocps.so) /usr/lib/libprocps.so</userinput></screen>

  </sect2>

  <sect2 id="contents-procps-ng" role="content">
    <title>Contenu de Procps-ng</title>

    <segmentedlist>
      <segtitle>Programmes installés</segtitle>
      <segtitle>Bibliothèque installée</segtitle>
      <segtitle>Répertoires installés</segtitle>

      <seglistitem>
        <seg>free, pgrep, pidof, pkill, pmap, ps, pwdx, slabtop, sysctl, tload,
        top, uptime, vmstat, w, watch</seg>
        <seg>libprocps.{a,so}</seg>
        <seg>/usr/include/proc, /usr/share/doc/procps-ng-&procps-ng-version;</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Descriptions courtes</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="free">
        <term><command>free</command></term>
        <listitem>
          <para>Indique le total de mémoire libre et utilisé sur le système à
          la fois pour la mémoire physique et pour la mémoire swap</para>
          <indexterm zone="ch-system-procps free">
            <primary sortas="b-free">free</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="pgrep">
        <term><command>pgrep</command></term>
        <listitem>
          <para>Recherche les processus suivant leur nom et autres attributs</para>
          <indexterm zone="ch-system-procps pgrep">
            <primary sortas="b-pgrep">pgrep</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="pidof">
        <term><command>pidof</command></term>
        <listitem>
          <para>Indique le PID des programmes précisés</para>
          <indexterm zone="ch-system-procps pidof">
            <primary sortas="b-pidof">pidof</primary>
          </indexterm>
        </listitem>
      </varlistentry>
     <varlistentry id="pkill">
        <term><command>pkill</command></term>
        <listitem>
          <para>Envoie des signaux aux processus suivant leur nom et autres attributs</para>
          <indexterm zone="ch-system-procps pkill">
            <primary sortas="b-pkill">pkill</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="pmap">
        <term><command>pmap</command></term>
        <listitem>
          <para>Affiche le plan mémoire du processus désigné</para>
          <indexterm zone="ch-system-procps pmap">
            <primary sortas="b-pmap">pmap</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="ps">
        <term><command>ps</command></term>
        <listitem>
          <para>Donne un aperçu des processus en cours d'exécution</para>
          <indexterm zone="ch-system-procps ps">
            <primary sortas="b-ps">ps</primary>
          </indexterm>
        </listitem>
      </varlistentry>
     <varlistentry id="pwdx">
        <term><command>pwdx</command></term>
        <listitem>
          <para>Indique le répertoire d'exécution courant d'un processus</para>
          <indexterm zone="ch-system-procps pwdx">
            <primary sortas="b-pwdx">pwdx</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="slabtop">
        <term><command>slabtop</command></term>
        <listitem>
          <para>Affiche des informations détaillées sur le cache slap du noyau en temps réel</para>
          <indexterm zone="ch-system-procps slabtop">
            <primary sortas="b-slabtop">slabtop</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="sysctl">
        <term><command>sysctl</command></term>
        <listitem>
          <para>Modifie les paramètres du noyau en cours d'exécution</para>
          <indexterm zone="ch-system-procps sysctl">
            <primary sortas="b-sysctl">sysctl</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="tload">
        <term><command>tload</command></term>
        <listitem>
          <para>Affiche un graphe de la charge système actuelle</para>
          <indexterm zone="ch-system-procps tload">
            <primary sortas="b-tload">tload</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="top">
        <term><command>top</command></term>
        <listitem>
          <para>Affiche une liste des processus demandant le maximum de ressources
          CPU&nbsp;; il fournit un affichage agréable sur l'activité du processeur en temps réel</para>
          <indexterm zone="ch-system-procps top">
            <primary sortas="b-top">top</primary>
          </indexterm>
        </listitem>
      </varlistentry>
     <varlistentry id="uptime">
        <term><command>uptime</command></term>
        <listitem>
          <para>Affiche le temps d'exécution du système, le nombre d'utilisateurs
          connectés et les moyennes de charge système</para>
          <indexterm zone="ch-system-procps uptime">
            <primary sortas="b-uptime">uptime</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="vmstat">
        <term><command>vmstat</command></term>
        <listitem>
          <para>Affiche les statistiques de mémoire virtuelle, donne des informations sur
          les processus, la mémoire, la pagination, le nombre de blocs en
          entrées/sorties, les échappements et l'activité CPU</para>
          <indexterm zone="ch-system-procps vmstat">
            <primary sortas="b-vmstat">vmstat</primary>
          </indexterm>
        </listitem>
      </varlistentry>
     <varlistentry id="w">
        <term><command>w</command></term>
        <listitem>
          <para>Affiche les utilisateurs actuellement connectés, où et depuis quand</para>
          <indexterm zone="ch-system-procps w">
            <primary sortas="b-w">w</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="watch">
        <term><command>watch</command></term>
        <listitem>
          <para>Lance une commande de manière répétée, affichant le premier écran de sa
          sortie&nbsp;; ceci vous permet de surveiller la sortie</para>
          <indexterm zone="ch-system-procps watch">
            <primary sortas="b-watch">watch</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libprocps">
        <term><filename class="libraryfile">libprocps</filename></term>
        <listitem>
          <para>Contient les fonctions utilisées par la plupart des programmes
          de ce paquet</para>
          <indexterm zone="ch-system-procps libprocps">
            <primary sortas="c-libprocps">libprocps</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>


