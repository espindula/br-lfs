<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
  "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;
]>

<sect1 id="ch-system-dbus" role="wrap">
  <?dbhtml filename="dbus.html"?>

  <title>D-Bus-&dbus-version;</title>

  <indexterm zone="ch-system-dbus">
    <primary sortas="a-D-Bus">D-Bus</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>D-Bus est un système de bus de message, une façon simple pour les applications d'échanger avec une autre.
    </para>

  </sect2>

  <sect2 role="installation">
    <title>Installation de D-Bus</title>

    <para os="a">Préparez D-Bus pour la compilation:</para>

<screen os="b"><userinput>./configure --prefix=/usr --sysconfdir=/etc \
    --libexecdir=/usr/lib/dbus-1.0 --localstatedir=/var \
    --with-systemdsystemunitdir=/lib/systemd/system \
    --docdir=/usr/share/doc/dbus-&dbus-version;</userinput></screen>

    <para os="c">Compilez le paquet:</para>

<screen os="d"><userinput>make</userinput></screen>

    <para os="e">Ce paquet arrive avec une suite de tests, mais elle demande plusieurs paquets qui ne sont pas
    inclus dans CLFS. Les instructions pour lancer la suite de tests peut être trouvée dans le wiki CBLFS à
    <ulink url="&cblfs-root;index.php/D-BUS_Core"/>.</para>

    <para os="f">Installez le paquet:</para>

<screen os="g"><userinput>make install</userinput></screen>

    <para os="h">Déplacez la bibliothèque partagée dans <filename class="directory">/lib
    </filename> et recréez le lien symbolique.</para>

<screen os="i"><userinput>mv -v /usr/lib/libdbus-1.so.* /lib
ln -sfv ../../lib/$(readlink /usr/lib/libdbus-1.so) /usr/lib/libdbus-1.so</userinput></screen>

    <para os="j">Créez un lien symbolique pour que D-Bus et systemd puisse utiliser le même fichier
    <filename>machine-id</filename> :</para>

<screen os="k"><userinput>ln -sv /etc/machine-id /var/lib/dbus</userinput></screen>

  </sect2>

  <sect2 id="contents-dbus" role="content">
    <title>Contenu de D-Bus</title>

    <segmentedlist>
      <segtitle>Programmes installés</segtitle>
      <segtitle>Bibliothèques installées</segtitle>
      <segtitle>Répertoires installés</segtitle>

      <seglistitem>
        <seg>dbus-cleanup-sockets, dbus-daemon, dbus-launch, dbus-monitor, dbus-send, dbus-uuidgen</seg>
        <seg>libdbus-1.[a,so]</seg>
        <seg>/etc/dbus-1, /usr/include/dbus-1.0, /usr/lib/dbus-1.0,
        /usr/share/doc/dbus-&dbus-version;, /var/lib/dbus</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Descriptions courtes</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="dbus-cleanup-sockets">
        <term><command>dbus-cleanup-sockets</command></term>
        <listitem>
          <para>Nettoie les sockets inutilisés dans un répertoire</para>
          <indexterm zone="ch-system-dbus dbus-cleanup-sockets">
            <primary sortas="b-dbus-cleanup-sockets">dbus-cleanup-sockets</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="dbus-daemon">
        <term><command>dbus-daemon</command></term>
        <listitem>
          <para>Le démon du bus de message</para>
          <indexterm zone="ch-system-dbus dbus-daemon">
            <primary sortas="b-dbus-daemon">dbus-daemon</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="dbus-uuidgen">
        <term><command>dbus-uuidgen</command></term>
        <listitem>
          <para>Utilitaire pour générer des UUIDs</para>
          <indexterm zone="ch-system-dbus dbus-uuidgen">
            <primary sortas="b-dbus-uuidgen">dbus-uuidgen</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="dbus-monitor">
        <term><command>dbus-monitor</command></term>
        <listitem>
          <para>un utilitaire de déboguage qui afiche les messages du bus de messages</para>
          <indexterm zone="ch-system-dbus dbus-monitor">
            <primary sortas="b-dbus-monitor">dbus-monitor</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="dbus-launch">
        <term><command>dbus-launch</command></term>
        <listitem>
          <para>Utility to start a message bus from a shell script</para>
          <indexterm zone="ch-system-dbus dbus-launch">
            <primary sortas="b-dbus-launch">dbus-launch</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="dbus-send">
        <term><command>dbus-send</command></term>
        <listitem>
          <para>Envoie un message sur le bus de messages</para>
          <indexterm zone="ch-system-dbus dbus-send">
            <primary sortas="b-dbus-send">dbus-send</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libdbus-1">
        <term><filename class="libraryfile">libdbus-1</filename></term>
        <listitem>
          <para>bibliothèque contenant l'API pour utiliser le bus de messages</para>
          <indexterm zone="ch-system-dbus libdbus-1">
            <primary sortas="c-libdbus-1">libdbus-1</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
