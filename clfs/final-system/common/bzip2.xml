<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
  "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;
]>

<sect1 id="ch-system-bzip2" role="wrap">
  <?dbhtml filename="bzip2.html"?>

  <title>Bzip2-&bzip2-version;</title>

  <indexterm zone="ch-system-bzip2">
    <primary sortas="a-Bzip2">Bzip2</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>Le paquet Bzip2 contient des programmes de compression et
    décompression de fichiers. Compresser des fichiers texte avec
    <command>bzip2</command> permet d'atteindre un taux de
    compression bien meilleur qu'avec le classique
    <command>gzip</command>.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation de Bzip2</title>

    <para os="s1">Par défaut bzip2 crée des liens symboliques qui utilisent des noms de chemins absolus. Le sed suivant fera en sorte que 
    qu'ils soient créés plutôt avec des chemins relatifs&nbsp;:</para>

<screen os="s2"><userinput>sed -i -e 's:ln -s -f $(PREFIX)/bin/:ln -s :' Makefile</userinput></screen>

    <para os="s3">Faites installer à Bzip2 ses pages de man cans
    <filename class="directory">/usr/share/man</filename> et non dans
    <filename class="directory">/usr/man</filename>&nbsp;:</para>

<screen os="s4"><userinput>sed -i 's@X)/man@X)/share/man@g' ./Makefile</userinput></screen>

    <para os="a">Le paquet Bzip2 ne contient pas de script <command>configure</command>. Compilez-le avec&nbsp;:</para>

<screen os="b"><userinput>make -f Makefile-libbz2_so
make clean</userinput></screen>

    <para os="c">L'option <parameter>-f</parameter> va faire que Bzip2 sera compilé en utilisant un fichier 
    <filename>Makefile</filename>, dans ce cas le fichier <filename>Makefile-libbz2_so</filename>, qui crée une  
    bibliothèque dynamique <filename class="libraryfile">libbz2.so</filename> et lie les outils de Bzip2 contre elle.</para>

    <para os="d">Recompilez le paquet en utilisant une bibliothèque non partagée et testez-le&nbsp;:</para>

<screen os="e"><userinput>make</userinput></screen>

    <para os="g">Installez les programmes&nbsp;:</para>

<screen os="h"><userinput>make PREFIX=/usr install</userinput></screen>

    <para os="i">Installez le binaire partagé <command>bzip2</command> dans le répertoire
    <filename class="directory">/bin</filename>, faites quelques liens symboliques nécessaires et nettoyez&nbsp;:</para>

<screen os="j"><userinput>cp -v bzip2-shared /bin/bzip2
cp -av libbz2.so* /lib
ln -sv ../../lib/libbz2.so.1.0 /usr/lib/libbz2.so
rm -v /usr/bin/{bunzip2,bzcat,bzip2}
ln -sv bzip2 /bin/bunzip2
ln -sv bzip2 /bin/bzcat</userinput></screen>

  </sect2>

  <sect2 id="contents-bzip2" role="content">
    <title>Contenu de Bzip2</title>

    <segmentedlist>
      <segtitle>Programmes installés</segtitle>
      <segtitle>Bibliothèques installées</segtitle>

      <seglistitem>
        <seg>bunzip2 (lien vers bzip2), bzcat (lien vers bzip2), bzcmp (lien vers
        bzdiff), bzdiff, bzegrep (lien vers bzgrep), bzfgrep (lien vers bzgrep),
        bzgrep, bzip2, bzip2recover, bzless (lien vers bzmore), bzmore</seg>
        <seg>libbz2.a, libbz2.so (link to libbz2.so.1.0), libbz2.so.1.0 (lien vers
        libbz2.so.&bzip2-version;), libbz2.so.&bzip2-version;</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Descriptions courtes</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>
      <varlistentry id="bunzip2">
        <term><command>bunzip2</command></term>
        <listitem>
          <para>Décompresse les fichiers compressés avec bzip</para>
          <indexterm zone="ch-system-bzip2 bunzip2">
            <primary sortas="b-bunzip2">bunzip2</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="bzcat">
        <term><command>bzcat</command></term>
        <listitem>
          <para>Décompresse vers la sortie standard</para>
          <indexterm zone="ch-system-bzip2 bzcat">
            <primary sortas="b-bzcat">bzcat</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="bzcmp">
        <term><command>bzcmp</command></term>
        <listitem>
          <para>Lance <command>cmp</command> sur des fichiers compressés avec bzip</para>
          <indexterm zone="ch-system-bzip2 bzcmp">
            <primary sortas="b-bzcmp">bzcmp</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="bzdiff">
        <term><command>bzdiff</command></term>
        <listitem>
          <para>Lance <command>diff</command> sur des fichiers compressés avec bzip</para>
          <indexterm zone="ch-system-bzip2 bzdiff">
            <primary sortas="b-bzdiff">bzdiff</primary>
          </indexterm>
        </listitem>
      </varlistentry>


      <varlistentry id="bzegrep">
        <term><command>bzegrep</command></term>
        <listitem>
          <para>Lance <command>egrep</command> sur des fichiers compressés avec bzip</para>
          <indexterm zone="ch-system-bzip2 bzegrep">
            <primary sortas="b-bzegrep">bzegrep</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="bzfgrep">
        <term><command>bzfgrep</command></term>
        <listitem>
          <para>Lance <command>fgrep</command> sur des fichiers compressés avec bzip</para>
          <indexterm zone="ch-system-bzip2 bzfgrep">
            <primary sortas="b-bzfgrep">bzfgrep</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="bzgrep">
        <term><command>bzgrep</command></term>
        <listitem>
          <para>Lance <command>grep</command> sur des fichiers compressés avec 
          bzip</para>
          <indexterm zone="ch-system-bzip2 bzgrep">
            <primary sortas="b-bzgrep">bzgrep</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="bzip2">
        <term><command>bzip2</command></term>
        <listitem>
          <para>Compresse les fichiers en utilisant l'algorithme de compression de texte
          par tri de blocs de Burrows-Wheeler avec le codage de Huffman. Le taux de
          compression est meilleur que celui auquel parviennent les outils de compression
          plus conventionnels utilisant les algorithmes <quote>Lempel-Ziv</quote>, comme
          <command>gzip</command></para>
          <indexterm zone="ch-system-bzip2 bzip2">
            <primary sortas="b-bzip2">bzip2</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="bzip2recover">
        <term><command>bzip2recover</command></term>
        <listitem>
          <para>Essaie de récupérer des données à partir de fichiers endommagés,
          compressés avec bzip</para>
          <indexterm zone="ch-system-bzip2 bzip2recover">
            <primary sortas="b-bzip2recover">bzip2recover</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="bzless">
        <term><command>bzless</command></term>
        <listitem>
          <para>Lance <command>less</command> sur des fichiers compressés avec bzip</para>
          <indexterm zone="ch-system-bzip2 bzless">
            <primary sortas="b-bzless">bzless</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="bzmore">
        <term><command>bzmore</command></term>
        <listitem>
          <para>Lance <command>more</command> sur des fichiers compressés avec bzip</para>
          <indexterm zone="ch-system-bzip2 bzmore">
            <primary sortas="b-bzmore">bzmore</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libbz2">
        <term><filename class="libraryfile">libbz2*</filename></term>
        <listitem>
          <para>La bibliothèque implémentant la compression de données sans perte par tri
          de blocs, utilisant l'algorithme de Burrows-Wheeler</para>
          <indexterm zone="ch-system-bzip2 libbz2">
            <primary sortas="c-libbz2*">libbz2*</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>

