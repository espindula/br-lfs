<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
  "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;
]>

<sect1 id="ch-system-findutils" role="wrap">
  <?dbhtml filename="findutils.html"?>

  <title>Findutils-&findutils-version;</title>

  <indexterm zone="ch-system-findutils">
    <primary sortas="a-Findutils">Findutils</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>Le paquet Findutils contient des programmes de recherche de
    fichiers. Ces programmes sont fournis pour rechercher récursivement
    dans une hiérarchie de répertoires et pour créer, maintenir et
    chercher dans une base de données (souvent plus rapide que la
    recherche récursive mais moins fiable si la base de données n'a pas
    été mise à jour récemment).</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation de Findutils</title>

    <para os="a">Préparez la compilation de Findutils&nbsp;:</para>

<screen os="b"><userinput>./configure --prefix=/usr --libexecdir=/usr/lib/locate \
    --localstatedir=/var/lib/locate</userinput></screen>

    <variablelist os="c">
      <title>Voici la signification des options de configure&nbsp;:</title>

      <varlistentry>
        <term><parameter>--localstatedir</parameter></term>
        <listitem>
          <para>Cette option modifie l'emplacement de la base de données
          <command>locate</command> pour qu'elle soit dans
          <filename class="directory">/var/lib/locate</filename>,
          pour être compatible avec FHS.</para>
        </listitem>
      </varlistentry>

    </variablelist>

    <para os="d">Compilez le paquet&nbsp;:</para>

<screen os="e"><userinput>make</userinput></screen>

    <para os="f">Pour tester les résultats, exécutez&nbsp;:</para>

<screen os="f2"><userinput remap="test">make check</userinput></screen>


    <para os="g">Installez le paquet&nbsp;:</para>

<screen os="h"><userinput>make install</userinput></screen>

    <para os="i">Le programme <command>find</command> est utilisé par certains des scripts du paquet CLFS-Bootscripts. Comme 
    il se peut que <filename class="directory">/usr</filename> ne soit pas disponible pendant les premières étapes du 
    démarrage, le binaire <command>find</command> doit être sur la partition racine&nbsp;:</para>

<screen os="j"><userinput>mv -v /usr/bin/find /bin</userinput></screen>

    <para os="k">Le script <command>updatedb</command> doit être modifié pour pointer vers le nouvel emplacement de 
    <command>find</command>&nbsp;:</para> 

<screen os="l"><userinput>sed -i 's@find:=${BINDIR}@find:=/bin@' /usr/bin/updatedb</userinput></screen>

  </sect2>

  <sect2 id="contents-findutils" role="content">
    <title>Contenu de Findutils</title>

    <segmentedlist>
      <segtitle>Programmes installés</segtitle>
      <segtitle>Répertoire installé</segtitle>

      <seglistitem>
        <seg>bigram, code, find, frcode, locate, oldfind, updatedb, and xargs</seg>
        <seg>/usr/lib/locate</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Descriptions courtes</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="bigram">
        <term><command>bigram</command></term>
        <listitem>
          <para>Était auparavant utilisé pour créer les bases de données
          <command>locate</command></para>
          <indexterm zone="ch-system-findutils bigram">
            <primary sortas="b-bigram">bigram</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="code">
        <term><command>code</command></term>
        <listitem>
          <para>Était auparavant utilisé pour créer les bases de données
          <command>locate</command>&nbsp;; c'est l'ancêtre de
          <command>frcode</command>.</para>
          <indexterm zone="ch-system-findutils code">
            <primary sortas="b-code">code</primary>
          </indexterm>
       </listitem>
      </varlistentry>

      <varlistentry id="find">
        <term><command>find</command></term>
        <listitem>
          <para>Cherche dans les hiérarchies de répertoires donnés les fichiers
          correspondant à un critère spécifié</para>
          <indexterm zone="ch-system-findutils find">
            <primary sortas="b-find">find</primary>
          </indexterm>
        </listitem>
      </varlistentry>
     <varlistentry id="frcode">
        <term><command>frcode</command></term>
        <listitem>
          <para>Est appelé par <command>updatedb</command> pour compacter la 
          liste des noms de fichiers. Il utilise front-compression, réduisant 
          la taille de la base de données d'un facteur de quatre à cinq</para>
          <indexterm zone="ch-system-findutils frcode">
            <primary sortas="b-frcode">frcode</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="locate">
        <term><command>locate</command></term>
        <listitem>
          <para>Recherche à travers la base de données des noms de fichiers et renvoie
          les noms contenant une certaine chaîne ou correspondant à un certain 
          motif</para>
          <indexterm zone="ch-system-findutils locate">
            <primary sortas="b-locate">locate</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="oldfind">
        <term><command>oldfind</command></term>
        <listitem>
          <para>Ancienne version de find qui utilise un algorithme différent</para>
          <indexterm zone="ch-system-findutils oldfind">
            <primary sortas="b-oldfind">oldfind</primary>
          </indexterm>
        </listitem>
      </varlistentry>

     <varlistentry id="updatedb">
      <term><command>updatedb</command></term>
        <listitem>
          <para>Met à jour la base de données <command>locate</command>&nbsp;;
          Il parcourt le système de fichiers entier (en incluant
          les autres systèmes de fichiers actuellement montés, sauf si le 
          contraire est spécifié) et place tous les noms de fichiers qu'ils 
          trouvent dans la base de données</para>
          <indexterm zone="ch-system-findutils updatedb">
            <primary sortas="b-updatedb">updatedb</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="xargs">
        <term><command>xargs</command></term>
        <listitem>
          <para>Peut être utilisé pour lancer une commande donnée sur une liste
          de fichiers</para>
          <indexterm zone="ch-system-findutils xargs">
            <primary sortas="b-xargs">xargs</primary>
          </indexterm>
        </listitem>
      </varlistentry>

   </variablelist>

  </sect2>

</sect1>

