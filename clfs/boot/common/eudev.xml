<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
  "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;
]>

<sect1 id="ch-boot-eudev" role="wrap">
  <?dbhtml filename="eudev.html"?>

  <title>Eudev-&eudev-version;</title>

  <indexterm zone="ch-boot-eudev">
    <primary sortas="a-eudev">eudev</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>Le paquet Eudev contient des programmes pour créer
    dynamiquement des n&oelig;uds périphériques.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation d'Eudev</title>

    <para os="a">Préparez la compilation d'Eudev&nbsp;:</para>

<screen os="b"><userinput>./configure --prefix=/tools --build=${CLFS_HOST} --host=${CLFS_TARGET} \
    --disable-introspection --disable-gtk-doc-html \
    --disable-gudev --disable-keymap --with-firmware-path=/tools/lib/firmware \
    --enable-libkmod</userinput></screen>

    <variablelist os="b1">
      <title>Voici la signification des nouvelles options de configuration&nbsp;:</title>

      <varlistentry>
        <term><parameter>--disable-introspection --disable-gtk-doc-html
        --disable-gudev --disable-keymap</parameter></term>
        <listitem>
          <para>Ces paramètres désactivent plusieurs fonctions inutiles pour le
          système temporaire et ayant des dépendances supplémentaires.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><parameter>--with-firmware-path=/tools/lib/firmware</parameter></term>
        <listitem>
          <para>Ceci permet à Eudev de charger le firmware 
          <filename class="directory">/tools/lib/firmware</filename> au lieu de
          celui situé par défaut dans <filename class="directory">/lib/firmware</filename>.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><parameter>--enable-libkmod</parameter></term>
        <listitem>
          <para>Permet à Eudev de charger des modules en utilisant directement
          <filename class="libraryfile">libkmod</filename>.</para>
        </listitem>
      </varlistentry>

    </variablelist>

    <para os="c">Compilez le paquet&nbsp;:</para>

<screen os="d"><userinput>make</userinput></screen>

    <para os="g">Installez le paquet&nbsp;:</para>

<screen os="h"><userinput>make install</userinput></screen>

    <para os="i">Créez un répertoire pour le stockage des firmware qui peuvent $tre chargés par
    <command>eudev</command>&nbsp;:</para>

<screen os="k"><userinput>install -dv /tools/lib/firmware</userinput></screen>

    <para os="r1">Créez une règle de base pour qu'Eudev nomme correctement les
    périphériques ethernet du système.</para>

<screen os="r2"><userinput>echo "# dummy, so that network is once again on eth*" &gt; \
    /tools/etc/udev/rules.d/80-net-name-slot.rules</userinput></screen>

  </sect2>

  <sect2 id="contents-eudev" role="content">
    <title>Contenu d'Eudev</title>

    <segmentedlist>
      <segtitle>Programmes installés</segtitle>
      <segtitle>Bibliothèque installée</segtitle>
      <segtitle>Répertoires installés</segtitle>

      <seglistitem>
        <seg>ata_id, cdrom_id, collect, create_floppy_devices, edd_id,
        firmware.sh, fstab_import, path_id, scsi_id, udevadm, udevd, usb_id,
        v4l_id, write_cd_rules, write_net_rules</seg>
        <seg>libudev</seg>
        <seg>/tools/etc/udev, /tools/lib/firmware, /tools/lib/udev</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Descriptions courtes</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="udevadm-eudev">
        <term><command>udevadm</command></term>
        <listitem>
          <para>Contrôle le comportement d'Eudev pendant son exécution,
          demande les événements du noyau, gère la file des événements et offre
          un débogage simple</para>
          <indexterm zone="ch-system-eudev udevadm-eudev">
            <primary sortas="b-udevadm-eudev">udevadm</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="udevd">
        <term><command>udevd</command></term>
        <listitem>
          <para>Un démon qui réorganise les événements à  chaud avant de les soumettre à 
          <command>udev</command>, évitant ainsi divers types de conditions</para>
          <indexterm zone="ch-system-eudev udevd">
            <primary sortas="b-udevd">udevd</primary>
          </indexterm>
        </listitem>
      </varlistentry>

 <!-- Start of Helpers -->
      <varlistentry id="ata_id">
        <term><command>ata_id</command></term>
        <listitem>
          <para>Fournit Eudev avec une chaîne unique et des informations 
          supplémentaires (uuid, label) pour un disque ATA</para>
          <indexterm zone="ch-system-eudev ata_id">
            <primary sortas="b-ata_id">ata_id</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="cdrom_id">
        <term><command>cdrom_id</command></term>
        <listitem>
          <para>Affiche les possibilités d'un lecteur CD-ROM ou DVD-ROM</para>
          <indexterm zone="ch-system-eudev cdrom_id">
            <primary sortas="b-cdrom_id">cdrom_id</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="collect">
        <term><command>collect</command></term>
        <listitem>
          <para>À partir de l'ID de l'uevent actuel et d'une liste d'IDs (de
          tous les uevents cibles), enregistre l'ID actuel et indique si tous
          les IDs cibles ont été enregistrés.</para>
          <indexterm zone="ch-system-eudev collect">
            <primary sortas="b-collect">collect</primary>
          </indexterm>          
        </listitem>
      </varlistentry>

      <varlistentry id="create_floppy_devices">
        <term><command>create_floppy_devices</command></term>
        <listitem>
          <para>Crée tous les périphériques amovibles possibles basés sur
          le type CMOS</para>

          <indexterm zone="ch-system-eudev create_floppy_devices">
            <primary sortas="b-create_floppy_devices">create_floppy_devices</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="edd_id">
        <term><command>edd_id</command></term>
        <listitem>
          <para>Identifie des lecteurs de disque x86 pour les appels <foreignphrase>Enhanced Disk 
          Drive</foreignphrase>.</para>
          <indexterm zone="ch-system-eudev edd_id">
            <primary sortas="b-edd_id">edd_id</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="firmware.sh">
        <term><command>firmware.sh</command></term>
        <listitem>
          <para>Script pour charger le firmware d'un périphérique</para>
          <indexterm zone="ch-system-eudev firmware.sh">
            <primary sortas="b-firmware.sh">firmware.sh</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="fstab_import">
        <term><command>fstab_import</command></term>
        <listitem>
          <para>Cherche une entrée dans <filename>/etc/fstab</filename> qui
          correspond au périphérique actuel et fournit à Eudev ses informations.</para>
          <indexterm zone="ch-system-eudev fstab_import">
            <primary sortas="b-fstab_import">fstab_import</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="path_id">
        <term><command>path_id</command></term>
        <listitem>
          <para>Fournit le chemin de matériel unique le plus court possible vers un
          un périphérique</para>
          <indexterm zone="ch-system-eudev path_id">
            <primary sortas="b-path_id">path_id</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="scsi_id">
        <term><command>scsi_id</command></term>
        <listitem>
          <para>Récupère ou génère un identifieur SCSI unique.</para>
          <indexterm zone="ch-system-eudev scsi_id">
            <primary sortas="b-scsi_id">scsi_id</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="usb_id">
        <term><command>usb_id</command></term>
        <listitem>
          <para>Identifie un bloc de périphérique USB.</para>
          <indexterm zone="ch-system-eudev usb_id">
            <primary sortas="b-usb_id">usb_id</primary>
          </indexterm>
        </listitem>
      </varlistentry>

<!-- End of Helpers -->


      <varlistentry id="v4l_id">
        <term><command>v4l_id</command></term>
        <listitem>
          <para>Détermine les possibilités V4L d'un périphérique donné.</para>
          <indexterm zone="ch-system-eudev v4l_id">
            <primary sortas="b-v4l_id">v4l_id</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="write_cd_rules">
        <term><command>write_cd_rules</command></term>
        <listitem>
          <para>Un script qui génère des règles Eudev pour avoir des interfaces
          réseaux au nom stabilisé.</para>
          <indexterm zone="ch-system-eudev write_cd_rules">
            <primary sortas="b-write_cd_rules">write_cd_rules</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="write_net_rules">
        <term><command>write_net_rules</command></term>
        <listitem>
          <para>Un script qui génère des règles Eudev pour avoir des interfaces
          réseaux au nom stabilisé.</para>
          <indexterm zone="ch-system-eudev write_net_rules">
            <primary sortas="b-write_net_rules">write_net_rules</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libudev-eudev">
        <term><filename class="libraryfile">libudev</filename></term>
        <listitem>
          <para>Une interface de bibliothèque avec les informations de périphérique
          d'Eudev.</para>
          <indexterm zone="ch-system-eudev libudev">
            <primary sortas="c-libeudev">libeudev</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="etc-eudev">
        <term><filename class="directory">/etc/udev</filename></term>
        <listitem>
          <para>Contient les fichiers de configuration <command>eudev</command>, les droits de périphérique et les règles 
          pour le nommage des périphériques</para>
          <indexterm zone="ch-system-eudev etc-eudev">
            <primary sortas="e-/etc/eudev">/etc/eudev</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="lib-eudev">
        <term><filename class="directory">/lib/udev</filename></term>
        <listitem>
          <para>Contient les programmes d'aide de <command>eudev</command> et les périphériques statiques qui sont copiés..
          dans /dev après le démarrage.</para>
          <indexterm zone="ch-system-eudev lib-eudev">
            <primary sortas="e-/lib/eudev">/lib/eudev</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
