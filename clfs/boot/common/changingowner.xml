<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
  "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;
]>

<sect1 id="ch-boot-changingowner">
  <?dbhtml filename="changingowner.html"?>

  <title>Changer de propriétaire</title>

  <para os="a">Actuellement, les répertoires <filename class="directory">/tools</filename>
  et <filename class="directory">/cross-tools</filename> appartiennent à l'utilisateur
  <emphasis>clfs</emphasis>, un utilisateur qui
  n'existe que sur le système hôte. Bien que vous puissiez effacer <filename
  class="directory">/tools</filename> et <filename
  class="directory">/cross-tools</filename> une fois fini le système CLFS,
  vous pouvez les garder pour construire d'autres systèmes CLFS. Si vous gardez
  ainsi les répertoires <filename class="directory">/tools</filename>
  et <filename class="directory">/cross-tools</filename>, les fichiers
  appartiennent à un ID utilisateur sans compse correspondant. C'est dangereux
  car un compte utilisateur créé plus tard pourrait avoir cet ID utilisateur
  et posséder ces répertoires et tous les fichiers qu'ils contiennent, exposant
  ainsi ceux-ci à des manipulations malveillantes.</para>

  <para os="b">Une correction possible de ce problème pourrait être d'ajouter
  l'utilisateur <systemitem class="username">clfs</systemitem> au nouveau système
  CLFS plus tard, lors de la création du fichier <filename>/etc/passwd</filename> 
  en prenant soin d'y affecter les mêmes IDs de groupe et d'utilisateur que sur
  le système hôte. Sinon, affectez aussi le contenu des répertoires <filename class="directory">/tools</filename>
  et <filename class="directory">/cross-tools</filename> à l'utilisateur
  user <systemitem class="username">root</systemitem> en lançant
  les commandes suivantes&nbsp;:</para>

<screen os="c"><userinput>chown -Rv 0:0 ${CLFS}/tools
chown -Rv 0:0 ${CLFS}/cross-tools</userinput></screen>

</sect1>
