<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
  "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;
]>

<sect1 id="ch-boot-devices">
  <?dbhtml filename="devices.html"?>

  <title>Peupler /dev</title>

  <indexterm zone="ch-boot-devices">
    <primary sortas="e-/dev/*">/dev/*</primary>
  </indexterm>

  <sect2>
    <title>Créez les n&oelig;uds de périphérique initiaux</title>

    <note os="a">
      <para>Vous devriez exécuter  les commandes  du reste de ce livre en  tant qu'utilisateur
      <systemitem class="username">root</systemitem>. Vérifiez que ${CLFS} est 
      configuré dans l'environnement de l'utilisateur 
      <systemitem class="username">root</systemitem> avant de continuer.</para>
    </note>

    <para os="b">Quand le noyau démarre le système, il exige la présence de quelques n&oelig;ds de périphérique, en 
    particulier les périphériques <filename class="devicefile">console</filename> et
    <filename class="devicefile">null</filename>. Nous allons créer les n&oelig;ds de périphérique sur le disque dur afin 
    qu'ils soient disponibles avant qu'<command>udev</command> n'ait été démarré, et en plus quand Linux est démarré en mode 
    monoutilisateur (d'où il résulte des droits restrictifs sur <filename class="devicefile">console</filename>). Créez ceux-
    ci en lançant les commandes suivantes&nbsp;:</para>

<screen><userinput>mknod -m 600 ${CLFS}/dev/console c 5 1
mknod -m 666 ${CLFS}/dev/null c 1 3</userinput></screen>

    <para>Avant qu'udev ne démarre, un système de fichiers tmpfs est monté dans
    <filename class="directory">/dev</filename> et les entrées précédentes ne sont plus disponibles. La commande suivante
    crée des fichiers qui y sont copiés par le script de démarrage d'udev&nbsp;:</para>

<screen><userinput>mknod -m 600 ${CLFS}/lib/udev/devices/console c 5 1
mknod -m 666 ${CLFS}/lib/udev/devices/null c 1 3</userinput></screen>

  </sect2>

</sect1>
