<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
  "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;
]>

<sect1 id="ch-config-clock">
  <?dbhtml filename="clock.html"?>

  <title>Configuration de l'horloge système</title>

  <indexterm zone="ch-config-clock">
    <primary sortas="d-clock">clock</primary>
  <secondary>configuration</secondary></indexterm>

  <para>Cette partie discute de comment configurer le service système
  <command>systemd-timedated</command>, qui configure l'horloge système et le fuseau
   horaire.</para>

  <para>Systemd fournit un utilitaire <command>timedatectl</command> qui est utilisé pour communiquer
  avec <command>systemd-timedated</command>. Il peut être utilisé pour initialiser
  l'horloge système à l'heure locale ou en UTC, en fonction du réglage de l'horloge matériel. Par défaut
  , <command>systemd-timedated</command> considérera que l'horloge est initialisée en temps universel (UTC).
  </para>

  <para>Si vous ne pouvez pas vous rappeler si l'horloge matériel est initialisée en UTC,
  trouvez le en lançant la commande <userinput>hwclock --localtime --show</userinput>.
  Cela affichera si l'heure actuel est en accrod avec l'horloge matériel. Si cette heure correspond avec ce que la sortie
  indique, alors l'ohrologe matériel est initialisé en temps local. Si la sortie de 
  <command>hwclock</command> n'est pas l'heure local, il y a des chances que ce soit initialisé en temps UTC. Vérifiez cela
  en ajoutant ou soustrayant le bon nombre heure pour le fuseau horaire à l'heure affichée indiquée par
  <command>hwclock</command>. Par exemple, si vous êtes actuellement dans le fuseau MST, 
  qui est également connu comme as GMT -0700, ajouté sept heures à l'heure local.</para>

  <para><command>systemd-timedated</command> lit
  <filename>/etc/adjtime</filename>, et en fonction du contenu du fichier, il initialise l'horloge soit en UTC soit
  en temps local.
  </para>

 <para>Créez le fichier <filename>/etc/adjtime</filename> avec le contenu suivant si votre horloge matériel est initialisée
 en temps local:</para>

<screen role="nodump"><userinput>cat &gt; /etc/adjtime &lt;&lt; "EOF"
<literal>0.0 0 0.0
0
LOCAL</literal>
EOF</userinput></screen>

 <para>Si <filename>/etc/adjtime</filename> n'est pas présent au premier démarrage,
 <command>systemd-timedated</command> considérera que l'horloge matériel est initialisée en UTC et ajustera le fichier
 en fonction de cela.
 </para>

  <para>si votre horloge est initialisée en temps local, indiquez le à
  <command>systemd-timedated</command> en lançant la commande suivante:</para>

<screen role="nodump"><userinput>timedatectl set-local-rtc 1</userinput></screen>

  <para><command>timedatectl</command> peut également être utilisé pour changer l'heure système et le fuseau horaire.</para>

  <para>Pour changer l'heure système actuelle, tapez:</para>

<screen role="nodump"><userinput>timedatectl set-time YYYY:MM:DD HH:MM:SS</userinput></screen>

  <para>L'horloge matériel peut également être mise à jour.</para>

  <para>Pour changer de fuseau horaire, tapez:</para>

<screen role="nodump"><userinput>timedatectl set-timezone TIMEZONE</userinput></screen>

  <para>Vous povuez avoir une liste des fuseaux horaires disponible en tapant:</para>

<screen role="nodump"><userinput>timedatectl list-timezones</userinput></screen>

  <note><para>Merci de noter que la commande <command>timedatectl</command> peut être utilisée seulement sur un système
  démarré avec systemd.</para></note>

</sect1>
