<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
  "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;
]>

<sect1 id="ch-config-profile">
  <title>The Bash Shell Startup Files</title>
  <?dbhtml filename="profile.html"?>

  <indexterm zone="ch-config-profile">
    <primary sortas="e-/etc/profile">/etc/profile</primary>
  </indexterm>

 <para>Le programme shell <command>/bin/bash</command> (dénommé
  ci-après <quote>le shell</quote>) utilise une collection de fichiers
  de démarrage pour aider à la création d'un environnement d'exécution.
  Chaque fichier a une utilisation spécifique et pourrait avoir des
  effets différents sur les environnements de connexion et interactif.
  Les fichiers du répertoire <filename class="directory">/etc</filename>
  fournissent un paramétrage global. Si un fichier équivalent existe
  dans le répertoire personnel, il pourrait surcharger les paramétrages
  globaux.</para>

  <para>Un shell interactif de connexion est lancé après une connexion
  réussie, en utilisant <command>/bin/login</command>, par la lecture du
  fichier <filename>/etc/passwd</filename>. Un shell interactif sans
  connexion est lancé en ligne de commande (c-à-d
  <prompt>[prompt]$</prompt><command>/bin/bash</command>). Un shell non
  interactif est habituellement présent quand un script shell est en
  cours d'exécution. Il est non interactif parce qu'il traite un script
  et n'attend pas une saisie de l'utilisateur entre les
  commandes.</para>

  <para>Pour plus d'informations, voir <command>info bash</command> sous
  la section <emphasis>Bash Startup Files and Interactive
  Shells</emphasis> (Fichiers de démarrage de Bash et shells
  interactifs), et <ulink url="&cblfs-root;index.php/Bash_Startup_Files">fichiers de démarrage de Bash.</para>
  dans CBLFS.</para>

 <para>Les fichiers <filename>/etc/profile</filename> et
  <filename>~/.bash_profile</filename> sont lus quand le shell est
  appelé en tant que shell interactif de connexion.
  Créez un fichier 
  <filename>/etc/profile</filename> de base qui lira les informations locales depuis
  <filename>/etc/locale.conf</filename> et chargera tous les fichiers d'auto-completion de bash
  qui peuvent être sur le système. Ce script initialise également
  la variable d'environnement <envar>INPUTRC</envar> qui fait que Bash et
  Readline utilise <filename>/etc/inputrc</filename>:</para>

<screen><userinput>cat &gt; /etc/profile &lt;&lt; "EOF"
<literal># Begin /etc/profile

source /etc/locale.conf

for f in /etc/bash_completion.d/*
do
  if [ -e ${f} ]; then source ${f}; fi
done
unset f

export INPUTRC=/etc/inputrc

# End /etc/profile</literal>
EOF</userinput></screen>

</sect1>
