<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
  "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;
]>

<sect1 id="ch-temp-system-gettext" role="wrap">
  <?dbhtml filename="gettext.html"?>

  <title>Gettext-&gettext-version;</title>

  <indexterm zone="ch-temp-system-gettext">
    <primary sortas="a-Gettext">Gettext</primary>
    <secondary>système temporaire</secondary>
  </indexterm>

  <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
  href="../../final-system/common/gettext.xml"
  xpointer="xpointer(//*[@role='package'])"/>

  <sect2 role="installation">
    <title>Installation de Gettext</title>

    <para os="a">Seuls les programmes du répertoire
    <filename class="directory">gettext-tools</filename> doivent être installés dans
    le système temporaire&nbsp;:</para>

<screen os="b"><userinput>cd gettext-tools</userinput></screen>

    <para os="t1">Lors d'une compilation croisée, le script configure de Gettext suppose que nous n'avons pas de wcwidth fonctionnel 
    alors que c'est le cas. Ce qui suit va corriger des erreurs de compilation possibles dues à ces présupposés&nbsp;:</para>

<screen os="t2"><userinput>echo "gl_cv_func_wcwidth_works=yes" &gt; config.cache</userinput></screen>

    <para os="c">Préparez la compilation de Gettext&nbsp;:</para>

<screen os="d"><userinput>./configure --prefix=/tools \
    --build=${CLFS_HOST} --host=${CLFS_TARGET} \
    --disable-shared --cache-file=config.cache</userinput></screen>

    <variablelist os="e">
      <title>Voici la signification des options de configure&nbsp;:</title>

      <varlistentry os="e1">
        <term><parameter>--disable-shared</parameter></term>
        <listitem>
          <para>Ceci dit à Gettext de ne pas créer de bibliothèque partagée.</para>
        </listitem>
      </varlistentry>

    </variablelist>

    <para os="f">Compilez le paquet&nbsp;:</para>

<screen os="g"><userinput>make -C gnulib-lib
make -C src msgfmt</userinput></screen>

    <para os="h">Installez le binaire <command>msgfmt</command>&nbsp;:</para>

<screen os="i"><userinput>cp -v src/msgfmt /tools/bin</userinput></screen>

  </sect2>

  <sect2 role="content">
    <title/>

    <para>Les détails sur ce paquet sont disponibles dans <xref
    linkend="contents-gettext" role="."/></para>

  </sect2>

</sect1>
