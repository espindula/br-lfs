<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
  "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;
]>

<sect1 id="ch-network-static">
  <?dbhtml filename="network-static.html"?>

  <title>Configuration d'un réseau statique</title>

  <sect2>
    <title>Création des fichiers de configuration de l'interface réseau statique</title>

    <para>Les interfaces qui sont activées et désactivées par le script network dépend des fichiers et des répertoires dans la hiérarchie
    <filename class="directory">/etc/sysconfig/network-devices</filename>. Ce répertoire devrait contenir un sous-répertoire par
    interface à configurer, comme 
    <filename>ifconfig.xyz</filename>, où <quote>xyz</quote> est un nom d'interface réseau. À l'intérieur de ce répertoire, il y aurait 
    des fichiers qui définissent les attributs de cette interface, comme son/ses adresse(s) IP, ses masques de sous-réseau, et
    autres.</para>

    <para>La commande suivante crée un modèle de fichier <filename>ipv4</filename> pour le périphérique
    <emphasis>eth0</emphasis>&nbsp;:</para>

<screen><userinput>cd /etc/sysconfig/network-devices &amp;&amp;
mkdir -v ifconfig.eth0 &amp;&amp;
cat &gt; ifconfig.eth0/ipv4 &lt;&lt; "EOF"
<literal>ONBOOT="yes"
SERVICE="ipv4-static"
IP="192.168.1.1"
GATEWAY="192.168.1.2"
PREFIX="24"
BROADCAST="192.168.1.255"</literal>
EOF</userinput></screen>

    <para os="var-ob">Vous devez modifier les valeurs de ces variables dans chaque fichier pour correspondre à la bonne configuration. 
    Si la variable <envar>ONBOOT</envar> est réglée sur <quote>yes</quote>, le script network activera la carte interface réseau, 
    <foreignphrase>Network Interface Card</foreignphrase> (NIC) pendant le démarrage du système. S'il est réglé sur autre chose que
    <quote>yes</quote> la NIC sera ignorée par le script network et non activée.</para>

    <para os="var-s">La variable <envar>SERVICE</envar> définit la méthode utilisée pour obtenir l'adresse IP. Le paquet
    CLFS-Bootscripts a un format d'allocation d'IP modulaire et la création de fichiers supplémentaires dans le répertoire
    <filename class="directory">/etc/sysconfig/network-devices/services</filename> permet d'autres méthodes d'allocation.</para>

    <para>La variable <envar>GATEWAY</envar> devrait contenir la passerelle par défaut pour l'adresse IP, si elle existe. Sinon, 
    commentez toute la variable.</para>

    <para>La variable <envar>PREFIX</envar> doit contenir le nombre de bits utilisés dans le sous-réseau. Chaque octet dans une adresse 
    IP fait 8 bits. Si le masque de réseau du sous-réseau est 255.255.255.0, il utilise les trois premiers  octets
    (24 bits) pour spécifier le numéro réseau. Si le masque de réseau est 255.255.255.240, il utiliserait les 28 premiers bits. Les 
    préfixes plus longs que 24 bits sont souvent utilisés dans les fournisseurs d'accès Internet (FAI) ADSL et câblé. Dans cet exempl
    (PREFIX=24), le masque réseau est 255.255.255.0. Ajustez la variable <envar>PREFIX</envar> selon votre sous-réseau spécifique.</para>

    <para>Pour configurer une autre interface DHCP, suivez <xref linkend="ch-network-dhcp"/>.</para>

  </sect2>

</sect1>
