<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
  "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;
]>

<sect1 id="ch-network-static">
  <?dbhtml filename="network-static.html"?>

  <title>Configuraton réseau statique</title>

  <sect2>
    <title>Création des fichiers de configuration des interfaces réseaus statiques</title>

    <para>Les interfaces qui seront montées par le script réseau dépendent des fichiers et répertoires dans 
    l'arborescence <filename
    class="directory">/etc/sysconfig</filename>.
    Ce répertoire doit contenir un sous-répertoire pour chaque interface à configurer, comme
    <filename>ifconfig.xyz</filename>, ou
    <quote>xyz</quote> est un nom d'interface reseau. Dans ce répertoire il doit y avoir des fichiers définissant
    les attributs de cette interface, comme son adresse (ou ses adresses) IP, le masque de sous-réseau, et plus encore.
    </para>

    <note><para>Udev peut assigner des noms d'interface résau aléatoire pour quelques cartes réseaux comme
    enp2s1. Si vous n'êtes pas certain du nom de votre interface réseau, pour pouver toujours lancer
    <command>ip l</command> après avoir démarré votre système. De nouveau, il est important que
    <filename>ifconfig.xyz</filename> soit nommé avec le nom d'interface réseau correct (par exemple
    <filename>ifconfig.enp2s1</filename> ou
    <filename>ifconfig.eth0</filename>) ou systemd échouera à trouver votre interface réseau.</para></note>

    <para>La commande suivante crée un fichier <filename>ipv4</filename> simple pour le périphérique
    <emphasis>eth0</emphasis> :</para>

<screen role="nodump"><userinput>mkdir -pv /etc/sysconfig &amp;&amp;
cd /etc/sysconfig &amp;&amp;
cat &gt; ifconfig.eth0 &lt;&lt; "EOF"
<literal>IFACE="eth0"
SERVICE="ipv4-static"
IP="192.168.1.1"
GATEWAY="192.168.1.2"
PREFIX="24"
BROADCAST="192.168.1.255"</literal>
EOF</userinput></screen>

    <para os="var-ob">Les valeurs de ces variables doivent être changées dans chaque fichier pour 
    correspondre à une initialisation propre.
    </para>

    <para os="var-i">La variable <envar>IFACE</envar> défini le nom de l'interface, par exemple
    , eth0. c'est requis par tous les fichiers de configuration des périphériques réseaux.</para>

    <para os="var-s">LA variable <envar>SERVICE</envar> défini la méthode utilisée pour obtenir l'adresse OP.
    Le paquet CLFS-Network-Scripts à un format d'assignation des IP modulaires, et la création d'autres fichiers
    dans le répertoire <filename
    class="directory">/lib/services</filename>
    permet d'autres méthodes d'assignation.</para>

    <para>La variable <envar>GATEWAY</envar> doit contenir l'adresse IP de la passerelle par défaut, si vous en avez
    une. Sinon, alors commentez la variable.
    </para>

    <para>La variable <envar>PREFIX</envar> doit contenir le nombre de bits utilisé dans le sous-réseau. Chaque octet
    dans une adresse IP est 8 bits. Si le masque de sous-réseau est 255.255.255.0, alors il utilisera
    les trois premiers octets (24 bits) pour spécifier le numéro du réseau. Si le masque de sous-réseau est 
     255.255.255.240, il utilisera les 28 premiers bits. Les préfix plus long que 24 bits sont communément
    utilisé par les fournisseurs internet du cable et DSL (FAI). Dans cette exemple (PREFIX=24), le masque de sous-reseau
    est 255.255.255.0. Ajustez la variable
    <envar>PREFIX</envar> selon votre sous+réseau spécifique.</para>

    <para>Pour plus d'informations, voir la page de man <command>ifup</command></para>

    <para>Pour configurer d'autre interface DHCP, suivez <xref linkend="ch-network-dhcpcd"/>.</para>

  </sect2>

  <sect2>
    <title>Configuration de l'interface réseau au démarrage</title>

    <para>L'activation des configurations des interfaces réseaux est faite par interface. Pour activer
    la configuration de l'interface réseau au démarrage, lancez
    :</para>

<screen role="nodump"><userinput>systemctl enable ifupdown@eth0</userinput></screen>

    <para>Pour désactiver une configuration d'interface réseau activé précédement au démarrage, lancez
    :</para>

<screen role="nodump"><userinput>systemctl disable ifupdown@eth0</userinput></screen>

    <para>Pour manuellement démarrer la configuration d'une interface reseau
    lancez:</para>

<screen role="nodump"><userinput>systemctl start ifupdown@eth0</userinput></screen>

    <para>Remplacez eth0 avec le nom correct de l'interface réseau comme décrit au début de cette page.
    </para>

  </sect2>

</sect1>
