diff -ru /home/jp/a/BOOK/final-system/64/binutils.xml BOOK/final-system/64/binutils.xml
--- /home/jp/a/BOOK/final-system/64/binutils.xml	2014-05-11 16:24:52.650516678 +0200
+++ BOOK/final-system/64/binutils.xml	2014-10-03 20:44:43.912339261 +0200
@@ -76,13 +76,9 @@
     href="../common/binutils.xml"
     xpointer="xpointer(//*[@os='k'])"/>
 
-    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
+<!--    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
     href="../common/binutils.xml"
-    xpointer="xpointer(//*[@os='l'])"/>
-
-    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
-    href="../common/binutils.xml"
-    xpointer="xpointer(//*[@os='m'])"/>
+    xpointer="xpointer(//*[@os='l'])"/> -->
 
     <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
     href="../common/binutils.xml"
@@ -115,14 +111,6 @@
     href="../common/binutils.xml"
     xpointer="xpointer(//*[@os='s'])"/>
 
-    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
-    href="../common/binutils.xml"
-    xpointer="xpointer(//*[@os='t'])"/>
-
-    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
-    href="../common/binutils.xml"
-    xpointer="xpointer(//*[@os='u'])"/>
-
   </sect2>
 
   <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
diff -ru /home/jp/a/BOOK/final-system/64/gcc.xml BOOK/final-system/64/gcc.xml
--- /home/jp/a/BOOK/final-system/64/gcc.xml	2014-05-11 16:24:52.650516678 +0200
+++ BOOK/final-system/64/gcc.xml	2014-10-03 20:44:43.912339261 +0200
@@ -45,14 +45,6 @@
 
     <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
     href="../common/gcc.xml"
-    xpointer="xpointer(//*[@os='d'])"/>
-
-    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
-    href="../common/gcc.xml"
-    xpointer="xpointer(//*[@os='e'])"/>
-
-    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
-    href="../common/gcc.xml"
     xpointer="xpointer(//*[@os='f'])"/>
 
     <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
@@ -67,6 +59,10 @@
     href="../common/gcc.xml"
     xpointer="xpointer(//*[@os='i'])"/>
 
+   <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
+    href="../common/gcc.xml"
+    xpointer="xpointer(//*[@os='i1'])"/>
+
     <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
     href="../common/gcc.xml"
     xpointer="xpointer(//*[@os='j'])"/>
@@ -143,6 +139,14 @@
     href="../common/gcc.xml"
     xpointer="xpointer(//*[@os='z'])"/>
 
+    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
+    href="../common/gcc.xml"
+    xpointer="xpointer(//*[@os='aa'])"/>
+
+    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
+    href="../common/gcc.xml"
+    xpointer="xpointer(//*[@os='ab'])"/>
+
   </sect2>
 
   <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
diff -ru /home/jp/a/BOOK/final-system/common/adjusting.xml BOOK/final-system/common/adjusting.xml
--- /home/jp/a/BOOK/final-system/common/adjusting.xml	2014-05-11 16:24:52.646516678 +0200
+++ BOOK/final-system/common/adjusting.xml	2014-10-03 20:44:43.912339261 +0200
@@ -10,7 +10,7 @@
 
   <title>Adjusting the Toolchain</title>
 
-  <para os="a">Now we amend the GCC specs file so that it points to the new
+  <para os="a">Now we adjust GCC's specs so that they point to the new
   dynamic linker. A <command>perl</command> command accomplishes this:</para>
 
 <screen os="c"><userinput>gcc -dumpspecs | \
@@ -18,11 +18,13 @@
      -e 's@\*startfile_prefix_spec:\n@$_/usr/lib/ @g;' &gt; \
      $(dirname $(gcc --print-libgcc-file-name))/specs</userinput></screen>
 
-  <para os="d">It is a good idea to visually inspect the specs file to verify the
-  intended change was actually made.</para>
-
-  <para os="e">Note that <filename class="directory">/lib</filename> is now
-  the prefix of our dynamic linker.</para>
+  <para os="d">The <command>perl</command> command above makes 2
+  modifications to GCC's specs: it removes <quote>/tools</quote> from the
+  pathname to the dynamic linker, and adds <quote>/usr/lib/</quote> to the
+  startfile_prefix_spec. It is a good idea to visually inspect the
+  <filename>specs</filename> file, and compare with the output of
+  <command>gcc -dumpspecs</command>, to verify that
+  the intended changes were actually made.</para>
 
   <caution>
 
diff -ru /home/jp/a/BOOK/final-system/common/autoconf.xml BOOK/final-system/common/autoconf.xml
--- /home/jp/a/BOOK/final-system/common/autoconf.xml	2014-05-11 16:24:52.646516678 +0200
+++ BOOK/final-system/common/autoconf.xml	2014-10-03 20:44:43.912339261 +0200
@@ -36,7 +36,7 @@
     <para os="e">To test the results, issue:</para>
 
 <screen os="e2"><userinput remap="test">make check VERBOSE=yes</userinput></screen>
-    
+
     <para os="e3">17 tests are skipped that use Automake and different GCC languages.
     For full test coverage, Autoconf can be re-tested after Automake has been
     installed.</para>
@@ -56,7 +56,7 @@
 
       <seglistitem>
         <seg>autoconf, autoheader, autom4te, autoreconf, autoscan, autoupdate,
-        and ifnames</seg>
+        ifnames</seg>
         <seg>/usr/share/autoconf</seg>
       </seglistitem>
     </segmentedlist>
diff -ru /home/jp/a/BOOK/final-system/common/automake.xml BOOK/final-system/common/automake.xml
--- /home/jp/a/BOOK/final-system/common/automake.xml	2014-05-11 16:24:52.646516678 +0200
+++ BOOK/final-system/common/automake.xml	2014-10-03 20:44:43.912339261 +0200
@@ -27,7 +27,7 @@
 
     <para os="a">Prepare Automake for compilation:</para>
 
-<screen os="b"><userinput>./configure --prefix=/usr</userinput></screen>
+<screen os="b"><userinput>./configure --prefix=/usr --docdir=/usr/share/doc/automake-&automake-version;</userinput></screen>
 
     <para os="c">Compile the package:</para>
 
@@ -51,10 +51,10 @@
       <segtitle>Installed directories</segtitle>
 
       <seglistitem>
-        <seg>acinstall, aclocal, aclocal-&automake-version2;, automake,
+        <seg>aclocal, aclocal-&automake-version2;, automake,
         automake-&automake-version2;, compile, config.guess, config.sub,
-        depcomp, elisp-comp, install-sh, mdate-sh, missing, mkinstalldirs,
-        py-compile, symlink-tree, and ylwrap</seg>
+        depcomp, install-sh, mdate-sh, missing, mkinstalldirs,
+        py-compile, symlink-tree, ylwrap</seg>
         <seg>/usr/share/aclocal-&automake-version2;,
         /usr/share/automake-&automake-version2;, /usr/share/doc/automake</seg>
       </seglistitem>
@@ -65,16 +65,6 @@
       <?dbfo list-presentation="list"?>
       <?dbhtml list-presentation="table"?>
 
-      <varlistentry id="acinstall">
-        <term><command>acinstall</command></term>
-        <listitem>
-          <para>A script that installs aclocal-style M4 files</para>
-          <indexterm zone="ch-system-automake acinstall">
-            <primary sortas="b-acinstall">acinstall</primary>
-          </indexterm>
-        </listitem>
-      </varlistentry>
-
       <varlistentry id="aclocal">
         <term><command>aclocal</command></term>
         <listitem>
@@ -166,16 +156,6 @@
           </indexterm>
         </listitem>
       </varlistentry>
-
-      <varlistentry id="elisp-comp">
-        <term><command>elisp-comp</command></term>
-        <listitem>
-          <para>Byte-compiles Emacs Lisp code</para>
-          <indexterm zone="ch-system-automake elisp-comp">
-            <primary sortas="b-elisp-comp">elisp-comp</primary>
-          </indexterm>
-        </listitem>
-      </varlistentry>
 
       <varlistentry id="install-sh">
         <term><command>install-sh</command></term>
diff -ru /home/jp/a/BOOK/final-system/common/bash.xml BOOK/final-system/common/bash.xml
--- /home/jp/a/BOOK/final-system/common/bash.xml	2014-05-11 16:24:52.646516678 +0200
+++ BOOK/final-system/common/bash.xml	2014-10-03 20:44:43.912339261 +0200
@@ -32,10 +32,11 @@
     <para os="a">Prepare Bash for compilation:</para>
 
 <screen os="b"><userinput>./configure --prefix=/usr --bindir=/bin \
-    --without-bash-malloc --with-installed-readline</userinput></screen>
+    --without-bash-malloc --with-installed-readline \
+    --docdir=/usr/share/doc/bash-&bash-version;</userinput></screen>
 
     <variablelist os="c">
-      <title>The meaning of the configure option:</title>
+      <title>The meaning of the new configure option:</title>
 
       <varlistentry>
         <term><parameter>--with-installed-readline</parameter></term>
@@ -58,7 +59,7 @@
 
     <para os="g">Install the package:</para>
 
-<screen os="h"><userinput>make htmldir=/usr/share/doc/bash-&bash-version; install</userinput></screen>
+<screen os="h"><userinput>make install</userinput></screen>
 
     <para os="i">Run the newly compiled <command>bash</command> program (replacing
     the one that is currently being executed):</para>
@@ -81,7 +82,7 @@
       <segtitle>Installed directory</segtitle>
 
       <seglistitem>
-        <seg>bash, bashbug, and sh (link to bash)</seg>
+        <seg>bash, bashbug, sh (link to bash)</seg>
         <seg>/usr/share/doc/bash-&bash-version;</seg>
       </seglistitem>
     </segmentedlist>
diff -ru /home/jp/a/BOOK/final-system/common/bc.xml BOOK/final-system/common/bc.xml
--- /home/jp/a/BOOK/final-system/common/bc.xml	2014-05-11 16:24:52.646516678 +0200
+++ BOOK/final-system/common/bc.xml	2014-10-03 20:44:43.912339261 +0200
@@ -26,7 +26,8 @@
 
     <para os="a">Prepare Bc for compilation:</para>
 
-<screen os="b"><userinput>./configure --prefix=/usr --with-readline</userinput></screen>
+<screen os="b"><userinput>./configure --prefix=/usr --with-readline \
+    --mandir=/usr/share/man --infodir=/usr/share/info</userinput></screen>
 
     <para os="c">Compile the package:</para>
 
@@ -49,7 +50,7 @@
       <segtitle>Installed programs</segtitle>
 
       <seglistitem>
-        <seg>bc and dc</seg>
+        <seg>bc, dc</seg>
       </seglistitem>
     </segmentedlist>
 
diff -ru /home/jp/a/BOOK/final-system/common/binutils.xml BOOK/final-system/common/binutils.xml
--- /home/jp/a/BOOK/final-system/common/binutils.xml	2014-05-11 16:24:52.646516678 +0200
+++ BOOK/final-system/common/binutils.xml	2014-10-03 20:44:43.912339261 +0200
@@ -61,19 +61,17 @@
 
     <para os="j">Compile the package:</para>
 
-<screen os="k"><userinput>make configure-host</userinput></screen>
+<screen os="k"><userinput>make tooldir=/usr</userinput></screen>
 
-    <important os="l">
-      <para>During <command>make configure-host</command> you may receive the
+<!--    <important os="l">
+      <para>During <command>make tooldir=/usr</command> you may receive the
       following error message. It is safe to ignore.</para>
 
 <screen><computeroutput>WARNING: `flex' is missing on your system. You should only
 need it if you modified a `.l' file. You may need the `Flex'
 package in order for those modifications to take effect. You
 can get `Flex' from any GNU archive site.</computeroutput></screen>
-    </important>
-
-<screen os="m"><userinput>make tooldir=/usr</userinput></screen>
+    </important> -->
 
     <variablelist os="n">
       <title>The meaning of the make parameter:</title>
@@ -91,8 +89,8 @@
     </variablelist>
 
     <important os="o">
-      <para>The test suite for Binutils is considered critical.
-      Do not skip it under any circumstance.</para>
+      <para>Due to Binutils' critical role in a properly functioning system,
+      the CLFS developers strongly recommend running the testsuite.</para>
     </important>
 
     <para os="p">Test the results:</para>
@@ -103,11 +101,6 @@
 
 <screen os="s"><userinput>make tooldir=/usr install</userinput></screen>
 
-    <para os="t">Install the <filename class="headerfile">libiberty</filename> header
-    file that is needed by some packages:</para>
-
-<screen os="u"><userinput>cp -v ../binutils-&binutils-dir;/include/libiberty.h /usr/include</userinput></screen>
-
   </sect2>
 
   <sect2 id="contents-binutils" role="content">
@@ -119,10 +112,9 @@
       <segtitle>Installed directory</segtitle>
 
       <seglistitem>
-        <seg>addr2line, ar, as, c++filt, elfedit, gprof, ld, ld.bfd, nm, objcopy,
-        objdump,
-        ranlib, readelf, size, strings, and strip</seg>
-        <seg>libiberty.a, libbfd.[a,so], and libopcodes.[a,so]</seg>
+        <seg>addr2line, ar, as, c++filt, elfedit, gprof, ld, ld.bfd, nm,
+        objcopy, objdump, ranlib, readelf, size, strings, strip</seg>
+        <seg>libbfd.[a,so], libopcodes.[a,so]</seg>
         <seg>/usr/lib/ldscripts</seg>
       </seglistitem>
     </segmentedlist>
@@ -308,19 +300,6 @@
           </indexterm>
         </listitem>
       </varlistentry>
-
-      <varlistentry id="libiberty">
-        <term><filename class="libraryfile">libiberty</filename></term>
-        <listitem>
-          <para>Contains routines used by various GNU programs, including
-          <command>getopt</command>, <command>obstack</command>,
-          <command>strerror</command>, <command>strtol</command>, and
-          <command>strtoul</command></para>
-          <indexterm zone="ch-system-binutils libiberty">
-            <primary sortas="c-libiberty">libiberty</primary>
-          </indexterm>
-        </listitem>
-      </varlistentry>
 
       <varlistentry id="libbfd">
         <term><filename class="libraryfile">libbfd</filename></term>
diff -ru /home/jp/a/BOOK/chroot/x86-chapter.xml BOOK/chroot/x86-chapter.xml
--- /home/jp/a/BOOK/chroot/x86-chapter.xml	2014-05-11 16:24:52.622516679 +0200
+++ BOOK/chroot/x86-chapter.xml	2014-10-03 20:44:43.904339261 +0200
@@ -12,7 +12,6 @@
   <title>If You Are Going to Chroot</title>
 
   <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="common/introduction.xml"/>
-  <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="common/util-linux.xml"/>
   <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="common/kernfs.xml"/>
   <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="x86/before-chroot.xml"/>
   <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="common/chroot.xml"/>
@@ -20,6 +19,5 @@
   <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="common/creatingdirs.xml"/>
   <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="common/createfiles.xml"/>
   <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="common/pwdgroup.xml"/>
-  <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="common/devices.xml"/>
 
 </chapter>
diff -ru /home/jp/a/BOOK/final-system/common/bison.xml BOOK/final-system/common/bison.xml
--- /home/jp/a/BOOK/final-system/common/bison.xml	2014-05-11 16:24:52.646516678 +0200
+++ BOOK/final-system/common/bison.xml	2014-10-03 20:44:43.912339261 +0200
@@ -24,14 +24,9 @@
   <sect2 role="installation">
     <title>Installation of Bison</title>
 
-    <para os="t3">The <command>configure </command>script does not determine
-    the correct value for the following. Set the value manually:</para>
-
-<screen os="t4"><userinput>echo "ac_cv_prog_lex_is_flex=yes" &gt; config.cache</userinput></screen>
-
     <para os="a">Prepare Bison for compilation:</para>
 
-<screen os="b"><userinput>./configure --prefix=/usr --cache-file=config.cache</userinput></screen>
+<screen os="b"><userinput>./configure --prefix=/usr</userinput></screen>
 
     <para os="c">Compile the package:</para>
 
@@ -56,7 +51,7 @@
       <segtitle>Installed directory</segtitle>
 
       <seglistitem>
-        <seg>bison and yacc</seg>
+        <seg>bison, yacc</seg>
         <seg>liby.a</seg>
         <seg>/usr/share/bison</seg>
       </seglistitem>
diff -ru /home/jp/a/BOOK/final-system/common/bzip2.xml BOOK/final-system/common/bzip2.xml
--- /home/jp/a/BOOK/final-system/common/bzip2.xml	2014-05-11 16:24:52.646516678 +0200
+++ BOOK/final-system/common/bzip2.xml	2014-10-03 20:44:43.912339261 +0200
@@ -33,6 +33,12 @@
 
 <screen os="s2"><userinput>sed -i -e 's:ln -s -f $(PREFIX)/bin/:ln -s :' Makefile</userinput></screen>
 
+    <para os="s3">Make Bzip2 install its manpages in
+    <filename class="directory">/usr/share/man</filename> instead of
+    <filename class="directory">/usr/man</filename>:</para>
+
+<screen os="s4"><userinput>sed -i 's@X)/man@X)/share/man@g' ./Makefile</userinput></screen>
+
     <para os="a">The Bzip2 package does not contain a <command>configure</command>
     script. Compile it with:</para>
 
@@ -76,9 +82,9 @@
       <seglistitem>
         <seg>bunzip2 (link to bzip2), bzcat (link to bzip2), bzcmp (link to
         bzdiff), bzdiff, bzegrep (link to bzgrep), bzfgrep (link to bzgrep),
-        bzgrep, bzip2, bzip2recover, bzless (link to bzmore), and bzmore</seg>
+        bzgrep, bzip2, bzip2recover, bzless (link to bzmore), bzmore</seg>
         <seg>libbz2.a, libbz2.so (link to libbz2.so.1.0), libbz2.so.1.0 (link to
-        libbz2.so.&bzip2-version;), and libbz2.so.&bzip2-version;</seg>
+        libbz2.so.&bzip2-version;), libbz2.so.&bzip2-version;</seg>
       </seglistitem>
     </segmentedlist>
 
diff -ru /home/jp/a/BOOK/final-system/common/cloog.xml BOOK/final-system/common/cloog.xml
--- /home/jp/a/BOOK/final-system/common/cloog.xml	2014-05-11 16:24:52.646516678 +0200
+++ BOOK/final-system/common/cloog.xml	2014-10-03 20:44:43.912339261 +0200
@@ -31,7 +31,7 @@
 
 <screen os="b"><userinput>CC="gcc -isystem /usr/include" \
 LDFLAGS="-Wl,-rpath-link,/usr/lib:/lib" \
-  ./configure --prefix=/usr --enable-shared --with-isl=system</userinput></screen>
+  ./configure --prefix=/usr --with-isl=system</userinput></screen>
 
     <para os="s1">Apply a <command>sed</command> which prevents the attempted installation of an invalid file:</para>
 
@@ -41,18 +41,13 @@
 
 <screen os="d"><userinput>make</userinput></screen>
 
-    <important os="e">
-      <para>The test suite for CLooG is considered
-      critical. Do not skip it under any circumstance.</para>
-    </important>
+    <para os="e">Test the results:</para>
 
-    <para os="f">Test the results:</para>
+<screen os="f"><userinput remap="test">make check</userinput></screen>
 
-<screen os="g"><userinput remap="test">make check</userinput></screen>
+    <para os="g">Install the package:</para>
 
-    <para os="h">Install the package:</para>
-
-<screen os="i"><userinput>make install</userinput></screen>
+<screen os="h"><userinput>make install</userinput></screen>
 
   </sect2>
 
diff -ru /home/jp/a/BOOK/final-system/common/coreutils.xml BOOK/final-system/common/coreutils.xml
--- /home/jp/a/BOOK/final-system/common/coreutils.xml	2014-05-11 16:24:52.646516678 +0200
+++ BOOK/final-system/common/coreutils.xml	2014-10-03 20:44:43.912339261 +0200
@@ -37,11 +37,11 @@
 <screen os="d"><userinput>FORCE_UNSAFE_CONFIGURE=1 \
   ./configure --prefix=/usr \
     --enable-no-install-program=kill,uptime \
-    --enable-install-program=hostname</userinput></screen>
-    
+    --enable-install-program=hostname --libexecdir=/usr/lib</userinput></screen>
+
     <variablelist os="d1">
       <title>The meaning of the configure options:</title>
-      
+
         <varlistentry os="d2">
           <term><parameter>FORCE_UNSAFE_CONFIGURE=1</parameter></term>
           <listitem>
@@ -55,56 +55,46 @@
 
 <screen os="f"><userinput>make</userinput></screen>
 
-    <para os="g">The test suite of Coreutils makes several assumptions about the
-    presence of system users and groups that are not valid within the minimal
-    environment that exists at the moment. Therefore, we will reuse the dummy
-    groups and user created during Util-linux. Skip down to <quote>Install the
-    package</quote> if not running the test suite and you did not create the
-    dummy groups and users during Util-linux.</para>
-
-   <para os="h">Now the test suite is ready to be run. First, run
+   <para os="g">Now the test suite is ready to be run. First, run
     the tests that are meant to be run as user
     <systemitem class="username">root</systemitem>:</para>
 
-<screen os="i"><userinput remap="test">make NON_ROOT_USERNAME=dummy check-root</userinput></screen>
+<screen os="h"><userinput remap="test">make NON_ROOT_USERNAME=nobody check-root</userinput></screen>
 
-    <para os="j">The testsuite will now be run as the
-    <systemitem class="username">dummy</systemitem> user. Fix the permissions
-    for a few files to allow this:</para>
+    <para os="i">The test suite will now be run as the
+    <systemitem class="username">nobody</systemitem> user. Some tests require
+    that the user be a member of more than one group. Add a temporary group
+    and make the user <systemitem class="username">nobody</systemitem> a part
+    of it so that the tests are not skipped:</para>
 
-<screen os="k"><userinput remap="test">chown -Rv dummy .</userinput></screen>
+<screen os="j"><userinput remap="test">echo "dummy:x:1000:nobody" &gt;&gt; /etc/group</userinput></screen>
 
-    <para os="l">Then run the remainder of the tests as the
-    <systemitem class="username">dummy</systemitem> user:</para>
+    <para os="k">Fix permissions of some files so the non-root user can compile
+    and run the tests:</para>
 
-<screen os="m"><userinput remap="test">su dummy -s /bin/bash \
+<screen os="l"><userinput remap="test">chown -Rv nobody .</userinput></screen>
+
+    <para os="m">Then run the remainder of the tests as the
+    <systemitem class="username">nobody</systemitem> user:</para>
+
+<screen os="n"><userinput remap="test">su nobody -s /bin/bash \
     -c "PATH=$PATH make RUN_EXPENSIVE_TESTS=yes -k check || true"</userinput></screen>
 
-    <para os="n">When testing is complete, remove the
-    <systemitem class="username">dummy</systemitem> user and groups:</para>
+    <para os="o">Remove the temporary group:</para>
 
-<screen os="o"><userinput remap="test">sed -i '/dummy/d' /etc/passwd /etc/group</userinput></screen>
+<screen os="p"><userinput remap="test">sed -i '/dummy/d' /etc/group</userinput></screen>
 
-    <para os="p">Install the package:</para>
+    <para os="q">Install the package:</para>
 
-<screen os="q"><userinput>make install</userinput></screen>
+<screen os="r"><userinput>make install</userinput></screen>
 
-    <para os="r">Move programs to the locations specified by the FHS:</para>
+    <para os="s">Move programs to the locations specified by the FHS:</para>
 
-<screen os="s"><userinput>mv -v /usr/bin/{cat,chgrp,chmod,chown,cp,date} /bin
+<screen os="t"><userinput>mv -v /usr/bin/{cat,chgrp,chmod,chown,cp,date} /bin
 mv -v /usr/bin/{dd,df,echo,false,hostname,ln,ls,mkdir,mknod} /bin
 mv -v /usr/bin/{mv,pwd,rm,rmdir,stty,true,uname} /bin
 mv -v /usr/bin/chroot /usr/sbin</userinput></screen>
 
-    <para os="t">Other Coreutils programs are used by some of the scripts
-    in the CLFS-Bootscripts package. As <filename
-    class="directory">/usr</filename> may not be available during the early
-    stages of booting, those binaries need to be on the root partition:</para>
-
-<screen os="u"><userinput>mv -v /usr/bin/{[,basename,head,install,nice} /bin
-mv -v /usr/bin/{readlink,sleep,sync,test,touch} /bin
-ln -svf ../../bin/install /usr/bin</userinput></screen>
-
   </sect2>
 
   <sect2 id="contents-coreutils" role="content">
@@ -125,7 +115,7 @@
         rmdir, runcon, seq, sha1sum, sha224sum, sha256sum, sha384sum,
         sha512sum, shred, shuf, sleep, sort, split, stat, stdbuf, stty, sum,
         sync, tac, tail, tee, test, timeout, touch, tr, true, truncate, tsort,
-        tty, uname, unexpand, uniq, unlink, users, vdir, wc, who, whoami, and yes</seg>
+        tty, uname, unexpand, uniq, unlink, users, vdir, wc, who, whoami, yes</seg>
         <seg>libstdbuf.so</seg>
         <seg>/usr/lib/coreutils</seg>
       </seglistitem>
diff -ru /home/jp/a/BOOK/final-system/common/diffutils.xml BOOK/final-system/common/diffutils.xml
--- /home/jp/a/BOOK/final-system/common/diffutils.xml	2014-05-11 16:24:52.646516678 +0200
+++ BOOK/final-system/common/diffutils.xml	2014-10-03 20:44:43.912339261 +0200
@@ -25,14 +25,19 @@
   <sect2 role="installation">
     <title>Installation of Diffutils</title>
 
+    <para os="s1">Fix a bug that prevents locale files from being installed:</para>
+
+<screen os="s2"><userinput>sed -i 's:= @mkdir_p@:= /bin/mkdir -p:' po/Makefile.in.in</userinput></screen>
+
     <para os="a">Prepare Diffutils for compilation:</para>
 
 <screen os="b"><userinput>./configure --prefix=/usr</userinput></screen>
 
-    <para os="s1">Diffutils wants <command>ed</command> as the default editor.
-    The following sed will change the default to <command>vim</command>:</para>
+    <para os="s3">Diffutils wants <command>ed</command> as the default editor
+    for <command>sdiff</command>. The following <command>sed</command> will
+    change the default to <command>vi</command>:</para>
 
-<screen os="s2"><userinput>sed -i 's@\(^#define DEFAULT_EDITOR_PROGRAM \).*@\1"vi"@' lib/config.h</userinput></screen>
+<screen os="s4"><userinput>sed -i 's@\(^#define DEFAULT_EDITOR_PROGRAM \).*@\1"vi"@' lib/config.h</userinput></screen>
 
     <para os="c">Compile the package:</para>
 
@@ -55,7 +60,7 @@
       <segtitle>Installed programs</segtitle>
 
       <seglistitem>
-        <seg>cmp, diff, diff3, and sdiff</seg>
+        <seg>cmp, diff, diff3, sdiff</seg>
       </seglistitem>
     </segmentedlist>
 
diff -ru /home/jp/a/BOOK/final-system/common/e2fsprogs.xml BOOK/final-system/common/e2fsprogs.xml
--- /home/jp/a/BOOK/final-system/common/e2fsprogs.xml	2014-05-11 16:24:52.646516678 +0200
+++ BOOK/final-system/common/e2fsprogs.xml	2014-10-03 20:44:43.912339261 +0200
@@ -66,6 +66,18 @@
         </listitem>
       </varlistentry>
 
+      <varlistentry os="e3">
+        <term><parameter>--disable-*</parameter></term>
+        <listitem>
+          <para>This prevents E2fsprogs from building and installing the
+          <systemitem class="library">libuuid</systemitem> and
+          <systemitem class="library">libblkid</systemitem> libraries, the
+          <systemitem class="daemon">uuidd</systemitem> daemon, and the
+          <command>fsck</command> wrapper, as Util-Linux installed all of
+          them earlier.</para>
+        </listitem>
+      </varlistentry>
+
     </variablelist>
 
     <para os="f">Compile the package:</para>
@@ -99,9 +111,9 @@
         e2fsck, e2image, e2initrd_helper, e2label, e2undo, e4defrag, filefrag,
         fsck.ext2, fsck.ext3, fsck.ext4, fsck.ext4dev, logsave, lsattr,
         mk_cmds, mke2fs, mkfs.ext2, mkfs.ext3, mkfs.ext4, mkfs.ext4dev,
-        mklost+found, resize2fs, and tune2fs</seg>
+        mklost+found, resize2fs, tune2fs</seg>
         <seg>libcom_err.[a,so], libe2p.[a,so], libext2fs.[a,so],
-        libss.[a,so], and libquota.a</seg>
+        libss.[a,so], libquota.a</seg>
         <seg>/usr/include/e2p, /usr/include/et, /usr/include/ext2fs,
         /usr/include/quota, /usr/include/ss, /usr/share/et, /usr/share/ss</seg>
       </seglistitem>
@@ -183,7 +195,7 @@
         <listitem>
           <para>Is used to check, and optionally repair <systemitem
           class="filesystem">ext2</systemitem>, <systemitem
-          class="filesystem">ext3</systemitem> and <systemitem 
+          class="filesystem">ext3</systemitem> and <systemitem
           class="filesystem">ext4</systemitem>file systems</para>
           <indexterm zone="ch-system-e2fsprogs e2fsck">
             <primary sortas="b-e2fsck">e2fsck</primary>
@@ -336,7 +348,7 @@
         <term><command>mke2fs</command></term>
         <listitem>
           <para>Creates an <systemitem class="filesystem">ext2</systemitem>,
-          <systemitem class="filesystem">ext3</systemitem> or <systemitem 
+          <systemitem class="filesystem">ext3</systemitem> or <systemitem
           class="filesystem">ext4</systemitem> file system on the given device</para>
           <indexterm zone="ch-system-e2fsprogs mke2fs">
             <primary sortas="b-mke2fs">mke2fs</primary>
diff -ru /home/jp/a/BOOK/final-system/common/findutils.xml BOOK/final-system/common/findutils.xml
--- /home/jp/a/BOOK/final-system/common/findutils.xml	2014-05-11 16:24:52.646516678 +0200
+++ BOOK/final-system/common/findutils.xml	2014-10-03 20:44:43.912339261 +0200
@@ -58,19 +58,6 @@
 
 <screen os="h"><userinput>make install</userinput></screen>
 
-    <para os="i">The <command>find</command> program is used by some of the scripts
-    in the CLFS-Bootscripts package. As <filename
-    class="directory">/usr</filename> may not be available during the early
-    stages of booting, the <command>find</command> binary needs to be on
-    the root partition:</para>
-
-<screen os="j"><userinput>mv -v /usr/bin/find /bin</userinput></screen>
-
-    <para os="k">The <command>updatedb</command> script needs to be modified
-    to point to the new location for <command>find</command>:</para> 
-
-<screen os="l"><userinput>sed -i 's@find:=${BINDIR}@find:=/bin@' /usr/bin/updatedb</userinput></screen>
-
   </sect2>
 
   <sect2 id="contents-findutils" role="content">
@@ -81,7 +68,7 @@
       <segtitle>Installed directory</segtitle>
 
       <seglistitem>
-        <seg>bigram, code, find, frcode, locate, oldfind, updatedb, and xargs</seg>
+        <seg>bigram, code, find, frcode, locate, oldfind, updatedb, xargs</seg>
         <seg>/usr/lib/locate</seg>
       </seglistitem>
     </segmentedlist>
diff -ru /home/jp/a/BOOK/final-system/common/flex.xml BOOK/final-system/common/flex.xml
--- /home/jp/a/BOOK/final-system/common/flex.xml	2014-05-11 16:24:52.646516678 +0200
+++ BOOK/final-system/common/flex.xml	2014-10-03 20:44:43.912339261 +0200
@@ -27,7 +27,7 @@
 
     <para os="a">Prepare Flex for compilation:</para>
 
-<screen os="b"><userinput>./configure --prefix=/usr</userinput></screen>
+<screen os="b"><userinput>./configure --prefix=/usr --docdir=/usr/share/doc/flex-&flex-version;</userinput></screen>
 
     <para os="c">Compile the package:</para>
 
@@ -37,24 +37,22 @@
 
 <screen os="e2"><userinput remap="test">make check</userinput></screen>
 
+    <para os="e3">The test suite will report 3 failures for tests that
+    use <command>bison</command>, which is not installed yet. For full
+    test coverage, you can run Flex's test suite again after Bison
+    is installed.</para>
+
     <para os="f">Install the package:</para>
 
 <screen os="g"><userinput>make install</userinput></screen>
 
-    <para os="h">There are some packages that expect to find the
-    <filename class="libraryfile">lex</filename> library in <filename
-    class="directory">/usr/lib</filename>. Create a symlink to account for
-    this:</para>
-
-<screen os="i"><userinput>ln -sv libfl.a /usr/lib/libl.a</userinput></screen>
-
-    <para os="j">A few programs do not know about <command>flex</command> yet and
+    <para os="h">A few programs do not know about <command>flex</command> yet and
     try to run its predecessor, <command>lex</command>. To support those
     programs, create a wrapper script named <filename>lex</filename> that
     calls <filename>flex</filename> in <command>lex</command> emulation
     mode:</para>
 
-<screen os="k"><userinput>cat &gt; /usr/bin/lex &lt;&lt; "EOF"
+<screen os="i"><userinput>cat &gt; /usr/bin/lex &lt;&lt; "EOF"
 <literal>#!/bin/sh
 # Begin /usr/bin/lex
 
@@ -72,10 +70,12 @@
     <segmentedlist>
       <segtitle>Installed programs</segtitle>
       <segtitle>Installed libraries</segtitle>
+      <segtitle>Installed directory</segtitle>
 
       <seglistitem>
-        <seg>flex and lex</seg>
-        <seg>libfl.a and libfl_pic.a</seg>
+        <seg>flex, flex++ (link to flex), lex</seg>
+        <seg>libfl.[a,so], libfl_pic.[a,so]</seg>
+        <seg>/usr/share/doc/flex-&flex-version;</seg>
       </seglistitem>
     </segmentedlist>
 
@@ -118,22 +118,22 @@
         </listitem>
       </varlistentry>
 
-      <varlistentry id="libfl.a">
-        <term><filename class="libraryfile">libfl.a</filename></term>
+      <varlistentry id="libfl">
+        <term><filename class="libraryfile">libfl</filename></term>
         <listitem>
           <para>The <filename class="libraryfile">flex</filename> library</para>
-          <indexterm zone="ch-system-flex libfl.a">
-            <primary sortas="c-libfl.a">libfl.a</primary>
+          <indexterm zone="ch-system-flex libfl">
+            <primary sortas="c-libfl">libfl</primary>
           </indexterm>
         </listitem>
       </varlistentry>
 
-      <varlistentry id="libfl_pic.a">
-        <term><filename class="libraryfile">libfl_pic.a</filename></term>
+      <varlistentry id="libfl_pic">
+        <term><filename class="libraryfile">libfl_pic</filename></term>
         <listitem>
           <para>The <filename class="libraryfile">flex</filename> library</para>
-          <indexterm zone="ch-system-flex libfl_pic.a">
-            <primary sortas="c-libfl.a">libfl_pic.a</primary>
+          <indexterm zone="ch-system-flex libfl_pic">
+            <primary sortas="c-libfl">libfl_pic</primary>
           </indexterm>
         </listitem>
       </varlistentry>
diff -ru /home/jp/a/BOOK/final-system/common/gawk.xml BOOK/final-system/common/gawk.xml
--- /home/jp/a/BOOK/final-system/common/gawk.xml	2014-05-11 16:24:52.646516678 +0200
+++ BOOK/final-system/common/gawk.xml	2014-10-03 20:44:43.912339261 +0200
@@ -41,6 +41,11 @@
 
 <screen os="g"><userinput>make install</userinput></screen>
 
+    <para os="h">Install the documentation:</para>
+
+<screen os="i"><userinput>mkdir -v /usr/share/doc/gawk-&gawk-version;
+cp -v doc/{awkforai.txt,*.{eps,pdf,jpg}} /usr/share/doc/gawk-&gawk-version;</userinput></screen>
+
   </sect2>
 
   <sect2 id="contents-gawk" role="content">
@@ -52,8 +57,9 @@
 
       <seglistitem>
         <seg>awk (link to gawk), gawk, gawk-&gawk-version;, grcat, igawk,
-        pgawk, pgawk-&gawk-version;, and pwcat</seg>
-        <seg>/usr/lib/awk, /usr/share/awk</seg>
+        pgawk, pgawk-&gawk-version;, pwcat</seg>
+        <seg>/usr/lib/awk, /usr/lib/gawk, /usr/share/awk,
+        /usr/share/doc/gawk-&gawk-version;</seg>
       </seglistitem>
     </segmentedlist>
 
diff -ru /home/jp/a/BOOK/final-system/common/gcc.xml BOOK/final-system/common/gcc.xml
--- /home/jp/a/BOOK/final-system/common/gcc.xml	2014-05-11 16:24:52.646516678 +0200
+++ BOOK/final-system/common/gcc.xml	2014-10-03 20:44:43.912339261 +0200
@@ -25,23 +25,15 @@
   <sect2 role="installation">
     <title>Installation of GCC</title>
 
-    <para os="p1">The following patch contains a number of updates to the 
+    <para os="p1">The following patch contains a number of updates to the
     &gcc-version; branch by the GCC developers:</para>
 
     <screen os="p2"><userinput>patch -Np1 -i ../&gcc-branch_update-patch;</userinput></screen>
 
-    <para os="fix1">Apply a <command>sed</command> subsitution that will
+    <para os="fix1">Apply a <command>sed</command> substitution that will
     suppress the execution of the <command>fixincludes</command> script:</para>
 
-<screen os="fix2"><userinput>cp -v gcc/Makefile.in{,.orig}
-sed 's@\./fixinc\.sh@-c true@' gcc/Makefile.in.orig > gcc/Makefile.in</userinput></screen>
-
-    <para os="d">Apply a <command>sed</command> substitution that will suppress the
-    installation of <filename class="libraryfile">libiberty.a</filename>. The
-    version of <filename class="libraryfile">libiberty.a</filename> provided by
-    Binutils will be used instead:</para>
-
-<screen os="e"><userinput>sed -i 's/install_to_$(INSTALL_DEST) //' libiberty/Makefile.in</userinput></screen>
+<screen os="fix2"><userinput>sed -i 's@\./fixinc\.sh@-c true@' gcc/Makefile.in</userinput></screen>
 
     <para os="f">The GCC documentation recommends building GCC outside of the source
     directory in a dedicated build directory:</para>
@@ -51,25 +43,36 @@
 
     <para os="h">Prepare GCC for compilation:</para>
 
-<screen os="i"><userinput>CC="gcc -isystem /usr/include" \
+<screen os="i"><userinput>SED=sed CC="gcc -isystem /usr/include" \
 CXX="g++ -isystem /usr/include" \
 LDFLAGS="-Wl,-rpath-link,/usr/lib:/lib" \
   ../gcc-&gcc-version;/configure --prefix=/usr \
-    --libexecdir=/usr/lib --enable-shared --enable-threads=posix \
-    --enable-__cxa_atexit --enable-c99 --enable-long-long \
-    --enable-clocale=gnu --enable-languages=c,c++ \
+    --libexecdir=/usr/lib --enable-threads=posix \
+    --enable-__cxa_atexit --enable-clocale=gnu --enable-languages=c,c++ \
     --disable-multilib --disable-libstdcxx-pch \
-    --enable-cloog-backend=isl --disable-isl-version-check --with-system-zlib \
-    --enable-checking=release --enable-libstdcxx-time \
-    --disable-install-libiberty</userinput></screen>
+    --with-system-zlib --enable-checking=release --enable-libstdcxx-time</userinput></screen>
+
+    <variablelist os="i1">
+      <title>The meaning of the new configure option:</title>
+
+      <varlistentry>
+        <term><parameter>SED=sed</parameter></term>
+        <listitem>
+          <para>This prevents a hard-coded path to
+          <filename>/tools/bin/sed</filename> in the <command>fixincl</command>
+          program.</para>
+        </listitem>
+      </varlistentry>
+
+    </variablelist>
 
     <para os="j">Compile the package:</para>
 
 <screen os="k"><userinput>make</userinput></screen>
 
     <important os="l">
-      <para>The test suite for GCC is considered
-      critical. Do not skip it under any circumstance.</para>
+      <para>Due to GCC's critical role in a properly functioning system,
+      the CLFS developers strongly recommend running the testsuite.</para>
     </important>
 
    <para os="s1">Increase the stack size prior to running the tests:</para>
@@ -98,20 +101,25 @@
 
 <screen os="t"><userinput>make install</userinput></screen>
 
-    <para os="u">Some packages expect the C preprocessor to be installed in the
+    <para os="u">Install the <filename class="headerfile">libiberty</filename> header
+    file that is needed by some packages:</para>
+
+<screen os="v"><userinput>cp -v ../gcc-&gcc-version;/include/libiberty.h /usr/include</userinput></screen>
+
+    <para os="w">Some packages expect the C preprocessor to be installed in the
     <filename class="directory">/lib</filename> directory.
     To support those packages, create this symlink:</para>
 
-<screen os="v"><userinput>ln -sv ../usr/bin/cpp /lib</userinput></screen>
+<screen os="x"><userinput>ln -sv ../usr/bin/cpp /lib</userinput></screen>
 
-    <para os="w">Many packages use the name <command>cc</command> to call the C
+    <para os="y">Many packages use the name <command>cc</command> to call the C
     compiler. To satisfy those packages, create a symlink:</para>
 
-<screen os="x"><userinput>ln -sv gcc /usr/bin/cc</userinput></screen>
+<screen os="z"><userinput>ln -sv gcc /usr/bin/cc</userinput></screen>
 
-    <para os="y">Finally, move a misplaced file:</para>
+    <para os="aa">Finally, move a misplaced file:</para>
 
-<screen os="z"><userinput>mv -v /usr/lib/*gdb.py /usr/share/gdb/auto-load/usr/lib</userinput></screen>
+<screen os="ab"><userinput>mv -v /usr/lib/libstdc++*gdb.py /usr/share/gdb/auto-load/usr/lib</userinput></screen>
 
   </sect2>
 
@@ -124,10 +132,11 @@
       <segtitle>Installed directories</segtitle>
 
       <seglistitem>
-        <seg>c++, cc (link to gcc), cpp, g++, gcc, and gcov</seg>
-        <seg>libasan.[a,so], libgcc.a, libgcc_eh.a, libgcc_s.so, libgcov.a,
-        libgomp.[a,so], libmudflap.[a,so], libmudflapth.[a,so], libssp.[a,so],
-        libssp_nonshared.a, libstdc++.[a,so], libsupc++.a, and libtsan.[a,so]</seg>
+        <seg>c++, cc (link to gcc), cpp, g++, gcc, gcov</seg>
+        <seg>libasan.[a,so], libatomic.[a,so], libgcc.a, libgcc_eh.a, libgcc_s.so, libgcov.a,
+        libgomp.[a,so], libiberty.a, libitm.[a,so], liblto_plugin.so, libmudflap.[a,so], libmudflapth.[a,so],
+        libquadmath.[a,so], libssp.[a,so], libssp_nonshared.a, libstdc++.[a,so], libsupc++.a,
+        libtsan.[a,so]</seg>
         <seg>/usr/include/c++, /usr/lib/gcc, /usr/share/gcc-&gcc-version;</seg>
       </seglistitem>
     </segmentedlist>
@@ -209,6 +218,17 @@
         </listitem>
       </varlistentry>
 
+      <varlistentry id="libatomic">
+        <term><filename class="libraryfile">libatomic</filename></term>
+        <listitem>
+          <para>A GCC support runtime library for atomic operations not
+          supported by hardware</para>
+          <indexterm zone="ch-system-gcc libatomic">
+            <primary sortas="c-libatomic*">libatomic*</primary>
+          </indexterm>
+        </listitem>
+      </varlistentry>
+
       <varlistentry id="libgcc">
         <term><filename class="libraryfile">libgcc</filename></term>
         <listitem>
@@ -241,6 +261,40 @@
         </listitem>
       </varlistentry>
 
+      <varlistentry id="libiberty">
+        <term><filename class="libraryfile">libiberty</filename></term>
+        <listitem>
+          <para>Contains routines used by various GNU programs, including
+          <command>getopt</command>, <command>obstack</command>,
+          <command>strerror</command>, <command>strtol</command>, and
+          <command>strtoul</command></para>
+          <indexterm zone="ch-system-gcc libiberty">
+            <primary sortas="c-libiberty">libiberty</primary>
+          </indexterm>
+        </listitem>
+      </varlistentry>
+
+      <varlistentry id="libitm">
+        <term><filename class="libraryfile">libitm</filename></term>
+        <listitem>
+          <para>The GNU Transactional Memory Library, which provides
+          transaction support for accesses to a process's memory</para>
+          <indexterm zone="ch-system-gcc libitm">
+            <primary sortas="c-libitm*">libitm*</primary>
+          </indexterm>
+        </listitem>
+      </varlistentry>
+
+      <varlistentry id="liblto_plugin">
+        <term><filename class="libraryfile">liblto_plugin</filename></term>
+        <listitem>
+          <para>Runtime library for GCC's link-time optimization plugin</para>
+          <indexterm zone="ch-system-gcc liblto_plugin">
+            <primary sortas="c-liblto_plugin">liblto_plugin</primary>
+          </indexterm>
+        </listitem>
+      </varlistentry>
+
       <varlistentry id="libmudflap">
         <term><filename class="libraryfile">libmudflap</filename></term>
         <listitem>
@@ -251,6 +305,16 @@
           </indexterm>
         </listitem>
       </varlistentry>
+
+      <varlistentry id="libquadmath">
+        <term><filename class="libraryfile">libquadmath</filename></term>
+        <listitem>
+          <para>The GCC Quad-Precision Math Libarary API</para>
+          <indexterm zone="ch-system-gcc libquadmath">
+            <primary sortas="c-libquadmath*">libquadmath*</primary>
+          </indexterm>
+        </listitem>
+      </varlistentry>
 
       <varlistentry id="libssp">
         <term><filename class="libraryfile">libssp</filename></term>
diff -ru /home/jp/a/BOOK/cross-tools/64/gcc-static.xml BOOK/cross-tools/64/gcc-static.xml
--- /home/jp/a/BOOK/cross-tools/64/gcc-static.xml	2014-05-11 16:24:52.642516678 +0200
+++ BOOK/cross-tools/64/gcc-static.xml	2014-10-03 20:44:43.904339261 +0200
@@ -24,6 +24,10 @@
     and no Threads</title>
 
     <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
+    href="../common/gcc-static.xml"
+    xpointer="xpointer(//*[@os='e'])"/>
+
+    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
     href="../../final-system/common/gcc.xml"
     xpointer="xpointer(//*[@os='p1'])"/>
 
diff -ru /home/jp/a/BOOK/final-system/common/gettext.xml BOOK/final-system/common/gettext.xml
--- /home/jp/a/BOOK/final-system/common/gettext.xml	2014-05-11 16:24:52.646516678 +0200
+++ BOOK/final-system/common/gettext.xml	2014-10-03 20:44:43.912339261 +0200
@@ -29,7 +29,7 @@
 
     <para os="a">Prepare Gettext for compilation:</para>
 
-<screen os="b"><userinput>./configure --prefix=/usr</userinput></screen>
+<screen os="b"><userinput>./configure --prefix=/usr --docdir=/usr/share/doc/gettext-&gettext-version;</userinput></screen>
 
     <para os="c">Compile the package:</para>
 
@@ -57,10 +57,11 @@
         <seg>autopoint, config.charset, config.rpath, envsubst, gettext,
         gettext.sh, gettextize, hostname, msgattrib, msgcat, msgcmp, msgcomm,
         msgconv, msgen, msgexec, msgfilter, msgfmt, msggrep, msginit, msgmerge,
-        msgunfmt, msguniq, ngettext, recode-sr-latin, and xgettext</seg>
+        msgunfmt, msguniq, ngettext, recode-sr-latin, xgettext</seg>
         <seg>libasprintf.[a,so], libgettextlib.so, libgettextpo.[a,so],
-        libgettextsrc.so, and preloadable_libintl.so</seg>
-        <seg>/usr/lib/gettext, /usr/share/doc/gettext, /usr/share/gettext</seg>
+        libgettextsrc.so, preloadable_libintl.so</seg>
+        <seg>/usr/lib/gettext, /usr/share/doc/gettext-&gettext-version;,
+        /usr/share/gettext</seg>
       </seglistitem>
     </segmentedlist>
 
diff -ru /home/jp/a/BOOK/final-system/common/gmp.xml BOOK/final-system/common/gmp.xml
--- /home/jp/a/BOOK/final-system/common/gmp.xml	2014-05-11 16:24:52.646516678 +0200
+++ BOOK/final-system/common/gmp.xml	2014-10-03 20:44:43.912339261 +0200
@@ -50,24 +50,28 @@
 <screen os="b"><userinput>CC="gcc -isystem /usr/include" \
 CXX="g++ -isystem /usr/include" \
 LDFLAGS="-Wl,-rpath-link,/usr/lib:/lib" \
-  ./configure --prefix=/usr --enable-cxx</userinput></screen>
+  ./configure --prefix=/usr --enable-cxx \
+  --docdir=/usr/share/doc/gmp-&gmp-version;</userinput></screen>
 
     <para os="c">Compile the package:</para>
 
 <screen os="d"><userinput>make</userinput></screen>
 
-    <important os="e">
-      <para>The test suite for GMP is considered
-      critical. Do not skip it under any circumstance.</para>
-    </important>
+    <para os="e">Build the HTML documentation:</para>
 
-    <para os="f">Test the results:</para>
+<screen os="f"><userinput>make html</userinput></screen>
 
-<screen os="g"><userinput remap="test">make check</userinput></screen>
+    <para os="g">Test the results:</para>
 
-    <para os="h">Install the package:</para>
+<screen os="h"><userinput remap="test">make check</userinput></screen>
 
-<screen os="i"><userinput>make install</userinput></screen>
+    <para os="i">Install the package:</para>
+
+<screen os="j"><userinput>make install</userinput></screen>
+
+    <para os="k">Install the documentation:</para>
+
+<screen os="l"><userinput>make install-html</userinput></screen>
 
   </sect2>
 
@@ -76,9 +80,11 @@
 
     <segmentedlist>
       <segtitle>Installed libraries</segtitle>
+      <segtitle>Installed directory</segtitle>
 
       <seglistitem>
-        <seg>libgmp.[a,so], libgmpxx.[a,so], libmp.[a,so]</seg>
+        <seg>libgmp.[a,so], libgmpxx.[a,so]</seg>
+        <seg>/usr/share/doc/gmp-&gmp-version;</seg>
       </seglistitem>
     </segmentedlist>
 
@@ -106,16 +112,6 @@
           </indexterm>
         </listitem>
       </varlistentry>
-
-      <varlistentry id="libmp">
-        <term><filename class="libraryfile">libmp</filename></term>
-        <listitem>
-          <para>Contains the Berkeley MP compatibility library.</para>
-          <indexterm zone="ch-system-gmp libmp">
-            <primary sortas="c-libmp">libmp</primary>
-          </indexterm>
-        </listitem>
-      </varlistentry>
 
     </variablelist>
 
diff -ru /home/jp/a/BOOK/final-system/common/grep.xml BOOK/final-system/common/grep.xml
--- /home/jp/a/BOOK/final-system/common/grep.xml	2014-05-11 16:24:52.646516678 +0200
+++ BOOK/final-system/common/grep.xml	2014-10-03 20:44:43.912339261 +0200
@@ -50,7 +50,7 @@
       <segtitle>Installed programs</segtitle>
 
       <seglistitem>
-        <seg>egrep, fgrep, and grep</seg>
+        <seg>egrep, fgrep, grep</seg>
       </seglistitem>
     </segmentedlist>
 
diff -ru /home/jp/a/BOOK/final-system/common/groff.xml BOOK/final-system/common/groff.xml
--- /home/jp/a/BOOK/final-system/common/groff.xml	2014-05-11 16:24:52.646516678 +0200
+++ BOOK/final-system/common/groff.xml	2014-10-03 20:44:43.912339261 +0200
@@ -44,13 +44,6 @@
 
 <screen os="h"><userinput>make install</userinput></screen>
 
-    <para os="i">Some documentation programs, such as <command>xman</command>,
-    will not work properly without the following symlinks:</para>
-
-<screen os="j"><userinput>ln -sv soelim /usr/bin/zsoelim
-ln -sv eqn /usr/bin/geqn
-ln -sv tbl /usr/bin/gtbl</userinput></screen>
-
   </sect2>
 
   <sect2 id="contents-groff" role="content">
@@ -61,13 +54,12 @@
       <segtitle>Installed directories</segtitle>
 
       <seglistitem>
-        <seg>addftinfo, afmtodit, chem, eqn, eqn2graph, gdiffmk,
-        geqn (link to eqn), grap2graph, grn, grodvi, groff, groffer, grog,
-        grolbp, grolj4, grops, grotty, gtbl (link to tbl), hpftodit, indxbib,
-        lkbib, lookbib, mmroff, neqn, nroff, pdfroff, pfbtops, pic, pic2graph,
-        post-grohtml, pre-grohtml, preconv, refer, roff2dvi, roff2html,
-        roff2pdf, roff2ps, roff2text, roff2x, soelim, tbl, tfmtodit, troff,
-        and zsoelim (link to soelim)</seg>
+        <seg>addftinfo, afmtodit, chem, eqn, eqn2graph, gdiffmk, grap2graph,
+        grn, grodvi, groff, groffer, grog, grolbp, grolj4, grops, grotty,
+        hpftodit, indxbib, lkbib, lookbib, mmroff, neqn, nroff, pdfroff,
+        pfbtops, pic, pic2graph, post-grohtml, pre-grohtml, preconv, refer,
+        roff2dvi, roff2html, roff2pdf, roff2ps, roff2text, roff2x, soelim,
+        tbl, tfmtodit, troff</seg>
         <seg>/usr/lib/groff, /usr/share/doc/groff-&groff-version;, /usr/share/groff</seg>
       </seglistitem>
     </segmentedlist>
@@ -141,16 +133,6 @@
         </listitem>
       </varlistentry>
 
-      <varlistentry id="geqn">
-        <term><command>geqn</command></term>
-        <listitem>
-          <para>A link to <command>eqn</command></para>
-          <indexterm zone="ch-system-groff geqn">
-            <primary sortas="b-geqn">geqn</primary>
-          </indexterm>
-        </listitem>
-      </varlistentry>
-
       <varlistentry id="grap2graph">
         <term><command>grap2graph</command></term>
         <listitem>
@@ -263,16 +245,6 @@
         </listitem>
       </varlistentry>
 
-      <varlistentry id="gtbl">
-        <term><command>gtbl</command></term>
-        <listitem>
-          <para>A link to <command>tbl</command></para>
-          <indexterm zone="ch-system-groff gtbl">
-            <primary sortas="b-gtbl">gtbl</primary>
-          </indexterm>
-        </listitem>
-      </varlistentry>
-
       <varlistentry id="hpftodit">
         <term><command>hpftodit</command></term>
         <listitem>
@@ -551,16 +523,6 @@
           </indexterm>
         </listitem>
       </varlistentry>
-
-      <varlistentry id="zsoelim">
-        <term><command>zsoelim</command></term>
-        <listitem>
-          <para>A link to <command>soelim</command></para>
-          <indexterm zone="ch-system-groff zsoelim">
-            <primary sortas="b-zsoelim">zsoelim</primary>
-          </indexterm>
-        </listitem>
-      </varlistentry>
 
     </variablelist>
 
diff -ru /home/jp/a/BOOK/final-system/common/gzip.xml BOOK/final-system/common/gzip.xml
--- /home/jp/a/BOOK/final-system/common/gzip.xml	2014-05-11 16:24:52.646516678 +0200
+++ BOOK/final-system/common/gzip.xml	2014-10-03 20:44:43.912339261 +0200
@@ -56,7 +56,7 @@
 
       <seglistitem>
         <seg>gunzip, gzexe, gzip, uncompress, zcat, zcmp, zdiff,
-        zegrep, zfgrep, zforce, zgrep, zless, zmore, and znew</seg>
+        zegrep, zfgrep, zforce, zgrep, zless, zmore, znew</seg>
       </seglistitem>
     </segmentedlist>
 
diff -ru /home/jp/a/BOOK/final-system/common/iana-etc.xml BOOK/final-system/common/iana-etc.xml
--- /home/jp/a/BOOK/final-system/common/iana-etc.xml	2014-05-11 16:24:52.646516678 +0200
+++ BOOK/final-system/common/iana-etc.xml	2014-10-03 20:44:43.912339261 +0200
@@ -25,7 +25,8 @@
   <sect2 role="installation">
     <title>Installation of Iana-Etc</title>
 
-    <para os="p2">The following patch updates the services and protocol xml files:</para>
+    <para os="p2">The following patch contains xml files which provide updates
+    to the services and protocol files:</para>
 
 <screen os="p3"><userinput>xzcat ../&iana-etc-numbers_update-patch; | patch -Np1 -i -</userinput></screen>
 
@@ -50,7 +51,7 @@
       <segtitle>Installed files</segtitle>
 
       <seglistitem>
-        <seg>/etc/protocols and /etc/services</seg>
+        <seg>/etc/protocols, /etc/services</seg>
       </seglistitem>
     </segmentedlist>
 
diff -ru /home/jp/a/BOOK/final-system/common/iproute2.xml BOOK/final-system/common/iproute2.xml
--- /home/jp/a/BOOK/final-system/common/iproute2.xml	2014-05-11 16:24:52.646516678 +0200
+++ BOOK/final-system/common/iproute2.xml	2014-10-03 20:44:43.912339261 +0200
@@ -35,48 +35,17 @@
 
 <screen os="s2"><userinput>sed -i '/^TARGETS/s@arpd@@g' misc/Makefile
 sed -i '/ARPD/d' Makefile
-rm -v man/man8/arpd.8</userinput></screen>
-
-    <para os="f1">Remove unused libnl headers:</para>
-    
-    <screen os="f2"><userinput>sed -i '/netlink\//d' ip/ipl2tp.c</userinput></screen>
+sed -i 's/arpd.8//' man/man8/Makefile</userinput></screen>
 
     <para os="a">Compile the package:</para>
 
-<screen os="b"><userinput>make DESTDIR= DOCDIR=/usr/share/doc/iproute2 \
-    MANDIR=/usr/share/man</userinput></screen>
-
-    <variablelist os="c">
-      <title>The meaning of the make option:</title>
-
-      <varlistentry>
-        <term><parameter>DESTDIR=</parameter></term>
-        <listitem>
-          <para>This option overrides the default DESTDIR of /usr, so that
-          that the IPRoute2 binaries will be installed into
-          <filename class="directory">/sbin</filename>. This is the correct
-          location according to the FHS, because some of the IPRoute2 binaries
-          are used by the CLFS-Bootscripts package.</para>
-        </listitem>
-      </varlistentry>
-
-      <varlistentry>
-        <term><parameter>DOCDIR=/usr/share/doc/iproute2 MANDIR=/usr/share/man</parameter></term>
-        <listitem>
-          <para>The DESTDIR=/ parameter would cause documentation to be
-          installed into <filename class="directory">/share/doc</filename> and
-          <filename class="directory">/share/man</filename>. These options
-          ensure the docs are installed to the correct locations.</para>
-        </listitem>
-      </varlistentry>
-    </variablelist>
+<screen os="b"><userinput>make</userinput></screen>
 
-    <para os="d">This package does not come with a test suite.</para>
+    <para os="c">This package does not come with a test suite.</para>
 
-    <para os="e">Install the package:</para>
+    <para os="d">Install the package:</para>
 
-<screen os="f"><userinput>make DESTDIR= DOCDIR=/usr/share/doc/iproute2 \
-    MANDIR=/usr/share/man install</userinput></screen>
+<screen os="e"><userinput>make DOCDIR=/usr/share/doc/iproute2-&iproute2-version; install</userinput></screen>
 
   </sect2>
 
@@ -90,8 +59,9 @@
       <seglistitem>
         <seg>bridge, ctstat (link to lnstat), genl, ifcfg, ifstat, ip, lnstat,
         nstat, routef, routel, rtacct, rtmon, rtpr, rtstat (link to lnstat), ss,
-        and tc</seg>
-        <seg>/etc/iproute2, /lib/tc, /usr/lib/tc, /usr/share/doc/iproute2</seg>
+        tc</seg>
+        <seg>/etc/iproute2, /usr/lib/tc,
+        /usr/share/doc/iproute2-&iproute2-version;</seg>
       </seglistitem>
     </segmentedlist>
 
diff -ru /home/jp/a/BOOK/final-system/common/iputils.xml BOOK/final-system/common/iputils.xml
--- /home/jp/a/BOOK/final-system/common/iputils.xml	2014-05-11 16:24:52.646516678 +0200
+++ BOOK/final-system/common/iputils.xml	2014-10-03 20:44:43.912339261 +0200
@@ -31,7 +31,7 @@
 
     <para os="a">Compile the package:</para>
 
-<screen os="b"><userinput>make USE_CAP=no \
+<screen os="b"><userinput>make \
     IPV4_TARGETS="tracepath ping clockdiff rdisc" \
     IPV6_TARGETS="tracepath6 traceroute6"</userinput></screen>
 
@@ -55,7 +55,7 @@
       <segtitle>Installed programs</segtitle>
 
       <seglistitem>
-        <seg>clockdiff, ping, rdisc, tracepath, tracepath6, and traceroute6</seg>
+        <seg>clockdiff, ping, rdisc, tracepath, tracepath6, traceroute6</seg>
       </seglistitem>
     </segmentedlist>
 
diff -ru /home/jp/a/BOOK/final-system/common/isl.xml BOOK/final-system/common/isl.xml
--- /home/jp/a/BOOK/final-system/common/isl.xml	2014-05-11 16:24:52.646516678 +0200
+++ BOOK/final-system/common/isl.xml	2014-10-03 20:44:43.912339261 +0200
@@ -35,23 +35,18 @@
 
 <screen os="d"><userinput>make</userinput></screen>
 
-    <important os="e">
-      <para>The test suite for ISL is considered
-      critical. Do not skip it under any circumstance.</para>
-    </important>
+    <para os="e">Test the results:</para>
 
-    <para os="f">Test the results:</para>
+<screen os="f"><userinput remap="test">make check</userinput></screen>
 
-<screen os="g"><userinput remap="test">make check</userinput></screen>
+    <para os="g">Install the package:</para>
 
-    <para os="h">Install the package:</para>
+<screen os="h"><userinput>make install</userinput></screen>
 
-<screen os="i"><userinput>make install</userinput></screen>
+    <para os="i">Finally, move a misplaced file:</para>
 
-    <para os="j">Finally, move a misplaced file:</para>
-
-<screen os="k"><userinput>mkdir -pv /usr/share/gdb/auto-load/usr/lib
-mv -v /usr/lib/*gdb.py /usr/share/gdb/auto-load/usr/lib</userinput></screen>
+<screen os="j"><userinput>mkdir -pv /usr/share/gdb/auto-load/usr/lib
+mv -v /usr/lib/libisl*gdb.py /usr/share/gdb/auto-load/usr/lib</userinput></screen>
   </sect2>
 
   <sect2 id="contents-isl" role="content">
@@ -59,9 +54,11 @@
 
     <segmentedlist>
       <segtitle>Installed libraries</segtitle>
+      <segtitle>Installed directory</segtitle>
 
       <seglistitem>
         <seg>libisl.[a,so]</seg>
+        <seg>/usr/include/isl</seg>
       </seglistitem>
     </segmentedlist>
 
diff -ru /home/jp/a/BOOK/final-system/common/kbd.xml BOOK/final-system/common/kbd.xml
--- /home/jp/a/BOOK/final-system/common/kbd.xml	2014-05-11 16:24:52.646516678 +0200
+++ BOOK/final-system/common/kbd.xml	2014-10-03 20:44:43.912339261 +0200
@@ -30,22 +30,56 @@
 <screen os="b"><userinput>PKG_CONFIG_PATH="/tools/lib/pkgconfig" \
     ./configure --prefix=/usr --disable-vlock --enable-optional-progs</userinput></screen>
 
-    <para os="c">Compile the package:</para>
+    <variablelist os="c">
+      <title>The meaning of the new configure options:</title>
 
-<screen os="d"><userinput>make</userinput></screen>
+      <varlistentry>
+        <term><envar>PKG_CONFIG_PATH</envar></term>
+        <listitem>
+          <para>Use pkg-config to obtain the location of the test library
+          metadata built in <xref linkend="ch-temp-system-check"/>.</para>
+        </listitem>
+      </varlistentry>
+
+      <varlistentry>
+        <term><envar>--disable-vlock</envar></term>
+        <listitem>
+          <para>Prevents Kbd from trying to build the
+          <command>vlock</command> program, which requires Linux-PAM.</para>
+        </listitem>
+      </varlistentry>
+
+      <varlistentry>
+        <term><envar>--enable-optional-progs</envar></term>
+        <listitem>
+          <para>Installs several additional programs.</para>
+        </listitem>
+      </varlistentry>
+
+    </variablelist>
+
+    <para os="d">Compile the package:</para>
+
+<screen os="e"><userinput>make</userinput></screen>
+
+    <para os="f">To test the results, issue:</para>
+
+<screen os="g"><userinput remap="test">make check</userinput></screen>
+
+    <para os="h">Install the package:</para>
 
-    <para os="e">This package does not come with a test suite.</para>
+<screen os="i"><userinput>make install</userinput></screen>
 
-    <para os="f">Install the package:</para>
+    <para os="j">Some of the programs from Kbd are used by systemd to
+    initialize the system, so those binaries need to be on the root
+    partition:</para>
 
-<screen os="g"><userinput>make install</userinput></screen>
+<screen os="k"><userinput>mv -v /usr/bin/{loadkeys,setfont} /bin</userinput></screen>
 
-    <para os="h">Some of the programs from Kbd are used by scripts
-    in the CLFS-Bootscripts package. As <filename
-    class="directory">/usr</filename> may not be available during the early
-    stages of booting, those binaries need to be on the root partition:</para>
+    <para os="l">Install the documentation:</para>
 
-<screen os="i"><userinput>mv -v /usr/bin/{kbd_mode,dumpkeys,loadkeys,openvt,setfont,setvtrgb} /bin</userinput></screen>
+<screen os="m"><userinput>mkdir -v /usr/share/doc/kbd-&kbd-version;
+cp -R -v docs/doc/* /usr/share/doc/kbd-&kbd-version;</userinput></screen>
 
   </sect2>
 
@@ -62,8 +96,9 @@
         (link to psfxtable), psfgettable (link to psfxtable), psfstriptable
         (link to psfxtable), psfxtable, resizecons, setfont, setkeycodes,
         setleds, setmetamode, setvtrgb, showconsolefont, showkey,
-        unicode_start, and unicode_stop</seg>
+        unicode_start, unicode_stop</seg>
         <seg>/usr/share/consolefonts, /usr/share/consoletrans,
+        /usr/share/doc/kbd-&kbd-version;,
         /usr/share/keymaps, /usr/share/unimaps</seg>
       </seglistitem>
     </segmentedlist>
@@ -198,7 +233,7 @@
       <varlistentry id="psfaddtable">
         <term><command>psfaddtable</command></term>
         <listitem>
-          <para>A link to <command>psfxtable</command></para>
+          <para>Adds a Unicode character table to a console font</para>
           <indexterm zone="ch-system-kbd psfaddtable">
             <primary sortas="b-psfaddtable">psfaddtable</primary>
           </indexterm>
@@ -208,7 +243,8 @@
       <varlistentry id="psfgettable">
         <term><command>psfgettable</command></term>
         <listitem>
-          <para>A link to <command>psfxtable</command></para>
+          <para>Extracts the embedded Unicode character table from a console
+          font</para>
           <indexterm zone="ch-system-kbd psfgettable">
             <primary sortas="b-psfgettable">psfgettable</primary>
           </indexterm>
@@ -218,7 +254,8 @@
       <varlistentry id="psfstriptable">
         <term><command>psfstriptable</command></term>
         <listitem>
-          <para>A link to <command>psfxtable</command></para>
+          <para>Removes the embedded Unicode character table from a console
+          font</para>
           <indexterm zone="ch-system-kbd psfstriptable">
             <primary sortas="b-psfstriptable">psfstriptable</primary>
           </indexterm>
diff -ru /home/jp/a/BOOK/cross-tools/common/binutils.xml BOOK/cross-tools/common/binutils.xml
--- /home/jp/a/BOOK/cross-tools/common/binutils.xml	2014-05-11 16:24:52.642516678 +0200
+++ BOOK/cross-tools/common/binutils.xml	2014-10-03 20:44:43.904339261 +0200
@@ -49,9 +49,9 @@
     xpointer="xpointer(//*[@os='i'])"/>
 
 <screen os="bc"><userinput>AR=ar AS=as ../binutils-&binutils-dir;/configure \
-  --prefix=/cross-tools --host=${CLFS_HOST} --target=${CLFS_TARGET} \
-  --with-sysroot=${CLFS} --with-lib-path=/tools/lib --disable-nls \
-  --disable-static --enable-64-bit-bfd --disable-multilib</userinput></screen>
+    --prefix=/cross-tools --host=${CLFS_HOST} --target=${CLFS_TARGET} \
+    --with-sysroot=${CLFS} --with-lib-path=/tools/lib --disable-nls \
+    --disable-static --disable-multilib --disable-werror</userinput></screen>
 
     <variablelist os="bd">
       <title>The meaning of the new configure options:</title>
@@ -68,20 +68,30 @@
       <varlistentry os="bd2">
         <term><parameter>--host=${CLFS_HOST}</parameter></term>
         <listitem>
-          <para>When used with --target, this creates a cross-architecture
-          executable that creates files for ${CLFS_TARGET} but runs on ${CLFS_HOST}.</para>
+          <para>When used with <option>--target</option>, this creates a
+          cross-architecture executable which creates files for
+          ${CLFS_TARGET} but runs on ${CLFS_HOST}.</para>
         </listitem>
       </varlistentry>
 
       <varlistentry os="bd3">
         <term><parameter>--target=${CLFS_TARGET}</parameter></term>
         <listitem>
-          <para>When used with --host, this creates a cross-architecture
-          executable that creates files for ${CLFS_TARGET} but runs on ${CLFS_HOST}.</para>
+          <para>When used with <option>--host</option>, this creates a
+          cross-architecture executable that creates files for
+          ${CLFS_TARGET} but runs on ${CLFS_HOST}.</para>
         </listitem>
       </varlistentry>
 
       <varlistentry os="bd4">
+        <term><parameter>--with-sysroot=${CLFS}</parameter></term>
+        <listitem>
+          <para>Tells configure to build a linker that uses ${CLFS} as its
+          root directory for its search paths.</para>
+        </listitem>
+      </varlistentry>
+
+      <varlistentry os="bd5">
         <term><parameter>--with-lib-path=/tools/lib</parameter></term>
         <listitem>
           <para>This tells the configure script to specify the library
@@ -92,7 +102,7 @@
         </listitem>
       </varlistentry>
 
-      <varlistentry os="bd5">
+      <varlistentry os="bd6">
         <term><parameter>--disable-nls</parameter></term>
         <listitem>
           <para>This disables internationalization as i18n is not needed for the
@@ -100,7 +110,7 @@
         </listitem>
       </varlistentry>
 
-      <varlistentry os="bd6">
+      <varlistentry os="bd7">
         <term><parameter>--disable-multilib</parameter></term>
         <listitem>
           <para>This option disables the building of a multilib
@@ -108,10 +118,11 @@
         </listitem>
       </varlistentry>
 
-      <varlistentry os="bd7">
-        <term><parameter>--enable-64-bit-bfd</parameter></term>
+      <varlistentry os="bd8">
+        <term><parameter>--disable-werror</parameter></term>
         <listitem>
-          <para>This adds 64 bit support to Binutils.</para>
+          <para>This prevents the build from stopping in the event that there
+          are warnings from the host's compiler.</para>
         </listitem>
       </varlistentry>
 
@@ -119,31 +130,12 @@
 
     <para os="be">Compile the package:</para>
 
-<screen os="bf"><userinput>make configure-host
-make</userinput></screen>
-
-    <variablelist os="bg">
-      <title>The meaning of the make options:</title>
-
-      <varlistentry os="bg1">
-        <term><parameter>configure-host</parameter></term>
-        <listitem>
-          <para>This checks the host environment and makes sure all the
-          necessary tools are available to compile Binutils.</para>
-        </listitem>
-      </varlistentry>
-
-    </variablelist>
+<screen os="bf"><userinput>make</userinput></screen>
 
     <para os="bh">Install the package:</para>
 
 <screen os="bi"><userinput>make install</userinput></screen>
 
-    <para os="bj">Copy <filename class="headerfile">libiberty.h</filename> to
-    <filename class="directory">/tools/include</filename> directory:</para>
-
-<screen os="bk"><userinput>cp -v ../binutils-&binutils-dir;/include/libiberty.h /tools/include</userinput></screen>
-
   </sect2>
 
   <sect2 role="content">
diff -ru /home/jp/a/BOOK/final-system/common/kmod.xml BOOK/final-system/common/kmod.xml
--- /home/jp/a/BOOK/final-system/common/kmod.xml	2014-05-11 16:24:52.646516678 +0200
+++ BOOK/final-system/common/kmod.xml	2014-10-03 20:44:43.912339261 +0200
@@ -18,7 +18,7 @@
     <title/>
 
     <para>The Kmod package contains programs for loading, inserting
-      and removing kernel modules for Linux. Kmod replaces the 
+      and removing kernel modules for Linux. Kmod replaces the
       Module-Init-tools package.</para>
 
   </sect2>
@@ -30,7 +30,7 @@
 
 <screen os="b"><userinput>./configure --prefix=/usr \
     --bindir=/bin --sysconfdir=/etc \
-    --with-rootlibdir=/lib --disable-manpages \
+    --with-rootlibdir=/lib \
     --with-zlib --with-xz</userinput></screen>
 
     <variablelist os="c">
@@ -63,18 +63,15 @@
 
     <para os="g">Install the package:</para>
 
-<screen os="h"><userinput>make install
-make -C man install</userinput></screen>
+<screen os="h"><userinput>make install</userinput></screen>
 
-    <para os="i">Create symbolic links for programs that expect Module-Init-Tools.</para>
+    <para os="i">Create symbolic links for programs that expect Module-Init-Tools:</para>
 
 <screen os="j"><userinput>ln -sfv kmod /bin/lsmod
-ln -sfv ../bin/kmod /sbin/depmod
-ln -sfv ../bin/kmod /sbin/insmod
-ln -sfv ../bin/kmod /sbin/modprobe
-ln -sfv ../bin/kmod /sbin/modinfo
-ln -sfv ../bin/kmod /sbin/rmmod</userinput></screen>
-  
+for tool in depmod insmod modinfo modprobe rmmod; do
+    ln -sfv ../bin/kmod /sbin/${tool}
+done</userinput></screen>
+
   </sect2>
 
   <sect2 id="contents-kmod" role="content">
@@ -84,8 +81,9 @@
       <segtitle>Installed programs</segtitle>
 
       <seglistitem>
-        <seg>depmod, insmod, kmod, lsmod, modinfo, modprobe, and
-        rmmod</seg>
+        <seg>depmod (link to kmod), insmod (link to kmod), kmod,
+        lsmod (link to kmod), modinfo (link to kmod), modprobe (link to kmod),
+        rmmod (link to kmod) </seg>
       </seglistitem>
     </segmentedlist>
 
diff -ru /home/jp/a/BOOK/final-system/common/less.xml BOOK/final-system/common/less.xml
--- /home/jp/a/BOOK/final-system/common/less.xml	2014-05-11 16:24:52.646516678 +0200
+++ BOOK/final-system/common/less.xml	2014-10-03 20:44:43.912339261 +0200
@@ -28,33 +28,20 @@
 
 <screen os="b"><userinput>./configure --prefix=/usr --sysconfdir=/etc</userinput></screen>
 
-    <variablelist os="c">
-      <title>The meaning of the configure option:</title>
+    <para os="c">Compile the package:</para>
 
-      <varlistentry>
-        <term><parameter>--sysconfdir=/etc</parameter></term>
-        <listitem>
-          <para>This option tells the programs created by the package to look
-          in <filename class="directory">/etc</filename> for the configuration
-          files.</para>
-        </listitem>
-      </varlistentry>
-    </variablelist>
+<screen os="d"><userinput>make</userinput></screen>
 
-    <para os="d">Compile the package:</para>
+    <para os="e">This package does not come with a test suite.</para>
 
-<screen os="e"><userinput>make</userinput></screen>
+    <para os="f">Install the package:</para>
 
-    <para os="f">This package does not come with a test suite.</para>
+<screen os="g"><userinput>make install</userinput></screen>
 
-    <para os="g">Install the package:</para>
-
-<screen os="h"><userinput>make install</userinput></screen>
-
-    <para os="i">Move <command>less</command> to
+    <para os="h">Move <command>less</command> to
     <filename class="directory">/bin</filename>:</para>
 
-<screen os="j"><userinput>mv -v /usr/bin/less /bin</userinput></screen>
+<screen os="i"><userinput>mv -v /usr/bin/less /bin</userinput></screen>
 
   </sect2>
 
@@ -65,7 +52,7 @@
       <segtitle>Installed programs</segtitle>
 
       <seglistitem>
-        <seg>less, lessecho, and lesskey</seg>
+        <seg>less, lessecho, lesskey</seg>
       </seglistitem>
     </segmentedlist>
 
diff -ru /home/jp/a/BOOK/final-system/common/libtool.xml BOOK/final-system/common/libtool.xml
--- /home/jp/a/BOOK/final-system/common/libtool.xml	2014-05-11 16:24:52.646516678 +0200
+++ BOOK/final-system/common/libtool.xml	2014-10-03 20:44:43.912339261 +0200
@@ -53,7 +53,7 @@
       <segtitle>Installed directories</segtitle>
 
       <seglistitem>
-        <seg>libtool and libtoolize</seg>
+        <seg>libtool, libtoolize</seg>
         <seg>libltdl.[a,so]</seg>
         <seg>/usr/include/libltdl, /usr/share/libtool</seg>
       </seglistitem>
diff -ru /home/jp/a/BOOK/final-system/common/linux-headers.xml BOOK/final-system/common/linux-headers.xml
--- /home/jp/a/BOOK/final-system/common/linux-headers.xml	2014-05-11 16:24:52.646516678 +0200
+++ BOOK/final-system/common/linux-headers.xml	2014-10-03 20:44:43.916339261 +0200
@@ -8,24 +8,37 @@
 <sect1 id="ch-system-linux-headers" role="wrap">
   <?dbhtml filename="linux-headers.html"?>
 
-  <title>Linux-Headers-&linux-version;</title>
+  <title>Linux-&linux-version2; Headers</title>
 
   <indexterm zone="ch-system-linux-headers">
-    <primary sortas="a-Linux-Headers">Linux-Headers</primary>
+    <primary sortas="a-Linux Headers">Linux Headers</primary>
   </indexterm>
 
   <sect2 role="package">
     <title/>
 
-    <para>The Linux Kernel contains a make target that installs
-    <quote>sanitized</quote> kernel headers.</para>
+    <para>The Linux Kernel contains a <command>make</command> target that
+    installs <quote>sanitized</quote> kernel headers.</para>
 
   </sect2>
 
   <sect2 role="installation">
-    <title>Installation of Linux-Headers</title>
+    <title>Installation of Linux Headers</title>
 
-    <para os="a">For this step you will need the kernel tarball.</para>
+    <note os="a">
+      <para>For this step you will need to unpack the kernel tarball
+      (<filename>linux-&linux-version;.tar.xz</filename>) and
+      <command>cd</command> into its source
+      directory before entering the commands on this page.</para>
+    </note>
+
+    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
+    href="../../bootable/x86/kernel.xml"
+    xpointer="xpointer(//*[@os='p1'])"/>
+
+    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
+    href="../../bootable/x86/kernel.xml"
+    xpointer="xpointer(//*[@os='p2'])"/>
 
     <para os="b">Install the kernel header files:</para>
 
@@ -72,7 +85,7 @@
   </sect2>
 
   <sect2 id="contents-linux-headers" role="content">
-    <title>Contents of Linux-Headers</title>
+    <title>Contents of Linux Headers</title>
 
     <segmentedlist>
       <segtitle>Installed headers</segtitle>
diff -ru /home/jp/a/BOOK/final-system/common/man-pages.xml BOOK/final-system/common/man-pages.xml
--- /home/jp/a/BOOK/final-system/common/man-pages.xml	2014-05-11 16:24:52.646516678 +0200
+++ BOOK/final-system/common/man-pages.xml	2014-10-03 20:44:43.916339261 +0200
@@ -17,7 +17,7 @@
   <sect2 role="package">
     <title/>
 
-    <para>The Man-pages package contains over 1,200 man pages.</para>
+    <para>The Man-pages package contains over 2,200 man pages.</para>
 
   </sect2>
 
@@ -50,11 +50,11 @@
         <term><filename>man pages</filename></term>
         <listitem>
           <para>This package contains man pages that describe the following:
-          POSIX headers (section 0p), 
+          POSIX headers (section 0p),
           POSIX utilities (section 1p), POSIX functions (section 3p),
-          user commands (section 1), system calls (section 2), 
-          libc calls (section 3), device information (section 4), 
-          file formats (section 5), games (section 6), 
+          user commands (section 1), system calls (section 2),
+          libc calls (section 3), device information (section 4),
+          file formats (section 5), games (section 6),
           conventions and macro packages (section 7),
           system administration (section 8), and
           kernel (section 9).</para>
diff -ru /home/jp/a/BOOK/final-system/common/mpc.xml BOOK/final-system/common/mpc.xml
--- /home/jp/a/BOOK/final-system/common/mpc.xml	2014-05-11 16:24:52.646516678 +0200
+++ BOOK/final-system/common/mpc.xml	2014-10-03 20:44:43.916339261 +0200
@@ -29,24 +29,27 @@
 
 <screen os="b"><userinput>CC="gcc -isystem /usr/include" \
 LDFLAGS="-Wl,-rpath-link,/usr/lib:/lib" \
-  ./configure --prefix=/usr</userinput></screen>
+  ./configure --prefix=/usr --docdir=/usr/share/doc/mpc-&mpc-version;</userinput></screen>
 
     <para os="c">Compile the package:</para>
 
 <screen os="d"><userinput>make</userinput></screen>
 
-    <important os="e">
-      <para>The test suite for MPC is considered
-      critical. Do not skip it under any circumstance.</para>
-    </important>
+    <para os="e">Build the HTML documentation:</para>
 
-    <para os="f">Test the results:</para>
+<screen os="f"><userinput>make html</userinput></screen>
 
-<screen os="g"><userinput remap="test">make check</userinput></screen>
+    <para os="g">Test the results:</para>
 
-    <para os="h">Install the package:</para>
+<screen os="h"><userinput remap="test">make check</userinput></screen>
 
-<screen os="i"><userinput>make install</userinput></screen>
+    <para os="i">Install the package:</para>
+
+<screen os="j"><userinput>make install</userinput></screen>
+
+    <para os="k">Install the HTML documentation:</para>
+
+<screen os="l"><userinput>make install-html</userinput></screen>
 
   </sect2>
 
@@ -55,9 +58,11 @@
 
     <segmentedlist>
       <segtitle>Installed libraries</segtitle>
+      <segtitle>Installed directory</segtitle>
 
       <seglistitem>
         <seg>libmpc.[a,so]</seg>
+        <seg>/usr/share/doc/mpc-&mpc-version;</seg>
       </seglistitem>
     </segmentedlist>
 
diff -ru /home/jp/a/BOOK/final-system/common/mpfr.xml BOOK/final-system/common/mpfr.xml
--- /home/jp/a/BOOK/final-system/common/mpfr.xml	2014-05-11 16:24:52.646516678 +0200
+++ BOOK/final-system/common/mpfr.xml	2014-10-03 20:44:43.916339261 +0200
@@ -32,26 +32,21 @@
     <para os="a">Prepare MPFR for compilation:</para>
 
 <screen os="b"><userinput>CC="gcc -isystem /usr/include" \
-LDFLAGS="-Wl,-rpath-link,/usr/lib:/lib" \
-  ./configure --prefix=/usr --enable-shared \
-    --with-gmp=/usr</userinput></screen>
+    LDFLAGS="-Wl,-rpath-link,/usr/lib:/lib" \
+    ./configure --prefix=/usr --with-gmp=/usr \
+    --docdir=/usr/share/doc/mpfr-&mpfr-version;</userinput></screen>
 
     <para os="c">Compile the package:</para>
 
 <screen os="d"><userinput>make</userinput></screen>
 
-    <important os="e">
-      <para>The test suite for MPFR is considered
-      critical. Do not skip it under any circumstance.</para>
-    </important>
+    <para os="e">Test the results:</para>
 
-    <para os="f">Test the results:</para>
+<screen os="f"><userinput remap="test">make check</userinput></screen>
 
-<screen os="g"><userinput remap="test">make check</userinput></screen>
+    <para os="g">Install the package:</para>
 
-    <para os="h">Install the package:</para>
-
-<screen os="i"><userinput>make install</userinput></screen>
+<screen os="h"><userinput>make install</userinput></screen>
 
   </sect2>
 
@@ -64,7 +59,7 @@
 
       <seglistitem>
         <seg>libmpfr.[a,so]</seg>
-        <seg>/usr/share/doc/mpfr</seg>
+        <seg>/usr/share/doc/mpfr-&mpfr-version;</seg>
       </seglistitem>
     </segmentedlist>
 
diff -ru /home/jp/a/BOOK/final-system/common/ncurses.xml BOOK/final-system/common/ncurses.xml
--- /home/jp/a/BOOK/final-system/common/ncurses.xml	2014-05-11 16:24:52.646516678 +0200
+++ BOOK/final-system/common/ncurses.xml	2014-10-03 20:44:43.916339261 +0200
@@ -34,16 +34,35 @@
 
 <screen os="b"><userinput>./configure --prefix=/usr --libdir=/lib \
     --with-shared --without-debug --enable-widec \
-    --with-manpage-format=normal \
+    --with-manpage-format=normal --enable-pc-files \
     --with-default-terminfo-dir=/usr/share/terminfo</userinput></screen>
 
+    <variablelist os="b1">
+      <title>The meaning of the new configure option:</title>
+
+      <varlistentry>
+        <term><parameter>--with-manpage-format=normal</parameter></term>
+        <listitem>
+          <para>This tells Ncurses not to compress its installed manpages.</para>
+        </listitem>
+      </varlistentry>
+
+      <varlistentry>
+        <term><parameter>--enable-pc-files</parameter></term>
+        <listitem>
+          <para>This tells Ncurses to generate and install .pc files for
+          <command>pkg-config</command>.</para>
+        </listitem>
+      </varlistentry>
+    </variablelist>
+
     <para os="c">Compile the package:</para>
 
 <screen os="d"><userinput>make</userinput></screen>
 
-    <para os="e">This package has a test suite, and can be ran after the
-    package is installed. The tests are in the 
-    <filename class="directory">test/</filename> directory. See the 
+    <para os="e">This package has a test suite, but it can only be run after
+    the package is installed. The tests are in the
+    <filename class="directory">test/</filename> directory. See the
     <filename>README</filename> file in that directory for details.</para>
 
     <para os="f">Install the package:</para>
@@ -56,17 +75,19 @@
 
     <para os="j">Create symlinks in <filename class="directory">/usr/lib:</filename></para>
 
-<screen os="k"><userinput>rm -v /lib/lib{ncursesw,menuw,panelw,formw}.so
-ln -svf ../../lib/libncursesw.so.5 /usr/lib/libncursesw.so
-ln -svf ../../lib/libmenuw.so.5 /usr/lib/libmenuw.so
-ln -svf ../../lib/libpanelw.so.5 /usr/lib/libpanelw.so
-ln -svf ../../lib/libformw.so.5 /usr/lib/libformw.so</userinput></screen>
-
-    <para os="l">Now we will make our Ncurses compatible for older and non-widec compatible programs
-    can build properly:</para>
+<screen os="k"><userinput>ln -svf ../../lib/$(readlink /lib/libncursesw.so) /usr/lib/libncursesw.so
+ln -svf ../../lib/$(readlink /lib/libmenuw.so) /usr/lib/libmenuw.so
+ln -svf ../../lib/$(readlink /lib/libpanelw.so) /usr/lib/libpanelw.so
+ln -svf ../../lib/$(readlink /lib/libformw.so) /usr/lib/libformw.so
+rm -v /lib/lib{ncursesw,menuw,panelw,formw}.so</userinput></screen>
+
+    <para os="l">Many packages that use Ncurses will compile just fine against
+    the widechar libraries, but won't know to look for them. Create linker
+    scripts and symbolic links to allow older and non-widec compatible
+    programs to build properly:</para>
 
 <screen os="m"><userinput>for lib in curses ncurses form panel menu ; do
-        echo "INPUT(-l${lib}w)" > /usr/lib/lib${lib}.so
+        echo "INPUT(-l${lib}w)" &gt; /usr/lib/lib${lib}.so
         ln -sfv lib${lib}w.a /usr/lib/lib${lib}.a
 done
 ln -sfv libncursesw.so /usr/lib/libcursesw.so
@@ -74,11 +95,6 @@
 ln -sfv libncurses++w.a /usr/lib/libncurses++.a
 ln -sfv ncursesw5-config /usr/bin/ncurses5-config</userinput></screen>
 
-    <para os="n">Now we will create a symlink for /usr/share/terminfo in
-    <filename class="directory">/usr/lib</filename> for compatibility:</para>
-
-<screen os="o"><userinput>ln -sfv ../share/terminfo /usr/lib/terminfo</userinput></screen>
-
   </sect2>
 
   <sect2 id="contents-ncurses" role="content">
@@ -91,9 +107,9 @@
 
       <seglistitem>
         <seg>captoinfo (link to tic), clear, infocmp, infotocap (link to tic),
-        ncursesw5-config, reset (link to tset), tabs, tic, toe, tput, and tset</seg>
+        ncursesw5-config, reset (link to tset), tabs, tic, toe, tput, tset</seg>
         <seg>libcursesw.so (link to libncursesw.so), libformw.[a,so],
-        libmenuw.[a,so], libncurses++w.a, libncursesw.[a,so], and
+        libmenuw.[a,so], libncurses++w.a, libncursesw.[a,so],
         libpanelw.[a,so]</seg>
         <seg>/usr/share/tabset, /usr/share/terminfo</seg>
       </seglistitem>
@@ -248,7 +264,7 @@
         <listitem>
           <para>Contains functions to implement forms</para>
           <indexterm zone="ch-system-ncurses libformw">
-            <primary sortas="c-libform">libformw</primary>
+            <primary sortas="c-libformw">libformw</primary>
           </indexterm>
         </listitem>
       </varlistentry>
diff -ru /home/jp/a/BOOK/final-system/common/perl.xml BOOK/final-system/common/perl.xml
--- /home/jp/a/BOOK/final-system/common/perl.xml	2014-05-11 16:24:52.646516678 +0200
+++ BOOK/final-system/common/perl.xml	2014-10-03 20:44:43.916339261 +0200
@@ -25,26 +25,24 @@
   <sect2 role="installation">
     <title>Installation of Perl</title>
 
-    <para os="s3">By default, Perl's Compress::Raw::Zlib module builds and
-    links against its own internal copy of Zlib. The following command will
-    tell it to use the system-installed Zlib:</para>
-
-<screen os="s4"><userinput>sed -i -e '/^BUILD_ZLIB/s/True/False/' \
-       -e '/^INCLUDE/s,\./zlib-src,/usr/include,' \
-       -e '/^LIB/s,\./zlib-src,/usr/lib,' \
-       cpan/Compress-Raw-Zlib/config.in</userinput></screen>
+    <para os="s3">By default, Perl's Compress::Raw::Zlib and
+    Compress::Raw::Bzip2 modules build and link against internal copies of
+    Zlib and Bzip2. The following command will make Perl use the
+    system-installed copies of these libraries:</para>
+
+<screen os="s4"><userinput>export BUILD_ZLIB=False
+export BUILD_BZIP2=0</userinput></screen>
 
     <note os="a00">
       <para>If you are following the boot method you will need to enable the
-      loopback device as well as set a hostname for some of the tests:</para>
+      loopback device:</para>
 
-<screen><userinput remap="test">ip link set lo up
-hostname clfs</userinput></screen>
+<screen><userinput remap="test">ip link set lo up</userinput></screen>
     </note>
 
     <para os="a01">Before starting to configure, create a basic
     <filename>/etc/hosts</filename> file which will be referenced by one
-    of Perl's configuration files as well as used by the testsuite:</para>
+    of Perl's configuration files as well as used by the test suite:</para>
 
 <screen os="a02"><userinput remap="test">echo "127.0.0.1 localhost $(hostname)" &gt; /etc/hosts</userinput></screen>
 
@@ -64,19 +62,21 @@
       <title>The meaning of the configure option:</title>
 
       <varlistentry os="c1">
-        <term><parameter>-Dpager="/bin/less -isR"</parameter></term>
+        <term><parameter>-Dman1dir=/usr/share/man/man1 -Dman3dir=/usr/share/man/man3</parameter></term>
         <listitem>
-          <para>This corrects an error in the way that <command>perldoc</command>
-          invokes the <command>less</command> program.</para>
+          <para>Since Groff is not installed yet,
+          <command>configure.gnu</command> thinks that we do not want
+          man pages for Perl. Issuing these parameters overrides this decision.</para>
         </listitem>
       </varlistentry>
 
       <varlistentry os="c2">
-        <term><parameter>-Dman1dir=/usr/share/man/man1 -Dman3dir=/usr/share/man/man3</parameter></term>
+        <term><parameter>-Dpager="/bin/less -isR"</parameter></term>
         <listitem>
-          <para>Since Groff is not installed yet,
-          <command>configure.gnu</command> thinks that we do not want
-          man pages for Perl. Issuing these parameters overrides this decision.</para>
+          <para>Less has not yet been installed, so by default
+          <command>perldoc</command> will invoke the <command>more</command>
+          program for viewing documentation. This option ensures that it will
+          use <command>less</command> instead.</para>
         </listitem>
       </varlistentry>
 
@@ -104,9 +104,10 @@
 
 <screen os="h2"><userinput remap="test">make test</userinput></screen>
 
-    <para os="j">Install the package:</para>
+    <para os="j">Install the package and remove the variables set previously:</para>
 
-<screen os="k"><userinput>make install</userinput></screen>
+<screen os="k"><userinput>make install
+unset BUILD_ZLIB BUILD_BZIP2</userinput></screen>
 
   </sect2>
 
@@ -125,7 +126,7 @@
         perldoc, perlivp, perlthanks (link to perlbug), piconv, pl2pm, pod2html,
         pod2latex, pod2man, pod2text, pod2usage, podchecker, podselect, prove,
         psed (link to s2p), pstruct (link to c2ph), ptar, ptardiff, ptargrep,
-        s2p, shasum, splain, xsubpp, and zipdetails</seg>
+        s2p, shasum, splain, xsubpp, zipdetails</seg>
         <seg>Several hundred which cannot all be listed here</seg>
         <seg>/usr/lib/perl5</seg>
       </seglistitem>
diff -ru /home/jp/a/BOOK/final-system/common/pkg-config-lite.xml BOOK/final-system/common/pkg-config-lite.xml
--- /home/jp/a/BOOK/final-system/common/pkg-config-lite.xml	2014-05-11 16:24:52.646516678 +0200
+++ BOOK/final-system/common/pkg-config-lite.xml	2014-10-03 20:44:43.916339261 +0200
@@ -27,7 +27,7 @@
 
     <para os="a">Prepare Pkg-config-lite for compilation:</para>
 
-<screen os="b"><userinput>./configure --prefix=/usr</userinput></screen>
+<screen os="b"><userinput>./configure --prefix=/usr --docdir=/usr/share/doc/pkg-config-&pkg-config-lite-version;</userinput></screen>
 
     <para os="c">Compile the package:</para>
 
@@ -52,7 +52,7 @@
 
       <seglistitem>
         <seg>pkg-config</seg>
-        <seg>/usr/share/doc/pkg-config</seg>
+        <seg>/usr/share/doc/pkg-config-&pkg-config-lite-version;</seg>
       </seglistitem>
     </segmentedlist>
 
diff -ru /home/jp/a/BOOK/cross-tools/common/cloog.xml BOOK/cross-tools/common/cloog.xml
--- /home/jp/a/BOOK/cross-tools/common/cloog.xml	2014-05-11 16:24:52.642516678 +0200
+++ BOOK/cross-tools/common/cloog.xml	2014-10-03 20:44:43.904339261 +0200
@@ -12,7 +12,7 @@
 
   <indexterm zone="ch-cross-tools-cloog">
     <primary sortas="a-CLooG">CLooG</primary>
-    <secondary>cross-tools</secondary>
+    <secondary>cross tools</secondary>
   </indexterm>
 
   <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
@@ -32,9 +32,8 @@
     href="../../final-system/common/cloog.xml"
     xpointer="xpointer(//*[@os='s1'])"/>
 
-    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
-    href="../../final-system/common/cloog.xml"
-    xpointer="xpointer(//*[@os='s2'])"/>
+<screen os="s2"><userinput>cp -v Makefile{,.orig}
+sed '/cmake/d' Makefile.orig &gt; Makefile</userinput></screen>
 
     <para os="c">Compile the package:</para>
 
diff -ru /home/jp/a/BOOK/final-system/common/psmisc.xml BOOK/final-system/common/psmisc.xml
--- /home/jp/a/BOOK/final-system/common/psmisc.xml	2014-05-11 16:24:52.646516678 +0200
+++ BOOK/final-system/common/psmisc.xml	2014-10-03 20:44:43.916339261 +0200
@@ -27,47 +27,17 @@
 
     <para os="a">Prepare Psmisc for compilation:</para>
 
-<screen os="b"><userinput>./configure --prefix=/usr --exec-prefix=""</userinput></screen>
+<screen os="b"><userinput>./configure --prefix=/usr</userinput></screen>
 
-    <variablelist os="c">
-      <title>The meaning of the configure option:</title>
+    <para os="c">Compile the package:</para>
 
-      <varlistentry>
-        <term><parameter>--exec-prefix=""</parameter></term>
-        <listitem>
-          <para>This ensures that the Psmisc binaries will install into
-          <filename class="directory">/bin</filename> instead of
-          <filename class="directory">/usr/bin</filename>. This is the
-          correct location according to the FHS, because some of the Psmisc
-          binaries are used by the CLFS-Bootscripts package.</para>
-        </listitem>
-      </varlistentry>
-    </variablelist>
+<screen os="d"><userinput>make</userinput></screen>
 
-    <para os="d">Compile the package:</para>
+    <para os="e">This package does not come with a test suite.</para>
 
-<screen os="e"><userinput>make</userinput></screen>
+    <para os="f">Install the package:</para>
 
-    <para os="f">This package does not come with a test suite.</para>
-
-    <para os="g">Install the package:</para>
-
-<screen os="h"><userinput>make install</userinput></screen>
-
-    <para os="i">There is no reason for the <command>pstree</command> and
-    <command>pstree.x11</command> programs to reside in <filename
-    class="directory">/bin</filename>. Therefore, move them to <filename
-    class="directory">/usr/bin</filename>:</para>
-
-<screen os="j"><userinput>mv -v /bin/pstree* /usr/bin</userinput></screen>
-
-    <para os="k">By default, Psmisc's <command>pidof</command> program is not installed.
-    This usually is not a problem because it is installed later in the Sysvinit
-    package, which provides a better <command>pidof</command> program. If
-    Sysvinit will not be used for a particular system, complete the installation
-    of Psmisc by creating the following symlink:</para>
-
-<screen os="l" role="nodump"><userinput>ln -sv killall /bin/pidof</userinput></screen>
+<screen os="g"><userinput>make install</userinput></screen>
 
   </sect2>
 
@@ -78,7 +48,7 @@
       <segtitle>Installed programs</segtitle>
 
       <seglistitem>
-        <seg>fuser, killall, peekfd, prtstat, pstree, and pstree.x11
+        <seg>fuser, killall, peekfd, prtstat, pstree, pstree.x11
         (link to pstree)</seg>
       </seglistitem>
     </segmentedlist>
diff -ru /home/jp/a/BOOK/final-system/common/readline.xml BOOK/final-system/common/readline.xml
--- /home/jp/a/BOOK/final-system/common/readline.xml	2014-05-11 16:24:52.646516678 +0200
+++ BOOK/final-system/common/readline.xml	2014-10-03 20:44:43.916339261 +0200
@@ -32,7 +32,8 @@
 
     <para os="a">Prepare Readline for compilation:</para>
 
-<screen os="b"><userinput>./configure --prefix=/usr --libdir=/lib</userinput></screen>
+<screen os="b"><userinput>./configure --prefix=/usr --libdir=/lib \
+    --docdir=/usr/share/doc/readline-&readline-version;</userinput></screen>
 
     <para os="c">Compile the package:</para>
 
@@ -42,23 +43,17 @@
 
     <para os="f">Install the package:</para>
 
-<screen os="g"><userinput>make install</userinput></screen>
+<screen os="g"><userinput>make SHLIB_LIBS=-lncurses htmldir=/usr/share/doc/readline-&readline-version; install</userinput></screen>
 
-    <para os="h">Install the documentation:</para>
+    <para os="h">Now move the static libraries to a more appropriate location:</para>
 
-<screen os="i"><userinput>make install-doc</userinput></screen>
+<screen os="i"><userinput>mv -v /lib/lib{readline,history}.a /usr/lib</userinput></screen>
 
-    <para os="j">Now move the static libraries to a more appropriate location:</para>
+    <para os="j">Next, relink the dynamic libraries into <filename class="directory">/usr/lib</filename> and remove the <filename class="extension">.so</filename> files in <filename class="directory">/lib</filename>.</para>
 
-<screen os="k"><userinput>mv -v /lib/lib{readline,history}.a /usr/lib</userinput></screen>
-
-    <para os="l">Next, remove the <filename class="extension">.so</filename>
-    files in <filename class="directory">/lib</filename> and relink them into
-    <filename class="directory">/usr/lib</filename>.</para>
-
-<screen os="m"><userinput>rm -v /lib/lib{readline,history}.so
-ln -svf ../../lib/libreadline.so.&readline-version2; /usr/lib/libreadline.so
-ln -svf ../../lib/libhistory.so.&readline-version2; /usr/lib/libhistory.so</userinput></screen>
+<screen os="k"><userinput>ln -svf ../../lib/$(readlink /lib/libreadline.so) /usr/lib/libreadline.so
+ln -svf ../../lib/$(readlink /lib/libhistory.so) /usr/lib/libhistory.so
+rm -v /lib/lib{readline,history}.so</userinput></screen>
 
   </sect2>
 
@@ -70,8 +65,8 @@
       <segtitle>Installed directories</segtitle>
 
       <seglistitem>
-        <seg>libhistory.[a,so], and libreadline.[a,so]</seg>
-        <seg>/usr/include/readline, /usr/share/readline</seg>
+        <seg>libhistory.[a,so], libreadline.[a,so]</seg>
+        <seg>/usr/include/readline, /usr/share/doc/readline-&readline-version;, /usr/share/readline</seg>
       </seglistitem>
     </segmentedlist>
 
diff -ru /home/jp/a/BOOK/final-system/common/sed.xml BOOK/final-system/common/sed.xml
--- /home/jp/a/BOOK/final-system/common/sed.xml	2014-05-11 16:24:52.646516678 +0200
+++ BOOK/final-system/common/sed.xml	2014-10-03 20:44:43.916339261 +0200
@@ -26,7 +26,8 @@
 
     <para os="a">Prepare Sed for compilation:</para>
 
-<screen os="b"><userinput>./configure --prefix=/usr --bindir=/bin</userinput></screen>
+<screen os="b"><userinput>./configure --prefix=/usr --bindir=/bin \
+    --docdir=/usr/share/doc/sed-&sed-version;</userinput></screen>
 
     <para os="c">Compile the package:</para>
 
@@ -59,7 +60,7 @@
 
       <seglistitem>
         <seg>sed</seg>
-        <seg>/usr/share/doc/sed</seg>
+        <seg>/usr/share/doc/sed-&sed-version;</seg>
       </seglistitem>
     </segmentedlist>
 
diff -ru /home/jp/a/BOOK/final-system/common/shadow.xml BOOK/final-system/common/shadow.xml
--- /home/jp/a/BOOK/final-system/common/shadow.xml	2014-05-11 16:24:52.646516678 +0200
+++ BOOK/final-system/common/shadow.xml	2014-10-03 20:44:43.916339261 +0200
@@ -28,11 +28,16 @@
     <note os="a">
       <para>If you would like to enforce the use of strong passwords,
       refer to <ulink url="&cblfs-root;index.php/Cracklib"/>
-      for installing Cracklib prior to building Shadow. Then add
-      <parameter>--with-libcrack</parameter> to the <command>configure</command>
-      command below.</para>
-    </note>
+      for installing Cracklib prior to building Shadow. After Cracklib is
+      installed, execute this <command>sed</command> in Shadow's source
+      directory to correct the path to the Cracklib dictionary:</para>
+
+<screen role="nodump"><userinput>sed -i 's@\(DICTPATH.\).*@\1/lib/cracklib/pw_dict@' etc/login.defs</userinput></screen>
 
+      <para>Finally, add <parameter>--with-libcrack</parameter> to the
+      <command>configure</command> command below.</para>
+
+    </note>
 
     <para os="b">Disable the installation of the <command>groups</command> and
     <command>nologin</command> programs and their man pages, as better versions
@@ -47,7 +52,7 @@
 
 <screen os="e"><userinput>./configure --sysconfdir=/etc</userinput></screen>
 
-<para os="f">The meaning of the configure options:</para>
+<para os="f">The meaning of the new configure option:</para>
 
   <variablelist os="g">
     <varlistentry>
@@ -56,9 +61,8 @@
       <filename class="directory">/etc</filename>, rather than
       <filename class="directory">/usr/etc</filename>.</para></listitem>
     </varlistentry>
-    
-  </variablelist>
 
+  </variablelist>
 
     <para os="h">Compile the package:</para>
 
@@ -71,7 +75,7 @@
 <screen os="l"><userinput>make install</userinput></screen>
 
     <para os="m" id="shadow-login_defs">Instead of using the default
-    <emphasis>crypt</emphasis> method, use the more secure
+    <emphasis>DES</emphasis> method, use the more secure
     <emphasis>SHA512</emphasis> method of password encryption, which also allows
     passwords longer than 8 characters. It is also necessary to change the
     obsolete <filename class="directory">/var/spool/mail</filename> location
@@ -88,17 +92,19 @@
     -e 's@#\(ENCRYPT_METHOD \).*@\1SHA512@' \
     -e 's@/var/spool/mail@/var/mail@'</userinput></screen>
 
-    <note os="t">
-      <para>If you built Shadow with Cracklib support, execute
-      this <command>sed</command> to correct the path to the Cracklib
-      dictionary:</para>
-
-<screen role="nodump"><userinput>sed -i 's@DICTPATH.*@DICTPATH\t/lib/cracklib/pw_dict@' /etc/login.defs</userinput></screen>
-    </note>
+    <para os="t">Move a misplaced program to its proper location:</para>
 
-    <para os="u">Move a misplaced program to its proper location:</para>
+<screen os="u"><userinput>mv -v /usr/bin/passwd /bin</userinput></screen>
 
-<screen os="v"><userinput>mv -v /usr/bin/passwd /bin</userinput></screen>
+    <para os="v">The <command>login</command> program will write to
+    <filename>/var/log/lastlog</filename>, if it exists, to record the date and
+    time of the latest successful login for each user. This log file is not
+    created automatically if it does not already exist, so we will
+    create it now and give it appropriate ownership and permissions:</para>
+
+<screen os="w"><userinput>touch /var/log/lastlog
+chgrp -v utmp /var/log/lastlog
+chmod -v 664 /var/log/lastlog</userinput></screen>
 
   </sect2>
 
@@ -153,11 +159,11 @@
       <segtitle>Installed directory</segtitle>
 
       <seglistitem>
-        <seg>chage, chfn, chpasswd, chgpasswd, chsh, expiry, faillog, gpasswd,
+        <seg>chage, chfn, chgpasswd, chpasswd, chsh, expiry, faillog, gpasswd,
         groupadd, groupdel, groupmems, groupmod, grpck, grpconv, grpunconv,
         lastlog, login, logoutd, newgrp, newusers, passwd, pwck,
         pwconv, pwunconv, sg (link to newgrp), su, useradd, userdel, usermod,
-        vigr (link to vipw), and vipw</seg>
+        vigr (link to vipw), vipw</seg>
         <seg>/etc/default</seg>
       </seglistitem>
     </segmentedlist>
diff -ru /home/jp/a/BOOK/final-system/common/tar.xml BOOK/final-system/common/tar.xml
--- /home/jp/a/BOOK/final-system/common/tar.xml	2014-05-11 16:24:52.646516678 +0200
+++ BOOK/final-system/common/tar.xml	2014-10-03 20:44:43.916339261 +0200
@@ -48,7 +48,11 @@
 
     <para os="h">Generate the man page and place it in the proper location:</para>
 
-<screen os="i"><userinput>perl tarman > /usr/share/man/man1/tar.1</userinput></screen>
+<screen os="i"><userinput>perl tarman &gt; /usr/share/man/man1/tar.1</userinput></screen>
+
+    <para os="j">Install the documentation:</para>
+
+<screen os="k"><userinput>make -C doc install-html docdir=/usr/share/doc/tar-&tar-version;</userinput></screen>
 
   </sect2>
 
@@ -57,9 +61,11 @@
 
     <segmentedlist>
       <segtitle>Installed programs</segtitle>
+      <segtitle>Installed directory</segtitle>
 
       <seglistitem>
-        <seg>rmt and tar</seg>
+        <seg>rmt, tar</seg>
+        <seg>/usr/share/doc/tar-&tar-version;</seg>
       </seglistitem>
     </segmentedlist>
 
diff -ru /home/jp/a/BOOK/final-system/common/temp-perl.xml BOOK/final-system/common/temp-perl.xml
--- /home/jp/a/BOOK/final-system/common/temp-perl.xml	2014-05-11 16:24:52.646516678 +0200
+++ BOOK/final-system/common/temp-perl.xml	2014-10-03 20:44:43.916339261 +0200
@@ -22,10 +22,14 @@
   <sect2 role="installation">
     <title>Installation of Perl</title>
 
-    <para os="a">First adapt some hard-wired paths to the C library by applying
-    the following patch:</para>
-
-<screen os="b"><userinput>patch -Np1 -i ../&perl-libc-patch;</userinput></screen>
+    <note os="a">
+      <para>In this section, we will add Perl to the temporary system in
+      <filename class="directory">/tools</filename>. This package installation
+      should technically be part of
+      <xref linkend="chapter-temp-system"/>, but Perl has often had problems
+      with cross-compiling, so we will compile and install it while in the
+      final build environment.</para>
+    </note>
 
     <para os="s1">Change a hardcoded path from
     <filename class="directory">/usr/include</filename> to
diff -ru /home/jp/a/BOOK/final-system/common/testsuitesagain.xml BOOK/final-system/common/testsuitesagain.xml
--- /home/jp/a/BOOK/final-system/common/testsuitesagain.xml	2014-05-11 16:24:52.646516678 +0200
+++ BOOK/final-system/common/testsuitesagain.xml	2014-10-03 20:44:43.916339261 +0200
@@ -11,9 +11,16 @@
   <title>About Test Suites, Again</title>
 
   <para>In the final-system build, you are no longer cross-compiling so it
-  is possible to run package testsuites. Some test suites are more important
-  than others. For example,  the test suites for the core toolchain
-  packages&mdash;GCC, Binutils, and Glibc&mdash;are of the utmost
+  is possible to run package test suites. Running the test suite for a
+  newly built package is a good idea because it can provide a <quote>sanity
+  check</quote> indicating that everything compiled correctly. A test suite
+  that passes its set of checks usually proves that the package is
+  functioning as the developer intended. It does not, however, guarantee
+  that the package is totally bug free.</para>
+
+  <para>Some test suites are more important than others. For example, the test
+  suites for the core toolchain packages&mdash;GCC, Binutils,
+  and Glibc&mdash;are of the utmost
   importance due to their central role in a properly functioning system.
   The test suites for GCC and Glibc can take a very long time to complete,
   especially on slower hardware, but are strongly recommended.</para>
diff -ru /home/jp/a/BOOK/final-system/common/texinfo.xml BOOK/final-system/common/texinfo.xml
--- /home/jp/a/BOOK/final-system/common/texinfo.xml	2014-05-11 16:24:52.646516678 +0200
+++ BOOK/final-system/common/texinfo.xml	2014-10-03 20:44:43.916339261 +0200
@@ -41,21 +41,6 @@
 
 <screen os="g"><userinput>make install</userinput></screen>
 
-    <para os="h">The Info documentation system uses a plain text file to hold
-    its list of menu entries. The file is located at
-    <filename>/usr/share/info/dir</filename>. Unfortunately, due to occasional
-    problems in the Makefiles of various packages, it can sometimes get out of
-    sync with the info pages installed on the system. If the
-    <filename>/usr/share/info/dir</filename> file ever needs to be recreated,
-    the following optional commands will accomplish the task:</para>
-
-<screen os="i" role="nodump"><userinput>pushd /usr/share/info
-rm dir
-for f in *
-do install-info $f dir 2&gt;/dev/null
-done
-popd</userinput></screen>
-
   </sect2>
 
   <sect2 id="contents-texinfo" role="content">
@@ -67,7 +52,7 @@
 
       <seglistitem>
         <seg>info, infokey, install-info, makeinfo (link to texi2any),
-        pdftexi2dvi, texi2dvi, texi2pdf, and texindex</seg>
+        pdftexi2dvi, texi2dvi, texi2pdf, texindex</seg>
         <seg>/usr/share/texinfo</seg>
       </seglistitem>
     </segmentedlist>
diff -ru /home/jp/a/BOOK/final-system/common/util-linux.xml BOOK/final-system/common/util-linux.xml
--- /home/jp/a/BOOK/final-system/common/util-linux.xml	2014-05-11 16:24:52.646516678 +0200
+++ BOOK/final-system/common/util-linux.xml	2014-10-03 20:44:43.916339261 +0200
@@ -41,9 +41,16 @@
   <sect2 role="installation">
     <title>Installation of Util-linux</title>
 
+    <note os="n">
+      <para><command>findmnt</command> and <command>lsblk</command> can
+      utilize <filename class="libraryfile">libudev</filename> for WWN and serial
+      number information. If this is desired, rebuild Util-linux after
+      <xref linkend="ch-system-systemd"/></para>
+    </note>
+
     <para os="a">Prepare Util-linux for compilation:</para>
 
-<screen os="b"><userinput>./configure --enable-write</userinput></screen>
+<screen os="b"><userinput>./configure --enable-write --docdir=/usr/share/doc/util-linux-&util-linux-version;</userinput></screen>
 
     <variablelist os="c">
       <title>The meaning of the configure options:</title>
@@ -62,27 +69,15 @@
 
 <screen os="e"><userinput>make</userinput></screen>
 
-    <para os="dummy1">Create two <systemitem class="groupname">dummy</systemitem> groups and a <systemitem class="username">dummy</systemitem> user to be used during Util-linux and Coreutils test suites:</para>
-
-<screen os="dummy2"><userinput remap="test">echo "dummy1:x:1000:" &gt;&gt; /etc/group
-echo "dummy2:x:1001:dummy" &gt;&gt; /etc/group
-echo "dummy:x:1000:1000::/root:/bin/bash" &gt;&gt; /etc/passwd</userinput></screen>
-
     <para os="f">To test the results, issue:</para>
 
-<screen os="f2"><userinput remap="test">chown -Rv dummy . &amp;&amp;
-su dummy -s /bin/bash -c "PATH=$PATH make -k check"</userinput></screen>
+<screen os="f2"><userinput remap="test">chown -Rv nobody . &amp;&amp;
+su nobody -s /bin/bash -c "PATH=$PATH make -k check"</userinput></screen>
 
     <para os="g">Install the package:</para>
 
 <screen os="h"><userinput>make install</userinput></screen>
 
-    <para os="i">Move the <command>logger</command> binary to
-    <filename class="directory">/bin</filename> as it is needed by the
-    CLFS-Bootscripts package:</para>
-
-<screen os="j"><userinput>mv -v /usr/bin/logger /bin</userinput></screen>
-
   </sect2>
 
   <sect2 id="contents-util-linux" role="content">
@@ -105,10 +100,12 @@
         raw, readprofile, rename, renice, resizepart, rev, rtcwake, script,
         scriptreplay, setarch, setsid, setterm, sfdisk, sulogin, swaplabel,
         swapoff, swapon, switch_root, tailf, taskset, ul, umount, unshare,
-        utmpdump, uuidd, uuidgen, wall, wdctl, whereis, wipefs, and write</seg>
-        <seg>libblkid.[a,so], libmount.[a,so], and libuuid.[a,so]</seg>
+        utmpdump, uuidd, uuidgen, wall, wdctl, whereis, wipefs, write</seg>
+        <seg>libblkid.[a,so], libmount.[a,so], libuuid.[a,so]</seg>
         <seg>/usr/include/blkid, /usr/include/libmount, /usr/include/uuid,
-        /usr/share/doc/util-linux/getopt, /var/lib/hwclock</seg>
+        /usr/share/bash-completion,
+        /usr/share/doc/util-linux-&util-linux-version;/getopt,
+        /var/lib/hwclock</seg>
       </seglistitem>
     </segmentedlist>
 
@@ -272,17 +269,6 @@
           </indexterm>
         </listitem>
       </varlistentry>
-
-      <varlistentry id="ddate">
-        <term><command>ddate</command></term>
-        <listitem>
-          <para>Gives the Discordian date or converts the given Gregorian date
-          to a Discordian one</para>
-          <indexterm zone="ch-system-util-linux ddate">
-            <primary sortas="b-ddate">ddate</primary>
-          </indexterm>
-        </listitem>
-      </varlistentry>
 
       <varlistentry id="delpart">
         <term><command>delpart</command></term>
diff -ru /home/jp/a/BOOK/final-system/common/vim.xml BOOK/final-system/common/vim.xml
--- /home/jp/a/BOOK/final-system/common/vim.xml	2014-05-11 16:24:52.646516678 +0200
+++ BOOK/final-system/common/vim.xml	2014-10-03 20:44:43.916339261 +0200
@@ -46,25 +46,7 @@
 
     <para os="d">Prepare Vim for compilation:</para>
 
-<screen os="e"><userinput>./configure \
-    --prefix=/usr --enable-multibyte</userinput></screen>
-
-    <variablelist os="f">
-      <title>The meaning of the configure options:</title>
-
-      <varlistentry>
-        <term><parameter>--enable-multibyte</parameter></term>
-        <listitem>
-          <para>This optional but highly recommended switch enables support
-          for editing files in multibyte character encodings. This is needed
-          if using a locale with a multibyte character set. This switch is
-          also helpful to be able to edit text files initially created in
-          Linux distributions like Fedora that use UTF-8 as a default
-          character set.</para>
-        </listitem>
-      </varlistentry>
-
-    </variablelist>
+<screen os="e"><userinput>./configure --prefix=/usr</userinput></screen>
 
     <para os="g">Compile the package:</para>
 
@@ -171,7 +153,7 @@
         <seg>efm_filter.pl, efm_perl.pl, ex (link to vim), less.sh, mve.awk,
         pltags.pl, ref, rview (link to vim), rvim (link to vim), shtags.pl,
         tcltags, vi (link to vim), view (link to vim), vim, vim132, vim2html.pl,
-        vimdiff (link to vim), vimm, vimspell.sh, vimtutor, and xxd</seg>
+        vimdiff (link to vim), vimm, vimspell.sh, vimtutor, xxd</seg>
         <seg>/usr/share/vim</seg>
       </seglistitem>
     </segmentedlist>
diff -ru /home/jp/a/BOOK/cross-tools/common/file.xml BOOK/cross-tools/common/file.xml
--- /home/jp/a/BOOK/cross-tools/common/file.xml	2014-05-11 16:24:52.642516678 +0200
+++ BOOK/cross-tools/common/file.xml	2014-10-03 20:44:43.904339261 +0200
@@ -12,7 +12,7 @@
 
   <indexterm zone="ch-cross-tools-file">
     <primary sortas="a-File">File</primary>
-    <secondary>cross-tools</secondary>
+    <secondary>cross tools</secondary>
   </indexterm>
 
   <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
@@ -22,6 +22,17 @@
   <sect2 role="installation">
     <title>Installation of File</title>
 
+    <para>One method that <command>file</command> uses for identifying a given
+    file is to run <quote>magic tests</quote>, where it compares the file's
+    contents to data in <quote>magic files</quote>, which contain information
+    about a number of standard file formats. When File is compiled, it will run
+    <command>file -C</command> to combine the information from the
+    magic files in its source tree into a single <filename>magic.mgc</filename>
+    file, which it will use after it is installed. When we build File in 
+    <xref linkend="chapter-temp-system"/>, it will be cross-compiled, so it
+    will not be able to run the <command>file</command> program that it just
+    built, which means that we need one that will run on the host system.</para>
+
     <para>Prepare File for compilation:</para>
 
 <screen><userinput>./configure --prefix=/cross-tools --disable-static</userinput></screen>
diff -ru /home/jp/a/BOOK/final-system/common/xz.xml BOOK/final-system/common/xz.xml
--- /home/jp/a/BOOK/final-system/common/xz.xml	2014-05-11 16:24:52.646516678 +0200
+++ BOOK/final-system/common/xz.xml	2014-10-03 20:44:43.916339261 +0200
@@ -8,28 +8,28 @@
 <sect1 id="ch-system-xz" role="wrap">
   <?dbhtml filename="xz.html"?>
 
-  <title>XZ-Utils-&xz-version;</title>
+  <title>XZ Utils-&xz-version;</title>
 
   <indexterm zone="ch-system-xz">
-    <primary sortas="a-XZ-Utils">XZ-Utils</primary>
+    <primary sortas="a-XZ Utils">XZ Utils</primary>
   </indexterm>
 
   <sect2 role="package">
     <title/>
 
-    <para>The XZ-Utils package contains programs for compressing and
-    decompressing files. Compressing text files with <command>XZ-Utils</command>
+    <para>The XZ Utils package contains programs for compressing and
+    decompressing files. Compressing text files with <command>XZ Utils</command>
     yields a much better compression percentage than with the traditional
     <command>gzip</command>.</para>
 
   </sect2>
 
   <sect2 role="installation">
-    <title>Installation of XZ-Utils</title>
+    <title>Installation of XZ Utils</title>
 
-    <para os="a">Prepare XZ-Utils for compilation:</para>
+    <para os="a">Prepare XZ Utils for compilation:</para>
 
-<screen os="b"><userinput>./configure --prefix=/usr</userinput></screen>
+<screen os="b"><userinput>./configure --prefix=/usr --docdir=/usr/share/doc/xz-&xz-version;</userinput></screen>
 
     <para os="c">Compile the package:</para>
 
@@ -52,12 +52,12 @@
     location, and recreate the symlink pointing to it:</para>
 
 <screen os="k"><userinput>mv -v /usr/lib/liblzma.so.* /lib
-ln -svf ../../lib/liblzma.so.&xz-version; /usr/lib/liblzma.so</userinput></screen>
+ln -sfv ../../lib/$(readlink /usr/lib/liblzma.so) /usr/lib/liblzma.so</userinput></screen>
 
   </sect2>
 
   <sect2 id="contents-xz" role="content">
-    <title>Contents of XZ-Utils</title>
+    <title>Contents of XZ Utils</title>
 
     <segmentedlist>
       <segtitle>Installed programs</segtitle>
@@ -71,9 +71,9 @@
         lzmainfo, lzmore (link to xzmore), unlzma (link to xz), unxz (link to
         xz), xz, xzcat (link to xz), xzcmp (link to xzdiff), xzdec, xzdiff,
         xzegrep (link to xzgrep), xzfgrep (link to xzgrep), xzgrep, xzless,
-        and xzmore</seg>
+        xzmore</seg>
         <seg>liblzma.[a,so]</seg>
-        <seg>/usr/include/lzma, /usr/share/doc/xz</seg>
+        <seg>/usr/include/lzma, /usr/share/doc/xz-&xz-version;</seg>
       </seglistitem>
     </segmentedlist>
 
diff -ru /home/jp/a/BOOK/final-system/common/zlib.xml BOOK/final-system/common/zlib.xml
--- /home/jp/a/BOOK/final-system/common/zlib.xml	2014-05-11 16:24:52.646516678 +0200
+++ BOOK/final-system/common/zlib.xml	2014-10-03 20:44:43.916339261 +0200
@@ -38,7 +38,7 @@
 
     <para os="e">To test the results, issue:</para>
 
-<screen os="e2" ><userinput remap="test">make check</userinput></screen>
+<screen os="e2"><userinput remap="test">make check</userinput></screen>
 
     <para os="f">Install the package:</para>
 
@@ -46,12 +46,17 @@
 
     <para os="h">The previous command installed two <filename
     class="extension">.so</filename> files into <filename
-    class="directory">/usr/lib</filename>. We will move it into
-    <filename class="directory">/lib</filename> and then relink it
-    to <filename class="directory">/usr/lib</filename>:</para>
+    class="directory">/usr/lib</filename>. We will move them into
+    <filename class="directory">/lib</filename> and then recreate a link
+    in <filename class="directory">/usr/lib</filename>:</para>
 
 <screen os="i"><userinput>mv -v /usr/lib/libz.so.* /lib
-ln -svf ../../lib/libz.so.1 /usr/lib/libz.so</userinput></screen>
+ln -sfv ../../lib/$(readlink /usr/lib/libz.so) /usr/lib/libz.so</userinput></screen>
+
+    <para os="j">Install the documentation:</para>
+
+<screen os="k"><userinput>mkdir -pv /usr/share/doc/zlib-&zlib-version;
+cp -rv doc/* examples /usr/share/doc/zlib-&zlib-version;</userinput></screen>
 
   </sect2>
 
@@ -60,9 +65,11 @@
 
     <segmentedlist>
       <segtitle>Installed libraries</segtitle>
+      <segtitle>Installed directory</segtitle>
 
       <seglistitem>
         <seg>libz.[a,so]</seg>
+        <seg>/usr/share/doc/zlib-&zlib-version;</seg>
       </seglistitem>
     </segmentedlist>
 
diff -ru /home/jp/a/BOOK/cross-tools/common/gcc-final.xml BOOK/cross-tools/common/gcc-final.xml
--- /home/jp/a/BOOK/cross-tools/common/gcc-final.xml	2014-05-11 16:24:52.642516678 +0200
+++ BOOK/cross-tools/common/gcc-final.xml	2014-10-03 20:44:43.904339261 +0200
@@ -59,17 +59,15 @@
     xpointer="xpointer(//*[@os='h'])"/>
 
 <screen os="bf"><userinput>AR=ar LDFLAGS="-Wl,-rpath,/cross-tools/lib" \
-  ../gcc-&gcc-version;/configure --prefix=/cross-tools \
-  --build=${CLFS_HOST} --target=${CLFS_TARGET} --host=${CLFS_HOST} \
-  --with-sysroot=${CLFS} --with-local-prefix=/tools \
-  --with-native-system-header-dir=/tools/include --disable-nls \
-  --enable-shared --disable-static --enable-languages=c,c++ \
-  --enable-__cxa_atexit --enable-c99 --enable-long-long --enable-threads=posix \
-  --disable-multilib --with-mpc=/cross-tools --with-mpfr=/cross-tools \
-  --with-gmp=/cross-tools --with-cloog=/cross-tools \
-  --enable-cloog-backend=isl --with-isl=/cross-tools \
-  --disable-isl-version-check --with-system-zlib --enable-checking=release \
-  --enable-libstdcxx-time</userinput></screen>
+    ../gcc-&gcc-version;/configure --prefix=/cross-tools \
+    --build=${CLFS_HOST} --target=${CLFS_TARGET} --host=${CLFS_HOST} \
+    --with-sysroot=${CLFS} --with-local-prefix=/tools \
+    --with-native-system-header-dir=/tools/include --disable-nls \
+    --disable-static --enable-languages=c,c++ --enable-__cxa_atexit \
+    --enable-threads=posix --disable-multilib \
+    --with-mpc=/cross-tools --with-mpfr=/cross-tools --with-gmp=/cross-tools \
+    --with-cloog=/cross-tools --with-isl=/cross-tools --with-system-zlib \
+    --enable-checking=release --enable-libstdcxx-time</userinput></screen>
 
     <variablelist os="bg">
       <title>The meaning of the new configure options:</title>
@@ -93,23 +91,18 @@
       </varlistentry>
 
       <varlistentry os="bg3">
-        <term><parameter>--enable-c99</parameter></term>
+        <term><parameter>--enable-threads=posix</parameter></term>
         <listitem>
-          <para>Enable C99 support for C programs.</para>
+          <para>This enables C++ exception handling for multi-threaded code.</para>
         </listitem>
       </varlistentry>
 
       <varlistentry os="bg4">
-        <term><parameter>--enable-long-long</parameter></term>
-        <listitem>
-          <para>Enables long long support in the compiler.</para>
-        </listitem>
-      </varlistentry>
-
-      <varlistentry os="bg5">
-        <term><parameter>--enable-threads=posix</parameter></term>
+        <term><parameter>--enable-libstdcxx-time</parameter></term>
         <listitem>
-          <para>This enables C++ exception handling for multi-threaded code.</para>
+          <para>This enables link-time checks for the availability of
+          clock_gettime clocks, and nanosleep and sched_yield functions, in the
+          C library.</para>
         </listitem>
       </varlistentry>
 
