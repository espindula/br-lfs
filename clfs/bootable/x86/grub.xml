<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
  "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;
]>

<sect1 id="ch-bootable-grub">
  <?dbhtml filename="grub.html"?>

  <title>Rendre le système CLFS amorçable</title>

  <indexterm zone="ch-bootable-grub">
    <primary sortas="a-GRUB">GRUB</primary>
    <secondary>bootable</secondary>
  </indexterm>

  <para os="a">Votre système CLFS flambant neuf est presque terminé. Une des
  dernières choses à faire est de vous assurer que le système peut démarrer correctement.
  Les instructions ci-dessous s'appliquent aux architectures x86 et x86_64,
  c'est-à-dire la plupart des PCs. Des informations sur le <quote>chargement de
  l'amorce</quote> pour d'autres architectures devraient être disponibles aux
  endroits habituels des ressources spécifiques à ces architectures.</para>

  <para os="b">Le chargement au démarrage peut être un sujet complexe, donc quelques mots
  de prudence sont utiles. Familiarisez-vous avec le chargeur de démarrage actuel et
  tous les autres systèmes d'exploitation présent sur le(s) disque(s) dur(s) et
  qui doit/doivent être amorcé(s). Assurez-vous d'avoir un disque de démarrage d'urgence
  disponible pour <quote>secourir</quote> l'ordinateur s'il devient inutilisable (inamorçable).</para>

  <para os="c">La première chose que nous avons besoin de faire est de générer
  une configuration pour GRUB. Dans les précédentes versions de grub, nous pouvions
  créer la configuration à la main, mais avec GRUB2, nous pouvons générer
  <filename>grub.cfg</filename> automatiquement. Vous pouvez faire cela avec la
  commande suivante&nbsp;:</para>

<screen os="d"><userinput>grub-mkconfig -o /boot/grub/grub.cfg</userinput></screen>

  <warning os="w1">
     <para>La commande suivante écrasera le chargeur de démarrage actuel. Ne lancez pas
     la commande si vous ne désirez pas cela, par exemple si vous utilisez d'un
     chargeur de démarrage tiers pour gérer le Master Boot Record (MBR). Dans ce
     cas, il serait plus logique d'installer GRUB dans le
     <quote>boot sector</quote> de la partition CLFS. Dans ce cas, la
     commande suivante deviendrait 
     <userinput>grub-install /dev/sda2</userinput>
    .</para>
   </warning>

  <para os="e">Demandez à GRUB de s'installer dans la MBR de 
  <filename class="partition">sda</filename>&nbsp;:</para>

<screen os="f"><userinput>grub-install /dev/sda</userinput></screen>

</sect1>
