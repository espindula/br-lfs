# SOME DESCRIPTIVE TITLE
# Copyright (C) YEAR Free Software Foundation, Inc.
# This file is distributed under the same license as the PACKAGE package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"POT-Creation-Date: 2022-09-21 02:18+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: \n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#. type: Content of: <sect1><title>
#: lfs-en/chapter07/cleanup.xml:11
msgid "Cleaning up and Saving the Temporary System"
msgstr ""

#. type: Content of: <sect1><sect2><title>
#: lfs-en/chapter07/cleanup.xml:14
msgid "Cleaning"
msgstr ""

#. type: Content of: <sect1><sect2><para>
#: lfs-en/chapter07/cleanup.xml:16
msgid ""
"First, remove the currently installed documentation to prevent them from "
"ending up in the final system, and to save about 35 MB:"
msgstr ""

#. type: Content of: <sect1><sect2><screen>
#: lfs-en/chapter07/cleanup.xml:19
#, no-wrap
msgid "<userinput>rm -rf /usr/share/{info,man,doc}/*</userinput>"
msgstr ""

#. type: Content of: <sect1><sect2><para>
#: lfs-en/chapter07/cleanup.xml:21
msgid ""
"Second, on a modern Linux system, the libtool .la files are only useful for "
"libltdl.  No libraries in LFS are expected to be loaded by libltdl, and it's "
"known that some .la files can cause BLFS packages fail to build.  Remove "
"those files now:"
msgstr ""

#. type: Content of: <sect1><sect2><screen>
#: lfs-en/chapter07/cleanup.xml:26
#, no-wrap
msgid "<userinput>find /usr/{lib,libexec} -name \\*.la -delete</userinput>"
msgstr ""

#. type: Content of: <sect1><sect2><para>
#: lfs-en/chapter07/cleanup.xml:29
msgid ""
"The current system size is now about 3 GB, however the /tools directory is "
"no longer needed. It uses about 1 GB of disk space.  Delete it now:"
msgstr ""

#. type: Content of: <sect1><sect2><screen>
#: lfs-en/chapter07/cleanup.xml:34
#, no-wrap
msgid "<userinput>rm -rf /tools</userinput>"
msgstr ""

#. type: Content of: <sect1><sect2><title>
#: lfs-en/chapter07/cleanup.xml:38
msgid "Backup"
msgstr ""

#. type: Content of: <sect1><sect2><para>
#: lfs-en/chapter07/cleanup.xml:41
msgid ""
"At this point the essential programs and libraries have been created and "
"your current LFS system is in a good state. Your system can now be backed up "
"for later reuse. In case of fatal failures in the subsequent chapters, it "
"often turns out that removing everything and starting over (more carefully) "
"is the best option to recover. Unfortunately, all the temporary files will "
"be removed, too. To avoid spending extra time to redo something which has "
"been built successfully, creating a backup of the current LFS system may "
"prove useful."
msgstr ""

#. type: Content of: <sect1><sect2><note><para>
#: lfs-en/chapter07/cleanup.xml:52
msgid ""
"All the remaining steps in this section are optional. Nevertheless, as soon "
"as you begin installing packages in <xref linkend=\"chapter-building-"
"system\"/>, the temporary files will be overwritten. So it may be a good "
"idea to do a backup of the current system as described below."
msgstr ""

#. type: Content of: <sect1><sect2><para>
#: lfs-en/chapter07/cleanup.xml:60
msgid ""
"The following steps are performed from outside the chroot environment. That "
"means, you have to leave the chroot environment first before continuing. The "
"reason for that is to get access to file system locations outside of the "
"chroot environment to store/read the backup archive which should not be "
"placed within the <filename class=\"directory\">$LFS</filename> hierarchy "
"for safety reasons."
msgstr ""

#. type: Content of: <sect1><sect2><para>
#: lfs-en/chapter07/cleanup.xml:71
msgid "If you have decided to make a backup, leave the chroot environment:"
msgstr ""

#. type: Content of: <sect1><sect2><screen>
#: lfs-en/chapter07/cleanup.xml:74
#, no-wrap
msgid "<userinput>exit</userinput>"
msgstr ""

#. type: Content of: <sect1><sect2><important><para>
#: lfs-en/chapter07/cleanup.xml:78
msgid ""
"All of the following instructions are executed by <systemitem "
"class=\"username\">root</systemitem> on your host system.  Take extra care "
"about the commands you're going to run as mistakes here can modify your host "
"system. Be aware that the environment variable <envar>LFS</envar> is set for "
"user <systemitem class=\"username\">lfs</systemitem> by default but may "
"<emphasis>not</emphasis> be set for <systemitem class=\"username\">root</"
"systemitem>."
msgstr ""

#. type: Content of: <sect1><sect2><important><para>
#: lfs-en/chapter07/cleanup.xml:88
msgid ""
"Whenever commands are to be executed by <systemitem class=\"username\">root</"
"systemitem>, make sure you have set <envar>LFS</envar>."
msgstr ""

#. type: Content of: <sect1><sect2><important><para>
#: lfs-en/chapter07/cleanup.xml:92
msgid "This has been discussed in <xref linkend='ch-partitioning-aboutlfs'/>."
msgstr ""

#. type: Content of: <sect1><sect2><para>
#: lfs-en/chapter07/cleanup.xml:96
msgid "Before making a backup, unmount the virtual file systems:"
msgstr ""

#. type: Content of: <sect1><sect2><screen>
#: lfs-en/chapter07/cleanup.xml:98
#, no-wrap
msgid ""
"<userinput>[ mountpoint -q $LFS/dev/shm ] &amp;&amp; umount $LFS/dev/shm\n"
"umount $LFS/dev/pts\n"
"umount $LFS/{sys,proc,run,dev}</userinput>"
msgstr ""

#. type: Content of: <sect1><sect2><para>
#: lfs-en/chapter07/cleanup.xml:103
msgid ""
"Make sure you have at least 1 GB free disk space (the source tarballs will "
"be included in the backup archive) on the filesystem containing directory "
"where you create the backup archive."
msgstr ""

#. type: Content of: <sect1><sect2><para>
#: lfs-en/chapter07/cleanup.xml:109
msgid ""
"Note that the instructions below specify the home directory of the host "
"system's <systemitem class=\"username\">root</systemitem> user, which is "
"typically found on the root filesystem."
msgstr ""

#. type: Content of: <sect1><sect2><para>
#: lfs-en/chapter07/cleanup.xml:115
msgid ""
"Replace <envar>$HOME</envar> by a directory of your choice if you do not "
"want to have the backup stored in <systemitem class=\"username\">root</"
"systemitem>'s home directory."
msgstr ""

#. type: Content of: <sect1><sect2><para>
#: lfs-en/chapter07/cleanup.xml:121
msgid "Create the backup archive by running the following command:"
msgstr ""

#. type: Content of: <sect1><sect2><note><para>
#: lfs-en/chapter07/cleanup.xml:126
msgid ""
"Because the backup archive is compressed, it takes a relatively long time "
"(over 10 minutes) even on a reasonably fast system."
msgstr ""

#. type: Content of: <sect1><sect2><screen>
#: lfs-en/chapter07/cleanup.xml:131
#, no-wrap
msgid ""
"<userinput>cd $LFS\n"
"tar -cJpf $HOME/lfs-temp-tools-&version;.tar.xz .</userinput>"
msgstr ""

#. type: Content of: <sect1><sect2><note><para>
#: lfs-en/chapter07/cleanup.xml:136
msgid ""
"If continuing to chapter 8, don't forget to reenter the chroot environment "
"as explained in the <quote>Important</quote> box below."
msgstr ""

#. type: Content of: <sect1><sect2><title>
#: lfs-en/chapter07/cleanup.xml:144
msgid "Restore"
msgstr ""

#. type: Content of: <sect1><sect2><para>
#: lfs-en/chapter07/cleanup.xml:147
msgid ""
"In case some mistakes have been made and you need to start over, you can use "
"this backup to restore the system and save some recovery time.  Since the "
"sources are located under <filename class=\"directory\">$LFS</filename>, "
"they are included in the backup archive as well, so they do not need to be "
"downloaded again. After checking that <envar>$LFS</envar> is set properly, "
"restore the backup by executing the following commands:"
msgstr ""

#. type: Content of: <sect1><sect2><warning><para>
#: lfs-en/chapter07/cleanup.xml:159
msgid ""
"The following commands are extremely dangerous.  If you run <command>rm -"
"rf ./*</command> as the &root; user and you do not change to the $LFS "
"directory or the <envar>LFS</envar> environment variable is not set for the "
"&root; user, it will destroy your entire host system.  YOU ARE WARNED."
msgstr ""

#. type: Content of: <sect1><sect2><screen>
#: lfs-en/chapter07/cleanup.xml:165
#, no-wrap
msgid ""
"<computeroutput>cd $LFS\n"
"rm -rf ./*\n"
"tar -xpf $HOME/lfs-temp-tools-&version;.tar.xz</computeroutput>"
msgstr ""

#. type: Content of: <sect1><sect2><para>
#: lfs-en/chapter07/cleanup.xml:170
msgid ""
"Again, double check that the environment has been setup properly and "
"continue building the rest of the system."
msgstr ""

#. type: Content of: <sect1><sect2><important><para>
#: lfs-en/chapter07/cleanup.xml:176
msgid ""
"If you left the chroot environment to create a backup or restart building "
"using a restore, remember to check that the virtual filesystems are still "
"mounted (<command>findmnt | grep $LFS</command>).  If they are not mounted, "
"remount them now as described in <xref linkend='ch-tools-kernfs'/> and re-"
"enter the chroot environment (see <xref linkend='ch-tools-chroot'/>) before "
"continuing."
msgstr ""
