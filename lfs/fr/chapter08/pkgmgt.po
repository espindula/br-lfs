msgid ""
msgstr ""
"Project-Id-Version: \n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2023-06-04 16:18+0000\n"
"PO-Revision-Date: 2023-06-07 04:18+0000\n"
"Last-Translator: Weblate Admin <julien@lepiller.eu>\n"
"Language-Team: French <https://translate.linuxfromscratch.org/projects/"
"linux-from-scratch/chapter08_pkgmgt/fr/>\n"
"Language: fr\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Plural-Forms: nplurals=2; plural=n > 1;\n"
"X-Generator: Weblate 4.17\n"
"X-Pootle-Path: /fr/lfs/chapter08/pkgmgt.po\n"
"X-Pootle-Revision: 8906\n"

#. type: Content of: <sect1><title>
#: lfs-en/chapter08/pkgmgt.xml:11
msgid "Package Management"
msgstr "Gestion des paquets"

#. type: Content of: <sect1><para>
#: lfs-en/chapter08/pkgmgt.xml:13
msgid ""
"Package Management is an often requested addition to the LFS Book. A Package "
"Manager tracks the installation of files, making it easier to remove and "
"upgrade packages. A good package manager will also handle the configuration "
"files specially to keep the user configuration when the package is "
"reinstalled or upgraded.  Before you begin to wonder, NO&mdash;this section "
"will not talk about nor recommend any particular package manager. What it "
"does provide is a roundup of the more popular techniques and how they work. "
"The perfect package manager for you may be among these techniques, or it may "
"be a combination of two or more of these techniques. This section briefly "
"mentions issues that may arise when upgrading packages."
msgstr ""
"On nous a souvent demandé d’ajouter la gestion des paquets au livre LFS. Un "
"gestionnaire de paquets permet de suivre l'installation des fichiers, "
"simplifiant ainsi la suppression ou la mise à jour des paquets. Un bon "
"gestionnaire de paquets gère également les fichiers de configuration pour "
"conserver la configuration spécifique de l'utilisateur lorsque le paquet est "
"réinstallé ou mis à jour. Avant toute chose, cette section ne parle pas et "
"ne recommande pas un gestionnaire de paquets en particulier. Elle résume les "
"techniques les plus populaires et leur fonctionnement. Le gestionnaire de "
"paquets qui vous convient le mieux peut se trouver parmi ces techniques ou "
"être une combinaison d'une ou plusieurs techniques. Cette section mentionne "
"brièvement les problèmes qui peuvent survenir lors de la mise à jour de "
"paquets."

#. type: Content of: <sect1><para>
#: lfs-en/chapter08/pkgmgt.xml:25
msgid ""
"Some reasons why no package manager is mentioned in LFS or BLFS include:"
msgstr ""
"Voici la raison pour laquelle aucun gestionnaire de paquets n’est mentionné "
"dans LFS ou BLFS&nbsp;:"

#. type: Content of: <sect1><itemizedlist><listitem><para>
#: lfs-en/chapter08/pkgmgt.xml:30
msgid ""
"Dealing with package management takes the focus away from the goals of these "
"books&mdash;teaching how a Linux system is built."
msgstr ""
"La gestion des paquets ne fait pas partie de l’objectif de ces livres, qui "
"visent à apprendre aux utilisateurs à construire un système Linux."

#. type: Content of: <sect1><itemizedlist><listitem><para>
#: lfs-en/chapter08/pkgmgt.xml:35
msgid ""
"There are multiple solutions for package management, each having its "
"strengths and drawbacks.  Finding one solution that satisfies all audiences "
"is difficult."
msgstr ""
"Il existe de nombreuses solutions pour gérer des paquets. Chacune a ses "
"points forts et ses points faibles. En trouver une qui satisfait tout le "
"monde est difficile."

#. type: Content of: <sect1><para>
#: lfs-en/chapter08/pkgmgt.xml:41
msgid ""
"There are some hints written on the topic of package management. Visit the "
"<ulink url=\"&hints-root;\">Hints Project</ulink> and see if one of them "
"fits your needs."
msgstr ""
"Nous avons évoqué quelques astuces sur le sujet de la gestion des paquets. "
"Consultez le <ulink url=\"&hints-root;\">Hints Project</ulink> et trouvez le "
"gestionnaire qui correspond à vos besoins."

#. type: Content of: <sect1><sect2><title>
#: lfs-en/chapter08/pkgmgt.xml:46
msgid "Upgrade Issues"
msgstr "Problèmes de mise à jour"

#. type: Content of: <sect1><sect2><para>
#: lfs-en/chapter08/pkgmgt.xml:48
msgid ""
"A Package Manager makes it easy to upgrade to newer versions when they are "
"released. Generally the instructions in the LFS and BLFS books can be used "
"to upgrade to the newer versions. Here are some points that you should be "
"aware of when upgrading packages, especially on a running system."
msgstr ""
"Un gestionnaire de paquets facilite la mise à jour des nouvelles versions au "
"moment de leur sortie. Généralement, les instructions contenues dans les "
"livres LFS et BLFS peuvent être utilisées pour mettre à jour les paquets "
"vers de nouvelles versions. Voici quelques points à connaître pour mettre à "
"jour vos paquets, spécifiquement sur un système en cours de fonctionnement."

#. type: Content of: <sect1><sect2><itemizedlist><listitem><para>
#: lfs-en/chapter08/pkgmgt.xml:55
msgid ""
"If the Linux kernel needs to be upgraded (for example, from 5.10.17 to "
"5.10.18 or 5.11.1), nothing else needs to be rebuilt.  The system will keep "
"working fine thanks to the well-defined interface between the kernel and "
"userspace.  Specifically, Linux API headers need not be (and should not be, "
"see the next item) upgraded along with the kernel.  You will merely need to "
"reboot your system to use the upgraded kernel."
msgstr ""
"Si le noyau Linux doit être mis à jour, et passer par exemple de la version "
"5.10.17 à la version 5.10.18 ou 5.11.1, vous n’avez pas besoin de "
"reconstruire d'autres éléments. Le système continuera de fonctionner "
"correctement grâce à l'interface bien définie entre le noyau et l'espace "
"utilisateur. Plus précisément, les headers de l'API Linux n'ont pas besoin "
"d'être mis à jour (et ne doivent pas l'être, voir le point suivant) en même "
"temps que le noyau. Vous devrez simplement redémarrer votre système pour "
"utiliser le noyau à jour."

#. type: Content of: <sect1><sect2><itemizedlist><listitem><para>
#: lfs-en/chapter08/pkgmgt.xml:65
msgid ""
"If the Linux API headers or Glibc need to be upgraded to a newer version, (e."
"g., from Glibc-2.31 to Glibc-2.32), it is safer to rebuild LFS.  Though you "
"<emphasis>may</emphasis> be able to rebuild all the packages in their "
"dependency order, we do not recommend it."
msgstr ""
"Si les headers de l'API Linux ou de glibc doivent être mis à jour vers une "
"nouvelle version, et passer par exemple de la version glibc-2.31 à "
"glibc-2.32, il est plus sécurisé de reconstruire LFS. Même si vous "
"<emphasis>pourriez</emphasis> être capable de reconstruire tous les paquets "
"dans leur ordre de dépendance, nous vous le déconseillons."

#. type: Content of: <sect1><sect2><itemizedlist><listitem><para>
#: lfs-en/chapter08/pkgmgt.xml:72
msgid ""
"If a package containing a shared library is updated, and if the name of the "
"library changes, then any packages dynamically linked to the library must be "
"recompiled, to link against the newer library.  (Note that there is no "
"correlation between the package version and the name of the library.) For "
"example, consider a package foo-1.2.3 that installs a shared library with "
"the name <filename class='libraryfile'>libfoo.so.1</filename>. Suppose you "
"upgrade the package to a newer version foo-1.2.4 that installs a shared "
"library with the name <filename class='libraryfile'>libfoo.so.2</filename>. "
"In this case, any packages that are dynamically linked to <filename "
"class='libraryfile'>libfoo.so.1</filename> need to be recompiled to link "
"against <filename class='libraryfile'>libfoo.so.2</filename> in order to use "
"the new library version. You should not remove the old libraries until all "
"the dependent packages have been recompiled."
msgstr ""
"Si un paquet contenant une bibliothèque partagée est mis à jour et si le nom "
"de cette dernière est modifié, alors les paquets liés dynamiquement à la "
"bibliothèque devront être recompilés pour être liés à la nouvelle "
"bibliothèque. Notez qu'il n'y a aucune corrélation entre la version du "
"paquet et le nom de la bibliothèque. Par exemple, prenez un paquet foo-1.2.3 "
"qui installe une bibliothèque partagée appelée <filename "
"class='libraryfile'>libfoo.so.1</filename>. Partons du principe que vous "
"mettez à jour le paquet avec une nouvelle version foo-1.2.4 qui installe une "
"bibliothèque partagée appelée <filename class='libraryfile'>libfoo.so.2</"
"filename>. Dans ce cas, tous les paquets liés dynamiquement à <filename "
"class='libraryfile'>libfoo.so.1</filename> doivent être recompilés pour être "
"liés à <filename class='libraryfile'>libfoo.so.2</filename>. Vous ne devez "
"pas supprimer les anciennes bibliothèques avant que les paquets indépendants "
"ne soient tous recompilés."

#. type: Content of: <sect1><sect2><itemizedlist><listitem><para>
#: lfs-en/chapter08/pkgmgt.xml:88
msgid ""
"If a package is (directly or indirectly) linked to both the old and new "
"names of a shared library (for example, the package links to both <filename "
"class='libraryfile'>libfoo.so.2</filename> and <filename "
"class='libraryfile'>libbar.so.1</filename>, while the latter links to "
"<filename class='libraryfile'>libfoo.so.3</filename>), the package may "
"malfunction because the different revisions of the shared library present "
"incompatible definitions for some symbol names. This can be caused by "
"recompiling some, but not all, of the packages linked to the old shared "
"library after the package providing the shared library is upgraded.  To "
"avoid the issue, users will need to rebuild every package linked to a shared "
"library with an updated revision (e.g. libfoo.so.2 to libfoo.so.3) as soon "
"as possible."
msgstr ""
"Si un paquet est (directement ou indirectement) lié à la fois à l'ancien et "
"au nouveau nom d'une bibliothèque partagée (par exemple, le paquet se lie à "
"la fois à <filename class='libraryfile'>libfoo.so.2</filename> et à "
"<filename class='libraryfile'>libbar.so.1</filename>, alors que cette "
"dernière est un lien vers <filename class='libraryfile'>libfoo.so."
"3</filename>), le paquet peut ne pas fonctionner correctement car les "
"différentes versions des bibliothèques partagées fournissent des définitions "
"incompatibles pour certains noms de symboles. Cela peut arriver en "
"recompilant certains paquets, mais en en oubliant d'autres, liés à "
"d'anciennes bibliothèques après la mise à jour du paquet qui fournit la "
"bibliothèque partagée. Pour éviter ce problème, vous devrez recompiler tous "
"les paquets liés à une bibliothèque partagée qui possède une nouvelle "
"révision (p.&nbsp;ex. libfoo.so.2 devient libfoo.so.3) le plus vite possible."

#. type: Content of: <sect1><sect2><itemizedlist><listitem><para>
#: lfs-en/chapter08/pkgmgt.xml:102
msgid ""
"If a package containing a shared library is updated, and the name of the "
"library doesn't change, but the version number of the library <emphasis "
"role=\"bold\">file</emphasis> decreases (for example, the library is still "
"named <filename class='libraryfile'>libfoo.so.1</filename>, but the name of "
"the library file is changed from <filename class='libraryfile'>libfoo."
"so.1.25</filename> to <filename class='libraryfile'>libfoo.so.1.24</"
"filename>), you should remove the library file from the previously installed "
"version (<filename class='libraryfile'>libfoo.so.1.25</filename> in this "
"case).  Otherwise, a <command>ldconfig</command> command (invoked by "
"yourself from the command line, or by the installation of some package) will "
"reset the symlink <filename class='libraryfile'>libfoo.so.1</filename> to "
"point to the old library file because it seems to be a <quote>newer</quote> "
"version; its version number is larger.  This situation may arise if you have "
"to downgrade a package, or if the authors change the versioning scheme for "
"library files."
msgstr ""
"Si vous mettez à jour un paquet qui contient une bibliothèque partagée et "
"que le nom de la bibliothèque ne change pas, mais que le numéro de version "
"du <emphasis role=\"bold\">fichier</emphasis> de la bibliothèque décroît "
"(par exemple le nom reste <filename class='libraryfile'>libfoo.so.1</"
"filename>, mais le nom du fichier de la bibliothèque change de <filename "
"class='libraryfile'>libfoo.so.1.25</filename> à <filename "
"class='libraryfile'>libfoo.so.1.24</filename>), vous devez supprimer le "
"fichier de bibliothèque de la version précédente (<filename "
"class='libraryfile'>libfoo.so.1.25</filename> dans ce cas). Sinon, en "
"exécutant <command>ldconfig</command> manuellement via la ligne de commande, "
"ou en installant un paquet, vous réinitialiserez le lien symbolique "
"<filename class='libraryfile'>libfoo.so.1</filename> vers l'ancien fichier "
"de bibliothèque, car sa version est <quote>plus récente</quote>, puisque le "
"numéro est plus grand. Cette situation arrive quand vous installez une "
"version précédente d'un paquet, ou que l’auteur du paquet change de pratique "
"de nommage des versions."

#. type: Content of: <sect1><sect2><itemizedlist><listitem><para>
#: lfs-en/chapter08/pkgmgt.xml:120
msgid ""
"If a package containing a shared library is updated, and the name of the "
"library doesn't change, but a severe issue (especially, a security "
"vulnerability) is fixed, all running programs linked to the shared library "
"should be restarted.  The following command, run as <systemitem "
"class=\"username\">root</systemitem> after the update is complete, will list "
"which processes are using the old versions of those libraries (replace "
"<replaceable>libfoo</replaceable> with the name of the library):"
msgstr ""
"Si vous mettez à jour un paquet qui contient une bibliothèque partagée et "
"que le nom de la bibliothèque ne change pas, mais qu'un problème important, "
"comme une vulnérabilité de sécurité, est corrigé, tous les programmes en "
"cours d'exécution liés à la bibliothèque partagée doivent être redémarrés. "
"La commande suivante, lancée en tant qu’utilisateur <systemitem "
"class=\"username\">root</systemitem> après la mise à jour, affiche les "
"processus qui utilisent les anciennes versions de ces bibliothèques "
"(remplacez <replaceable>libfoo</replaceable> par le nom de la "
"bibliothèque)&nbsp;:"

#. type: Content of: <sect1><sect2><itemizedlist><listitem><screen>
#: lfs-en/chapter08/pkgmgt.xml:129
#, no-wrap
msgid "<userinput>grep -l '<replaceable>libfoo</replaceable>.*deleted' /proc/*/maps | tr -cd 0-9\\\\n | xargs -r ps u</userinput>"
msgstr "<userinput>grep -l '<replaceable>libfoo</replaceable>.*deleted' /proc/*/maps | tr -cd 0-9\\\\n | xargs -r ps u</userinput>"

#. type: Content of: <sect1><sect2><itemizedlist><listitem><para>
#: lfs-en/chapter08/pkgmgt.xml:132
msgid ""
"If <application>OpenSSH</application> is being used to access the system and "
"it is linked to the updated library, you must restart the <command>sshd</"
"command> service, then logout, login again, and run the preceding command "
"again to confirm that nothing is still using the deleted libraries."
msgstr ""
"Si <application>OpenSSH</application> est utilisé pour accéder au système et "
"qu'il est lié à la bibliothèque mise à jour, vous devez redémarrer le "
"service <command>sshd</command>, vous déconnecter, vous reconnecter et "
"relancer la commande précédente pour confirmer qu’aucun processus n'utilise "
"les bibliothèques supprimées."

#. type: Content of: <sect1><sect2><itemizedlist><listitem><para>
#: lfs-en/chapter08/pkgmgt.xml:140
msgid ""
"If the <command>systemd</command> daemon (running as PID 1) is linked to the "
"updated library, you can restart it without rebooting by running "
"<command>systemctl daemon-reexec</command> as the <systemitem "
"class='username'>root</systemitem> user."
msgstr ""
"Si le démon <command>systemd</command> (qui tourne en tant que PID 1) est "
"lié à une bibliothèque mise à jour, vous pouvez le recharger sans "
"redémarrage en exécutant la commande <command>systemctl daemon-reexec</"
"command> en tant qu'utilisateur <systemitem class='username'>root</"
"systemitem>."

#. type: Content of: <sect1><sect2><itemizedlist><listitem><para>
#: lfs-en/chapter08/pkgmgt.xml:147
msgid ""
"If an executable program or a shared library is overwritten, the processes "
"using the code or data in that program or library may crash.  The correct "
"way to update a program or a shared library without causing the process to "
"crash is to remove it first, then install the new version. The "
"<command>install</command> command provided by <application>coreutils</"
"application> has already implemented this, and most packages use that "
"command to install binary files and libraries.  This means that you won't be "
"troubled by this issue most of the time.  However, the install process of "
"some packages (notably Mozilla JS in BLFS) just overwrites the file if it "
"exists; this causes a crash. So it's safer to save your work and close "
"unneeded running processes before updating a package."
msgstr ""
"Si un programme ou une bibliothèque partagée est écrasé, les processus "
"utilisant le code ou les données du programme ou de la bibliothèque peuvent "
"planter. La bonne manière de mettre à jour un programme ou une bibliothèque "
"partagée sans interruption anormale du processus est de le supprimer "
"d'abord, puis d'installer la nouvelle version. La commande <command>install</"
"command> fournie par <application>coreutils</application> implémente déjà "
"cela et la plupart des paquets l'utilisent pour installer des binaires et "
"des bibliothèques. Cela signifie que vous n'aurez pas ce problème la plupart "
"du temps. Cependant, le processus d'installation de certains paquets, "
"notamment Mozilla JS dans BLFS, se contente de réécrire sur le fichier s'il "
"existe déjà et cause un crash, donc il est plus prudent de sauvegarder votre "
"travail et de fermer les processus inutiles avant de mettre à jour un paquet."

#. type: Content of: <sect1><sect2><title>
#: lfs-en/chapter08/pkgmgt.xml:165
msgid "Package Management Techniques"
msgstr "Techniques de gestion des paquets"

#. type: Content of: <sect1><sect2><para>
#: lfs-en/chapter08/pkgmgt.xml:167
msgid ""
"The following are some common package management techniques. Before making a "
"decision on a package manager, do some research on the various techniques, "
"particularly the drawbacks of each particular scheme."
msgstr ""
"Voici une liste des techniques les plus courantes en gestion de paquets. "
"Avant de choisir un gestionnaire de paquets, cherchez les différentes "
"techniques et notamment les points faibles de chaque système."

#. type: Content of: <sect1><sect2><sect3><title>
#: lfs-en/chapter08/pkgmgt.xml:172
msgid "It is All in My Head!"
msgstr "Tout est dans ma tête&nbsp;!"

#. type: Content of: <sect1><sect2><sect3><para>
#: lfs-en/chapter08/pkgmgt.xml:174
msgid ""
"Yes, this is a package management technique. Some folks do not need a "
"package manager because they know the packages intimately and know which "
"files are installed by each package. Some users also do not need any package "
"management because they plan on rebuilding the entire system whenever a "
"package is changed."
msgstr ""
"Oui, c'est une technique de gestion des paquets. Certains n'ont pas besoin "
"d'un gestionnaire de paquets parce qu'ils connaissent très bien les paquets "
"et connaissent les fichiers installés pour chaque paquet. D’autres n'en ont "
"pas besoin parce qu'ils planifient la reconstruction entière de LFS dès "
"qu'un paquet est modifié."

#. type: Content of: <sect1><sect2><sect3><title>
#: lfs-en/chapter08/pkgmgt.xml:183
msgid "Install in Separate Directories"
msgstr "Installation dans des répertoires distincts"

#. type: Content of: <sect1><sect2><sect3><para>
#: lfs-en/chapter08/pkgmgt.xml:185
msgid ""
"This is a simplistic package management technique that does not need a "
"special program to manage the packages. Each package is installed in a "
"separate directory. For example, package foo-1.1 is installed in <filename "
"class='directory'>/usr/pkg/foo-1.1</filename> and a symlink is made from "
"<filename>/usr/pkg/foo</filename> to <filename class='directory'>/usr/pkg/"
"foo-1.1</filename>. When a new version foo-1.2 comes along, it is installed "
"in <filename class='directory'>/usr/pkg/foo-1.2</filename> and the previous "
"symlink is replaced by a symlink to the new version."
msgstr ""
"C'est une technique de gestion des paquets simple qui ne nécessite aucun "
"paquet supplémentaire pour gérer les installations. Chaque paquet est "
"installé dans un répertoire distinct. Par exemple, le paquet foo-1.1 est "
"installé dans <filename class='directory'>/usr/pkg/foo-1.1</filename> et un "
"lien symbolique est créé depuis <filename>/usr/pkg/foo</filename> vers "
"<filename class='directory'>/usr/pkg/foo-1.1</filename>. Lors de la mise à "
"jour vers la nouvelle version foo-1.2, elle est installée dans <filename "
"class='directory'>/usr/pkg/foo-1.2</filename> et l'ancien lien symbolique "
"est remplacé par le lien symbolique qui mène à la nouvelle version."

#. type: Content of: <sect1><sect2><sect3><para>
#: lfs-en/chapter08/pkgmgt.xml:195
msgid ""
"Environment variables such as <envar>PATH</envar>, <envar>LD_LIBRARY_PATH</"
"envar>, <envar>MANPATH</envar>, <envar>INFOPATH</envar> and <envar>CPPFLAGS</"
"envar> need to be expanded to include <filename>/usr/pkg/foo</filename>. If "
"you install more than a few packages, this scheme becomes unmanageable."
msgstr ""
"Les variables d'environnement telles que <envar>PATH</envar>, "
"<envar>LD_LIBRARY_PATH</envar>, <envar>MANPATH</envar>, <envar>INFOPATH</"
"envar> et <envar>CPPFLAGS</envar> ont besoin d'être étendues pour inclure "
"<filename>/usr/pkg/foo</filename>. Si vous installez beaucoup de paquets, ce "
"système devient ingérable."

#. type: Content of: <sect1><sect2><sect3><title>
#: lfs-en/chapter08/pkgmgt.xml:204
msgid "Symlink Style Package Management"
msgstr "Gestion de paquets par lien symbolique"

#. type: Content of: <sect1><sect2><sect3><para>
#: lfs-en/chapter08/pkgmgt.xml:206
msgid ""
"This is a variation of the previous package management technique.  Each "
"package is installed as in the previous scheme. But instead of making the "
"symlink via a generic package name, each file is symlinked into the "
"<filename class='directory'>/usr</filename> hierarchy. This removes the need "
"to expand the environment variables. Though the symlinks can be created by "
"the user, many package managers use this approach, and automate the creation "
"of the symlinks. A few of the popular ones include Stow, Epkg, Graft, and "
"Depot."
msgstr ""
"Il s’agit d’une variante de la technique précédente. Chaque paquet est "
"installé de façon similaire au système précédent. Mais au lieu de créer le "
"lien symbolique avec un nom générique pour chaque paquet, chaque fichier "
"dispose d'un lien symbolique dans la hiérarchie <filename class='directory'>/"
"usr</filename>. Il n’y a alors plus besoin d'étendre les variables "
"d'environnement. Même si les liens symboliques peuvent être créés par "
"l'utilisateur, beaucoup de gestionnaires de paquets utilisent cette approche "
"pour automatiser la création de liens symboliques. Parmi les plus "
"populaires, on retrouve Stow, Epkg, Graft et Depot."

#. type: Content of: <sect1><sect2><sect3><para>
#: lfs-en/chapter08/pkgmgt.xml:215
msgid ""
"The installation script needs to be fooled, so the package thinks it is "
"installed in <filename class=\"directory\">/usr</filename> though in reality "
"it is installed in the <filename class=\"directory\">/usr/pkg</filename> "
"hierarchy. Installing in this manner is not usually a trivial task. For "
"example, suppose you are installing a package libfoo-1.1. The following "
"instructions may not install the package properly:"
msgstr ""
"Le script d'installation doit être faussé de façon à ce que chaque paquet "
"pense qu'il est installé dans le répertoire <filename class=\"directory\">/"
"usr</filename>, alors qu'en réalité il est installé dans l'arborescence "
"<filename class=\"directory\">/usr/pkg</filename>. Réaliser l’installation "
"de cette manière n'est généralement pas tâche aisée. Par exemple, supposons "
"que vous installez un paquet libfoo-1.1. Les instructions suivantes peuvent "
"ne pas installer correctement le paquet&nbsp;:"

#. type: Content of: <sect1><sect2><sect3><screen>
#: lfs-en/chapter08/pkgmgt.xml:223
#, no-wrap
msgid ""
"<userinput>./configure --prefix=/usr/pkg/libfoo/1.1\n"
"make\n"
"make install</userinput>"
msgstr ""
"<userinput>./configure --prefix=/usr/pkg/libfoo/1.1\n"
"make\n"
"make install</userinput>"

#. type: Content of: <sect1><sect2><sect3><para>
#: lfs-en/chapter08/pkgmgt.xml:227
msgid ""
"The installation will work, but the dependent packages may not link to "
"libfoo as you would expect. If you compile a package that links against "
"libfoo, you may notice that it is linked to <filename class='libraryfile'>/"
"usr/pkg/libfoo/1.1/lib/libfoo.so.1</filename> instead of <filename "
"class='libraryfile'>/usr/lib/libfoo.so.1</filename> as you would expect. The "
"correct approach is to use the <envar>DESTDIR</envar> variable to direct the "
"installation. This approach works as follows:"
msgstr ""
"L'installation fonctionnera, mais les paquets dépendants peuvent ne pas se "
"lier à libfoo de la manière prévue. Si vous compilez un paquet lié à libfoo, "
"vous verrez que qu’il est aussi lié à <filename class='libraryfile'>/usr/pkg/"
"libfoo/1.1/lib/libfoo.so.1</filename> au lieu de <filename "
"class='libraryfile'>/usr/lib/libfoo.so.1</filename> comme attendu. La bonne "
"approche consiste à utiliser la stratégie <envar>DESTDIR</envar> pour "
"diriger l'installation du paquet. Cette approche fonctionne ainsi&nbsp;:"

#. type: Content of: <sect1><sect2><sect3><screen>
#: lfs-en/chapter08/pkgmgt.xml:236
#, no-wrap
msgid ""
"<userinput>./configure --prefix=/usr\n"
"make\n"
"make DESTDIR=/usr/pkg/libfoo/1.1 install</userinput>"
msgstr ""
"<userinput>./configure --prefix=/usr\n"
"make\n"
"make DESTDIR=/usr/pkg/libfoo/1.1 install</userinput>"

#. type: Content of: <sect1><sect2><sect3><para>
#: lfs-en/chapter08/pkgmgt.xml:240
msgid ""
"Most packages support this approach, but there are some which do not.  For "
"the non-compliant packages, you may either need to install the package "
"manually, or you may find that it is easier to install some problematic "
"packages into <filename class='directory'>/opt</filename>."
msgstr ""
"La plupart des paquets prennent en charge cette approche, mais elle pose "
"problème à certains utilisateurs. Pour les paquets non compatibles, vous "
"pouvez soit les installer manuellement, soit opter pour une méthode plus "
"simple en installant les paquets posant problème dans <filename "
"class='directory'>/opt</filename>."

#. type: Content of: <sect1><sect2><sect3><title>
#: lfs-en/chapter08/pkgmgt.xml:248
msgid "Timestamp Based"
msgstr "Basé sur l’horodatage"

#. type: Content of: <sect1><sect2><sect3><para>
#: lfs-en/chapter08/pkgmgt.xml:250
msgid ""
"In this technique, a file is timestamped before the installation of the "
"package. After the installation, a simple use of the <command>find</command> "
"command with the appropriate options can generate a log of all the files "
"installed after the timestamp file was created. A package manager that uses "
"this approach is install-log."
msgstr ""
"Avec cette technique, un fichier est horodaté avant l'installation du "
"paquet. Après l'installation, une simple exécution de la commande "
"<command>find</command> avec les options appropriées peut générer une trace "
"de tous les fichiers installés après la création du fichier horodaté. Le "
"gestionnaire de paquets install-log utilise ce système."

#. type: Content of: <sect1><sect2><sect3><para>
#: lfs-en/chapter08/pkgmgt.xml:256
msgid ""
"Though this scheme has the advantage of being simple, it has two drawbacks. "
"If, during installation, the files are installed with any timestamp other "
"than the current time, those files will not be tracked by the package "
"manager. Also, this scheme can only be used when packages are installed one "
"at a time. The logs are not reliable if two packages are installed "
"simultaneously from two different consoles."
msgstr ""
"Bien que ce schéma ait l'avantage d'être simple, il a deux inconvénients. Si "
"à l'installation les fichiers sont installés dans autre horodatage que celui "
"de l'heure actuelle, ils ne seront pas suivis par le gestionnaire de "
"paquets. De plus, ce système peut être utilisé seulement lorsqu'un seul "
"paquet est installé à la fois. Les traces ne sont pas fiables si deux "
"paquets sont installés depuis deux consoles différentes."

#. type: Content of: <sect1><sect2><sect3><title>
#: lfs-en/chapter08/pkgmgt.xml:266
msgid "Tracing Installation Scripts"
msgstr "Tracer les scripts d'installation"

#. type: Content of: <sect1><sect2><sect3><para>
#: lfs-en/chapter08/pkgmgt.xml:268
msgid ""
"In this approach, the commands that the installation scripts perform are "
"recorded.  There are two techniques that one can use:"
msgstr ""
"Avec cette approche, les commandes que les scripts d'installation exécutent "
"sont enregistrées. Il existe deux techniques&nbsp;:"

#. type: Content of: <sect1><sect2><sect3><para>
#: lfs-en/chapter08/pkgmgt.xml:271
msgid ""
"The <envar>LD_PRELOAD</envar> environment variable can be set to point to a "
"library to be preloaded before installation.  During installation, this "
"library tracks the packages that are being installed by attaching itself to "
"various executables such as <command>cp</command>, <command>install</"
"command>, <command>mv</command> and tracking the system calls that modify "
"the filesystem. For this approach to work, all the executables need to be "
"dynamically linked without the suid or sgid bit.  Preloading the library may "
"cause some unwanted side-effects during installation. Therefore, it's a good "
"idea to perform some tests to ensure that the package manager does not break "
"anything, and that it logs all the appropriate files."
msgstr ""
"Vous pouvez initialiser la variable d'environnement <envar>LD_PRELOAD</"
"envar> pour qu'elle pointe vers une bibliothèque à précharger avant "
"l'installation. Lors de l'installation de cette dernière, la bibliothèque "
"trace les paquets en cours d'installation en s'attachant aux différents "
"exécutables comme <command>cp</command>, <command>install</command>, "
"<command>mv</command> et trace les appels système qui modifient le système "
"de fichiers. Pour que cette approche fonctionne, tous les exécutables ont "
"besoin d'être liés dynamiquement sans bit suid ou sgid. Le préchargement de "
"la bibliothèque peut provoquer des effets secondaires indésirables lors de "
"l'installation&nbsp;; effectuez donc quelques tests pour vous assurer que le "
"gestionnaire de paquets n’endommage rien et trace bien les fichiers "
"nécessaires."

#. type: Content of: <sect1><sect2><sect3><para>
#: lfs-en/chapter08/pkgmgt.xml:283
msgid ""
"Another technique is to use <command>strace</command>, which logs all the "
"system calls made during the execution of the installation scripts."
msgstr ""
"La seconde technique consiste à utiliser la commande <command>strace</"
"command>, qui trace tous les appels du système effectués pendant l'exécution "
"des scripts d'installation."

#. type: Content of: <sect1><sect2><sect3><title>
#: lfs-en/chapter08/pkgmgt.xml:289
msgid "Creating Package Archives"
msgstr "Créer des archives de paquets"

#. type: Content of: <sect1><sect2><sect3><para>
#: lfs-en/chapter08/pkgmgt.xml:291
msgid ""
"In this scheme, the package installation is faked into a separate tree as "
"previously described in the symlink style package management section. After "
"the installation, a package archive is created using the installed files.  "
"This archive is then used to install the package on the local machine or "
"even on other machines."
msgstr ""
"Dans ce système, l'installation d'un paquet est déplacé pour de faux dans un "
"répertoire séparé comme décrit plus haut. Après l'installation, une archive "
"du paquet est créée grâce aux fichiers installés. L'archive est ensuite "
"utilisée pour installer le paquet, soit sur la machine locale, soit sur "
"d'autres machines."

#. type: Content of: <sect1><sect2><sect3><para>
#: lfs-en/chapter08/pkgmgt.xml:297
msgid ""
"This approach is used by most of the package managers found in the "
"commercial distributions. Examples of package managers that follow this "
"approach are RPM (which, incidentally, is required by the <ulink "
"url=\"https://refspecs.linuxfoundation.org/lsb.shtml\">Linux Standard Base "
"Specification</ulink>), pkg-utils, Debian's apt, and Gentoo's Portage "
"system.  A hint describing how to adopt this style of package management for "
"LFS systems is located at <ulink url=\"&hints-root;fakeroot.txt\"/>."
msgstr ""
"Cette approche est utilisée par la plupart des gestionnaires de paquets "
"trouvés dans les distributions commerciales. Les exemples de gestionnaires "
"qui suivent cette approche sont RPM, qui d'ailleurs est requis par la <ulink "
"url=\"https://refspecs.linuxfoundation.org/lsb.shtml\">Spécification de base "
"de Linux Standard</ulink>, pkg-utils, apt de Debian et le système de portage "
"de Gentoo. Une astuce montrant comment adopter ce style de gestion de "
"paquets pour les systèmes LFS se trouve ici&nbsp;: <ulink url=\"http://www."
"fr.linuxfromscratch.org/view/astuces/fakeroot-fr.txt\"/>."

#. type: Content of: <sect1><sect2><sect3><para>
#: lfs-en/chapter08/pkgmgt.xml:306
msgid ""
"The creation of package files that include dependency information is "
"complex, and beyond the scope of LFS."
msgstr ""
"La création de fichiers de paquet qui incluent des informations de "
"dépendance est complexe et va au-delà de l'objectif de LFS."

#. type: Content of: <sect1><sect2><sect3><para>
#: lfs-en/chapter08/pkgmgt.xml:309
msgid ""
"Slackware uses a <command>tar</command>-based system for package archives.  "
"This system purposely does not handle package dependencies as more complex "
"package managers do.  For details of Slackware package management, see "
"<ulink url=\"https://www.slackbook.org/html/package-management.html\"/>."
msgstr ""
"Slackware utilise un système basé sur <command>tar</command> pour les "
"archives de paquets. Ce système ne gère volontairement pas les dépendances "
"de paquets car d'autres gestionnaires de paquets plus complexes le font. "
"Pour plus d’informations sur la gestion des paquets, voir <ulink "
"url=\"https://www.slackbook.org/html/package-management.html\"/>."

#. type: Content of: <sect1><sect2><sect3><title>
#: lfs-en/chapter08/pkgmgt.xml:317
msgid "User Based Management"
msgstr "Gestion basée sur les utilisateurs"

#. type: Content of: <sect1><sect2><sect3><para>
#: lfs-en/chapter08/pkgmgt.xml:319
msgid ""
"This scheme, unique to LFS, was devised by Matthias Benkmann, and is "
"available from the <ulink url=\"&hints-root;\">Hints Project</ulink>. In "
"this scheme, each package is installed as a separate user into the standard "
"locations. Files belonging to a package are easily identified by checking "
"the user ID. The features and shortcomings of this approach are too complex "
"to describe in this section. For the details please see the hint at <ulink "
"url=\"&hints-root;more_control_and_pkg_man.txt\"/>."
msgstr ""
"Cette méthode, unique à LFS, a été décrite par Matthias Benkmann et est "
"disponible sur le <ulink url=\"&hints-root;\">Hints Project</ulink>. Selon "
"cette méthode, chaque paquet est installé en tant qu'utilisateur séparé dans "
"les emplacements standards. Les fichiers appartenant à un paquet sont "
"facilement identifiables grâce à l'identifiant de l'utilisateur. Les "
"avantages et inconvénients de cette approche sont trop complexes pour "
"pouvoir tous les décrire dans cette section. Pour plus d’informations, voir "
"l'astuce sur <ulink url=\"http://www.fr.linuxfromscratch.org/view/astuces/"
"gestionnaire-paquets-utilisateur.txt\"/>."

#. type: Content of: <sect1><sect2><title>
#: lfs-en/chapter08/pkgmgt.xml:332
msgid "Deploying LFS on Multiple Systems"
msgstr "Déployer LFS sur plusieurs systèmes"

#.  D. Bryant created LFS 11.2 in October 2022; 900MB is (roughly) the size of his rsync archive. 
#. type: Content of: <sect1><sect2><para>
#: lfs-en/chapter08/pkgmgt.xml:334
msgid ""
"One of the advantages of an LFS system is that there are no files that "
"depend on the position of files on a disk system.  Cloning an LFS build to "
"another computer with the same architecture as the base system is as simple "
"as using <command>tar</command> on the LFS partition that contains the root "
"directory (about 900MB uncompressed for a basic LFS build), copying that "
"file via network transfer or CD-ROM / USB stick to the new system, and "
"expanding it.  After that, a few configuration files will have to be "
"changed.  Configuration files that may need to be updated include: "
"<filename>/etc/hosts</filename>, <filename>/etc/fstab</filename>, <filename>/"
"etc/passwd</filename>, <filename>/etc/group</filename>, <phrase "
"revision=\"systemd\"> <filename>/etc/shadow</filename>, and <filename>/etc/"
"ld.so.conf</filename>.  </phrase> <phrase revision=\"sysv\"> <filename>/etc/"
"shadow</filename>, <filename>/etc/ld.so.conf</filename>, <filename>/etc/"
"sysconfig/rc.site</filename>, <filename>/etc/sysconfig/network</filename>, "
"and <filename>/etc/sysconfig/ifconfig.eth0</filename>.  </phrase>"
msgstr ""
"Le fait qu’il n'y ait pas de fichiers dépendants de la position des fichiers "
"sur un système de disque est l’un des avantages du système LFS. Cloner la "
"construction d'un système LFS sur un autre ordinateur avec une architecture "
"similaire au système de base se résume à utiliser la commande <command>tar</"
"command> sur la partition LFS qui contient le répertoire racine (environ "
"900&nbsp;Mo décompressés pour une construction LFS de base), en copiant ce "
"fichier via un transfert par réseau ou par CD-ROM ou clé USB vers le nouveau "
"système et en le décompressant. Vous devez ensuite modifier quelques "
"fichiers de configuration. Les fichiers de configuration qui nécessitent une "
"mise à jour comprennent&nbsp;: <filename>/etc/hosts</filename>, <filename>/"
"etc/fstab</filename>, <filename>/etc/passwd</filename>, <filename>/etc/"
"group</filename>, <phrase revision=\"systemd\"> <filename>/etc/shadow</"
"filename>, <filename>/etc/ld.so.conf</filename>, </phrase> <phrase "
"revision=\"sysv\"><filename>/etc/shadow</filename>, <filename>/etc/ld.so."
"conf</filename>, <filename>/etc/sysconfig/rc.site</filename>, <filename>/etc/"
"sysconfig/network</filename>, et <filename>/etc/sysconfig/ifconfig.eth0</"
"filename>.</phrase>"

#. type: Content of: <sect1><sect2><para>
#: lfs-en/chapter08/pkgmgt.xml:360
msgid ""
"A custom kernel may be needed for the new system, depending on differences "
"in system hardware and the original kernel configuration."
msgstr ""
"Vous pouvez construire un noyau personnalisé pour le nouveau système selon "
"les différences dans le système matériel et la configuration du noyau "
"initial."

#. type: Content of: <sect1><sect2><note><para>
#: lfs-en/chapter08/pkgmgt.xml:364
msgid ""
"There have been some reports of issues when copying between similar but not "
"identical architectures. For instance, the instruction set for an Intel "
"system is not identical with the AMD processor's instructions, and later "
"versions of some processors may provide instructions that are unavailable "
"with earlier versions."
msgstr ""
"Quelques problèmes ont été rapportés lors de la copie entre architectures "
"similaires mais pas identiques. Par exemple, l'ensemble d'instructions pour "
"l'architecture Intel n'est pas identique à celle d’un processeur AMD et les "
"versions plus récentes de certains processeurs peuvent avoir des "
"instructions qui ne sont pas disponibles pour des versions antérieures."

#. type: Content of: <sect1><sect2><para>
#: lfs-en/chapter08/pkgmgt.xml:370
msgid ""
"Finally, the new system has to be made bootable via <xref linkend=\"ch-"
"bootable-grub\"/>."
msgstr ""
"Enfin, vous devez rendre le nouveau système démarrable via <xref "
"linkend=\"ch-bootable-grub\"/>."
