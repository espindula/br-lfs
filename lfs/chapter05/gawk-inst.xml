<sect2>
<title>Installation de Gawk</title>

<para>Avertissement: ne lancez PAS <userinput>make uninstall</userinput>
Pour ce package si vous avez utilisé la patch <emphasis>sed</emphasis>
pour changer la définition du répertoire
<filename class="directory">libexec</filename>La règle
<emphasis>uninstall</emphasis> dans le fichier <filename>Makefile</filename>
lance une commande comme <userinput>rm -rf
&lt;libexecdir&gt;/*</userinput>. Comme nous changeons le répertoire
<filename class="directory">libexec</filename> en <filename
class="directory">/usr/bin</filename>, cela exécuterait un
<userinput>rm -rf /usr/bin/*</userinput>.</para>

<para>Si vous installez Gawk en utilisant glibc-2.1.x sur votre système de
bas, il peut être nécessaire d'utiliser une correction pour prévenir un
conflit de nom de variable. Les commandes suivantes peuvent être utilisées
dans ce cas. Notez que ces commandes peuvent aussi être utilisées pour
d'autres versions anciennes de glibc, donc, si vous n'êtes pas sûr,
utilisez la première version.</para>

<para><screen><userinput>cp awklib/Makefile.in awklib/Makefile.in.backup &amp;&amp;
sed -e '/^datadir/s/awk/gawk/' \
-e '/^libexecdir/s%/awk%%' awklib/Makefile.in.backup \
&nbsp;&nbsp;&nbsp;&gt; awklib/Makefile.in &amp;&amp;
export CPPFLAGS=-Dre_max_failures=re_max_failures2 &amp;&amp;
./configure --prefix=$LFS/usr --disable-nls \
&nbsp;&nbsp;&nbsp;--libexecdir=$LFS/usr/bin &amp;&amp;
unset CPPFLAGS &amp;&amp;
make LDFLAGS=-static &amp;&amp;
make install</userinput></screen></para>

<para>Si vous utilisez une version récente de glibc (2.2.x), vous pouvez utiliser
les commandes suivantes pour installer Gawk:</para>

<para><screen><userinput>cp awklib/Makefile.in awklib/Makefile.in.backup &amp;&amp;
sed -e '/^datadir/s/awk/gawk/' \
-e '/^libexecdir/s%/awk%%' awklib/Makefile.in.backup \
&nbsp;&nbsp;&nbsp;&gt; awklib/Makefile.in &amp;&amp;
./configure --prefix=$LFS/usr --disable-nls \
&nbsp;&nbsp;&nbsp;--libexecdir=$LFS/usr/bin &amp;&amp;
make LDFLAGS=-static &amp;&amp;
make install</userinput></screen></para>

</sect2>

