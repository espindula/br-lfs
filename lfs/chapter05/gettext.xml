<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
  "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../general.ent">
  %general-entities;
]>

<sect1 id="ch-tools-gettext" role="wrap">
  <?dbhtml filename="gettext.html"?>

  <sect1info condition="script">
    <productname>gettext</productname>
    <productnumber>&gettext-version;</productnumber>
    <address>&gettext-url;</address>
  </sect1info>

  <title>Gettext-&gettext-version;</title>

  <indexterm zone="ch-tools-gettext">
    <primary sortas="a-Gettext">Gettext</primary>
    <secondary>outils</secondary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
    href="../chapter06/gettext.xml"
    xpointer="xpointer(/sect1/sect2[1]/para[1])"/>

    <segmentedlist>
      <segtitle>&buildtime;</segtitle>
      <segtitle>&diskspace;</segtitle>

      <seglistitem>
        <seg>&gettext-ch5-sbu;</seg>
        <seg>&gettext-ch5-du;</seg>
      </seglistitem>
    </segmentedlist>

  </sect2>

  <sect2 role="installation">
    <title>Installation de Gettext</title>

    <para>Pour notre paramétrage temporaire des outils, nous n'avons besoin de
    compiler et d'installer qu'un binaire de Gettext.</para>

    <para>Corrigez une incompatibilité entre ce paquet et Glibc-&glibc-version;&nbsp;:</para>

<screen><userinput remap="pre">sed -i -e '/gets is a/d' gettext-*/*/stdio.in.h</userinput></screen>

    <para>Préparez la compilation de Gettext&nbsp;:</para>

<screen><userinput remap="configure">cd gettext-tools
EMACS="no" ./configure --prefix=/tools --disable-shared</userinput></screen>

    <variablelist>
      <title>Voici la signification des options de configure&nbsp;:</title>

      <varlistentry>
       <term><parameter>EMACS="no"</parameter></term>
        <listitem>
          <para>Ceci empêche le script configure de déterminer où
          installer les fichiers Lisp d'Emacs vu que le test est connu pour
          çchouer sur certains hôtes.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><parameter>--disable-shared</parameter></term>
        <listitem>
          <para>Nous n'avons besoin d'installer aucune bibliothèque partagée de
          Gettext pour le moment, donc ce n'est pas nécessaire de les compiler.</para>
        </listitem>
      </varlistentry>

    </variablelist>

    <para>Compilez le paquet&nbsp;:</para>

<screen><userinput remap="make">make -C gnulib-lib
make -C src msgfmt</userinput></screen>

    <para>Comme seul un binaire a été compilé, ce n'est pas possible 
    d'exécuter la suite de tests sans compiler des bibliothèques de support
    complémentaires du paquet Gettext. Il n'est donc pas recommandé d'essayer
    d'exécuter la suite de tests à cette étape.</para>

    <para>Installez le binaire <command>msgfmt</command>&nbsp;:</para>

<screen><userinput remap="install">cp -v src/msgfmt /tools/bin</userinput></screen>

  </sect2>

  <sect2 role="content">
    <title/>

    <para>Les détails sur ce paquet sont situés dans
    <xref linkend="contents-gettext" role="."/></para>

  </sect2>

</sect1>
