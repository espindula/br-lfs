<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
  "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../general.ent">
  %general-entities;
]>

<sect1 id="ch-tools-tcl" role="wrap">
  <?dbhtml filename="tcl.html"?>

   <sect1info condition="script">
     <productname>tcl</productname>
     <productnumber>&tcl-version;</productnumber>
     <address>&tcl-url;</address>
   </sect1info>

  <title>Tcl-&tcl-version;</title>

  <indexterm zone="ch-tools-tcl">
    <primary sortas="a-Tcl">Tcl</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

       <para>Le paquet Tcl contient le langage de commandes des outils.</para>

    <segmentedlist>
      <segtitle>&buildtime;</segtitle>
      <segtitle>&diskspace;</segtitle>

      <seglistitem>
        <seg>&tcl-ch5-sbu;</seg>
        <seg>&tcl-ch5-du;</seg>
      </seglistitem>
    </segmentedlist>

  </sect2>

  <sect2 role="installation">
    <title>Installation de Tcl</title>

    <para>Ce paquet et les deux suivants (Expect et DejaGNU) sont installés
    uniquement pour supporter les suites de tests de GCC et Binutils.
    Installer ces trois paquets dans un but de tests pourrait sembler
    excessif mais c'est très rassurant, voire essentiel, de savoir que les
    outils les plus importants fonctionnent correctement. Même si les suites
    de tests ne sont pas exécutées dans ce chapitre (elles ne sont pas
    obligatoires), ces paquets sont nécessaires pour lancer les suites de
    tests du <xref linkend="chapter-building-system"/>.</para>

    <para>Préparez la compilation de Tcl&nbsp;:</para>

<screen><userinput remap="configure">cd unix
./configure --prefix=/tools</userinput></screen>

    <para>Construisez le paquet&nbsp;:</para>

<screen><userinput remap="make">make</userinput></screen>

    <para>Pour tester les résultats, lancez&nbsp;:</para>
    
    <screen><userinput remap="test">TZ=UTC make test</userinput></screen>

    <para>La suite de tests de Tcl
    est connue pour ses échecs sous certaines conditions concernant l'hôte,
    conditions qu'on ne comprend pas toujours. Du coup, des échecs de la suite 
    de tests ne sont pas surprenants ici et ne doivent pas être considérés comme critiques. Le
    paramètre <parameter>TZ=UTC</parameter>  initialise le fuseau horaire avec 
    le temps universel coordonné (<foreignphrase>Coordinated
    Universal Time</foreignphrase> soit l'UTC) connu aussi sous le nom de Greenwich Mean Time
    (GMT), mais seulement pour
    la durée de l'exécution de la suite de tests. Ceci nous assure que les tests
    d'horloge fonctionneront correctement. Des détails sur la variable
    d'environnement <envar>TZ</envar> sont fournis dans
    <xref linkend="chapter-bootscripts"/>.</para>

    <para>Installez le paquet&nbsp;:</para>

<screen><userinput remap="install">make install</userinput></screen>

    <para>Installez les en-têtes de Tcl, le prochain paquet, Expect, en a
    besoin pour se construire.</para>

<screen><userinput remap="install">make install-private-headers</userinput></screen>

    <para>Maintenant, ajoutez un lien symbolique nécessaire&nbsp;:</para>

<screen><userinput remap="install">ln -sv tclsh8.5 /tools/bin/tclsh</userinput></screen>
</screen>

  </sect2>

  <sect2 id="contents-tcl" role="content">
    <title>Contenu de Tcl</title>

    <segmentedlist>
      <segtitle>Programmes installés</segtitle>
      <segtitle>Bibliothèque installée</segtitle>

      <seglistitem>
        <seg>tclsh (lien vers tclsh8.5) et tclsh8.5</seg>
        <seg>libtcl8.5</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Descriptions courtes</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="tclsh8.5">
        <term><command>tclsh8.5</command></term>
        <listitem>
          <para>Le shell de commandes Tcl</para>
          <indexterm zone="ch-tools-tcl tclsh8.5">
            <primary sortas="b-tclsh8.5">tclsh8.5</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="tclsh">
        <term><command>tclsh</command></term>
        <listitem>
          <para>Un lien vers tclsh8.5</para>
          <indexterm zone="ch-tools-tcl tclsh">
            <primary sortas="b-tclsh">tclsh</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libtcl8.5.so">
        <term><filename class="libraryfile">libtcl8.5.so</filename></term>
        <listitem>
          <para>La bibliothèque Tcl</para>
          <indexterm zone="ch-tools-tcl libtcl8.5.so">
            <primary sortas="c-libtcl8.5.so">libtcl8.5.so</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
