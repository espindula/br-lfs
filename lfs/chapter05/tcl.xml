<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN" "http://www.oasis-open.org/docbook/xml/4.3/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../general.ent">
  %general-entities;
]>
<sect1 id="ch-tools-tcl" role="wrap">
<title>Tcl-&tcl-version;</title>
<?dbhtml filename="tcl.html"?>

<indexterm zone="ch-tools-tcl"><primary sortas="a-Tcl">Tcl</primary></indexterm>

<sect2 role="package"><title/>
<para>Le paquet Tcl contient le langage de commandes des outils
(<foreignphrase>Tool Command Language</foreignphrase>).</para>

<segmentedlist>
<segtitle>&buildtime;</segtitle>
<segtitle>&diskspace;</segtitle>
<seglistitem><seg>0,9&nbsp;SBU</seg><seg>23,3&nbsp;Mo</seg></seglistitem>
</segmentedlist>

<segmentedlist>
<segtitle>&dependencies;</segtitle>
<seglistitem><seg>Bash, Binutils, Coreutils, Diffutils,
GCC, Glibc, Grep, Make et Sed</seg></seglistitem>
</segmentedlist>

</sect2>

<sect2 role="installation">
<title>Installation de Tcl</title>

<para>Ce paquet et les deux suivants (Expect et DejaGNU) sont installés
pour permettre l'exécution des suites de tests de GCC et Binutils. Installer
trois paquets uniquement pour réaliser des tests pourrait sembler excessif mais il est 
rassurant, voire essentiel, de s'assurer que ces outils fondamentaux  
fonctionnent correctement. Même si les suites de tests ne sont pas exécutées dans
ce chapitre (elles ne sont pas obligatoires), ces paquets seront nécessaires pour
lancer les suites de tests du <xref linkend="chapter-building-system"/>.</para>

<para>Préparez la compilation de Tcl&nbsp;:</para>

<screen><userinput>cd unix
./configure --prefix=/tools</userinput></screen>

<para>Compilez le paquet&nbsp;:</para>

<screen><userinput>make</userinput></screen>

<para>Pour tester le résultat, exécutez&nbsp;:
<userinput>TZ=UTC make test</userinput>. La suite de tests de Tcl
est connue pour échouer sous certaines conditions mal déterminées.
De ce fait, d'éventuels échecs de la suite de tests ne
sont pas surprenants ici et ne doivent pas être considérés comme critiques. Le
paramètre <parameter>TZ=UTC</parameter> nous place dans le fuseau horaire du
temps universel coordonné (<foreignphrase>Coordinated Universal
Time</foreignphrase> soit l'UTC) connu aussi sous le nom de
<foreignphrase>Greenwich Mean Time</foreignphrase> (GMT), mais seulement pour
la durée de l'exécution de la suite de tests. Ceci nous assure que les tests
d'horloge fonctionneront correctement. Des détails sur la variable
d'environnement <envar>TZ</envar> sont fournis dans <xref
linkend="chapter-bootscripts"/>.</para>

<para>Installez le paquet&nbsp;:</para>

<screen><userinput>make install</userinput></screen>

<warning><para><emphasis>Ne supprimez pas encore</emphasis> le répertoire des
sources <filename class="directory">tcl&tcl-version;</filename> car le paquet suivant a
besoin de ces en-têtes.</para></warning>

<para>Créez une variable contenant le chemin complet du répertoire actuel.
Le prochain paquetage, Expect, utilisera cette variable pour trouver les en-têtes
de Tcl.</para>

<screen><userinput>cd ..
export TCLPATH=`pwd`</userinput></screen>

<para>Maintenant, créez un lien symbolique nécessaire&nbsp;:</para>

<screen><userinput>ln -sv tclsh8.4 /tools/bin/tclsh</userinput></screen>

<beginpage/>

</sect2>

<sect2 id="contents-tcl" role="content"><title>Contenu de Tcl</title>

<segmentedlist>
<segtitle>Programmes installés</segtitle>
<segtitle>Bibliothèque installée</segtitle>
<seglistitem><seg>tclsh (lien vers tclsh8.4) et tclsh8.4</seg><seg>libtcl8.4.so</seg></seglistitem>
</segmentedlist>

<variablelist><bridgehead renderas="sect3">Descriptions courtes</bridgehead>
<?dbfo list-presentation="list"?>
<?dbhtml list-presentation="table"?>

<varlistentry id="tclsh8.4">
<term><command>tclsh8.4</command></term>
<listitem>
<para>Le shell de commandes Tcl</para>
<indexterm zone="ch-tools-tcl tclsh8.4"><primary sortas="b-tclsh8.4">tclsh8.4</primary></indexterm>
</listitem>
</varlistentry>

<varlistentry id="tclsh">
<term><command>tclsh</command></term>
<listitem>
<para>Un lien vers tclsh8.4</para>
<indexterm zone="ch-tools-tcl tclsh"><primary sortas="b-tclsh">tclsh</primary></indexterm>
</listitem>
</varlistentry>

<varlistentry id="libtcl8.4.so">
<term><filename class="libraryfile">libtcl8.4.so</filename></term>
<listitem>
<para>La bibliothèque Tcl</para>
<indexterm zone="ch-tools-tcl libtcl8.4.so"><primary sortas="c-libtcl8.4.so">libtcl8.4.so</primary></indexterm>
</listitem>
</varlistentry>
</variablelist>

</sect2>

</sect1>
