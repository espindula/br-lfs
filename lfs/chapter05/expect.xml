<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN" "http://www.oasis-open.org/docbook/xml/4.3/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../general.ent">
  %general-entities;
]>
<sect1 id="ch-tools-expect" xreflabel="Expect">
<title>Expect-&expect-version;</title>
<?dbhtml filename="expect.html"?>

<indexterm zone="ch-tools-expect"><primary sortas="a-Expect">Expect</primary></indexterm>

<para>Le package Expect contient un programme pour réaliser des dialogues
scriptés avec d'autres programmes interactifs.</para>

<screen>&buildtime; 0,1&nbsp;SBU
&diskspace; 3,9&nbsp;Mo</screen>

<para>L'installation d'Expect dépend de Bash, Binutils, Coreutils, Diffutils,
GCC, Glibc, Grep, Make, Sed, Tcl.</para>



<sect2>
<title>Installation d'Expect</title>

<para>Tout d'abord, corrigez un bogue résultant en de nombreux échecs lors de
l'exécution de la suite de tests de GCC&nbsp;:</para>

<screen><userinput>patch -Np1 -i ../expect-&expect-version;-spawn-1.patch</userinput></screen>

<para>Maintenant, préparez la compilation d'Expect&nbsp;:</para>

<screen><userinput>./configure --prefix=/tools --with-tcl=/tools/lib --with-x=no</userinput></screen>

<para>Voici la significaton des options de configure&nbsp;:</para>

<itemizedlist>
<listitem><para><userinput>--with-tcl=/tools/lib</userinput>&nbsp;: ceci nous
assure que le script configure trouve l'installation Tcl dans notre
emplacement temporaire des outils. Nous ne voulons pas qu'il puisse en trouver
un autre qui pourrait résider sur le système hôte.</para></listitem>

<listitem><para><userinput>--with-x=no</userinput>&nbsp;: ceci indique au
script configure de ne pas chercher Tk (le composant interface de Tcl) ou les
bibliothèques d'<quote>X Window System</quote>, les deux pouvant résider sur le
système hôte.</para></listitem>
</itemizedlist>

<para>Construisez le package&nbsp;:</para>

<screen><userinput>make</userinput></screen>

<para>(Si vous insistez pour tester les résultats, lancez&nbsp;:
<userinput>make test</userinput>. Néanmoins, la suite de tests d'Expect est
connue pour avoir de nombreux échecs sous certaines conditions de l'hôte,
conditions qui ne sont pas entièrement comprises. Du coup, les échecs de la
suite de tests ne sont pas surprenantes et ne doivent pas être considérés comme
critiques.)</para>

<para>Et installez-le&nbsp;:</para>

<screen><userinput>make SCRIPTS="" install</userinput></screen>

<para>Voici la signification du paramètre de make&nbsp;:</para>

<itemizedlist>
<listitem><para><userinput>SCRIPTS=""</userinput>&nbsp;: ceci empêche
l'installation de scripts expect supplémentaires non
nécessaires.</para></listitem>
</itemizedlist>

<para>Vous pouvez maintenant supprimer les répertoires des sources de Tcl et
d'Expect.</para>

</sect2>


<sect2 id="contents-expect"><title>Contenu d'Expect</title>

<para><emphasis>Programme installé</emphasis>&nbsp;: expect</para>

<para><emphasis>Bibliothèque installé</emphasis>&nbsp;:
libexpect&expect-version;.a</para>

</sect2>


<sect2><title>Courte description</title>

<indexterm zone="ch-tools-expect expect"><primary sortas="b-expect">expect</primary></indexterm>
<para id="expect"><command>expect</command> <quote>parle</quote> aux autres
programmes interactifs suivant un script.</para>

</sect2>


</sect1>
