<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN" "http://www.oasis-open.org/docbook/xml/4.3/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../general.ent">
  %general-entities;
]>
<sect1 id="ch-tools-stripping">
<title>Supprimer les symboles des fichiers objets</title>
<?dbhtml filename="stripping.html"?>

<para>Les étapes décrites dans cette section sont optionnelles, mais si la partition LFS
est plutôt petite, il est bon de savoir que des éléments inutiles peuvent être
supprimés. Les exécutables et les bibliothèques que vous avez construits
jusqu'à présent contiennent jusqu'à 130&nbsp;Mo de symboles de débogage
inutiles. Supprimez ces symboles avec&nbsp;:</para>

<screen><userinput>strip --strip-debug /tools/lib/*
strip --strip-unneeded /tools/{,s}bin/*</userinput></screen>

<para>Cette dernière commande laissera de côté une vingtaine de
fichiers, en indiquant qu'elle ne reconnaît pas leur format. Pas de quoi s'inquièter, 
d'ailleurs la plupart sont des scripts, pas des binaires.</para>

<para>Faites attention de ne <emphasis>pas</emphasis> utiliser
<parameter>--strip-unneeded</parameter> sur les bibliothèques. Cela détruirait
les statiques et les paquets devraient être de nouveau construits.</para>

<para>Pour récupérer encore 30&nbsp;Mo, supprimez toute la
documentation&nbsp;:</para>

<screen><userinput>rm -rf /tools/{info,man}</userinput></screen>

<para>Il y a maintenant au moins 850&nbsp;Mo d'espace disque libre sur le
système de fichiers LFS, de quoi construire et installer Glibc dans la
prochaine phase. Si vous pouvez construire et installer Glibc, vous pourrez
aussi construire et installer le reste, et donc mener à bien tout le processus.</para>

</sect1>
