<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN" "http://www.oasis-open.org/docbook/xml/4.3/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../general.ent">
  %general-entities;
]>
<sect1 id="ch-tools-stripping">
<title>Supprimer les symboles des fichiers objets</title>
<?dbhtml filename="stripping.html"?>

<para>Les étapes de cette section sont optionnelles mais si votre partition LFS
est plutôt petite, vous serz heureux d'apprendre que vous pouvez supprimer des
éléments inutiles. Les exécutables et les bibliothèques que vous avez construit
jusqu'à maintenant contiennent jusqu'à 130&nbsp;Mo de symboles de déboguages
inutiles. Supprimez ces symboles avec&nbsp;:</para>

<screen><userinput>strip --strip-debug /tools/lib/*
strip --strip-unneeded /tools/{,s}bin/*</userinput></screen>

<para>La dernière des commandes ci-dessus laissera de côté une vingtaine de
fichiers en indiquant qu'elle ne reconnait pas leur format de fichiers. La
plupart sont des scripts et non pas des binaires.</para>

<para>Faites attention à ne <emphasis>pas</emphasis> utiliser
<emphasis>--strip-unneeded</emphasis> sur les bibliothèques. Cela détruirait
les statiques et vous devriez de nouveau construire les packages.</para>

<para>Pour sauver encore 30&nbsp;Mo, vous pouvez supprimer toute la
documentation&nbsp;:</para>

<screen><userinput>rm -rf /tools/{doc,info,man}</userinput></screen>

<para>Vous aurez maintenant besoin d'au moins 850&nbsp;Mo d'espace disque libre
sur votre système de fichiers LFS pour être capable de construire et installer
Glibc dans la prochaine phase. Si vous pouvez construire et installer Glibc,
vous pourrez aussi construire et installer le reste.</para>

</sect1>
