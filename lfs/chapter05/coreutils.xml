<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
  "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../general.ent">
  %general-entities;
]>

<sect1 id="ch-tools-coreutils" role="wrap">
  <?dbhtml filename="coreutils.html"?>

  <sect1info condition="script">
    <productname>coreutils</productname>
    <productnumber>&coreutils-version;</productnumber>
    <address>&coreutils-url;</address>
  </sect1info>

  <title>Coreutils-&coreutils-version;</title>

  <indexterm zone="ch-tools-coreutils">
    <primary sortas="a-Coreutils">Coreutils</primary>
    <secondary>outils</secondary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
    href="../chapter06/coreutils.xml"
    xpointer="xpointer(/sect1/sect2[1]/para[1])"/>

    <segmentedlist>
      <segtitle>&buildtime;</segtitle>
      <segtitle>&diskspace;</segtitle>

      <seglistitem>
        <seg>&coreutils-ch5-sbu;</seg>
        <seg>&coreutils-ch5-du;</seg>
      </seglistitem>
    </segmentedlist>

  </sect2>

  <sect2 role="installation">
    <title>Installation de Coreutils</title>

    <para>Préparez la compilation de Coreutils&nbsp;:</para>

<screen><userinput remap="configure">./configure --prefix=/tools --enable-install-program=hostname</userinput></screen>

    <variablelist>
      <title>Voici la signification des options de configuration&nbsp;:</title>

      <varlistentry>
        <term><envar>--enable-install-program=hostname</envar></term>
        <listitem>
          <para>Ceci fait que le binaire <command>hostname</command> sera compilé
          et installé &ndash; ceci est désactivé par défaut mais c'est requis
          par la suite de tests de Perl.</para>
        </listitem>
      </varlistentry>
   </variablelist>

    <para>Compilez le paquet&nbsp;:</para>

<screen><userinput remap="make">make</userinput></screen>

    <para>La compilation est maintenant terminée. Comme décrit plus tôt, 
    l'exécution de la suite de tests n'est pas obligatoire pour les outils
    temporaires dans ce chapitre. Pour lancer cependant la suite de tests de 
    Coreutils, faites la commande suivante&nbsp;:</para>


<screen><userinput remap="test">make RUN_EXPENSIVE_TESTS=yes check</userinput></screen>

    <para>Le paramètre <parameter>RUN_EXPENSIVE_TESTS=yes</parameter>  indique à 
    la suite de tests de lancer quelques tests supplémentaires, considérés 
    relativement coûteux (en terme de puissance CPU et d'utilisation mémoire) 
    mais habituellement sans problème sous Linux.</para>

    <para>Installez le paquet&nbsp;:</para>

<screen><userinput remap="install">make install</userinput></screen>
<!--
    <para>La commande ci-dessus refuse l'installation de <filename>su</filename>
    car le programme ne peut pas être installé avec l'uid de root en tant 
    qu'utilisateur non privilégié. En l'installant à la  main, nous pouvons 
    l'utiliser pour exécuter les tests dans le système 
    final en tant qu'utilisateur non privilégié. Installez-le
    avec&nbsp;:</para>

<screen><userinput remap="install">cp -v src/su /tools/bin</userinput></screen>
-->
  </sect2>

  <sect2 role="content">
    <title/>

    <para>Les détails sur ce paquet sont disponibles dans
    <xref linkend="contents-coreutils" role="."/></para>

  </sect2>

</sect1>
