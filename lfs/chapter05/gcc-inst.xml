<sect2>
<title>Installation de GCC</title>

<para>Ce package nécessite que son correctif lui soit appliqué avant de
pouvoir l'installer.</para>

<para>Nous n'aurons pas besoin d'un compilateur C++ avant le chapitre 6. Donc,
seule l'archive tar gcc-core doit être déballée maintenant.</para>

<para>Ce package est connu pour se comporter bizarrement si vous avez changé
les options d'optimisation par défaut (y compris les options -march et -mcpu).
GCC se comporte mieux sans. Donc, si vous avez défini des variables
d'environnement qui écrasent les optimisations par défaut, comme CFLAGS et
CXXFLAGS, nous vous recommandons de les annuler ou de les modifier lors de la
construction de GCC. Vous avez été prévenu.</para>

<para>Installez GCC en lançant les commandes suivantes : </para>

<para><screen><userinput>patch -Np1 -i ../gcc-&gcc-patch-version;-nofixincludes-2.patch &amp;&amp;
mkdir ../gcc-build &amp;&amp;
cd ../gcc-build &amp;&amp;
../gcc-&gcc-version;/configure --prefix=/static \
&nbsp;&nbsp;&nbsp;--disable-nls --disable-shared &amp;&amp;
echo "#define HAVE_GAS_HIDDEN 1" &gt;&gt; gcc/auto-host.h &amp;&amp;
make BOOT_LDFLAGS=-static bootstrap &amp;&amp;
make prefix=$LFS/static install &amp;&amp;
ln -s gcc $LFS/static/bin/cc</userinput></screen></para>

</sect2>

