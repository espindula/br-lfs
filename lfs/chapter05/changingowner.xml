<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
  "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../general.ent">
  %general-entities;
]>

<sect1 id="ch-tools-changingowner">
  <?dbhtml filename="changingowner.html"?>

  <title>Changer de propriétaire</title>

  <note>
    <para>Les commandes dans la suite de ce livre doivent être exécutées alors
    que vous êtes connecté en tant que 
    <systemitem class="username">root</systemitem> et pas en tant
    qu'utilisateur <systemitem class="username">lfs</systemitem>. Contrôlez
    à nouveau que <envar>$LFS</envar> est paramétré dans l'environnement de <systemitem
    class="username">root</systemitem>.</para>
  </note>

  <para>Pour l'instant, le répertoire <filename class="directory">$LFS/tools</filename>
  appartient à l'utilisateur <systemitem class="username">lfs</systemitem>, un utilisateur
  qui n'existe que sur le système hôte. Si le répertoire <filename
  class="directory">$LFS/tools</filename> reste ainsi, les fichiers 
  appartiennent à un ID utilisateur sans compte correspondant. C'est dangereux
  car un compte utilisateur créé plus tard pourrait se voir attribuer ce même
  ID utilisateur et être propriétaire du répertoire
  <filename class="directory">$LFS/tools</filename> et de tous les fichiers  
  à l'intérieur, les exposant ainsi à des manipulations suspectes.</para>

  <para>Pour éviter ce problème, vous pourriez ajouter l'utilisateur
  <systemitem class="username">lfs</systemitem> au nouveau système LFS
  plus tard lorsque vous créeriez le fichier <filename>/etc/passwd</filename>, en prenant garde à 
  assigner les ID utilisateur et groupe de la même manière que sur le
  Système hôte. Mieux encore, changez le propriétaire du répertoire 
  <filename class="directory">$LFS/tools</filename> en le rendant à l'utilisateur
  <systemitem class="username">root</systemitem> en exécutant les commandes
  suivantes&nbsp;:</para>

<screen><userinput>chown -R root:root $LFS/tools</userinput></screen>

  <para>Bien que le dossier <filename class="directory">$LFS/tools</filename> 
  puisse être effacé quand la construction du système sera fini, il peut être conservé 
  pour construire des systèmes LFS supplémentaires <emphasis>de la même
  version du livre</emphasis>. La meilleure façon de sauvegarder
  <filename class="directory">$LFS/tools</filename> est celle qui correspond à
  vos préférences personnelles.</para>

  <caution>
    <para>Si vous souhaitez conserver les outils temporaires pour un usage dans
    la construction de futurs systèmes LFS, c'est  le moment 
    <emphasis>à présent</emphasis> de les sauvegarder. Les commandes qu'implique
    le chapitre 6 vont  modifier les outils actuellement en place, les rendant
    inutiles pour de futures constructions.</para>
  </caution>

</sect1>
