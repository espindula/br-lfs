<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN"
"http://www.oasis-open.org/docbook/xml/4.3/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../general.ent">
  %general-entities;
]>
<sect1 id="ch-tools-binutils-pass2">
<title>Binutils-&binutils-version; - Passe 2</title>
<?dbhtml filename="binutils-pass2.html"?>

<indexterm zone="ch-tools-binutils-pass2">
<primary sortas="a-Binutils">Binutils</primary>
<secondary>outils, passe 2</secondary></indexterm>

<screen>&buildtime; 1,5&nbsp;SBU
&diskspace; 35,6&nbsp;Mo</screen>

<sect2>
<title>Ré-installation de Binutils</title>

<para>Créez de nouveau un répertoire de construction séparé&nbsp;:</para>

<screen><userinput>mkdir ../binutils-build
cd ../binutils-build</userinput></screen>

<para>Maintenant, préparez la compilation de Binutils&nbsp;:</para>

<screen><userinput>../binutils-&binutils-version;/configure --prefix=/tools \
    --enable-shared --with-lib-path=/tools/lib</userinput></screen>

<para>Voici la signification des nouvelles options de configure&nbsp;:
</para>

<itemizedlist>
<listitem><para><userinput>--with-lib-path=/tools/lib</userinput>&nbsp;: ceci
indique au script configure de spécifier le chemin de recherche des
bibliothèques lors de la compilation de Binutils, résultant au passage de
<emphasis>/tools/lib</emphasis> à l'éditeur de liens. Ceci empêche l'éditeur de
liens de chercher dans tous les répertoires de bibliothèques de
l'hôte.</para></listitem>
</itemizedlist>

<para>Avant de commencer la construction de Binutils, rappellez-vous de
dés-initialiser toute variable d'environnement qui surcharge les options
d'optimisation par défaut.</para>

<para>Compilez le paquet&nbsp;:</para>

<screen><userinput>make</userinput></screen>

<para>La compilation est maintenant terminée. Comme dit plutôt, nous ne vous
recommandons pas de lancer les suites de tests pour les outils temporaires dans
ce chapitre. Si, néanmoins, vous voulez lancer la suite de tests Binutils, la
commande suivante le fera&nbsp;:</para>

<screen><userinput>make check</userinput></screen>

<para>Il ne devrait pas y avoir d'erreurs inattendues ici, les échecs attendus
ne posent pas de soucis. Malheureusement, il n'est pas facile de visualiser le
résumé des résultats des tests comme cela était le cas avec le paquet GCC.
Néanmoins, si un échec survient, il devrait être simple à trouver. La sortie
affichée devrait contenir quelque chose comme&nbsp;:</para>

<blockquote><screen>make[1]: *** [check-binutils] Error 2</screen></blockquote>

<para>Enfin, installez le paquet&nbsp;:</para>                                              
<screen><userinput>make install</userinput></screen>

<para>Maintenant, préparez l'éditeur de liens pour la phase de ré-ajustement du
prochain chapitre&nbsp;:</para>

<screen><userinput>make -C ld clean
make -C ld LIB_PATH=/usr/lib:/lib</userinput></screen>

<literallayout></literallayout>

<warning><para><emphasis>Ne supprimez pas encore</emphasis> les répertoires des
sources et de construction de Binutils. Vous en aurez de nouveau besoin dans
le prochain chapitre dans l'état où ils sont actuellement.</para></warning>

<literallayout></literallayout>

</sect2>

<sect2><title> </title><para> </para>
<para>les détails sur ce paquet sont disponibles dans <xref
linkend="contents-binutils"/>.</para>
<para> </para></sect2>

</sect1>

