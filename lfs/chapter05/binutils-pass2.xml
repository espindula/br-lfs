<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
  "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../general.ent">
  %general-entities;
]>

<sect1 id="ch-tools-binutils-pass2" role="wrap">
  <?dbhtml filename="binutils-pass2.html"?>

  <sect1info condition="script">
    <productname>binutils</productname>
    <productnumber>&binutils-version;</productnumber>
    <address>&binutils-url;</address>
  </sect1info>

  <title>Binutils-&binutils-version; - Passe 2</title>

  <indexterm zone="ch-tools-binutils-pass2">
    <primary sortas="a-Binutils">Binutils</primary>
    <secondary>outils, passe 2</secondary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <xi:include xmlns:xi="http://www.w3.org/2003/XInclude"
    href="../chapter06/binutils.xml"
    xpointer="xpointer(/sect1/sect2[1]/para[1])"/>

    <segmentedlist>
      <segtitle>&buildtime;</segtitle>
      <segtitle>&diskspace;</segtitle>

      <seglistitem>
        <seg>&binutils-ch5p2-sbu;</seg>
        <seg>&binutils-ch5p2-du;</seg>
      </seglistitem>
    </segmentedlist>

  </sect2>

  <sect2 role="installation">
    <title>Ré-installation de Binutils</title>

    <para>Binutils ne reconnaît pas les versions de Texinfo supérieures
    à la 4.9. Réparez ce problème en appliquant le correctif
    suivant&nbsp;:
    
<screen><userinput remap="pre">patch -Np1 -i ../&binutils-configure-patch;</userinput></screen>

    <para>Créez de nouveau un répertoire de construction
    séparé&nbsp;:</para>

<screen><userinput remap="pre">mkdir -v ../binutils-build
cd ../binutils-build</userinput></screen>

    <para>Préparez la compilation de Binutils&nbsp;:</para>

<screen><userinput remap="configure">../binutils-&binutils-version;/configure --prefix=/tools \
    --disable-nls --with-lib-path=/tools/lib</userinput></screen>

    <variablelist>
      <title>Voici la signification des nouvelles options de configure&nbsp;:</title>

      <varlistentry>
        <term><parameter>--with-lib-path=/tools/lib</parameter></term>
        <listitem>
          <para>Ceci indique au script configure de spécifier le chemin de
          recherche des bibliothèques lors de la compilation de Binutils, aboutissant au
          passage de
          <filename class="directory">/tools/lib</filename> à l'éditeur de
          liens. Ceci empêche l'éditeur de liens de chercher dans tous les répertoires de
          bibliothèques de l'hôte.</para>
        </listitem>
      </varlistentry>

    </variablelist>

    <para>Compilez le paquet&nbsp;:</para>

<screen><userinput remap="make">make</userinput></screen>

    <para>La compilation est maintenant terminée. Comme dit précédemment, lancer les
    suites de tests n'est pas nécessaire pour les outils temporaires dans ce
    chapitre. Néanmoins, pour lancer la suite de tests Binutils, lancez la commande
    suivante&nbsp;:</para>

<screen><userinput remap="test">make check</userinput></screen>

    <para>Installez le paquet&nbsp;:</para>

<screen><userinput remap="install">make install</userinput></screen>

    <para>Maintenant, préparez l'éditeur de liens pour la phase de
    <quote>Ré-ajustement</quote> du prochain chapitre&nbsp;:</para>

<screen><userinput remap="adjust">make -C ld clean
make -C ld LIB_PATH=/usr/lib:/lib
cp -v ld/ld-new /tools/bin</userinput></screen>


  </sect2>

  <sect2 role="content">
    <title/>

    <para>Les détails sur ce paquet sont disponibles dans
    <xref linkend="contents-binutils" role="."/></para>

  </sect2>

</sect1>
