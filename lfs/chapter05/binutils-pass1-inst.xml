<sect2><title>&nbsp;</title><para>&nbsp;</para></sect2>

<sect2>
<title>Installation de Binutils</title>

<para>Il est important que Binutils soit le premier package à être compilé parce
que Glibc et GCC réalisent plusieurs tests sur l'éditeur de liens et
l'assembleur disponibles pour déterminer quelles fonctionnalités activées.
</para>

<note><para>Bien que Binutils soit un package important de l'ensemble d'outils,
nous n'allons pas lancer la suite des tests dès maintenant. Tout d'abord, le
plan de travail de la suite de tests n'est pas encore en place et,
deuxièmement, les programmes de la première passe seront bientôt écrasés par
ceux installés lors de la deuxième passe.</para></note>

<para>Ce package est connu pour mal se comporter si ses options d'optimisation
par défaut ont été changées (incluant les options -march et -mcpu). Donc, si
vous avez défini des variables d'environnement qui surchargent les
optimisations par défaut, telles que CFLAGS et CXXFLAGS, nous vous recommandons
de les supprimer ou de les modifier lors de la construction de GCC.</para>

<para>La documentation d'installation de Binutils recommende de construire
Binutils en dehors du répertoire des sources, c'est-à-dire dans un répertoire
dédié:</para>

<para><screen><userinput>mkdir ../binutils-build
cd ../binutils-build</userinput></screen></para>

<para>Ensuite, préparez la compilation de Binutils:</para>

<para><screen><userinput>../binutils-&binutils-version;/configure \
&nbsp;&nbsp;&nbsp;&nbsp;--prefix=/tools --disable-nls</userinput></screen></para>

<para>La signification des options de configure est:</para>

<itemizedlist>
<listitem><para><userinput>--disable-nls</userinput>: Cette option désactive
le support des différentes langues (aussi connu sous le nom d'i18n). Nous n'en
avons pas besoin pour nos programmes statiques. De plus, nls apporte souvent
des problèmes si il est lié statiquement.</para></listitem>
</itemizedlist>
<itemizedlist>
<listitem><para><userinput>--prefix=/tools</userinput>: Ceci indique au script
configure de préparer l'installation du programme Binutils dans le répertoire
<filename>/tools</filename>.</para></listitem>
<listitem><para><userinput>--disable-nls</userinput>: Ceci désactive
l'internationalisation (un mot souvent raccourci en i18n). Nous n'avons pas
besoin de nos programmes statiques et <emphasis>nls</emphasis> cause souvent
des problèmes lors d'une édition de liens statiques.</para></listitem>
</itemizedlist>

<para>Continuez avec la compilation du package:</para>

<para><screen><userinput>make configure-host
make LDFLAGS="-all-static"</userinput></screen></para>

<para>La signification de l'option de make est:</para>

<itemizedlist>
<listitem><para><userinput>LDFLAGS="-all-static"</userinput>: Ceci indique
à Binutils que tous les programmes devront être liés statiquement. Néanmoins,
pour être parfaitement exact, <userinput>"-all-static"</userinput> est le
premier passé au programme <emphasis>libtool</emphasis> qui passera ensuite
<userinput>"-static"</userinput> à l'éditeur de liens.</para></listitem>
</itemizedlist>

<para>Puis installez le package:</para>

<para><screen><userinput>make install</userinput></screen></para>

<para>Maintenant, préparez l'éditeur de liens pour le "verrouillage" de
Glibc un peu plus tard:</para>

<para><screen><userinput>make -C ld clean
make -C ld LIB_PATH=/tools/lib</userinput></screen></para>

<para>La signification des options du make sont:</para>

<itemizedlist>
<listitem><para><userinput>-C ld clean</userinput>: Ceci indique au programme
make de supprimer uniquement les fichiers compris dans le sous-répertoire
<filename>ld</filename>.</para></listitem>

<listitem><para><userinput>-C ld LIB_PATH=/tools/lib</userinput>: Cette option
reconstruit tout dans le sous-répertoire <filename>ld</filename>. Spécifier la
variable LIB_PATH du makefile sur la ligne de commande nous permet d'écraser la
valeur par défaut et de la faire pointer vers l'emplacement de nos outils
temporaires. La valeur de cette variable spécifie le chemin de la bibliothèque
par défaut de l'éditeur de liens. Vous verrez comment cette préparation est
utilisée plus tard dans le chapitre.</para>
</listitem>
</itemizedlist>

<caution><para>Ne supprimez pas les répertoires des sources et de construction
de Binutils. Vous en aurez encore besoin plus tard dans ce chapitre dans cet
état.</para></caution>

</sect2>

