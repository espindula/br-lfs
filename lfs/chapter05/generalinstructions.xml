<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
  "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../general.ent">
  %general-entities;
]>

<sect1 id="ch-tools-generalinstructions">
  <?dbhtml filename="generalinstructions.html"?>

  <title>Instructions générales de compilation</title>

  <para>Lorsque vous construisez des paquets, il y a plusieurs présupposés dans
  les instructions&nbsp;:</para>

  <itemizedlist>

  <listitem>
      <para>Plusieurs paquets sont corrigés avant d'être compilés, mais
      seulement dans le cas où la correction est nécessaire pour résoudre un
      problème. Souvent, le correctif est nécessaire à la fois dans ce
      chapitre et dans le suivant, mais quelque fois dans seulement un des
      deux. Donc, ne vous inquiétez pas lorsque des instructions pour un
      correctif téléchargé semblent manquer. Des messages d'avertissements
      sur un décalage (<emphasis>offset</emphasis>) ou sur autre chose
      (<emphasis>fuzz</emphasis>) peuvent apparaître lors de
      l'application d'un correctif. Ne vous inquiétez pas pour ces messages,
      le correctif a bien été appliqué.</para>
  </listitem>

  <listitem>
    <para>Pendant la compilation de la plupart des paquets, plusieurs
    messages d'avertissement du compilateur défileront sur votre écran.
    Ceci est normal et peut être ignoré sans danger. Ces messages
    d'avertissement ne sont que des avertissements&mdash; sur une
    utilisation obsolète, mais pas invalide, de la syntaxe de C ou de C++.
    Les standards C changent assez souvent et quelques paquets continuent
    à utiliser les anciens standards. Ce n'est pas un véritable problème
    mais cela provoque les messages.</para>

  </listitem>

  <listitem>
    <para>Vérifiez une dernière fois que la variable d'environnement
    <envar>LFS</envar> est configurée correctement&nbsp;:</para>

<screen role="nodump"><userinput>echo $LFS</userinput></screen>

    <para>Assurez-vous que le résultat contient le bon répertoire vers le
    point de montage de la partition LFS, qui est <filename
    class="directory">/mnt/lfs</filename>, suivant notre exemple.</para>
  </listitem>

  <listitem>

    <para>Enfin, un point important doit être précisé&nbsp;:</para>

    <important>
      <para>Les instructions de construction supposent que vous avez défini correctement les
      <xref linkend='pre-hostreqs'/>, y compris les liens symboliques&nbsp;:</para>
      
      <itemizedlist role='important'>

        <listitem override='bullet'><para><command>bash</command> est le shell
        utilisé.</para></listitem>
        
        <listitem override='bullet'><para><command>sh</command> est un lien
        symbolique vers <command>bash</command>.</para></listitem>

        <listitem override='bullet'><para><command>/usr/bin/awk</command> est un
        lien symbolique vers <command>gawk</command>.</para></listitem>

        <listitem override='bullet'><para><command>/usr/bin/yacc</command> est un
        lien symbolique vers <command>bison</command> ou un petit script qui
        exécute bison.</para></listitem>

      </itemizedlist>
    </important>

    <important>
      <para>Pour remettre en évidence la procédure de construction&nbsp;:</para>

      <orderedlist numeration="arabic" spacing="compact">
        <listitem>
          <para>Mettez tous les codes sources et les correctifs dans un répertoire
          qui sera accessible depuis l'environnement chroot, tel que
          <filename class="directory">/mnt/lfs/sources/</filename>. 
          <emphasis>Ne mettez pas</emphasis> les codes sources dans
          <filename class="directory">/mnt/lfs/tools/</filename>.</para>
        </listitem>
        <listitem>
          <para>Allez dans le répertoire des codes sources.</para>
        </listitem>
        <listitem id='buildinstr' xreflabel='Instructions de construction des paquets'>
          <para>Pour chaque paquet&nbsp;:</para>
          <orderedlist numeration="loweralpha" spacing="compact">
            <listitem>
              <para>En utilisant le programme <command>tar</command>, 
              décompressez le paquet à construire. Au chapitre 5, assurez-vous d'être
              l'utilisateur <emphasis>lfs</emphasis> lors de l'extraction du
              paquet.</para>
            </listitem>
            <listitem>
              <para>Allez dans le répertoire créé lorsque le paquet a été 
              décompressé.</para>
            </listitem>
            <listitem>
              <para>Suivez les instructions du livre pour construire le paquet.</para>
            </listitem>
            <listitem>
              <para>Revenez au répertoire des codes sources.</para>
            </listitem>
            <listitem>
              <para>Effacez le répertoire des sources décompressées et tous les
              répertoires
              <filename class="directory"><replaceable>&lt;paquet&gt;</replaceable>-build</filename>
              créés pendant le processus de construction, sauf si on vous demande
              de faire autrement.</para>
            </listitem>
          </orderedlist>
        </listitem>
      </orderedlist>
    </important>
  </listitem>

  </itemizedlist>

</sect1>
