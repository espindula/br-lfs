<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="application/xhtml+xml; charset=utf-8" />
    <title>
      2.6.&nbsp;Définir la variable $LFS
    </title>
    <link rel="stylesheet" type="text/css" href="../stylesheets/lfs.css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.78.1" />
    <link rel="stylesheet" href="../stylesheets/lfs-print.css" type=
    "text/css" media="print" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  </head>
  <body class="lfs" id="lfs-r10.1-212-g6711c-systemd+">
    <div class="navheader">
      <h4>
        Linux From Scratch - Version r10.1-212-g6711c-systemd+
      </h4>
      <h3>
        Chapitre&nbsp;2.&nbsp;Préparation du système hôte
      </h3>
      <ul>
        <li class="prev">
          <a accesskey="p" href="creatingfilesystem.html" title=
          "Créer un système de fichiers sur la partition">Précédent</a>
          <p>
            Créer un système de fichiers sur la partition
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="mounting.html" title=
          "Monter la nouvelle partition">Suivant</a>
          <p>
            Monter la nouvelle partition
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="chapter02.html" title=
          "Chapitre&nbsp;2.&nbsp;Préparation du système hôte">Niveau
          supérieur</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Linux From Scratch - Version r10.1-212-g6711c-systemd+">Sommaire</a>
        </li>
      </ul>
    </div>
    <div class="sect1" lang="fr" xml:lang="fr">
      <h1 class="sect1">
        <a id="ch-partitioning-aboutlfs" name=
        "ch-partitioning-aboutlfs"></a>2.6. Définir la variable $LFS
      </h1>
      <p>
        Tout au long de ce livre, la variable d'environnement <code class=
        "envar">LFS</code> sera utilisée à plusieurs reprises. Vous devriez
        vous assurer de toujours définir cette variable pendant le processus
        de construction de votre LFS. Elle devrait contenir le nom du
        répertoire où vous construirez votre système LFS — nous utiliserons
        <code class="filename">/mnt/lfs</code> comme exemple mais le choix du
        répertoire vous appartient. Si vous construisez LFS sur une partition
        à part, ce répertoire sera le point de montage de la partition.
        Choisissez un répertoire et définissez la variable avec la commande
        suivante&nbsp;:
      </p>
      <pre class="userinput"><kbd class="command">export LFS=<em class=
      "replaceable"><code>/mnt/lfs</code></em></kbd></pre>
      <p>
        Le fait d'avoir défini cette variable est un avantage dans des
        commandes comme <span class="command"><strong>mkdir -v
        $LFS/tools</strong></span> qu'on peut taper littéralement. Le shell
        remplacera automatiquement <span class="quote">«&nbsp;<span class=
        "quote">$LFS</span>&nbsp;»</span> par <span class=
        "quote">«&nbsp;<span class="quote">/mnt/lfs</span>&nbsp;»</span> (ou
        le nom défini dans la variable) quand il traitera la ligne de
        commande.
      </p>
      <div class="admon caution">
        <img alt="[Attention]" src="../images/caution.png" />
        <h3>
          Attention
        </h3>
        <p>
          N'oubliez pas de vérifier que <code class="envar">LFS</code> est
          définie à chaque fois que vous quittez et revenez dans
          l'environnement de travail (par exemple, en faisant un <span class=
          "command"><strong>su</strong></span> en <code class=
          "systemitem">root</code> ou autres utilisateurs). Vérifiez que la
          variable <code class="envar">LFS</code> est définie correctement
          avec&nbsp;:
        </p>
        <pre class="userinput"><kbd class="command">echo $LFS</kbd></pre>
        <p>
          Assurez-vous que la sortie affiche le chemin vers l'endroit où vous
          construisez votre système LFS, qui est <code class=
          "filename">/mnt/lfs</code> si vous avez suivi l'exemple fourni. Si
          la sortie ne va pas, utilisez la commande donnée ci-dessus dans
          cette page pour mettre dans <code class="envar">$LFS</code> le bon
          nom de répertoire.
        </p>
      </div>
      <div class="admon note">
        <img alt="[Note]" src="../images/note.png" />
        <h3>
          Note
        </h3>
        <p>
          Une manière de vous assurer que la variable <code class=
          "envar">LFS</code> est toujours définie est d'éditer le fichier
          <code class="filename">.bash_profile</code> à la fois dans votre
          répertoire personnel et dans <code class=
          "filename">/root/.bash_profile</code> et d'y entrer la commande
          export ci-dessus. De plus, le shell indiqué dans le fichier
          <code class="filename">/etc/passwd</code> de tous les utilisateurs
          ayant besoin de la variable <code class="envar">LFS</code> doit
          être bash afin de s'assurer que le fichier <code class=
          "filename">/root/.bash_profile</code> est inclus dans le processus
          de connexion.
        </p>
        <p>
          Une autre chose à prendre en compte est la méthode que vous
          utilisez pour vous connecter au système hôte. Si vous vous
          connectez via un gestionnaire d'affichage graphique, le fichier
          <code class="filename">.bash_profile</code> de l'utilisateur n'est
          normalement pas utilisé lorsque le gestionnaire lance un terminal
          virtuel. Dans ce cas, ajoutez la commande d'export au fichier
          <code class="filename">.bashrc</code> à la fois pour l'utilisateur
          et pour <code class="systemitem">root</code>. En plus, certaines
          distributions ont des instructions qui empêchent le chargement de
          <code class="filename">.bashrc</code> dans une invocation non
          interactive de bash. Assurez-vous d'ajouter la commande d'export
          avant le test pour l'utilisation non interactive si c'est le cas.
        </p>
      </div>
    </div>
    <div class="navfooter">
      <ul>
        <li class="prev">
          <a accesskey="p" href="creatingfilesystem.html" title=
          "Créer un système de fichiers sur la partition">Précédent</a>
          <p>
            Créer un système de fichiers sur la partition
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="mounting.html" title=
          "Monter la nouvelle partition">Suivant</a>
          <p>
            Monter la nouvelle partition
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="chapter02.html" title=
          "Chapitre&nbsp;2.&nbsp;Préparation du système hôte">Niveau
          supérieur</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Linux From Scratch - Version r10.1-212-g6711c-systemd+">Sommaire</a>
        </li>
      </ul>
    </div>
  </body>
</html>
