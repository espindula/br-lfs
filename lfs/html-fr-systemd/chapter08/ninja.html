<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="application/xhtml+xml; charset=utf-8" />
    <title>
      8.51.&nbsp;Ninja-1.10.2
    </title>
    <link rel="stylesheet" type="text/css" href="../stylesheets/lfs.css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.78.1" />
    <link rel="stylesheet" href="../stylesheets/lfs-print.css" type=
    "text/css" media="print" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  </head>
  <body class="lfs" id="lfs-r10.1-205-g49170-systemd+">
    <div class="navheader">
      <h4>
        Linux From Scratch - Version r10.1-205-g49170-systemd+
      </h4>
      <h3>
        Chapitre&nbsp;8.&nbsp;Installer les logiciels du système de base
      </h3>
      <ul>
        <li class="prev">
          <a accesskey="p" href="Python.html" title=
          "Python-3.9.6">Précédent</a>
          <p>
            Python-3.9.6
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="meson.html" title="Meson-0.59.1">Suivant</a>
          <p>
            Meson-0.59.1
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="chapter08.html" title=
          "Chapitre&nbsp;8.&nbsp;Installer les logiciels du système de base">Niveau
          supérieur</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Linux From Scratch - Version r10.1-205-g49170-systemd+">Sommaire</a>
        </li>
      </ul>
    </div>
    <div class="wrap" lang="fr" xml:lang="fr">
      <h1 class="sect1">
        <a id="ch-system-ninja" name="ch-system-ninja"></a>8.51. Ninja-1.10.2
      </h1>
      <div class="package" lang="fr" xml:lang="fr">
        <p>
          Ninja est un petit système de construction qui met l'accent sur la
          rapidité.
        </p>
        <div class="segmentedlist">
          <div class="seglistitem">
            <div class="seg">
              <strong class="segtitle">Temps de construction
              approximatif:</strong> <span class="segbody">0.2 SBU</span>
            </div>
            <div class="seg">
              <strong class="segtitle">Espace disque requis:</strong>
              <span class="segbody">64 Mo</span>
            </div>
          </div>
        </div>
      </div>
      <div class="installation" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          8.51.1. Installation de Ninja
        </h2>
        <p>
          Lorsque lancé, ninja lance un nombre maximum de processus en
          parallèle. Par défaut c'est le nombre de cœurs du système plus
          deux. Dans certains cas, cela peut surchauffer le CPU ou épuiser la
          mémoire. S'il est lancé depuis la ligne de commande, passer le
          paramètre -jN limitera le nombre de processus en parallèle, mais
          certains paquets incluent l'exécution de ninja et ne passent pas de
          paramètre -j.
        </p>
        <p>
          Utiliser la procédure <span class=
          "emphasis"><em>facultative</em></span> ci-dessous permet à
          l'utilisateur de limiter le nombre de processus en parallèle via
          une variable d'environnement, NINJAJOBS. <span class=
          "bold"><strong>Par exemple</strong></span> initialiser&nbsp;:
        </p>
        <pre class="screen">export NINJAJOBS=4</pre>
        <p>
          limitera ninja à 4 processus en parallèle.
        </p>
        <p>
          Si vous le souhaitez, ajoutez la possibilité d'utiliser la variable
          d'environnement NINJAJOBS en lançant&nbsp;:
        </p>
        <pre class="userinput"><kbd class="command">sed -i '/int Guess/a \
  int   j = 0;\
  char* jobs = getenv( "NINJAJOBS" );\
  if ( jobs != NULL ) j = atoi( jobs );\
  if ( j &gt; 0 ) return j;\
' src/ninja.cc</kbd></pre>
        <p>
          Construisez Ninja avec&nbsp;:
        </p>
        <pre class="userinput"><kbd class=
        "command">python3 configure.py --bootstrap</kbd></pre>
        <div class="variablelist">
          <p class="title">
            <strong>Voici la signification des options de
            construction&nbsp;:</strong>
          </p>
          <dl class="variablelist">
            <dt>
              <span class="term"><em class=
              "parameter"><code>--bootstrap</code></em></span>
            </dt>
            <dd>
              <p>
                Ce paramètre force ninja à se reconstruire pour le système
                actuel.
              </p>
            </dd>
          </dl>
        </div>
        <p>
          Pour tester les résultats, lancez&nbsp;:
        </p>
        <pre class="userinput"><kbd class="command">./ninja ninja_test
./ninja_test --gtest_filter=-SubprocessTest.SetWithLots</kbd></pre>
        <p>
          Installez le paquet&nbsp;:
        </p>
        <pre class="userinput"><kbd class=
        "command">install -vm755 ninja /usr/bin/
install -vDm644 misc/bash-completion /usr/share/bash-completion/completions/ninja
install -vDm644 misc/zsh-completion  /usr/share/zsh/site-functions/_ninja</kbd></pre>
      </div>
      <div class="content" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          <a id="contents-ninja" name="contents-ninja"></a>8.51.2. Contenu de
          Ninja
        </h2>
        <div class="segmentedlist">
          <div class="seglistitem">
            <div class="seg">
              <strong class="segtitle">Programmes installés:</strong>
              <span class="segbody">ninja</span>
            </div>
          </div>
        </div>
        <div class="variablelist">
          <h3>
            Descriptions courtes
          </h3>
          <table border="0" class="variablelist">
            <colgroup>
              <col align="left" valign="top" />
              <col />
            </colgroup>
            <tbody>
              <tr>
                <td>
                  <p>
                    <a id="ninja" name="ninja"></a><span class=
                    "term"><span class=
                    "command"><strong>ninja</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    est le système de construction Ninja
                  </p>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
    <div class="navfooter">
      <ul>
        <li class="prev">
          <a accesskey="p" href="Python.html" title=
          "Python-3.9.6">Précédent</a>
          <p>
            Python-3.9.6
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="meson.html" title="Meson-0.59.1">Suivant</a>
          <p>
            Meson-0.59.1
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="chapter08.html" title=
          "Chapitre&nbsp;8.&nbsp;Installer les logiciels du système de base">Niveau
          supérieur</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Linux From Scratch - Version r10.1-205-g49170-systemd+">Sommaire</a>
        </li>
      </ul>
    </div>
  </body>
</html>
