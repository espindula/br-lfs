<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
  "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../general.ent">
  %general-entities;
]>

<sect1 id="ch-system-iproute2" role="wrap">
  <?dbhtml filename="iproute2.html"?>

  <sect1info condition="script">
<productname>iproute2</productname>
<productnumber>&iproute2-version;</productnumber> <address>&iproute2-url;</address></sect1info>

  <title>IPRoute2-&iproute2-version;</title>

  <indexterm zone="ch-system-iproute2">
    <primary sortas="a-IPRoute2">IPRoute2</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>Le paquet IPRoute2 contient des programmes pour le réseau, basique ou
avancé, basé sur IPV4.</para>

    <segmentedlist>
      <segtitle>&buildtime;</segtitle>
      <segtitle>&diskspace;</segtitle>

      <seglistitem>
        <seg>&iproute2-fin-sbu;</seg>
        <seg>&iproute2-fin-du;</seg>
      </seglistitem>
    </segmentedlist>

  </sect2>

  <sect2 role="installation">
    <title>Installation de IPRoute2</title>

    <para>Le programme <command>arpd</command> inclus dans ce paquet ne sera pas
construit car il dépend de Berkeley DB, qui n'est pas installé dans
LFS. Cependant, un dossier pour <command>arpd</command> et une page de
manuel seront tout de même installés. Empêchez-le en lançant la commande
ci-dessous. Si vous avez besoin du binaire <command>arpd</command>, vous
pouvez trouver des instructions pour la compilation de Berkeley DB dans le
livre BLFS sur <ulink url="&blfs-book;server/db.html"/>.
    </para>

<screen><userinput remap="pre">sed -i /ARPD/d Makefile
rm -fv man/man8/arpd.8</userinput></screen>

    <para>Il est aussi nécessaire de désactiver la construction de deux modules qui
nécessitent <ulink url="&blfs-book;postlfs/iptables.html"/>.</para>

<screen><userinput remap="pre">sed -i 's/.m_ipt.o//' tc/Makefile</userinput></screen>

    <para>Compilez le paquet&nbsp;:</para>

<screen><userinput remap="make">make</userinput></screen>

    <para>Ce paquet n'a pas de suite de tests fonctionnelle.</para>


    <!-- currently not useful, no tests actually run
    <para>
This package comes with a test suite, but due to assumptions it makes,
    it is not possible to reliably run these tests from within the chroot
    environment. If you wish to run these tests after booting into your new LFS
    system, ensure you enable <filename>/proc/config.gz</filename> support
    in your kernel (&quot;General setup&quot; -> &quot;Enable access to
    .config through /proc/config.gz&quot; [CONFIG_IKCONFIG_PROC]), then run
    'make alltests' from the <filename class="directory">testsuite/</filename>
    subdirectory.</para>-->
<para>Installez le paquet&nbsp;:</para>

<screen><userinput remap="install">make SBINDIR=/usr/sbin install</userinput></screen>

    <para>Si vous le souhaitez, installez la documentation&nbsp;:</para>

<screen><userinput remap="install">mkdir -v              /usr/share/doc/iproute2-&iproute2-version;
cp -v COPYING README* /usr/share/doc/iproute2-&iproute2-version;</userinput></screen>

  </sect2>

  <sect2 id="contents-iproute2" role="content">
    <title>Contenu de IPRoute2</title>

    <segmentedlist>
      <segtitle>Programmes installés</segtitle>
      <segtitle>Répertoires installés</segtitle>

      <seglistitem>
        <seg>bridge, ctstat (link to lnstat), genl, ifcfg, ifstat, ip, lnstat, nstat,
routef, routel, rtacct, rtmon, rtpr, rtstat (lien vers lnstat), ss et tc</seg>
        <seg>/etc/iproute2, /usr/lib/tc et /usr/share/doc/iproute2-&iproute2-version;
        </seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Descriptions courtes</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="bridge">
        <term><command>bridge</command></term>
        <listitem>
          <para>Configure des ponts réseaux</para>
          <indexterm zone="ch-system-iproute2 bridge">
            <primary sortas="b-bridge">bridge</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="ctstat">
        <term><command>ctstat</command></term>
        <listitem>
          <para>Outil donnant le statut de la connexion</para>
          <indexterm zone="ch-system-iproute2 ctstat">
            <primary sortas="b-ctstat">ctstat</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="genl">
        <term><command>genl</command></term>
        <listitem>
          <para>Interface netlink générique</para>
          <indexterm zone="ch-system-iproute2 genl">
            <primary sortas="b-genl">genl</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="ifcfg">
        <term><command>ifcfg</command></term>
        <listitem>
          <para>Un emballage en script shell pour la commande
<command>ip</command>. Remarquez qu'il a besoin des programmes
<command>arping</command> et <command>rdisk</command> du paquet iputils que
vous pouvez trouver sur <ulink url="http://www.skbuff.net/iputils/"/>.</para>
          <indexterm zone="ch-system-iproute2 ifcfg">
            <primary sortas="b-ifcfg">ifcfg</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="ifstat">
        <term><command>ifstat</command></term>
        <listitem>
          <para>Affiche les statistiques des interfaces, incluant le nombre de paquets émis
et transmis par l'interface</para>
          <indexterm zone="ch-system-iproute2 ifstat">
            <primary sortas="b-ifstat">ifstat</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="ip">
        <term><command>ip</command></term>
        <listitem>
          <para>L'exécutable principal. Il a plusieurs fonctions&nbsp;:</para>

          <para><command>ip link <replaceable>&lt;périphérique&gt;</replaceable></command>
autorise les utilisateurs à regarder l'état des périphériques et à faire des
changements</para>

          <para><command>ip addr</command> autorise les utilisateurs à regarder les adresses
et leurs propriétés, à ajouter de nouvelles adresses et à supprimer les
anciennes</para>

          <para><command>ip neighbor</command> autorise les utilisateurs à regarder dans les
liens des voisins et dans leurs propriétés, à ajouter de nouvelles entrées
et à supprimer les anciennes</para>

          <para><command>ip rule</command> autorise les utilisateurs à regarder les
politiques de routage et à les modifier</para>

          <para><command>ip route</command> autorise les utilisateurs à regarder la table de
routage et à modifier les règles de routage</para>

          <para><command>ip tunnel</command> autorise les utilisateurs à regarder les
tunnels IP et leurs propriétés, et à les modifier</para>

          <para><command>ip maddr</command> autorise les utilisateurs à regarder les
adresses multicast et leurs propriétés, et à les changer</para>

          <para><command>ip mroute</command> autorise les utilisateurs à configurer,
modifier ou supprimer le routage multicast</para>

          <para><command>ip monitor</command> autorise les utilisateurs à surveiller en
continu l'état des périphériques, des adresses et des routes</para>
          <indexterm zone="ch-system-iproute2 ip">
            <primary sortas="b-ip">ip</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="lnstat">
        <term><command>lnstat</command></term>
        <listitem>
          <para>Fournit les statistiques réseau Linux. C'est un remplacement plus
généraliste et plus complet de l'ancien programme <command>rtstat</command></para>
          <indexterm zone="ch-system-iproute2 lnstat">
            <primary sortas="b-lnstat">lnstat</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="nstat">
        <term><command>nstat</command></term>
        <listitem>
          <para>Affiche les statistiques réseau</para>
          <indexterm zone="ch-system-iproute2 nstat">
            <primary sortas="b-nstat">nstat</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="routef">
        <term><command>routef</command></term>
        <listitem>
          <para>Un composant de <command>ip route</command> pour vider les tables de routage</para>
          <indexterm zone="ch-system-iproute2 routef">
            <primary sortas="b-routef">routef</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="routel">
        <term><command>routel</command></term>
        <listitem>
          <para>Un composant de <command>ip route</command> pour afficher les tables de
routage</para>
          <indexterm zone="ch-system-iproute2 routel">
            <primary sortas="b-routel">routel</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="rtacct">
        <term><command>rtacct</command></term>
        <listitem>
          <para>Affiche le contenu de <filename>/proc/net/rt_acct</filename></para>
          <indexterm zone="ch-system-iproute2 rtacct">
            <primary sortas="b-rtacct">rtacct</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="rtmon">
        <term><command>rtmon</command></term>
        <listitem>
          <para>Outil de surveillance de routes</para>
          <indexterm zone="ch-system-iproute2 rtmon">
            <primary sortas="b-rtmon">rtmon</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="rtpr">
        <term><command>rtpr</command></term>
        <listitem>
          <para>Convertit la sortie de <command>ip -o</command> en un format lisible</para>
          <indexterm zone="ch-system-iproute2 rtpr">
            <primary sortas="b-rtpr">rtpr</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="rtstat">
        <term><command>rtstat</command></term>
        <listitem>
          <para>Outil de statut de routes</para>
          <indexterm zone="ch-system-iproute2 rtstat">
            <primary sortas="b-rtstat">rtstat</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="ss">
        <term><command>ss</command></term>
        <listitem>
          <para>Similaire à la commande <command>netstat</command>&nbsp;; affiche les
connexions actives</para>
          <indexterm zone="ch-system-iproute2 ss">
            <primary sortas="b-ss">ss</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="tc">
        <term><command>tc</command></term>
        <listitem>
          <para>Exécutable de contrôle du trafic&nbsp;; utile pour l'implémentation de la
qualité de service (QOS) et de la classe de service (COS)</para>

          <para><command>tc qdisc</command> autorise les utilisateurs à configurer la
discipline de queues</para>

          <para><command>tc class</command> autorise les utilisateurs à configurer les
classes suivant la planification de la discipline de queues</para>

          <para><command>tc estimator</command> autorise les utilisateurs à estimer le flux
réseau dans un réseau</para>

          <para><command>tc filter</command> autorise les utilisateurs à configurer les
filtres de paquets pour QOS/COS</para>

          <para><command>tc policy</command> autorise les utilisateurs à configurer les
politiques QOS/COS</para>
          <indexterm zone="ch-system-iproute2 ss">
            <primary sortas="b-tc">tc</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
