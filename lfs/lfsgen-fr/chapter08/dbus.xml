<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
  "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../general.ent">
  %general-entities;
]>

<sect1 id="ch-system-dbus" role="wrap" revision="systemd">
  <?dbhtml filename="dbus.html"?>

  <sect1info condition="script">
<productname>dbus</productname>
<productnumber>&dbus-version;</productnumber> <address>&dbus-url;</address></sect1info>

  <title>D-Bus-&dbus-version;</title>

  <indexterm zone="ch-system-dbus">
    <primary sortas="a-dbus">D-Bus</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>D-Bus est un système de bus de messages, une manière simple pour les
applications de se parler. D-Bus fournit un démon système (pour les
événements comme «&nbsp;l'ajout de nouveaux matériels&nbsp;» ou le
«&nbsp;changement de la file d'impression&nbsp;») et un démon individuel à
chaque utilisateur connecté (pour les besoins généraux de communication
entre les processus des applications de l'utilisateur). De plus, le bus des
messages est construit sur la base d'un environnement de circulation des
messages par communication directe, ce qui peut être utilisé par deux
applications pour communiquer directement (sans passer par le démon de bus
de messages).</para>

    <segmentedlist>
      <segtitle>&buildtime;</segtitle>
      <segtitle>&diskspace;</segtitle>

      <seglistitem>
        <seg>&dbus-fin-sbu;</seg>
        <seg>&dbus-fin-du;</seg>
      </seglistitem>
    </segmentedlist>

  </sect2>

  <sect2 role="installation">
    <title>Installation de D-Bus</title>

    <para>Préparez la compilation de D-Bus&nbsp;:</para>

<screen><userinput remap="configure">./configure --prefix=/usr                        \
            --sysconfdir=/etc                    \
            --localstatedir=/var                 \
            --disable-static                     \
            --disable-doxygen-docs               \
            --disable-xml-docs                   \
            --docdir=/usr/share/doc/dbus-&dbus-version; \
            --with-console-auth-dir=/run/console \
            --with-system-pid-file=/run/dbus/pid \
            --with-system-socket=/run/dbus/system_bus_socket</userinput></screen>

    <variablelist>
      <title>Voici la signification des options de configuration&nbsp;:</title>

      <varlistentry>
        <term><parameter>--with-console-auth-dir=/run/console</parameter></term>
        <listitem>
          <para>Cela indique l'emplacement du répertoire d'autorisation de ConsoleKit.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>
          <parameter>--with-system-pid-file=/run/dbus/pid</parameter> et
<parameter>--with-system-socket=/run/dbus/system_bus_socket</parameter>
        </term>
        <listitem>
          <para>Ces paramètres indiquent que l'emplacement du fichier de PID et du socket du
bus système sera dans <filename class="directory">/run</filename> au lieu du
répertoire obsolète <filename class="directory">/var/run</filename>.</para>
        </listitem>
      </varlistentry>

    </variablelist>

    <para>Compilez le paquet&nbsp;:</para>

<screen><userinput remap="make">make</userinput></screen>

    <para>Ce paquet est fourni avec une suite de tests, mais elle exige des paquets
non inclus dans LFS. Vous pouvez trouver des instructions pour lancer la
suite de tests dans BLFS, à <ulink url="&blfs-book;general/dbus.html"/>.</para>

    <para>Installez le paquet&nbsp;:</para>

<screen><userinput remap="install">make install</userinput></screen>

    <para>Créez un lien symbolique pour que D-Bus et systemd puissent utiliser le même
fichier <filename>machine-id</filename>&nbsp;:</para>

<screen><userinput remap="install">ln -sv /etc/machine-id /var/lib/dbus</userinput></screen>

  </sect2>

  <sect2 id="contents-dbus" role="content">
    <title>Contenu de D-Bus</title>

    <segmentedlist>
      <segtitle>Programmes installés</segtitle>
      <segtitle>Bibliothèques installées</segtitle>
      <segtitle>Répertoires installés</segtitle>

      <seglistitem>
        <seg>dbus-cleanup-sockets, dbus-daemon, dbus-launch, dbus-monitor,
dbus-run-session, dbus-send, dbus-test-tool,
dbus-update-activation-environment et dbus-uuidgen</seg>
        <seg>libdbus-1.{a,so}</seg>
        <seg>/etc/dbus-1, /usr/include/dbus-1.0, /usr/lib/dbus-1.0, /usr/share/dbus-1,
/usr/share/doc/dbus-&dbus-version;, et /var/lib/dbus</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Descriptions courtes</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="dbus-cleanup-sockets">
        <term><command>dbus-cleanup-sockets</command></term>
        <listitem>
          <para>est utilisé pour nettoyer les sockets fantômes d'un répertoire</para>
          <indexterm zone="ch-system-dbus dbus-cleanup-sockets">
            <primary sortas="b-dbus-cleanup-sockets">dbus-cleanup-sockets</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="dbus-daemon">
        <term><command>dbus-daemon</command></term>
        <listitem>
          <para>Est le démon de bus de messages D-Bus</para>
          <indexterm zone="ch-system-dbus dbus-daemon">
            <primary sortas="b-dbus-daemon">dbus-daemon</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="dbus-launch">
        <term><command>dbus-launch</command></term>
        <listitem>
          <para>Démarre <command>dbus-daemon</command> à partir d'un script shell</para>
          <indexterm zone="ch-system-dbus dbus-launch">
            <primary sortas="b-dbus-launch">dbus-launch</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="dbus-monitor">
        <term><command>dbus-monitor</command></term>
        <listitem>
          <para>Surveille les messages circulant dans un bus de message D-Bus</para>
          <indexterm zone="ch-system-dbus dbus-monitor">
            <primary sortas="b-dbus-monitor">dbus-monitor</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="dbus-run-session">
        <term><command>dbus-run-session</command></term>
        <listitem>
          <para>Démarre une instance de bus de session de <command>dbus-daemon</command> à
partir d'un scipt shell et démarre un programme spécifié dans cette session</para>
          <indexterm zone="ch-system-dbus dbus-run-session">
            <primary sortas="b-dbus-run-session">dbus-run-session</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="dbus-send">
        <term><command>dbus-send</command></term>
        <listitem>
          <para>Envoie un message à un bus de message D-Bus</para>
          <indexterm zone="ch-system-dbus dbus-send">
            <primary sortas="b-dbus-send">dbus-send</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="dbus-test-tool">
        <term><command>dbus-test-tool</command></term>
        <listitem>
          <para>Est un outil pour aider les paquets à tester
<application>D-Bus</application></para>
          <indexterm zone="ch-system-dbus dbus-test-tool">
            <primary sortas="b-dbus-test-tool">dbus-test-tool</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      
      <!-- This is a very long command name. Excuse the long <primary>
 statement below. -->
<varlistentry id="dbus-update-activation-environment">
        <term><command>dbus-update-activation-environment</command></term>
        <listitem>
          <para>Met à jour les variables d'environnement qui seront initialisées pour les
services de session de <application>D-Bus</application></para>
          <indexterm zone="ch-system-dbus dbus-update-activation-environment">
            <primary sortas="b-dbus-update-activation-environment">dbus-update-activation-environment</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="dbus-uuidgen">
        <term><command>dbus-uuidgen</command></term>
        <listitem>
          <para>Génère un ID universel et unique</para>
          <indexterm zone="ch-system-dbus dbus-uuidgen">
            <primary sortas="b-dbus-uuidgen">dbus-uuidgen</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libdbus-1">
        <term><filename class="libraryfile">libdbus-1</filename></term>
        <listitem>
          <para>Contient les fonctions de l'API utilisée pour communiquer avec le bus de
message de D-Bus</para>
          <indexterm zone="ch-system-dbus libdbus-1">
            <primary sortas="c-libdbus-1">libdbus-1</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
