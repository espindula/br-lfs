<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
  "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../general.ent">
  %general-entities;
]>

<sect1 id="ch-system-libffi" role="wrap">
  <?dbhtml filename="libffi.html"?>

  <sect1info condition="script">
<productname>libffi</productname>
<productnumber>&libffi-version;</productnumber> <address>&libffi-url;</address></sect1info>

  <title>Libffi-&libffi-version;</title>

  <indexterm zone="ch-system-libffi">
    <primary sortas="a-libffi">libffi</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>La bibliothèque Libffi fournit une interface portable et haut-niveau pour
diverses conventions d'appel. Cela permet au programmeur d'appeler des
fonctions spécifiées par une interface d'appel décrite à l'exécution.</para>

    <segmentedlist>
      <segtitle>&buildtime;</segtitle>
      <segtitle>&diskspace;</segtitle>

      <seglistitem>
        <seg>&libffi-fin-sbu;</seg>
        <seg>&libffi-fin-du;</seg>
      </seglistitem>
    </segmentedlist>

  </sect2>

  <sect2 role="installation">
    <title>Installation de Libffi</title>

    <note>
      <para>Comme pour GMP, libffi est construit avec des optimisations spécifiques au
processeur utilisé. Si vous construisez pour un autre système, exportez
CFLAGS et CXXFLAGS pour spécifier une construction générique pour votre
architecture. Si vous ne faites pas cela, des erreurs de type opération
illégale apparaîtront à l'édition des liens.</para>
    </note>

    <para>Préparez libffi à la compilation&nbsp;:</para>

    <screen><userinput remap="configure">./configure --prefix=/usr          \
            --disable-static       \
            --with-gcc-arch=native \
            --disable-exec-static-tramp </userinput></screen>

    <variablelist>
      <title>Voici la signification des options de configuration&nbsp;:</title>

      <varlistentry>
        <term><parameter>--with-gcc-arch=native</parameter></term>
        <listitem>
          <para>S'assure que GCC active les optimisations pour le système actuel. Si
l'option n'est pas spécifiée, il essaiera de deviner le système et le code
généré peut ne pas être correct pour certains systèmes. Si le code généré
est copié du système actuel vers un système avec moins de fonctionnalités,
utilisez le système avec moins de fonctionnalités dans le paramètre. Pour
des détails sur les types de systèmes alternatifs, voyez <ulink
url='https://gcc.gnu.org/onlinedocs/gcc-&gcc-version;/gcc/x86-Options.html'>les
options x86 dans le manuel de GCC</ulink>.</para>
        </listitem>
      </varlistentry>

    </variablelist>

    <para>Compilez le paquet&nbsp;:</para>

<screen><userinput remap="make">make</userinput></screen>

    <para>Pour tester les résultats, lancez&nbsp;:</para>

<screen><userinput remap="test">make check</userinput></screen>

    <para>Installez le paquet&nbsp;:</para>

<screen><userinput remap="install">make install</userinput></screen>

  </sect2>

  <sect2 id="contents-libffi" role="content">
    <title>Contenu de Libffi</title>

    <segmentedlist>
      <segtitle>Bibliothèque installée</segtitle>

      <seglistitem>
        <seg>libffi.so</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Descriptions courtes</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="libffi">
        <term><filename class="libraryfile">libffi</filename></term>
        <listitem>
          <para>contient les fonctions de l'API de l'interface pour les fonctions externes.</para>
          <indexterm zone="ch-system-libffi">
            <primary sortas="c-libffi">libffi</primary>
          </indexterm>
        </listitem>
      </varlistentry>
    </variablelist>

  </sect2>

</sect1>

