<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
  "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../general.ent">
  %general-entities;
]>

<sect1 id="ch-tools-changingowner">
  <?dbhtml filename="changingowner.html"?>

  <title>Changer de propriétaire</title>

  <note>
    <para>Les commandes dans la suite de ce livre doivent être exécutées alors que
vous êtes connecté en tant que <systemitem
class="username">root</systemitem> et pas en tant qu'utilisateur <systemitem
class="username">lfs</systemitem>. Contrôlez à nouveau que
<envar>$LFS</envar> est paramétré dans l'environnement de <systemitem
class="username">root</systemitem>.</para>
  </note>

  <para>Pour l'instant, la hiérarchie complète des répertoires de <filename
class="directory">$LFS</filename> appartient à l'utilisateur <systemitem
class="username">lfs</systemitem>, un utilisateur qui n'existe que sur le
système hôte. Si les répertoires et fichiers dans <filename
class="directory">$LFS</filename> restent ainsi, ils appartiendront à un ID
utilisateur sans compte correspondant. C'est dangereux car un compte
utilisateur créé plus tard pourrait se voir attribuer ce même ID utilisateur
et être propriétaire du répertoire <filename
class="directory">$LFS</filename>, exposant ainsi ces fichiers à des
manipulations suspectes.</para>

  <para>Pour éviter ce problème, changez le propriétaire du répertoire <filename
class="directory">$LFS</filename> en le rendant à l'utilisateur <systemitem
class="username">root</systemitem> en exécutant la commande suivante&nbsp;:</para>

<screen><userinput>chown -R root:root $LFS/{usr,lib,var,etc,bin,sbin,tools}
case $(uname -m) in
  x86_64) chown -R root:root $LFS/lib64 ;;
esac</userinput></screen>

</sect1>
