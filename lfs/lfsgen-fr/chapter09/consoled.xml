<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
  "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../general.ent">
  %general-entities;
]>

<sect1 id="ch-config-console" revision="systemd">
  <?dbhtml filename="console.html"?>

  <title>Configurer la Console Linux</title>

  <indexterm zone="ch-config-console">
    <primary sortas="d-console">console</primary>
    <secondary>configuration</secondary>
  </indexterm>

  <para>Cette section traite de la manière de configurer le service système
<command>systemd-vconsole-setup</command> qui configure la police de la
console virtuelle et la disposition du clavier dans la console.</para>

  <para>Le service <command>systemd-vconsole-setup</command> lit les informations de
configuration dans le fichier
<filename>/etc/vconsole.conf</filename>. Décidez de la disposition du
clavier et de la police à l'écran qui seront utilisées.  Il existe divers
guides pratiques spécifiques à chaque langue qui peuvent vous aider, voir
<ulink
url="http://www.tldp.org/HOWTO/HOWTO-INDEX/other-lang.html"/>. Observez la
sortie de <command>localectl list-keymaps</command> pour une liste des
dispositions de clavier valides sur la console. Regardez le répertoire
<filename class="directory">/usr/share/consolefonts</filename> pour une
liste des polices d'écran valides.</para>

  <para>Le fichier <filename>/etc/vconsole.conf</filename> devrait contenir des
lignes de la forme&nbsp;: VARIABLE="valeur". Les variables suivantes sont
reconnues&nbsp;:</para>

  <variablelist>

    <varlistentry>
      <term>KEYMAP</term>
      <listitem>
        <para>Cette variable spécifie la table de disposition du clavier. Si vous ne la
définissez pas, elle est par défaut <literal>us</literal>.</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>KEYMAP_TOGGLE</term>
      <listitem>
        <para>Vous pouvez utiliser cette variable pour configurer une disposition
alternative par défaut où vous pouvez basculer.</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>FONT</term>
      <listitem>
        <para>Cette variable spécifie la police utilisée par la console virtuelle.</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>FONT_MAP</term>
      <listitem>
        <para>Cette variable spécifie la présentation de la console.</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>FONT_UNIMAP</term>
      <listitem>
        <para>Cette variable spécifie la police de l'Unicode.</para>
      </listitem>
    </varlistentry>

  </variablelist>

  <para>Voici un exemple pour un clavier allemand&nbsp;:</para>

<screen><!-- This is what is used by jhalfs for creating the vconsole.conf file.
     Whenever you want to change the following, please inform the jhalfs
     maintainer(s). -->
<userinput>cat &gt; /etc/vconsole.conf &lt;&lt; "EOF"
<literal>KEYMAP=de-latin1
FONT=Lat2-Terminus16</literal>
EOF</userinput></screen>

  <para>Vous pouvez modifier la valeur de KEYMAP lors de l'exécution en utilisant
l'outil <command>localectl</command>&nbsp;:</para>

<screen role="nodump"><userinput>localectl set-keymap MAP</userinput></screen>

  <note><para>Veuillez remarquer que la commande <command>localectl</command> n'est
utilisable que sur un système démarré avec systemd.</para></note>

  <para>Vous pouvez aussi utiliser l'utilitaire <command>localectl</command> avec
les paramètres correspondants pour changer la disposition, le modèle, la
variante et d'autres options du clavier&nbsp;:</para>

<screen role="nodump"><userinput>localectl set-x11-keymap LAYOUT [MODEL] [VARIANT] [OPTIONS]</userinput></screen>

  <para>Pour lister les différentes valeurs possibles pour les paramètres
<command>localectl set-x11-keymap</command>, lancez
<command>localectl</command> avec les paramètres ci-dessous&nbsp;:
  </para>

  <variablelist>

    <varlistentry>
      <term>list-x11-keymap-models</term>
      <listitem>
        <para>Affiche les modèles connus de claviers X11.</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>list-x11-keymap-layouts</term>
      <listitem>
        <para>Affiche les dispositions connues de claviers X11.</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>list-x11-keymap-variants</term>
      <listitem>
        <para>Affiche les variantes connues de claviers X11.</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>list-x11-keymap-options</term>
      <listitem>
        <para>Affiche les options connues de claviers X11.</para>
      </listitem>
    </varlistentry>

  </variablelist>

  <note><para>L'utilisation des paramètres listés ci-dessus nécessite le paquet
XKeyboard-Config de BLFS.</para></note>

</sect1>
