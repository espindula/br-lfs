<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
  "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../general.ent">
  %general-entities;
]>

<sect1 id="ch-scripts-hosts">
  <?dbhtml filename="hosts.html"?>

  <title>Personnaliser le fichier /etc/hosts</title>

  <indexterm zone="ch-scripts-hosts">
    <primary sortas="e-/etc/hosts">/etc/hosts</primary>
  </indexterm>

  <indexterm zone="ch-scripts-hosts">
    <primary sortas="d-localnet">localnet</primary>
  <secondary>/etc/hosts</secondary></indexterm>

  <indexterm zone="ch-scripts-hosts">
    <primary sortas="d-network">network</primary>
  <secondary>/etc/hosts</secondary></indexterm>

  <para>Si une carte réseau doit être configurée, choisissez son adresse IP,
  son nom de domaine pleinement qualifié (<foreignphrase>fully-qualified domain 
  name</foreignphrase>, ou FQDN) et les alias possibles à déclarer dans le fichier
  <filename>/etc/hosts</filename>. La syntaxe est&nbsp;:</para>

<screen><literal>IP_address myhost.example.org aliases</literal></screen>

  <para>Sauf si votre ordinateur doit être visible à partir d'Internet (c-à-d
  que c'est un domaine enregistré et un bloc d'adresses IP valide&mdash;la plupart des
  utilisateurs n'ont pas ceci), assurez-vous que l'adresse IP
  se trouve dans la plage d'adresses réservée aux réseaux privés. Les
  plages valides sont&nbsp;:</para>

<screen><literal>Plage d'adresses réseau privés      Préfixe normal
     10.0.0.1 - 10.255.255.254                    8
    172.x.0.1 - 172.x.255.254                    16
  192.168.y.1 - 192.168.y.254                    24</literal></screen>

  <para>x peut être un nombre compris entre 16 et 31.
  y peut être un nombre compris entre 0 et 255.</para>

  <para>Une adresse IP privée valide pourrait être 192.168.1.1.
  Un FQDN valide pour cette IP pourrait être lfs.example.org.</para>

  <para>Même si vous ne possédez pas de carte réseau, un FQDN valide est toujours requis.
  Certains programmes en ont besoin pour fonctionner correctement.</para>

  <para>Créez le fichier <filename>/etc/hosts</filename> en lançant&nbsp;:</para>

<screen><userinput>cat &gt; /etc/hosts &lt;&lt; "EOF"
<literal># Début de /etc/hosts (version avec carte réseau)

  127.0.0.1 localhost
  <replaceable>&lt;192.168.1.1&gt;</replaceable> <replaceable>&lt;HOSTNAME.example.org&gt;</replaceable> <replaceable>[alias1] [alias2 ...]</replaceable>

# Fin de /etc/hosts (version avec carte réseau)</literal>
EOF</userinput></screen>

  <para>Les valeurs <replaceable>&lt;192.168.1.1&gt;</replaceable> et
  <replaceable>&lt;HOSTNAME.example.org&gt;</replaceable> doivent
  être remplacées suivant les contraintes/besoins des utilisateurs
  (si la machine se voit affectée une adresse IP par un administrateur
  réseau/système et que cette machine est connectée à un réseau existant).
  Vous pouvez omettre le ou les noms d'alias optionnels.</para>

  <para>Si vous n'avez pas de carte réseau à configurer, créez le fichier
  <filename>/etc/hosts</filename> en lançant la commande&nbsp;:</para>

<screen role="nodump"><userinput>cat &gt; /etc/hosts &lt;&lt; "EOF"
<literal># Début de /etc/hosts (version sans carte réseau)

127.0.0.1 <replaceable>&lt;HOSTNAME.example.org&gt;</replaceable> <replaceable>&lt;NOMDHOTE&gt;</replaceable> localhost

# Fin de /etc/hosts (version sans carte réseau)</literal>
EOF</userinput></screen>

</sect1>
