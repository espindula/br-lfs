<sect1 id="ch07-setclock">
<title>Configuration du script setclock</title>
<?dbhtml filename="setclock.html" dir="chapter07"?>


<para>Le script setclock n'est vraiment utile que quand l'horloge matérielle 
(aussi appelée horloge BIOS or horloge CMOS) n'est pas à l'heure GMT. La configuration
recommandée est de mettre l'horloge matérielle à GMT et de convertir l'heure en 
heure local en utilisant le lien symbolique /etc/localtime. Mais si un autre
système d'exploitation qui ne comprend pas une horloge positionnée à GMT ( les 
plus connus étant les systèmes d'exploitation Microsoft ) vous voudrez certainement
mettre votre horloge à l'heure locale pour que l'heure soit correctement affichée sous
les deux systèmes. Ce script affectera l'heure du noyau à celle de l'horloge matérielle
sans utiliser le lien symbolique /etc/localtime.</para>

<para>Si vous voulez utilisez ce script sur votre système même si l'horloge
matérielle est positionnée à GMT, alors la variable UTC suivante doit être changée
à la valeur <emphasis>1</emphasis>.</para>

<para>Créez un nouveau fichier <filename>/etc/sysconfig/clock</filename> en lançant 
la commande suivante:</para>

<para><screen><userinput>cat &gt; /etc/sysconfig/clock &lt;&lt; "EOF"</userinput>
# Début de /etc/sysconfig/clock

UTC=0

# Fin de /etc/sysconfig/clock
<userinput>EOF</userinput></screen></para>

<para>Maintenant, vous voudrez peut-être jeter un oeil sur cette excellente astuce
expliquant comment on gère le temps avec LFS: <ulink 
url="&hints-root;time.txt">&hints-root;time.txt</ulink>. 
Il explique des points tels que les timezones, UTC, et la variable d'environnement
TZ.</para>

</sect1>

