<sect1 id="ch02-install" xreflabel="Chapter 2 - How to install the software">
<title>Comment installer les logiciels</title>
<?dbhtml filename="install.html" dir="chapter02"?>

<para>Avant que vous ne commenciez à utiliser le livre LFS, nous aimerions vous
faire remarquer que toutes les commandes employées supposent que vous utilisiez
le shell bash. Si cela n'est pas le cas, les commandes peuvent fonctionner mais
nous ne pouvons le garantir. Si vous voulez vous simplifier la vie, utilisez
bash.</para>

<para>Avant de pouvoir faire quelque chose d'un package, vous devrez d'abord le
déballer. Souvent, les packages sont des archives tar qui ont été compressés
avec gzip ou bzip2. Nous n'expliquerons pas à chaque fois comment déballer une
archive. Nous allons vous l'expliquer une bonne fois pour toutes dans cette
section.</para>

<para>Pour commencer, placez vous dans le répertoire $LFS/usr/src en lançant:</para>

<para><screen><userinput>cd $LFS/usr/src</userinput></screen></para>

<para>Si une archive est au format tar et gzip, elle est déballée grâce à
l'une de ces deux commandes, suivant le nom du fichier :</para>

<para><screen><userinput>tar xvzf filename.tar.gz</userinput>
<userinput>tar xvzf filename.tgz</userinput></screen></para>


<para>Si une archive est au format tar et bzip2, elle est déballée par la
commande :</para>

<para><screen><userinput>bzcat filename.tar.bz2 | tar xv</userinput></screen></para>

<para>Quelques versions de tar (la plupart de nos jours, mais pas encore toutes)
ont été modifiées pour utiliser directement bzip2 grâce à l'option I, y ou j, qui
fonctionne de manière identique à l'option z pour la gestion des archives
compressées avec gzip. La commande ci-dessus fonctionne quel que soit la manière
dont votre système a été modifié pour gérer le bzip2 dans la commande tar.</para>

<para>Si une archive est simplement en tar, elle est déballée par la commande :</para>

<para><screen><userinput>tar xvf filename.tar</userinput></screen></para>

<para>Quand une archive est déballée, un nouveau répertoire est créé dans le
répertoire courant (et ce livre suppose que les archives sont déballées dans
le répertoire $LFS/usr/src). Placez vous dans ce nouveau répertoire pour la
suite de la procédure d'installation. A chaque fois que ce livre vous
expliquera l'installation d'un package, ce sera à vous de déballer l'archive
des sources et de vous placer dans le répertoire créé.</para>

<para>De temps en temps, il vous faudra travailler avec de simple fichiers tels
que des fichiers de patch. Ces fichiers vous seront généralement fournis
compressés avec gzip ou bzip2. Avant de pouvoir les utiliser, il faudra les
décompresser.</para>

<para>Si un fichier a été compressé avec gzip, il sera décompressé par :</para>

<para><screen><userinput>gunzip filename.gz</userinput></screen></para>

<para>Si un fichier a été compressé avec bzip2, il sera décompressé par :</para>

<para><screen><userinput>bunzip2 filename.bz2</userinput></screen></para>

<para>Après l'installation d'un package, deux choix s'offrent à vous : soit
effacer le répertoire contenant les sources, soit le garder. Nous vous
recommendons vivement de le supprimer. Si vous ne le faites pas et essayez
de ré-utiliser les sources plus tard (par exemple, dans le chapitre 6, 
ré-utiliser les sources compilés lors du chapitre 5), il est possible que cela
ne fonctionne pas de la manière attendue. En effet, les sources utilisés au
chapitre 5 auront des paramètres de configuration propres à la distribution
hôte que vous avez utilisé, qui ne sont pas toujours applicables au système
LFS après être rentré dans l'environnement chroot. Même l'utilisation de la
commande <emphasis>make clean</emphasis> ne garantie pas toujours le nettoyage
complet des sources.</para>

<para>Pensez donc à vous éviter nombre d'ennuis, et supprimez simplement le
répertoire contenant les sources après installation.</para>

<para>Il est cependant un cas d'exception à cette règle, c'est celui des
sources du noyau. Gardez le dans un coin, car vous en aurez besoin plus tard
pour compiler un noyau. Aucun package n'utilise les sources du noyau, donc
celles-ci ne seront pas un obstacle.</para>

</sect1>

