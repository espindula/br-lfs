<sect1 id="ch02-aboutlfs">
<title>A propos de $LFS</title>
<?dbhtml filename="aboutlfs.html" dir="chapter02"?>

<para>S'il vous plait, lisez ce paragraphe attentivement : tout au long de ce
livre, la variable LFS sera utilisée fréquemment. Vous devrez la remplacer
partout où vous la trouverez par le répertoire dans lequel vous avez monté la
partition contenant votre système LFS. La méthode pour créer et l'endroit où
monter cette partition seront expliqués en détail au chapitre 4. A titre
d'exemple, supposons que la partition LFS soit montée dans le répertoire
/mnt/lfs.</para>

<para>Quand il vous est demandé de lancer une commande telle que 
<userinput>./configure --prefix=$LFS/static</userinput>, il vous faut en
pratique exécuter <userinput>./configure --prefix=/mnt/lfs/static</userinput>.
</para>

<para>Il est très important que cela soit fait quel que soit l'endroit où vous
le lisez, que ce soit pour une commande à donner à un shell ou dans un
fichier édité ou créé.</para>

<para>Une solution possible est de définir la variable d'environnement LFS.
De cette façon, $LFS peut être tapé directement au lieu de le remplacer par
/mnt/lfs. 
Cela peut être accomplit en exécutant la commande suivante:</para>

<para><screen><userinput>export LFS=/mnt/lfs</userinput></screen></para>

<para>A partir de ce moment, lorsqu'il vous sera demandé d'entrer une
commande telle que <userinput>./configure --prefix=$LFS/static</userinput>,vous
pourrez la taper littéralement. Votre shell fera le remplacement de
$LFS par /mnt/lfs lors de l'analyse de la ligne de commande (c'est-à-dire après
avoir appuyé sur la touche Entrée).</para>

<para>Si vous décidez d'utiliser cette méthode pour $LFS, n'oubliez pas de
définir cette variable à chaque fois. Si la variable n'a pas été définie mais
qu'elle est utilisée dans une commande, $LFS sera remplacée par rien, et la
commande résultante sera tout de même exécutée. Une commande telle que
<userinput>echo "root:x:0:0:root:/root:/bin/bash" &gt; 
$LFS/etc/passwd</userinput> avec la variable non définie va effacer et
re-créer le fichier /etc/passwd de votre système hôte. En clair : vous
aurez perdu la base des utilisateurs sur votre machine !</para>

<para>Une bonne méthode pour s'assurer que la variable LFS est définie à
chaque fois consiste à la définir dans le fichier /root/.bash_profile et
le fichier /root/.bashrc afin qu'à chacune de vos connections (ou sessions par
<userinput>su</userinput>) vers le compte root, la variable LFS soit définie.
</para>

</sect1>

