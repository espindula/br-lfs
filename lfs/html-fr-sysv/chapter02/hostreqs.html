<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="application/xhtml+xml; charset=utf-8" />
    <title>
      2.2.&nbsp;Prérequis du système hôte
    </title>
    <link rel="stylesheet" type="text/css" href="../stylesheets/lfs.css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.78.1" />
    <link rel="stylesheet" href="../stylesheets/lfs-print.css" type=
    "text/css" media="print" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  </head>
  <body class="lfs" id="lfs-r10.1-205-g49170+">
    <div class="navheader">
      <h4>
        Linux From Scratch - Version r10.1-205-g49170+
      </h4>
      <h3>
        Chapitre&nbsp;2.&nbsp;Préparation du système hôte
      </h3>
      <ul>
        <li class="prev">
          <a accesskey="p" href="introduction.html" title=
          "Introduction">Précédent</a>
          <p>
            Introduction
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="stages.html" title=
          "Les étapes de la construction de LFS">Suivant</a>
          <p>
            Les étapes de la construction de LFS
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="chapter02.html" title=
          "Chapitre&nbsp;2.&nbsp;Préparation du système hôte">Niveau
          supérieur</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Linux From Scratch - Version r10.1-205-g49170+ ">Sommaire</a>
        </li>
      </ul>
    </div>
    <div class="sect1" lang="fr" xml:lang="fr">
      <h1 class="sect1">
        <a id="ch-partitioning-hostreqs" name=
        "ch-partitioning-hostreqs"></a>2.2. Prérequis du système hôte
      </h1>
      <p>
        Votre système hôte doit contenir les logiciels suivants dans leur
        version minimum indiquée. Cela ne devrait pas poser de problème sur
        la plupart des distributions Linux modernes. Notez également que
        certaines distributions placeront les en-têtes des logiciels dans un
        paquet distinct, ayant souvent la forme <span class=
        "quote">«&nbsp;<span class=
        "quote">&lt;nom-du-paquet&gt;-devel</span>&nbsp;»</span> ou
        <span class="quote">«&nbsp;<span class=
        "quote">&lt;nom-du-paquet&gt;-dev</span>&nbsp;»</span>. Assurez-vous
        qu'ils sont installés si votre distribution les fournit.
      </p>
      <p>
        Il se peut que les versions antérieures des paquets logiciels listés
        fonctionnent, mais elles n'ont pas été testées.
      </p>
      <div class="itemizedlist">
        <ul class="compact">
          <li class="listitem">
            <p>
              <span class="strong"><strong>Bash-3.2</strong></span> (/bin/sh
              devrait être un lien symbolique ou physique vers bash)
            </p>
          </li>
          <li class="listitem">
            <p>
              <span class="strong"><strong>Binutils-2.25</strong></span> (les
              versions supérieures à 2.37 ne sont pas recommandées, car elles
              n'ont pas été testées)
            </p>
          </li>
          <li class="listitem">
            <p>
              <span class="strong"><strong>Bison-2.7</strong></span>
              (/usr/bin/yacc devrait être un lien vers bison ou un petit
              script qui exécute bison)
            </p>
          </li>
          <li class="listitem">
            <p>
              <span class="strong"><strong>Bzip2-1.0.4</strong></span>
            </p>
          </li>
          <li class="listitem">
            <p>
              <span class="strong"><strong>Coreutils-6.9</strong></span>
            </p>
          </li>
          <li class="listitem">
            <p>
              <span class="strong"><strong>Diffutils-2.8.1</strong></span>
            </p>
          </li>
          <li class="listitem">
            <p>
              <span class="strong"><strong>Findutils-4.2.31</strong></span>
            </p>
          </li>
          <li class="listitem">
            <p>
              <span class="strong"><strong>Gawk-4.0.1</strong></span>
              (/usr/bin/awk devrait être un lien vers gawk)
            </p>
          </li>
          <li class="listitem">
            <p>
              <span class="strong"><strong>GCC-6.2</strong></span>, y compris
              le compilateur C++ <span class=
              "command"><strong>g++</strong></span> (les versions supérieures
              à 11.2.0 ne sont pas recommandées, car elles n'ont pas été
              testées)
            </p>
          </li>
          <li class="listitem">
            <p>
              <span class="strong"><strong>Glibc-2.11</strong></span> (les
              versions supérieures à 2.34 ne sont pas recommandées car elles
              n'ont pas été testées)
            </p>
          </li>
          <li class="listitem">
            <p>
              <span class="strong"><strong>Grep-2.5.1a</strong></span>
            </p>
          </li>
          <li class="listitem">
            <p>
              <span class="strong"><strong>Gzip-1.3.12</strong></span>
            </p>
          </li>
          <li class="listitem">
            <p>
              <span class="strong"><strong>Noyau Linux-3.2</strong></span>
            </p>
            <p>
              Cette version du noyau est requise, car nous spécifions cette
              version-là lors de la construction de <span class=
              "application">glibc</span> aux <a class="xref" href=
              "../chapter05/chapter05.html" title=
              "Chapitre&nbsp;5.&nbsp;Compilation d'une chaîne d'outils croisée">
              Chapitre&nbsp;5</a> et <a class="xref" href=
              "../chapter08/chapter08.html" title=
              "Chapitre&nbsp;8.&nbsp;Installer les logiciels du système de base">
              Chapitre&nbsp;8</a>, suivant ainsi une recommandation des
              développeurs. Elle est aussi exigée par Udev.
            </p>
            <p>
              Si le noyau hôte est plus ancien que le 3.2, vous devrez
              remplacer le noyau par une version plus à jour. Vous pouvez
              employer deux méthodes pour cela. Vous pouvez d'abord voir si
              votre distribution Linux fournit un paquet pour le noyau 3.2 ou
              supérieur. Si tel est le cas, vous pouvez l'installer. Si votre
              distribution n'offre pas de paquet acceptable pour le noyau, ou
              si vous préférez ne pas l'installer, vous pouvez compiler un
              noyau vous-même. Les instructions pour la compilation du noyau
              et la configuration du chargeur d'amorçage (en supposant que le
              système hôte utilise GRUB) se trouvent au <a class="xref" href=
              "../chapter10/chapter10.html" title=
              "Chapitre&nbsp;10.&nbsp;Rendre le système LFS amorçable">Chapitre&nbsp;10</a>.
            </p>
          </li>
          <li class="listitem">
            <p>
              <span class="strong"><strong>M4-1.4.10</strong></span>
            </p>
          </li>
          <li class="listitem">
            <p>
              <span class="strong"><strong>Make-4.0</strong></span>
            </p>
          </li>
          <li class="listitem">
            <p>
              <span class="strong"><strong>Patch-2.5.4</strong></span>
            </p>
          </li>
          <li class="listitem">
            <p>
              <span class="strong"><strong>Perl-5.8.8</strong></span>
            </p>
          </li>
          <li class="listitem">
            <p>
              <span class="strong"><strong>Python-3.4</strong></span>
            </p>
          </li>
          <li class="listitem">
            <p>
              <span class="strong"><strong>Sed-4.1.5</strong></span>
            </p>
          </li>
          <li class="listitem">
            <p>
              <span class="strong"><strong>Tar-1.22</strong></span>
            </p>
          </li>
          <li class="listitem">
            <p>
              <span class="strong"><strong>Texinfo-4.7</strong></span>
            </p>
          </li>
          <li class="listitem">
            <p>
              <span class="strong"><strong>Xz-5.0.0</strong></span>
            </p>
          </li>
        </ul>
      </div>
      <div class="admon important">
        <img alt="[Important]" src="../images/important.png" />
        <h3>
          Important
        </h3>
        <p>
          Remarquez que les liens symboliques mentionnés ci-dessus sont
          nécessaires pour construire un système LFS en utilisant les
          instructions contenues à l'intérieur de ce livre. Il se peut que
          les liens symboliques pointent vers d'autres logiciels (comme dash,
          mawk, etc), mais ils n'ont pas été testés, ne sont pas pris en
          charge par l'équipe de développement LFS et il se peut qu'ils
          demandent soit des déviations par rapport aux instructions, soit
          des correctifs supplémentaires de certains paquets.
        </p>
      </div>
      <h2>
        <a id="version-check" name="version-check"></a>
      </h2>
      <p>
        Pour voir si votre système hôte a toutes les versions nécessaires,
        exécutez ceci&nbsp;:
      </p>
      <pre class="userinput"><kbd class=
      "command">cat &gt; version-check.sh &lt;&lt; "EOF"
<code class="literal">#!/bin/bash
# Script simple pour afficher les numéros de version des outils de développement critiques
export LC_ALL=C
bash --version | head -n1 | cut -d" " -f2-4
MYSH=$(readlink -f /bin/sh)
echo "/bin/sh -&gt; $MYSH"
echo $MYSH | grep -q bash || echo "ERREUR : /bin/sh ne pointe pas vers bash"
unset MYSH

echo -n "Binutils : "; ld --version | head -n1 | cut -d" " -f3-
bison --version | head -n1

if [ -h /usr/bin/yacc ]; then
  echo "/usr/bin/yacc -&gt; `readlink -f /usr/bin/yacc`";
elif [ -x /usr/bin/yacc ]; then
  echo yacc est `/usr/bin/yacc --version | head -n1`
else
  echo "yacc introuvable" 
fi

bzip2 --version 2&gt;&amp;1 &lt; /dev/null | head -n1 | cut -d" " -f1,6-
echo -n "Coreutils : "; chown --version | head -n1 | cut -d")" -f2
diff --version | head -n1
find --version | head -n1
gawk --version | head -n1

if [ -h /usr/bin/awk ]; then
  echo "/usr/bin/awk -&gt; `readlink -f /usr/bin/awk`";
elif [ -x /usr/bin/awk ]; then
  echo awk est `/usr/bin/awk --version | head -n1`
else 
  echo "awk introuvable" 
fi

gcc --version | head -n1
g++ --version | head -n1
ldd --version | head -n1 | cut -d" " -f2-  # version de glibc
grep --version | head -n1
gzip --version | head -n1
cat /proc/version
m4 --version | head -n1
make --version | head -n1
patch --version | head -n1
echo Perl `perl -V:version`
python3 --version
sed --version | head -n1
tar --version | head -n1
makeinfo --version | head -n1  # version de texinfo
xz --version | head -n1

echo 'int main(){}' &gt; dummy.c &amp;&amp; g++ -o dummy dummy.c
if [ -x dummy ]
  then echo "g++ compilation OK";
  else echo "g++ compilation échouée"; fi
rm -f dummy.c dummy</code>
EOF

bash version-check.sh</kbd></pre>
    </div>
    <div class="navfooter">
      <ul>
        <li class="prev">
          <a accesskey="p" href="introduction.html" title=
          "Introduction">Précédent</a>
          <p>
            Introduction
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="stages.html" title=
          "Les étapes de la construction de LFS">Suivant</a>
          <p>
            Les étapes de la construction de LFS
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="chapter02.html" title=
          "Chapitre&nbsp;2.&nbsp;Préparation du système hôte">Niveau
          supérieur</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Linux From Scratch - Version r10.1-205-g49170+ ">Sommaire</a>
        </li>
      </ul>
    </div>
  </body>
</html>
