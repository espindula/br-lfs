<sect1 id="ch06-ed">
<title>Installer Ed-&ed-version;</title>
<?dbhtml filename="ed.html" dir="chapter06"?>

<screen>Estimation du temps de compilation:           &ed-time;
Estimation de l'espace disque requis:  &ed-compsize;</screen>

&aa-ed-shortdesc;
&aa-ed-dep;

<sect2><title>&nbsp;</title><para>&nbsp;</para></sect2>

<sect2>
<title>Installation de Ed</title>

<note><para>Ed n'est pas un programme que beaucoup de gens utilisent. Il est
installé parce qu'il peut être utilisé par le programme patch si vous rencontrez
un correctif basé sur ed. Ceci arrive rarement parce que les correctifs basés
sur diff sont préférés de nos jours.</para></note>

<para>Ed utilise normalement la fonction mktemp pour créer des fichiers
temporaires dans <filename class="directory">/tmp</filename>, mais cette
fonctionnalité contient une vulnérabilité (voir la section sur les fichiers
temporaires dans <ulink
url="http://en.tldp.org/HOWTO/Secure-Programs-HOWTO/avoid-race.html"/>). Le
correctif suivant fait que Ed utilise mkstemp à la place, ce qui est la façon
recommendée de créer des fichiers temporaires.</para>

<para>Appliquez le correctif&nbsp;:</para>

<screen><userinput>patch -Np1 -i ../&ed-patch;</userinput></screen>

<para>Maintenant, préparez la compilation de Ed&nbsp;:</para>

<screen><userinput>./configure --prefix=/usr</userinput></screen>

<para>Compilez le package&nbsp;:</para>

<screen><userinput>make</userinput></screen>

<para>Ce package dispose d'une suite de tests, réalisant plusieurs tests pour
s'assurer que le programme a été construit correctement. Si vous décidez de le
lancer, la commande suivante fera le nécessaire&nbsp;:</para>

<screen><userinput>make check</userinput></screen>

<para>Installez le package&nbsp;:</para>

<screen><userinput>make install</userinput></screen>

<para>Et, déplacez les programmes vers le répertoire <filename>/bin</filename>
de façon à ce qu'ils puissent être utilisé au cas où la partition
<filename>/usr</filename> ne serait pas disponible.</para>

<screen><userinput>mv /usr/bin/{ed,red} /bin</userinput></screen>

</sect2>

</sect1>


