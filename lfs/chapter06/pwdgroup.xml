<sect1 id="ch05-pwdgroup">
<title>Créer les fichiers passwd et group</title>
<?dbhtml filename="pwdgroup.html" dir="chapter05"?>

<para>Pour que <emphasis>root</emphasis> puisse se connecter et pour que le nom
"root" soit reconnu, il doit exister les entrées adéquates dans les fichiers
<filename>/etc/passwd</filename> et <filename>/etc/group</filename>.</para>

<para>Créez le fichier <filename>/etc/passwd</filename> en lançant la commande
suivante:</para>

<para><screen><userinput>cat &gt; /etc/passwd &lt;&lt; "EOF"</userinput>
root:x:0:0:root:/root:/bin/bash
<userinput>EOF</userinput></screen></para>

<para>Le mot de passe actuel pour <emphasis>root</emphasis> (le "x" ici sert
juste à remplir la case) sera initialisé plus tard.</para>

<para>Créez le fichier <filename>/etc/group</filename> en lançant la commande
suivante:</para>

<para><screen><userinput>cat &gt; /etc/group &lt;&lt; "EOF"</userinput>
root:x:0:
bin:x:1:
sys:x:2:
kmem:x:3:
tty:x:4:
tape:x:5:
daemon:x:6:
floppy:x:7:
disk:x:8:
lp:x:9:
dialout:x:10:
audio:x:11:
<userinput>EOF</userinput></screen></para>

<para>Les groupes créés ne font partie d'aucun standard -- ce sont les groupes
que le script MAKEDEV utilise dans la section suivante. En plus du groupe
"root", le LSB (<ulink url="http://www.linuxbase.org"/>) recommande seulement un
groupe "bin", avec un GID de 1. Tous les autres noms de groupe et GIDs peuvent
être choisis librement par l'utilisateur, car les packages bien écrits ne
dépendent pas du numéro GID mais utilisent le nom du groupe.</para>

<para>Enfin, nous nous reconnectons dans l'environnement chroot. La résolution
des noms d'utilisateur et des noms de groupe commencera à fonctionner
immédiatement après la création des fichiers <filename>/etc/passwd</filename>
et <filename>/etc/group</filename>, parce que nous avons installé une Glibc
complète au chapitre 5. Ceci supprimer l'invite <quote>I have no name!</quote>.
</para>

<para><screen><userinput>exec /tools/bin/bash --login +h</userinput></screen></para>

</sect1>

