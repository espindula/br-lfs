<sect1 id="ch06-aboutdebug">
<title>A propos des symboles de débogage</title>
<?dbhtml filename="aboutdebug.html" dir="chapter06"?>

<para>La plupart des programmes et des bibliothèques sont compilés, par défaut,
avec les informations de débogage (avec l'option -g de gcc).</para>

<para>Lors du débogage d'un programme ou d'une librairie qui a été compilée
avec les options de débogage, le débogueur vous donnera non
seulement les adresses mémoires, mais aussi les noms des routines et des
variables.</para>

<para>Mais l'inclusion de ces informations de débogage grossit le programme
ou la bibliothèque de manière significative. Pour avoir une idée de la
quantité d'espace que ces symboles occupent, regarder ceci :</para>

<itemizedlist>

<listitem><para>Un binaire Bash
avec inforamtions de débogage: 1200 Ko.</para></listitem>

<listitem><para>Un binaire Bash
sans informations de débogage: 478 Ko.</para></listitem>

<listitem><para>Fichiers glibc et gcc (/lib et /usr/lib)
avec informations de débogage: 87 Mo.</para></listitem>

<listitem><para>Fichiers glibc et gcc
sans informations de débogage: 16 Mo.</para></listitem>

</itemizedlist>

<para>Les tailles peuvent varier un peu selon le compilateur utilisé et
la version de la bibliothèque C utilisée. Mais lors d'une comparaison
entre des programmes avec les informations de débogage et ceux sans, la
différence sera généralement d'un facteur 2 à 5.</para>

<para>Comme la plupart des gens n'utiliseront probablement jamais un débogueur
sur leurs exécutable systeme, beaucoup de place disque peut être gagnée en
supprimant ces informations.</para>

<para>Pour enlever les informations de débogage d'un binaire (qui doit être de
type a.out ou ELF), exécutez <userinput>strip --strip-debug
filename</userinput>.
Les jokers peuvent être utilisés pour traiter plusieurs
fichiers (utilisez quelque chose comme
<userinput>strip --strip-debug $LFS/stage1/bin/*</userinput>).</para>

<para>Pour vous faciliter la tache, le chapitre 9 comprend une commande
unique pour supprimer tous les symboles de débogage des programmes et
bibliothèques de votre système. des informations supplémentaires 
sont disponibles dans l'astuce <ulink url="&hints-root;optimization.txt" />.
</para>

</sect1>
