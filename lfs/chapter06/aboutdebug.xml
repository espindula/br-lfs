<sect1 id="ch06-aboutdebug">
<title>A propos des symboles de débogage</title>
<?dbhtml filename="aboutdebug.html" dir="chapter06"?>

<para>La plupart des programmes et des bibliothèques sont compilés, par défaut,
avec des symboles de débogage (avec l'option gcc -g).</para>

<para>Un programme compilé avec des symboles de débogage permet à un
utilisateur d'exécuter un programme ou une bibliothèque via un débogueur et
d'utiliser facilement les résultats obtenus. Ces symboles de débogage
augmentent également la taille du programme de façon significative.</para>

<para>Avant que vous ne commenciez à vous demander si ces symboles de débogage
font réellement une grande différence, voici quelques statistiques.
Utilisez-les pour en tirer vos propres conclusions.</para>

<itemizedlist>

<listitem><para>Un binaire Bash dynamique avec symboles de débogage: 1,2Mo.</para></listitem>

<listitem><para>Un binaire Bash dynamique sans symboles de débogage: 478Ko.</para></listitem>

<listitem><para>/lib et /usr/lib (fichiers glibc et gcc) avec symboles de débogage: 87Mo.</para></listitem>

<listitem><para>/lib et /usr/lib (fichiers glibc et gcc) sans symboles de débogage: 16Mo.</para></listitem>

</itemizedlist>

<para>Les tailles varient selon le compilateur utilisé et la version de la
bibliothèque C utilisée. Mais lors d'une comparaison entre des programmes avec
les symboles de débogage et ceux sans, la différence sera généralement d'un
facteur 2 à 5.</para>

<para>Comme la plupart des gens n'utiliseront probablement jamais un débogueur
sur leur logiciels, beaucoup de place disque peut être gagné en supprimant
ces symboles.</para>

<para>Pour enlever les symboles de débogage d'un binaire (qui doit être de type
a.out ou ELF), exécutez <userinput>strip --strip-debug filename</userinput>.
Les jokers peuvent être utilisés pour supprimer les symboles de débogage dans
plusieurs fichiers (utilisez quelque chose comme <userinput>strip --strip-debug
$LFS/usr/bin/*</userinput>).</para>

<para>Pour vous faciliter l'opération, le chapitre 9 comprend une commande
unique pour supprimer tous les symboles de débogage des programmes et
bibliothèques de votre système. Vous obtiendrez des informations
supplémentaires dans l'astuce <ulink url="&hints-root;optimization.txt" />.
</para>

</sect1>
