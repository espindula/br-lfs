<sect2>
<title>Pourquoi nous copions les en-têtes du noyau et pourquoi nous ne créons
pas de liens</title>

<para>Auparavant, une pratique commune consistait à créer des liens symboliques 
pour les répertoires
<filename class="directory">/usr/include/{linux,asm}</filename> vers
respectivement 
<filename class="directory">/usr/src/linux/include/{linux,asm}</filename>.
Ceci est une <emphasis>mauvaise</emphasis> idée d'après cet extrait d'un envoi
de Linus Torvalds sur la liste de diffusion du noyau Linux:</para>

<screen>Je suggère que les personnes qui compilent des noyaux devraient:

 - ne pas créer un seul lien symbolique (sauf celui créé lors de la
construction du noyau, "linux/include/asm" qui est utilisé pour la compilation
du noyau lui-même)

Et oui, c'est ce que je fais. Mon répertoire /usr/src/linux a toujours les
anciens en-têtes du kernel 2.2.13, même si je n'ai pas lancé cette version du
kernel depuis un _loong_ moment. Mais glibc a été compilé avec, donc ces
entêtes correspondent aux objets de la bibliothèque.
  
Et cela correspond à l'environnement suggéré depuis au moins les cinq dernières 
années. Je ne sais pas pourquoi l'idée du lien symbolique est toujours vivante, 
comme un mauvais zombie. Pratiquement toutes les distributions conservent
l'idée du lien et tout le monde se souvient que les sources du noyau doivent
aller sous "/usr/src/linux" même si ce n'est plus vrai depuis _trèès_
longtemps.</screen>

<para>La partie importante là-dedans correspond au moment où il indique que les 
en-têtes doivent être <emphasis>ceux avec lesquels glibc a été compilé</emphasis>. 
Ces en-têtes doivent rester accessibles et en les copiant, nous nous assurons de 
suivre ces recommandations. Notez aussi que tant que ces liens symboliques
ne sont pas créés, il est tout à fait correct d'avoir les sources du noyau sous 
<filename>/usr/src/linux</filename>.</para>

<para>La partie essentielle se trouve là où Linus indique que les fichiers
d'entête doivent être <emphasis>ceux avec lesquels gblic a été
compilé</emphasis>. Ces entêtes doivent être utilisés plus tard lorsque vous
compilerez d'autres packages, car ce sont eux qui représentent les fichiers
de bibliothèques. En copiant les entêtes, nous nous assurons qu'ils restent
disponibles plus tard lors d'une mise à jour du noyau.</para>

<para>Notez qu'il est parfaitement normal d'avoir les sources du noyau dans
<filename class="directory">/usr/src/linux</filename>, aussi longtemps que
vous n'avez pas les liens symboliques
<filename class="directory">/usr/include/{linux,asm}</filename>.</para>

</sect2>
