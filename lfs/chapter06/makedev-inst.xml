<sect2><title>&nbsp;</title><para>&nbsp;</para></sect2>

<sect2>
<title>Créer les périphériques</title>

<para>Notez s'il-vous-plait que le déballage du fichier
MAKEDEV-&makedev-version;.bz2 ne va pas créer un répertoire dans lequel vous
pourriez entrer (<userinput>cd</userinput>), puisque l'archive ne contient
qu'un script shell.</para>

<para>Installez le script MAKEDEV:</para>

<para><screen><userinput>bzcat MAKEDEV-&makedev-version;.bz2 &gt; /dev/MAKEDEV
chmod 754 /dev/MAKEDEV</userinput></screen></para>

<para>Lancez le script pour créer les périphériques:</para>

<para><screen><userinput>cd /dev
./MAKEDEV -v generic-nopty</userinput></screen></para>

<para>La signification de l'option est:</para>

<itemizedlist>
<listitem><para><userinput>-v generic-nopty</userinput>: Le paramètre
<userinput>-v</userinput> indique au script MAKEDEV de se lancer en mode
verbeux. Le paramètre <userinput>generic-nopty</userinput> demande à MAKEDEV de
créer un ensemble générique des fichiers périphériques habituellement utilisés,
sauf en ce qui concerne les fichiers ptyXX et ttyXX. Nous n'avons pas besoin de
ces fichiers parce que nous allons utiliser les PTY Unix98 avec le système de
fichiers <emphasis>devpts</emphasis>.</para></listitem>
</itemizedlist>

<para>Si un périphérique dont vous avez besoin est manquant, essayez de lancer
<userinput>./MAKEDEV -v &lt;device&gt;</userinput>. Sinon, vous pourriez créer
les périphériques via le programme <emphasis>mknod</emphasis>. S'il-vous-plaît,
référez-vous aux pages man et aux pages info de <emphasis>mknod</emphasis> si
vous avez besoin de plus d'informations.</para>

<para>De plus, si vous êtes incapable de monter le système de fichiers devpts,
plus tôt lors de la section "Monter les systèmes de fichiers proc et devpts",
c'est alors le moment pour essayer les alternatives. Si votre noyau supporte le
système de fichiers devfs, lancez la commande suivante pour monter devfs:</para>

<para><screen><userinput>mount -t devfs devfs /dev</userinput></screen></para>

<para>Ceci montera le système de fichiers devfs au-dessus de la nouvelle
structure statique <filename>/dev</filename>. Ceci ne pose aucun problème car
les noeuds périphérique créés sont toujours présents, ils sont simplement cachés
par le nouveau système de fichiers devfs.</para>

<para>Si ceci ne fonctionne toujours pas, la seule option disponible est
d'utiliser le script MAKEDEV pour créer les fichiers ptyXX et ttyXX qui, sinon,
n'auraient pas été nécessaires. Assurez-vous que vous avez toujours le
répertoire <filename>/dev</filename>, puis lancez
<userinput>./MAKEDEV -v pty</userinput>. Le mauvaus côté de ceci est que nous
créeons 512 fichiers périphériques supplémentaires qui ne seront plus nécessaire
lorsque nous redémarrerons une fois le système LFS terminé.</para>

</sect2>
