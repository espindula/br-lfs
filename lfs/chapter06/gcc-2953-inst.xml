<sect2><title>&nbsp;</title><para>&nbsp;</para></sect2>

<sect2>
<title>Installation de GCC</title>

<para>Ce package est connu pour mal se comporter si vous changez ses options
d'optimisation par défaut (ceci inclut les options -march et -mcpu). Donc, si
vous avez défini des variables d'environnement, telles que CFLAGS et CXXFLAGS,
qui annulent les optimisations par défaut, nous vous recommandons de les
supprimer ou de les modifier pour la construction de GCC.</para>

<para>C'est une ancienne version de GCC que nous allons installer dans le but de
compiler le noyau Linux au chapitre 8. Cette version est recommendé par les
développeurs du noyau lorsque vous avez besoin d'une stabilité absolue. Les
dernières versions de GCC n'ont pas reçu assez de tests de compilation du noyau
Linux. Utiliser une version plus récente est susceptible de fonctionner&nbsp;;
néanmoins, nous vous recommendons d'adhérer au conseil des développeurs du noyau
et d'utiliser cette version pour compiler votre noyau.</para>

<note><para>Nous n'installons ni le compilateur C++ ni les bibliothèques ici.
Néanmoins, il existe des raisons pour lesquelles vous pourriez vouloir les
installer. Plus d'informations sont disponibles sur
<ulink url="&blfs-root;view/cvs/general/gcc2.html"/>.</para></note>

<para>Nous installerons cette vieille version de GCC dans le répertoire non
standard <filename class="directory">/opt</filename> pour éviter d'interférer
avec le système GCC déjà en place dans <filename
class="directory">/usr</filename>.</para>

<para>Appliquez les corrections et faites un petit ajustement:</para>

<para><screen><userinput>patch -Np1 -i ../gcc-&gcc-2953-patch-version;.patch
patch -Np1 -i ../gcc-&gcc-2953-no-fixinc-patch-version;-no-fixinc.patch
patch -Np1 -i ../gcc-&gcc-2953-returntype-fix-patch-version;-returntype-fix.patch
echo timestamp > gcc/cstamp-h.in</userinput></screen></para>

<para>La documentation de GCC recommende de construire GCC en dehors du
répertoire des sources mais dans un répertoire de construction dédié:</para>

<para><screen><userinput>mkdir ../gcc-2-build
cd ../gcc-2-build</userinput></screen></para>

<para>Compilez et installez gcc:</para>

<para><screen><userinput>../gcc-2.95.3/configure --prefix=/opt/gcc-2.95.3 \
&nbsp;&nbsp;&nbsp;&nbsp;--enable-shared --enable-languages=c \
&nbsp;&nbsp;&nbsp;&nbsp;--enable-threads=posix
make bootstrap
make install</userinput></screen></para>

</sect2>

