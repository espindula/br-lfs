<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN" "http://www.oasis-open.org/docbook/xml/4.3/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../general.ent">
  %general-entities;
]>
<sect1 id="ch-system-readline" role="wrap">
<title>Readline-&readline-version;</title>
<?dbhtml filename="readline.html"?>

<indexterm zone="ch-system-readline"><primary sortas="a-Readline">Readline</primary></indexterm>

<sect2 role="package"><title/>
<para>Le paquet Readline est un ensemble de bibliothèques qui offrent des
fonctionnalités d'édition de la ligne de commande et d'historique.</para>

<segmentedlist>
<segtitle>&buildtime;</segtitle>
<segtitle>&diskspace;</segtitle>
<seglistitem><seg>0,11&nbsp;SBU</seg><seg>9,1&nbsp;Mo</seg></seglistitem>
</segmentedlist>

<segmentedlist>
<segtitle>&dependencies;</segtitle>
<seglistitem><seg>Binutils, Coreutils, Diffutils, Gawk,
GCC, Glibc, Grep, Make, Ncurses et Sed</seg></seglistitem>
</segmentedlist>
</sect2>

<sect2 role="installation">
<title>Installation de Readline</title>

<para>Le correctif suivant inclut une correction pour un problème où Readline
affiche parfois seulement 33 caractères sur une ligne puis continue sur la
suivante. Il inclut aussi d'autres corrections recommandées par l'auteur de
Readline.</para>

<screen><userinput>patch -Np1 -i ../&readline-fixes-patch;</userinput></screen>

<para>Préparez la compilation de Readline&nbsp;:</para>

<screen><userinput>./configure --prefix=/usr --libdir=/lib</userinput></screen>

<para>Compilez le paquet&nbsp;:</para>

<screen><userinput>make SHLIB_XLDFLAGS=-lncurses</userinput></screen>

<para>Voici la signification de l'option de make&nbsp;:</para>

<variablelist>
<varlistentry>
<term><parameter>SHLIB_XLDFLAGS=-lncurses</parameter></term>
<listitem><para>Cette option force Readline à se lier à la bibliothèque
<filename class="libraryfile">libncurses</filename>.</para></listitem>
</varlistentry>
</variablelist>

<para>Installez le paquet&nbsp;:</para>

<screen><userinput>make install</userinput></screen>

<para>Donnez aux bibliothèques dynamiques de Readline plus de droits
appropriés&nbsp;:</para>

<screen><userinput>chmod -v 755 /lib/lib{readline,history}.so*</userinput></screen>

<para>Maintenant, déplacez les bibliothèques dynamiques à un emplacement plus
appropriées&nbsp;:</para>

<screen><userinput>mv -v /lib/lib{readline,history}.a /usr/lib</userinput></screen>

<para>Ensuite, supprimez les fichiers <filename class="extension">.so</filename>
dans <filename class="directory">/lib</filename> et créez un lien vers <filename
class="directory">/usr/lib</filename>.</para>

<screen><userinput>rm -v /lib/lib{readline,history}.so
ln -sfv ../../lib/libreadline.so.5 /usr/lib/libreadline.so
ln -sfv ../../lib/libhistory.so.5 /usr/lib/libhistory.so</userinput></screen>

<beginpage/>

</sect2>

<sect2 id="contents-readline" role="content"><title>Contenu de Readline</title>
<segmentedlist>
<segtitle>Bibliothèques installées</segtitle>
<seglistitem><seg>libhistory.[a,so] et libreadline.[a,so]</seg></seglistitem>
</segmentedlist>

<variablelist><bridgehead renderas="sect3">Descriptions courtes</bridgehead>
<?dbfo list-presentation="list"?>
<?dbhtml list-presentation="table"?>

<varlistentry id="libhistory">
<term><filename class="libraryfile">libhistory</filename></term>
<listitem>
<para>Fournit une interface utilisateur cohérente pour rappeler des lignes
dans l'historique</para>
<indexterm zone="ch-system-readline libhistory"><primary sortas="c-libhistory">libhistory</primary></indexterm>
</listitem>
</varlistentry>

<varlistentry id="libreadline">
<term><filename class="libraryfile">libreadline</filename></term>
<listitem>
<para>Aide à une cohérence dans l'interface utilisateur pour des programmes
discrets qui ont besoin d'une interface en ligne de commande</para>
<indexterm zone="ch-system-readline libreadline"><primary sortas="c-libreadline">libreadline</primary></indexterm>
</listitem>
</varlistentry>

</variablelist>

</sect2>

</sect1>

