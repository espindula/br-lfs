<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN"
"http://www.oasis-open.org/docbook/xml/4.3/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../general.ent">
  %general-entities;
]>
<sect1 id="ch-system-changingowner">
<title>Changer de propriétaire</title>
<?dbhtml filename="changingowner.html"?>

<para>Actuellement, le répertoire <filename class="directory">/tools</filename>
appartient à l'utilisateur <emphasis>lfs</emphasis>. Néanmoins, ce compte
utilisateur existe seulement sur votre système hôte. Bien que vous puissiez
supprimer le répertoire <filename class="directory">/tools</filename> une fois
que vous avez terminé votre système LFS, vous pourriez vouloir le conserver,
par exemple pour construire d'autres systèmes LFS. Mais si vous conservez ce
répertoire tel qu'il est, vous finirez avec des fichiers appartenant à un
identifiant sans compte correspondant. Ceci est dangereux car par la suite un
compte utilisateur pourrait obtenir cet identifiant et devenir soudainement le
propriétaire du répertoire <filename class="directory">/tools</filename> et les
fichiers qu'il contient, les exposant à une manipulation détournée possible.
</para>

<para>Pour éviter ce problème, vous pouvez ajouter l'utilisateur
<emphasis>lfs</emphasis> dans votre nouveau système LFS en créant plus tard le
fichier <filename>/etc/passwd</filename>, et en prenant garde d'affecter le bon
identifiant utilisateur et groupe. Sinon, vous pouvez (et le livre va dans ce
sens) d'ores et déjà affecter le contenu du répertoire <filename
class="directory">/tools</filename> à l'utilisateur <emphasis>root</emphasis>:
</para>

<screen><userinput>chown -R 0:0 /tools</userinput></screen>

<para>La commande utilise <quote>0:0</quote> au lieu de
<quote>root:root</quote> car <userinput>chown</userinput> n'est pas capable de
résoudre le nom <quote>root</quote> tant que le fichier passwd n'est pas
créé.</para>

</sect1>

