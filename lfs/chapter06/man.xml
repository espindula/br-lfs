<sect1 id="ch06-man">
<title>Installer Man-&man-version;</title>
<?dbhtml filename="man.html" dir="chapter06"?>

<screen>Estimation du temps de construction:           &man-time;
Estimation de l'espace disque requis:  &man-compsize;</screen>

&aa-man-shortdesc;
&aa-man-dep;

<sect2><title>&nbsp;</title><para>&nbsp;</para></sect2>

<sect2>
<title>Installation de Man</title>

<para>Nous allons faire quelques ajustements aux sources de Man.</para>
 
<para>Le premier correctif met en commentaire la ligne "MANPATH /usr/man" du
fichier <filename>man.conf</filename> pour empêcher des résultats redondants
lors de l'utilisation de programmes comme <userinput>whatis</userinput>&nbsp;:
</para>

<screen><userinput>patch -Np1 -i ../&man-manpath-patch;</userinput></screen>

<para>Le second correctif ajoute l'option <emphasis>-R</emphasis> à la variable
<emphasis>PAGER</emphasis> de façon à ce que les séquences d'échappement soient
correctement gérées&nbsp;:</para>

<screen><userinput>patch -Np1 -i ../&man-pager-patch;</userinput></screen>

<para>Le troisième et dernier correctif supprime un problème avec les pages man
formattés sur plus de 80 colonnes utilisés avec les dernières versions de
<userinput>groff</userinput>:</para>

<screen><userinput>patch -Np1 -i ../&man-80cols-patch;</userinput></screen>

<para>Maintenant, préparez la compilation de Man&nbsp;:</para>

<screen><userinput>./configure -default -confdir=/etc</userinput></screen>

<para>La signification des options de configure est la suivante&nbsp;:</para>

<itemizedlist>
<listitem><para><userinput>-default</userinput>: Ceci indique au script
configure de sélectionner un ensemble intéressant d'options par défaut. Par
exemple, seulement les pages man anglaises, pas de catalogue de messages, man
sans suid, gestion des pages man compressés, compresser les pages cat, créer les
pages cat lorsque le répertoire approprié existe, suivre FHS en plaçant les
pages cat sous /var/cache/man en supposant que ce répertoire existe.
</para></listitem>

<listitem><para><userinput>-confdir=/etc</userinput>: Ceci indique au programme
<userinput>man</userinput> de chercher le fichier de configuration
<filename>man.conf</filename> dans le répertoire <filename>/etc</filename>.
</para></listitem>
</itemizedlist>

<para>Compilez le package&nbsp;:</para>

<screen><userinput>make</userinput></screen>

<para>Et installez-le&nbsp;:</para>

<screen><userinput>make install</userinput></screen>

<note><para>Si vous souhaitez désactiver les séquences d'échappement SGR, vous
devriez éditer le fichier man.conf et ajouter l'argument
<userinput>-c</userinput> pour nroff.</para></note>

<para>Vous pourriez vouloir aussi jeter un oail à la page BLFS 
<ulink url="&blfs-root;view/cvs/postlfs/compressdoc.html"/> gérant les problèmes
de formattage et de compression pour les pages man.</para>

</sect2>

</sect1>
