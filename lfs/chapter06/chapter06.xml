<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN" "http://www.oasis-open.org/docbook/xml/4.3/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../general.ent">
  %general-entities;
]>
<chapter id="chapter-building-system" xreflabel="Chapitre 6">
<?dbhtml dir="chapter06"?>
<title>Installer les logiciels du système de base</title>
<?dbhtml filename="chapter06.html"?>


<xi:include xmlns:xi="http://www.w3.org/2003/XInclude" href="introduction.xml"/>


<xi:include xmlns:xi="http://www.w3.org/2003/XInclude" href="proc.xml"/>


<xi:include xmlns:xi="http://www.w3.org/2003/XInclude" href="chroot.xml"/>


<xi:include xmlns:xi="http://www.w3.org/2003/XInclude" href="changingowner.xml"/>


<xi:include xmlns:xi="http://www.w3.org/2003/XInclude" href="creatingdirs.xml"/>


<xi:include xmlns:xi="http://www.w3.org/2003/XInclude" href="createfiles.xml"/>


<xi:include xmlns:xi="http://www.w3.org/2003/XInclude" href="pwdgroup.xml"/>


<xi:include xmlns:xi="http://www.w3.org/2003/XInclude" href="makedev.xml"/>


<xi:include xmlns:xi="http://www.w3.org/2003/XInclude" href="kernel-headers.xml"/>


<xi:include xmlns:xi="http://www.w3.org/2003/XInclude" href="man-pages.xml"/>


<xi:include xmlns:xi="http://www.w3.org/2003/XInclude" href="glibc.xml"/>




<xi:include xmlns:xi="http://www.w3.org/2003/XInclude" href="readjusting.xml"/>


<xi:include xmlns:xi="http://www.w3.org/2003/XInclude" href="binutils.xml"/>


<xi:include xmlns:xi="http://www.w3.org/2003/XInclude" href="gcc.xml"/>



<xi:include xmlns:xi="http://www.w3.org/2003/XInclude" href="coreutils.xml"/>


<xi:include xmlns:xi="http://www.w3.org/2003/XInclude" href="zlib.xml"/>


<xi:include xmlns:xi="http://www.w3.org/2003/XInclude" href="mktemp.xml"/>


<xi:include xmlns:xi="http://www.w3.org/2003/XInclude" href="iana-etc.xml"/>


<xi:include xmlns:xi="http://www.w3.org/2003/XInclude" href="findutils.xml"/>


<xi:include xmlns:xi="http://www.w3.org/2003/XInclude" href="gawk.xml"/>


<xi:include xmlns:xi="http://www.w3.org/2003/XInclude" href="ncurses.xml"/>


<xi:include xmlns:xi="http://www.w3.org/2003/XInclude" href="vim.xml"/>


<xi:include xmlns:xi="http://www.w3.org/2003/XInclude" href="m4.xml"/>


<xi:include xmlns:xi="http://www.w3.org/2003/XInclude" href="bison.xml"/>


<xi:include xmlns:xi="http://www.w3.org/2003/XInclude" href="less.xml"/>


<xi:include xmlns:xi="http://www.w3.org/2003/XInclude" href="groff.xml"/>


<xi:include xmlns:xi="http://www.w3.org/2003/XInclude" href="sed.xml"/>


<xi:include xmlns:xi="http://www.w3.org/2003/XInclude" href="flex.xml"/>


<xi:include xmlns:xi="http://www.w3.org/2003/XInclude" href="gettext.xml"/>


<xi:include xmlns:xi="http://www.w3.org/2003/XInclude" href="net-tools.xml"/>


<xi:include xmlns:xi="http://www.w3.org/2003/XInclude" href="inetutils.xml"/>


<xi:include xmlns:xi="http://www.w3.org/2003/XInclude" href="perl.xml"/>


<xi:include xmlns:xi="http://www.w3.org/2003/XInclude" href="texinfo.xml"/>


<xi:include xmlns:xi="http://www.w3.org/2003/XInclude" href="autoconf.xml"/>


<xi:include xmlns:xi="http://www.w3.org/2003/XInclude" href="automake.xml"/>


<xi:include xmlns:xi="http://www.w3.org/2003/XInclude" href="bash.xml"/>


<xi:include xmlns:xi="http://www.w3.org/2003/XInclude" href="file.xml"/>


<xi:include xmlns:xi="http://www.w3.org/2003/XInclude" href="libtool.xml"/>


<xi:include xmlns:xi="http://www.w3.org/2003/XInclude" href="bzip2.xml"/>


<xi:include xmlns:xi="http://www.w3.org/2003/XInclude" href="diffutils.xml"/>


<xi:include xmlns:xi="http://www.w3.org/2003/XInclude" href="ed.xml"/>


<xi:include xmlns:xi="http://www.w3.org/2003/XInclude" href="kbd.xml"/>


<xi:include xmlns:xi="http://www.w3.org/2003/XInclude" href="e2fsprogs.xml"/>


<xi:include xmlns:xi="http://www.w3.org/2003/XInclude" href="grep.xml"/>


<xi:include xmlns:xi="http://www.w3.org/2003/XInclude" href="grub.xml"/>


<xi:include xmlns:xi="http://www.w3.org/2003/XInclude" href="gzip.xml"/>


<xi:include xmlns:xi="http://www.w3.org/2003/XInclude" href="man.xml"/>


<xi:include xmlns:xi="http://www.w3.org/2003/XInclude" href="make.xml"/>


<xi:include xmlns:xi="http://www.w3.org/2003/XInclude" href="modutils.xml"/>


<xi:include xmlns:xi="http://www.w3.org/2003/XInclude" href="patch.xml"/>


<xi:include xmlns:xi="http://www.w3.org/2003/XInclude" href="procinfo.xml"/>


<xi:include xmlns:xi="http://www.w3.org/2003/XInclude" href="procps.xml"/>


<xi:include xmlns:xi="http://www.w3.org/2003/XInclude" href="psmisc.xml"/>


<xi:include xmlns:xi="http://www.w3.org/2003/XInclude" href="shadow.xml"/>


<xi:include xmlns:xi="http://www.w3.org/2003/XInclude" href="sysklogd.xml"/>


<xi:include xmlns:xi="http://www.w3.org/2003/XInclude" href="sysvinit.xml"/>


<xi:include xmlns:xi="http://www.w3.org/2003/XInclude" href="tar.xml"/>


<xi:include xmlns:xi="http://www.w3.org/2003/XInclude" href="util-linux.xml"/>


<xi:include xmlns:xi="http://www.w3.org/2003/XInclude" href="gcc-2953.xml"/>




<xi:include xmlns:xi="http://www.w3.org/2003/XInclude" href="aboutdebug.xml"/>


<sect1 id="ch-system-strippingagain">
<title>Supprimer de nouveau les symboles des fichiers objets</title>
<?dbhtml filename="strippingagain.html"?>

<para>Si vous n'êtes pas un programmeur et que vous ne pensez pas faire de
déboguage sur vos logiciels système, vous pouvez diminuer l'espace occupé par
votre système d'environ 200&nbsp;Mo rien qu'en supprimant les symboles de
déboguages compris dans les logiciels et dans les bibliothèques. Ceci n'apporte
aucun inconvénient en dehors de l'impossibilité de déboguer complètement un
programme.</para>

<para>La plupart des personnes qui ont utilisé la commande ci-dessous n'ont
subi aucun problème. Mais il est facile de faire une faute de frappe et de
rendre ainsi votre système inutilisable. Donc avant de lancer la commande
strip, une bonne idée serait de faire une sauvegarde de votre système
maintenant.</para>

<para>Si vous exécutez cette suppression, une attention toute particulière est
nécessaire pour vous assurer que vous n'utilisez actuellement aucun des
binaires qui vont être touchés. Si vous n'êtes pas sûr d'être entré dans le
chroot avec la commande donnée dans le <xref linkend="ch-system-chroot"/>,
alors commencez par quitter chroot&nbsp;:</para>

<screen><userinput>logout</userinput></screen>

<para>Puis, retournez-y avec ceci&nbsp;:</para>

<screen><userinput>chroot $LFS /tools/bin/env -i \
    HOME=/root TERM=$TERM PS1='\u:\w\$ ' \
    PATH=/bin:/usr/bin:/sbin:/usr/sbin \
    /tools/bin/bash --login</userinput></screen>

<para>Vous pouvez maintenant supprimer les symboles des binaires et
bibliothèques en toute sûreté&nbsp;:</para>

<screen><userinput>/tools/bin/find /{,usr/}{bin,lib,sbin} -type f \
   -exec /tools/bin/strip --strip-debug '{}' ';'</userinput></screen>

<para>Un grand nombre de fichiers verront leur format non reconnu. Ces
avertissements peuvent être ignorés sans soucis, ils signifient seulement que
ces fichiers sont des scripts et non pas des binaires.</para>

<para>Si vous êtes réellement court en espace disque, vous pouvez utiliser
<emphasis>--strip-all</emphasis> sur les binaires de
<filename>/{,usr/}{bin,sbin}</filename> pour gagner quelques mégaoctets
supplémentaires. Mais n'utilisez <emphasis>pas</emphasis> cette option sur les
bibliothèques&nbsp;: elles seraient détruites.</para>

</sect1>


<xi:include xmlns:xi="http://www.w3.org/2003/XInclude" href="revisedchroot.xml"/>

</chapter>
