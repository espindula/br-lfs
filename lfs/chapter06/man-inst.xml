<sect2><title>&nbsp;</title><para>&nbsp;</para></sect2>

<sect2>
<title>Installation de Man</title>

<para>Nous allons faire trois ajustements des sources de Man.</para>
 
<para>Le premier correctif supprime le symbôle de commentaire de la ligne
"MANPATH /usr/man" dans le fichier <filename>man.conf</filename> pour
empêcher des résultats redondants lors de l'utilisation de programmes comme
<userinput>whatis</userinput>:</para>

<para><screen><userinput>patch -Np1 -i ../man-&man-manpath-patch-version;-manpath.patch</userinput></screen></para>

<para>Le deuxième correctif ajoute l'option <emphasis>-R</emphasis> à la
variable <emphasis>PAGER</emphasis> pour que les séquences d'échappement soient
gérées correctement:</para>

<para><screen><userinput>patch -Np1 -i ../man-&man-pager-patch-version;-pager.patch</userinput></screen></para>

<para>Le troisième et dernier correctif concerne le problème des pages man mal
formattées sur 80 colonnes, si elles sont utilisées avec les dernières versions
de <userinput>groff</userinput>:</para>

<para><screen><userinput>patch -Np1 -i ../man-&man-80cols-patch-version;-80cols.patch</userinput></screen></para>

<para>Les chemins de certains programmes sont écrits dans les fichiers man.
Malheureusement, le script configure prend le dernier emplacement dans PATH
plutôt que le premier endroit où le programme a été trouvé. En ajoutant
<emphasis>/usr/bin:/bin</emphasis> à PATH pour la commande
<userinput>./configure</userinput>, nous nous assurons que Man n'utilise pas les
programmes du répertoire <filename class="directory">/tools</filename>.
</para>

<para>Maintenant, préparez la compilation de Man:</para>

<para><screen><userinput>PATH=$PATH:/usr/bin:/bin \
&nbsp;&nbsp;&nbsp;&nbsp;./configure -default -confdir=/etc</userinput></screen></para>

<para>Compilez le package:</para>

<para><screen><userinput>make</userinput></screen></para>

<para>Et installez-le:</para>

<para><screen><userinput>make install</userinput></screen></para>

<note><para>Si vous souhaitez désactiver les séquences d'échappement SGR, vous
devez éditer le fichier man.conf et ajouter l'argument <userinput>-c</userinput>
à nroff.</para></note>

<para>Vous pouvez jeter un oeil sur l'astuce man disponible sur <ulink
url="&hints-root;man.txt"/>, astuce qui gère les problèmes de formattage et de
compression des pages man.</para>

</sect2>
