<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
  "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../general.ent">
  %general-entities;
]>

<sect1 id="ch-system-man-db" role="wrap">
  <?dbhtml filename="man-db.html"?>

  <sect1info condition="script">
    <productname>man-db</productname>
    <productnumber>&man-db-version;</productnumber>
    <address>&man-db-url;</address>
  </sect1info>

  <title>Man-DB-&man-db-version;</title>

  <indexterm zone="ch-system-man-db">
    <primary sortas="a-Man-DB">Man-DB</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>Le paquet Man-DB contient des programmes pour trouver et voir
    des pages de manuel.</para>

    <segmentedlist>
      <segtitle>&buildtime;</segtitle>
      <segtitle>&diskspace;</segtitle>

      <seglistitem>
        <seg>&man-db-ch6-sbu;</seg>
        <seg>&man-db-ch6-du;</seg>
      </seglistitem>
    </segmentedlist>

  </sect2>

  <sect2 role="installation">
    <title>Installation de Man-DB</title>

    <para>Préparez la compilation de man-DB&nbsp;:</para>

<screen><userinput remap="configure">./configure --prefix=/usr                        \
            --docdir=/usr/share/doc/man-db-&man-db-version; \
            --sysconfdir=/etc                    \
            --disable-setuid                     \
            --with-browser=/usr/bin/lynx         \
            --with-vgrind=/usr/bin/vgrind        \
            --with-grap=/usr/bin/grap</userinput></screen>

    <variablelist>
      <title>Voici la signification des options de configuration&nbsp;:</title>

      <varlistentry>
        <term><parameter>--disable-setuid</parameter></term>
        <listitem>
          <para>Ceci empêche que le programme <command>man</command> se voit 
          attribué l'ID de l'utilisateur  <systemitem class="username">man</systemitem>.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><parameter>--with-...</parameter></term>
        <listitem>
          <para>Ces trois paramètres sont utilisés pour initialiser quelques
          programmes par défaut. <command>lynx</command> est un navigateur Web
          en mode console (voir BLFS pour les instructions d'installation),
          <command>vgrind</command> convertit du code source de programme en 
          entrée Groff et <command>grap</command> est utile pour la composition
          de texte de graphes dans les documents Groff. Les programmes
          <command>vgrind</command> et <command>grap</command> ne sont normalement pas
          nécessaires pour la visualisation des pages de manuel. Ils ne font pas partie
          de LFS ou de BLFS mais vous devriez être capable de les installer vous-même 
          après avoir fini LFS si vous souhaitez faire cela.</para>
        </listitem>
      </varlistentry>

    </variablelist>

    <para>Compilez le paquet&nbsp;:</para>

<screen><userinput remap="make">make</userinput></screen>

   <para>Pour tester les résultats, lancez&nbsp;:</para>

<screen><userinput remap="test">make check</userinput></screen>

    <para>Installez le paquet&nbsp;:</para>

<screen><userinput remap="install">make install</userinput></screen>

  </sect2>

  <sect2>
    <title>Pages de manuel non anglaises dans LFS</title>

    <para>Le tableau suivant montre l'encodage présumé avec lequel Man-DB encodera
    de les pages de manuel installées dans <filename class="directory">/usr/share/man/&lt;ll&gt;</filename>.
     En outre, Man-DB détermine correctement si les pages
    de manuel installées dans ce répertoire seront encodées en UTF-8.</para>

    <!-- Origin: man-db-2.5.9/lib/encodings.c -->
    <table>
<title>Encodage de caractère attendu des pages de manuel 8-bit de base</title>
      <?dbfo table-width="6in" ?>

      <tgroup cols="4">

        <colspec colnum="1" colwidth="1.5in"/>
        <colspec colnum="2" colwidth="1in"/>
        <colspec colnum="3" colwidth="2.5in"/>
        <colspec colnum="4" colwidth="1in"/>

        <thead>
          <row>
            <entry>Langue (code)</entry>
            <entry>Encodage</entry>
            <entry>Langue (code)</entry>
            <entry>Encodage</entry>
          </row>
        </thead>

        <tbody>
          <row>
            <entry>Danois (da)</entry>
            <entry>utf-8</entry>
            <entry>Croate (hr)</entry>
            <entry>ISO-8859-2</entry>
          </row>
          <row>
            <entry>Allemand (de)</entry>
            <entry>utf-8</entry>
            <entry>Hongrois (hu)</entry>
            <entry>ISO-8859-2</entry>
          </row>
          <row>
            <entry>Anglais (en)</entry>
            <entry>utf-8</entry>
            <entry>Japonais (ja)</entry>
            <entry>EUC-JP</entry>
          </row>
          <row>
            <entry>Espagnol (es)</entry>
            <entry>utf-8</entry>
            <entry>Coréen (ko)</entry>
            <entry>EUC-KR</entry>
          </row>
          <row>
            <entry>Estonien (et)</entry>
            <entry>utf-8</entry>
            <entry>Lituanien (lt)</entry>
            <entry>utf-83</entry>
          </row>
          <row>
            <entry>Finois (fi)</entry>
            <entry>utf-8</entry>
            <entry>Letton (lv)</entry>
            <entry>utf-83</entry>
          </row>
          <row>
            <entry>Français (fr)</entry>
            <entry>utf-8</entry>
            <entry>Macédonien (mk)</entry>
            <entry>ISO-8859-5</entry>
          </row>
          <row>
            <entry>Irlandais (ga)</entry>
            <entry>utf-8</entry>
            <entry>Polonais (pl)</entry>
            <entry>ISO-8859-2</entry>
          </row>
          <row>
            <entry>Galicien (gl)</entry>
            <entry>utf-8</entry>
            <entry>Roumain (ro)</entry>
            <entry>ISO-8859-2</entry>
          </row>
          <row>
            <entry>Indonésien (id)</entry>
            <entry>utf-8</entry>
            <entry>Russe (ru)</entry>
            <entry>KOI8-R</entry>
          </row>
          <row>
            <entry>Islandais (is)</entry>
            <entry>utf-8</entry>
            <entry>Slovaque (sk)</entry>
            <entry>ISO-8859-2</entry>
          </row>
          <row>
            <entry>Italien (it)</entry>
            <entry>utf-8</entry>
            <entry>Slovénien (sl)</entry>
            <entry>ISO-8859-2</entry>
          </row>
          <row>
            <entry>Norvégien Bokmal (nb)</entry>
            <entry>utf-8</entry>
            <entry>Latin serbe (sr@latin)</entry>
            <entry>ISO-8859-2</entry>
          </row>
          <row>
            <entry>Holandais (nl)</entry>
            <entry>utf-8</entry>
            <entry>Serbe (sr)</entry>
            <entry>ISO-8859-5</entry>
          </row>
          <row>
            <entry>Norvégien Nynorsk (nn)</entry>
            <entry>utf-8</entry>
            <entry>Turc (tr)</entry>
            <entry>ISO-8859-9</entry>
          </row>
          <row>
            <entry>Norvégien (no)</entry>
            <entry>utf-8</entry>
            <entry>Ukrainien (uk)</entry>
            <entry>KOI8-U</entry>
          </row>
          <row>
            <entry>Portugais (pt)</entry>
            <entry>utf-8</entry>
            <entry>Vietnamien (vi)</entry>
            <entry>TCVN5712-1</entry>
          </row>
          <row>
            <entry>Suédois (sv)</entry>
            <entry>utf-8</entry>
            <entry>Chinois simplifié (zh_CN)</entry>
            <entry>GBK</entry>
          </row>
          <row>
            <entry>Belarusse (be)</entry>
            <entry>CP1251</entry>
            <entry>Chinois, Singapour (zh_SG)</entry>
            <entry>GBK</entry>
          </row>
          <row>
            <entry>Bulgare (bg)</entry>
            <entry>CP1251</entry>
            <entry>Chinois traditionnel, Hong Kong (zh_HK)</entry>
            <entry>BIG5HKSCS</entry>
          </row>
          <row>
            <entry>Tchèque (cs)</entry>
            <entry>ISO-8859-2</entry>
            <entry>Chinois traditionnel (zh_TW)</entry>
            <entry>BIG5</entry>
          </row>
          <row>
            <entry>Grec (el)</entry>
            <entry>ISO-8859-7</entry>
            <entry></entry>
            <entry></entry>
          </row>

        </tbody>

      </tgroup>

    </table>

    <note>
      <para>Les pages de manuel dans des langues non comprises dans la liste ne sont pas supportées.</para>
    </note>

  </sect2>

  <sect2 id="contents-man-db" role="content">
    <title>Contenu de Man-DB</title>

    <segmentedlist>
      <segtitle>Programmes installés</segtitle>
      <segtitle>Bibliothèques installées</segtitle>
      <segtitle>Répertoires installés</segtitle>

      <seglistitem>
        <seg>accessdb, apropos (lien vers whatis), catman, lexgrog, man, mandb,
        manpath, whatis et zsoelim</seg>
        <seg>libman.so, libmandb.so</seg>
        <seg>/usr/lib/man-db, /usr/libexec/man-db, /usr/share/doc/man-db-&man-db-version;</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Descriptions courtes</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="accessdb">
        <term><command>accessdb</command></term>
        <listitem>
          <para>Transforme le contenu de la base de données <command>whatis</command>
          en format lisible par un humain</para>
          <indexterm zone="ch-system-man-db accessdb">
            <primary sortas="b-accessdb">accessdb</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="apropos">
        <term><command>apropos</command></term>
        <listitem>
          <para>Recherche la base de données <command>whatis</command> et
          affiche les descriptions courtes des commandes système qui contiennent une
          chaîne donnée</para>
          <indexterm zone="ch-system-man-db apropos">
            <primary sortas="b-apropos">apropos</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="catman">
        <term><command>catman</command></term>
        <listitem>
          <para>Crée ou met à jour les pages de manuel préformatées</para>
          <indexterm zone="ch-system-man-db catman">
            <primary sortas="b-catman">catman</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="lexgrog">
        <term><command>lexgrog</command></term>
        <listitem>
          <para>Affiche des informations en résumé d'une ligne à propos d'une
          page de manuel donnée</para>
          <indexterm zone="ch-system-man-db lexgrog">
            <primary sortas="b-lexgrog">lexgrog</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="man">
        <term><command>man</command></term>
        <listitem>
          <para>Formate et affiche les pages de manuel demandées</para>
          <indexterm zone="ch-system-man-db man">
            <primary sortas="b-man">man</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="mandb">
        <term><command>mandb</command></term>
        <listitem>
          <para>Crée ou met à jour la base de données <command>whatis</command></para>
          <indexterm zone="ch-system-man-db mandb">
            <primary sortas="b-mandb">mandb</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="manpath">
        <term><command>manpath</command></term>
        <listitem>
          <para>Affiche le contenu de $MANPATH ou (si $MANPATH n'est pas paramétré)
          d'un chemin de recherche convenable basé sur les paramètres de l'environnement 
          de l'utilisateur</para>
          <indexterm zone="ch-system-man-db manpath">
            <primary sortas="b-manpath">manpath</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="whatis">
        <term><command>whatis</command></term>
        <listitem>
          <para>Recherche la base de données <command>whatis</command> et
          affiche les descriptions courtes des commandes système qui contiennent
          le mot-clé donné sous la forme d'un mot séparé</para>
          <indexterm zone="ch-system-man-db whatis">
            <primary sortas="b-whatis">whatis</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="zsoelim">
        <term><command>zsoelim</command></term>
        <listitem>
          <para>Lit des fichiers et remplace les lignes de la forme 
          <emphasis>fichier .so</emphasis> par le contenu du <emphasis>fichier</emphasis>
          mentionné</para>
          <indexterm zone="ch-system-man-db zsoelim">
            <primary sortas="b-zsoelim">zsoelim</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libman">
        <term><filename class="libraryfile">libman</filename></term>
        <listitem>
          <para>Contient le support au moment de l'exécution de <command>man</command></para>
          <indexterm zone="ch-system-man-db libman">
            <primary sortas="c-libman">libman</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libmandb">
        <term><filename class="libraryfile">libmandb</filename></term>
        <listitem>
          <para>Contient le support au moment de l'exécution de <command>man</command></para>
          <indexterm zone="ch-system-man-db libmandb">
            <primary sortas="c-libmandb">libmandb</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
