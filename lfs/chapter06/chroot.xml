<sect1 id="ch06-chroot">
<title>Entrée dans l'environnement "chrooté"</title>
<?dbhtml filename="chroot.html" dir="chapter06"?>

<para>C'est le moment d'entrer dans l'environnement chroot afin d'installer
le reste des programmes nécessaires.</para>

<para>Tapez les commandes suivantes pour entrer dans l'environnement chroot.
A partir de maintenant, il n'est plus besoin d'utiliser la variable $LFS 
puisque tout ce que l'utilisateur fait sera limité à la partition LFS (car /
est en fait /mnt/lfs mais ça, l'interpréteur de commande ne le sait pas).</para>

<para><screen>&c6-chrootcmd;</screen></para>

<para>L'option -i efface toutes les variables d'environnement pour le temps
que l'on sera en environnement chroot et seulement les variables HOME et TERM 
sont initialisées. La commande TERM=$TERM initialise la variable TERM 
à l'intérieur de chroot à la même valeur que celle à l'extérieur de chroot qui
est utilisée par des programmes comme vim. Si vous avez besoin d'autres 
variables, telles que CFLAGS ou CXXFLAGS, initialisez-les de même.</para>

<para>La raison pour laquelle nous faisons un <userinput>cd $LFS</userinput> 
avant d'exécuter la commande <userinput>chroot</userinput> est que d'anciens 
packages sh-utils ont un programme chroot qui ne fait pas le cd de lui même, 
ce qui veut dire qu'il faut le faire manuellement. Bien que cela ne soit pas 
un problème avec les distributions modernes, cela ne fait pas de mal et puis 
cela assure que la commande fonctionne pour tout le monde.</para>

<para>Maintenant que nous sommes dans l'environnement chroot, nous pouvons 
continuer à installer tous les programmes de base du système. Assurez-vous que
les commandes suivantes dans ce chapitre et les suivants sont exécutées dans
l'environnement chroot. Si vous quittez l'environnement chroot (en redémarrant
l'ordinateur par exemple) rappellez-vous de monter $LFS/proc de nouveau et de
retourner dans l'environnement chroot avant de continuer dans le livre.</para>

<para>Notez que l'invite de commande de bash contiendra "I have no name!" 
(je n'ai pas de nom!) ce qui est normal puisque Glibc n'a pas encore été 
installé.</para>

</sect1>

