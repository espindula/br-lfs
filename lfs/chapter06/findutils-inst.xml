<sect2><title>&nbsp;</title><para>&nbsp;</para></sect2>

<sect2>
<title>Installer Findutils</title>

<para>Le package Findutils est assez ancien et il a des problèmes lors de la
compilation avec les versions avec les versions Glibc plus récentes. Vous avez
besoin d'appliquer le correctif qui corrige les problèmes suivants:</para>

<itemizedlist>
<listitem><para>Findutils déclare une fonction appelé basename, mais ce nom de
de fonction est déjà utilisé par les bibliothèques standards C. Ce correctif
modifie la version Findutils de la fonction basename de façon à ce qu'il soit
appelé basename2.</para></listitem>

<listitem><para>Findutils utilise les bibliothèques d'une façon incorrecte. Il
déclare les fonctions de la bibliothèque, pour dire au compilateur quel est le
nom des fonctions lors de l'édition des liens des bibliothèques. Cette syntaxe
est invalide et cause des erreurs de compilation. Ce correctif supprime cette
syntaxe impropre.</para></listitem>

<listitem><para>Chaque package GNU est supposé utiliser une macro appelé
_GNU_SOURCE. Cette macro active les déclarations des fonctions étendues des
bibliothèques GNU de façon à ce que le compilateur soit capable de détecter des
conflits de noms entre les fonctions plus facilement. Ce correctif ajoute cette
macro au code source.</para></listitem>
</itemizedlist>

<para>Un correctif doit être appliqué pour empêcher des erreurs de
compilation. Il corrige un conflit de variable et quelques mauvaises
syntaxes:</para>

<para><screen><userinput>patch -Np1 -i ../findutils-&findutils-patch-version;.patch</userinput></screen></para>

<para>Il existe un bug dans locate.c de Findutils qui cause une erreur de
segmentation arrivant sur les noms, très longs, de chemin. Ce problème est causé
par la fonction get_short() calculant de façon incorrecte les nombres négatifs.
Ce correctif corrige ce bug.</para>

<para><screen><userinput>patch -Np1 -i ../findutils-&findutils-segfault-patch-version;-segfault.patch</userinput></screen></para>

<para>Préparez la compilation de Findutils:</para>

<para><screen><userinput>./configure --prefix=/usr</userinput></screen></para>

<para>Par défaut, l'emplacement de la base de données updatedb est dans
/usr/var. Pour rendre l'emplacement du fichier
<filename>/var/lib/misc/locatedb</filename> compatible avec FHS, passez l'option
<emphasis>localstatedir=/var/lib/misc</emphasis> aux deux commandes
<userinput>make</userinput> ci-dessous.</para>

<para>Continuez avec la compilation du package:</para>

<para><screen><userinput>make libexecdir=/usr/bin</userinput></screen></para>

<para>Finissez l'installation du package:</para>

<para><screen><userinput>make libexecdir=/usr/bin install</userinput></screen></para>

</sect2>

