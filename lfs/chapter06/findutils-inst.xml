<sect2><title>&nbsp;</title><para>&nbsp;</para></sect2>

<sect2>
<title>Installer Findutils</title>

<para>Le package Findutils est assez ancien et il rencontre des problèmes lors
de sa compilation avec des versions plus récentes de Glibc. Vous avez besoin 
d'appliquer un correctif de façon à résoudre les problèmes suivants:</para>

<itemizedlist>
<listitem><para>Findutils déclare une fonction appelé basename, mais ce nom 
de fonction est déjà utilisé par les bibliothèques standards C. Ce correctif
modifie le nom de la fonction de façon à ce qu'il devienne basename2.
</para></listitem>

<listitem><para>Findutils utilise les librairies d'une façon incorrecte. Il
déclare les fonctions de la librairies, pour dire au compilateur quel est le
nom des fonctions lors de l'édition des liens avec les librairies. Cette syntaxe
est invalide et cause des erreurs de compilation. Ce correctif supprime cette
mauvaise syntaxe.</para></listitem>

<listitem><para>Chaque package GNU est supposé utiliser une macro appelé
_GNU_SOURCE. Cette macro active les déclarations des fonctions étendues des
librairies GNU de façon à ce que le compilateur soit capable de détecter plus
facilement des conflits de noms entre les fonctions . Ce correctif ajoute cette
macro au code source.</para></listitem>
</itemizedlist>

<para><screen><userinput>patch -Np1 -i ../findutils-&findutils-patch-version;.patch</userinput></screen></para>

<para>Il existe un bug dans locate.c de Findutils qui cause une erreur de
segmentation arrivant sur les très longs noms de chemin. Ce problème est causé
par la fonction get_short() calculant de façon incorrecte les nombres négatifs.
Ce correctif corrige ce bug.</para>

<para><screen><userinput>patch -Np1 -i ../findutils-&findutils-segfault-patch-version;-segfault.patch</userinput></screen></para>

<para>Préparez la compilation de Findutils:</para>

<para><screen><userinput>./configure --prefix=/usr</userinput></screen></para>

<para>Par défaut, l'emplacement de la base de données updatedb est
/usr/var. Pour rendre l'emplacement du fichier
<filename>/var/lib/misc/locatedb</filename> compatible avec FHS, passez l'option
<emphasis>localstatedir=/var/lib/misc</emphasis> aux deux commandes
<userinput>make</userinput> ci-dessous.</para>

<para>Continuez en compilant le package:</para>

<para><screen><userinput>make libexecdir=/usr/bin</userinput></screen></para>

<para>Finissez en installant le package:</para>

<para><screen><userinput>make libexecdir=/usr/bin install</userinput></screen></para>

</sect2>

