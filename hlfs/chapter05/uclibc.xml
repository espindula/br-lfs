<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
 "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../general.ent">
  %general-entities;
]>

<sect1 id="ch-tools-uclibc" role="wrap" condition="uclibc">
  <?dbhtml filename="uclibc.html"?>

  <title>uClibc-&uclibc-version;</title>

  <indexterm zone="ch-tools-uclibc">
    <primary sortas="a-uClibc">uClibc</primary>
    <secondary>outils</secondary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <xi:include xmlns:xi="http://www.w3.org/2003/XInclude"
    href="../chapter06/uclibc.xml"
    xpointer="xpointer(/sect1/sect2[1]/para[1])"/>

    <para>Notes utilisateur&nbsp;: <ulink url="&hlfs-wiki;/uclibc"/></para>

  </sect2>

  <sect2 role="installation">
    <title>Installation de uClibc</title>

    <para>Ce correctif corrige un bogue issu du CVS de uClibc&nbsp;:
    <ulink url="http://uclibc.org/cgi-bin/viewcvs.cgi?rev=18907&amp;view=rev"/>:</para>

<screen><userinput>patch -Np1 -i ../&uClibc-fixes-patch;</userinput></screen>

    <para>Le correctif suivant ajoute un fichier de configuration générique.
		Ceci compilera uClibc avec des caractéristiques standards, comprenant 
    le durcissement. Dans le chapitre 6, vous serez capable de 
		configurer uClibc selon vos besoins plus spécifiques&nbsp;:</para>

<screen><userinput>patch -Np1 -i ../&uClibc-config-patch;</userinput></screen>

    <para>Mettez l'archive tar pré-générée de locale là où uClibc peut le
		trouver&nbsp;:</para>

<screen><userinput>install -v -m444 ../uClibc-locale-&uclibc-locale-version;.tgz extra/locale/</userinput></screen>

    <para>Réinitialisez les chemins d'installation&nbsp;:</para>

<screen><userinput>cp -vi .config{,.orig}
sed -e 's@.*SHARED_LIB_LOADER_P.*@SHARED_LIB_LOADER_PREFIX="/tools/lib"@g' \
    -e 's@.*RUNTIME_PREFIX.*@RUNTIME_PREFIX="/tools"@g' \
    -e 's@.*DEVEL_PREFIX.*@DEVEL_PREFIX="/tools/"@g' \
    -e 's@.*KERNEL_HEADERS.*@KERNEL_HEADERS="/tools/include"@g' \
    .config.orig > .config</userinput></screen>

    <para>Puis compilez uClibc&nbsp;:</para>

<screen><userinput>make</userinput></screen>

    <para>Installez uClibc&nbsp;:</para>

<screen><userinput>make install</userinput></screen>

  </sect2>

  <sect2 role="content">
    <title/>

    <para>Les détails sur ce paquet sont disponibles dans
    <xref linkend="contents-uclibc" role="."/></para>

  </sect2>

</sect1>
