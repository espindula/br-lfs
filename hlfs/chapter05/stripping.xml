<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
  "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../general.ent">
  %general-entities;
]>

<sect1 id="ch-tools-stripping">
  <?dbhtml filename="stripping.html"?>

  <title>Supprimer les symboles des fichiers objets</title>

    <para>Les étapes de cette section sont optionnelles mais si la partition LFS
		est plutôt petite, il est intéressant d'apprendre que des éléments inutiles
		sont supprimables. Les exécutables et les bibliothèques que vous avez 
		construit jusqu'à maintenant contiennent environ 70&nbsp;Mo de symboles 
		de débogages inutiles. Supprimez ces symboles avec&nbsp;:</para>

<screen><userinput>find /tools/lib -type f -exec strip --strip-debug '{}' ';'
strip --strip-unneeded /tools/{,s}bin/*</userinput></screen>

    <para>La dernière des commandes ci-dessus laissera de côté une vingtaine de
		fichiers en indiquant qu'elle ne reconnaît pas leur format. La
		plupart sont des scripts et non pas des binaires.</para>

    <para>Faites attention à ne <emphasis>pas</emphasis> utiliser
		<parameter>--strip-unneeded</parameter>  sur les bibliothèques. Cela
		détruirait les versions statiques et les paquets devraient être de nouveau
		construits.</para>

    <para>Pour sauver encore 20&nbsp;Mo, supprimez toute la
		documentation&nbsp;:</para>

<screen><userinput>rm -rf /tools/{info,man}</userinput></screen>

    <para>A ce stade vous devriez avoir au moins 850&nbsp;Mo d'espace libre
		sur <envar>$HLFS</envar> nécessaires pour compiler et installer le reste des
		paquets.</para>

</sect1>
