<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
  "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../general.ent">
  %general-entities;
]>

<sect1 id="ch-tools-generalinstructions">
  <?dbhtml filename="generalinstructions.html"?>

  <title>Instructions générales de compilation</title>

  <para>Lorsque vous construisez des paquets, il y a plusieurs présupposés dans
  les instructions&nbsp;:</para>

  <itemizedlist>

  <listitem>
      <para>Plusieurs paquets sont corrigés avant d'être compilés, mais
      seulement dans le cas où la correction est nécessaire pour résoudre un
      problème. Souvent, le correctif est nécessaire à la fois dans ce
      chapitre et dans le suivant, mais quelque fois dans seulement un des
      deux. Donc, ne vous inquiétez pas lorsque des instructions pour un
      correctif téléchargé semblent manquer. Des messages d'avertissements
      sur un décalage (<emphasis>offset</emphasis>) ou sur autre chose
      (<emphasis>fuzz</emphasis>) peuvent apparaître lors de
      l'application d'un correctif. Ne vous inquiétez pas pour ces messages,
      le correctif a bien été appliqué.</para>
  </listitem>

  <listitem>
    <para>Pendant la compilation de la plupart des paquets, plusieurs
    messages d'avertissement du compilateur défileront sur votre écran.
    Ceci est normal et peut être ignoré sans danger. Ces messages
    d'avertissement ne sont que des avertissements&mdash; sur une
    utilisation obsolète, mais pas invalide, de la syntaxe de C ou de C++.
    Les standards C changent assez souvent et quelques paquets continuent
    à utiliser les anciens standards. Ce n'est pas un véritable problème
    mais cela provoque les messages.</para>

    <important>
          <para>Après l'installation de chaque paquet, supprimez son répertoire
          source et son répertoire de construction, sauf si nous vous le demandons
          spécifiquement. Supprimer les sources empêche une mauvaise
          configuration lorsque le même paquet est réinstallé un peu plus tard.</para>
    </important>
  </listitem>

  <listitem>
    <para>Vérifiez une dernière fois que la variable d'environnement
    <envar>HLFS</envar> est configurée correctement&nbsp;:</para>

<screen role="nodump"><userinput>echo $HLFS</userinput></screen>

    <para>Assurez-vous que le résultat contient le bon répertoire vers le
    point de montage de la partition HLFS, qui est <filename
    class="directory">/mnt/hlfs</filename>, suivant notre exemple.</para>
  </listitem>

  <listitem>

    <para>Enfin, un point important doit être précisé&nbsp;:</para>

    <important>
      <para>Avant de lancer les instructions de construction pour un
      paquet, le paquet doit être déballé en tant qu'utilisateur
      <systemitem class="username">hlfs</systemitem>, et vous devez utiliser la
      commande <command>cd</command> pour entrer dans le répertoire tout juste 
      créé. Les instructions de construction supposent que le shell 
      <command>bash</command> est utilisé.</para>
    </important>
  </listitem>

  </itemizedlist>

  <para>Pour remettre en évidence la procédure de construction&nbsp;:</para>

<screen role="nodump">
1. Mettez toutes les sources et les correctifs dans un répertoire qui sera
accessible à partir de l'environnement chroot, tel que /mnt/hlfs/sources/.  
<emphasis>Ne mettez pas</emphasis> les sources dans /mnt/hlfs/tools/.
2. Déplacez-vous dans le répertoire des sources.
3. Pour chaque paquet&nbsp;:
   a. En utilisant le programme tar, déballez le paquet à construire.
   b. Déplacez-vous dans le répertoire créé lors de l'extraction du paquet.
   c. Suivez les instructions du livre pour construire le paquet.
   d. Retournez dans le répertoire des sources.
   e. Effacez le répertoire du source créé et tous les répertoires &lt;package&gt;-build
   qui ont été créés dans le processus de construction.</screen>

</sect1>
