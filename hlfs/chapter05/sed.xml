<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
  "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../general.ent">
  %general-entities;
]>

<sect1 id="ch-tools-sed" role="wrap">
  <?dbhtml filename="sed.html"?>

  <title>Sed-&sed-version;</title>

  <indexterm zone="ch-tools-sed">
    <primary sortas="a-Sed">Sed</primary>
    <secondary>outils</secondary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <xi:include xmlns:xi="http://www.w3.org/2003/XInclude"
    href="../chapter06/sed.xml"
    xpointer="xpointer(/sect1/sect2[1]/para[1])"/>

    <para>Notes utilisateur&nbsp;: <ulink url="&hlfs-wiki;/sed"/></para>

  </sect2>

  <sect2 role="installation">
    <title>Installation de Sed</title>

    <para condition="uclibc">Cette version de Sed suppose que notre
		<function>malloc</function> se comporte comme celle de Glibc, mais dans
		uClibc, cette compatibilité est optionnelle. Ce bogue a été corrigé
		en amont par l'ajout de <function>malloc</function> à Sed&nbsp;:
    <ulink url="http://lists.gnu.org/archive/html/bug-gnu-utils/2005-08/msg00112.html"/>.
    Le correctif suivant modifie plutôt Sed pour qu'un 
		<function>malloc</function> se comporte comme celui de uClibc&nbsp;:</para>

<screen condition="uclibc"><userinput>patch -Np1 -i ../&sed-uClibc-patch;</userinput></screen>

    <para>Préparez la compilation de Sed&nbsp;:</para>

<screen><userinput>./configure --prefix=/tools --without-included-regex</userinput></screen>

    <variablelist>
      <title>Voici la signification des options de configure&nbsp;:</title>

      <varlistentry>
        <term><parameter>--without-included-regex</parameter></term>
        <listitem>
          <para>Sed préfère utiliser ses propres routines d'expressions régulières par défaut,
					pour une meilleure portabilité, mais nous avons les routines dans libc
					et nous n'avons pas besoin de la version incluse. Ceci supprime aussi
          un avertissement concernant la redéfinition de __mempcpy.</para>
        </listitem>
      </varlistentry>
    </variablelist>

    <para>Compilez le paquet&nbsp;:</para>

<screen><userinput>make</userinput></screen>

    <para>Installez le paquet&nbsp;:</para>

<screen><userinput>make install</userinput></screen>

  </sect2>

  <sect2 role="content">
    <title/>

    <para>Les détails de ce paquet sont situés dans
    <xref linkend="contents-sed" role="."/></para>

  </sect2>

</sect1>
