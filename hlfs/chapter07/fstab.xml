<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
  "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../general.ent">
  %general-entities;
]>

<sect1 id="bootable-fstab">
  <?dbhtml filename="fstab.html"?>

  <title>Créer le fichier /etc/fstab</title>

  <indexterm zone="bootable-fstab">
    <primary sortas="e-/etc/fstab">/etc/fstab</primary>
  </indexterm>

  <para>Le fichier <filename>/etc/fstab</filename> est utilisé par
  certains programmes pour déterminer les partitions à monter par
  défaut, dans quel ordre, et quels systèmes de fichiers sont à vérifier
  (pour des erreurs d'intégrité). Créez une nouvelle table des systèmes
  de fichiers comme ceci&nbsp;:</para>

  <para>Le système de fichiers 
  <systemitem class="filesystem">proc</systemitem> n'e contient pas d'exécutabbes, de
  suid ou de péhiphérique. Les systèmes de fichiers
  <systemitem class="filesystem">sysfs</systemitem> et
  <systemitem class="filesystem">devpts</systemitem> n'ont pas d'exécutables ou
  de suid. Le système de fichiers
  <systemitem class="filesystem">shm</systemitem> n'a pas de suid ou de
  périphérique. Vous ne devriez pas avoir de problèmes avec les options
  suggérées ci-dessous, si vous en avez, merci de nous les signaler à
  <ulink url="mailto:hlfs-dev@linuxfromscratch.org"/>.</para>

<screen><userinput>cat &gt; /tmp/fstab.new &lt;&lt; "EOF"
<literal># Début de /etc/fstab

# système de fichiers  point de montage  type   options               sauvegarde  fsck
#                                                                  order

/dev/<replaceable>[xxx]</replaceable>     /            <replaceable>[fff]</replaceable>  defaults                  1     1
/dev/<replaceable>[yyy]</replaceable>     swap         swap   pri=1                     0     0
/dev/<replaceable>[zzz]</replaceable>     /boot        <replaceable>[ggg]</replaceable>  noauto                    1     2
proc           /proc        proc   rw,noexec,nosuid,nodev    0     0
sysfs          /sys         sysfs  rw,noexec,nosuid          0     0
devpts         /dev/pts     devpts rw,nosuid,gid=4,mode=620  0     0
shm            /dev/shm     tmpfs  rw,nosuid,nodev           0     0
# Fin de /etc/fstab</literal>
EOF
install -m644 /tmp/fstab.new /etc/fstab
rm /tmp/fstab.new</userinput></screen>

  <para>Remplacez <replaceable>&lt;yyy&gt;</replaceable>, <replaceable>&lt;fff&gt;</replaceable>
    et <replaceable>&lt;ggg&gt;</replaceable> avec les valeurs appropriées pour votre système, par exemple respectivement
  <filename class="partition">hdb3</filename>,
  <filename class="partition">hdb2</filename>,
  <filename class="partition">hdb1</filename>,
  <systemitem class="filesystem">ext3</systemitem> et
  <systemitem class="filesystem">ext2</systemitem>. Pour tous les
  détails sur les six champs de cette table, voir <command>man 5 fstab</command>.</para>

  <para>Si vous utilisez un système de fichiers journalisé, vous devriez
  remplacer les <parameter>1 1</parameter> à la fin de la ligne par
  <parameter>0 0</parameter> car de telles partitions n'ont pas besoin pas
  d'être sauvegardées ou vérifiées.</para>

  <para>Le point de montage <filename class="directory">/dev/shm</filename>
  pour <systemitem class="filesystem">tmpfs</systemitem> est inclu pour
  permettre l'activation de la mémoire partagée POSIX. Le noyau doit
  disposer du support en interne pour fonctionner ceci (plus
  d'informations là-dessus dans la prochaine section). Merci de noter
  qu'actuellement très peu de logiciels utilise la mémoire partagée
  POSIX. Donc, vous pouvez considérer le point de montage
  <filename class="directory">/dev/shm</filename> comme facultatif. Pour plus
  d'informations, voir 
  <filename>Documentation/filesystems/tmpfs.txt</filename> dans l'arborescence
  des sources du noyau.</para>

</sect1>
