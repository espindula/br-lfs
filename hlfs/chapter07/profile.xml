<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
  "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../general.ent">
  %general-entities;
]>

<sect1 id="bootable-profile">
  <?dbhtml filename="profile.html"?>

  <title>Fichiers de démarrage du shell Bash</title>

  <indexterm zone="bootable-profile">
    <primary sortas="e-/etc/profile">/etc/profile</primary>
  </indexterm>

  <para>Le programme shell <command>/bin/bash</command> (dénommé
  ci-après <quote>le shell</quote>) utilise une collection de fichiers
  de démarrage pour aider à  la création d'un environnement d'exécution.
  Chaque fichier a une utilisation spécifique et pourrait avoir des
  effets différents sur les environnements de connexion et interactif.
  Les fichiers du répertoire <filename class="directory">/etc</filename>
  fournissent un paramétrage global. Si un fichier équivalent existe
  dans le répertoire personnel, il pourrait surcharger les paramétrages
  globaux.</para>

  <para>Un shell interactif de connexion est lancé après une connexion
  réussie, en utilisant <command>/bin/login</command>, par la lecture du
  fichier <filename>/etc/passwd</filename>. Un shell interactif sans
  connexion est lancé en ligne de commande (c'est-à -dire
  <prompt>[prompt]$</prompt><command>/bin/bash</command>). Un shell non
  interactif est habituellement présent quand un script shell est en
  cours d'exécution. Il est non interactif parce qu'il traite un script
  et n'attend pas une saisie de l'utilisateur entre les
  commandes.</para>

  <para>Pour plus d'informations, voir <command>info bash</command> sous
  la section <emphasis>Bash Startup Files and Interactive
  Shells</emphasis> (Fichiers de démarrage de Bash et shells
  interactifs).</para>

  <para>Les fichiers <filename>/etc/profile</filename> et
  <filename>~/.bash_profile</filename> sont lus quand le shell est
  appelé en tant que shell interactif de connexion.</para>

  <para>Le fichier <filename>/etc/profile</filename> de base ci-dessous
  configure quelques variables d'environnement nécessaire au support des langues
  natives. Les configurer proprement résulte en ce qui
  suit&nbsp;:</para>

  <itemizedlist>
    <listitem>
      <para>La sortie des programmes traduite dans la langue
      native</para>
    </listitem>
    <listitem>
      <para>La correction de la classification des caractères en lettres,
      chiffres et autres classes. Ceci est nécessaire pour que <command>bash</command>
      accepte proprement les caractères non ASCII dans les lignes de commandes pour
      les locales autres qu'anglaise</para>
    </listitem>
    <listitem>
      <para>L'ordre de tri alphabétique correct pour le pays</para>
    </listitem>
    <listitem>
      <para>La taille de papier par défaut appropriée</para>
    </listitem>
    <listitem>
      <para>Le bon formatage des valeurs monétaires, de l'heure et des
      dates</para>
    </listitem>
  </itemizedlist>

  <para>Remplacez <replacable>[ll]</replacable> ci-dessous
  avec le code à deux lettres de la langue désirée (par exemple,
  <quote>en</quote>) et <replaceable>[lt;CC&gt;</replaceable> avec le code à
  deux lettres du pays approprié (par exemple, <quote>GB</quote>). Il pe1t aussi
  être nécessaire de spécifier l'encodage de caractères (c'est finalement la 
  forme préférée) (comme <quote>iso8859-1</quote>) après un point (afin que le
  résultat soit <quote>en_GB.iso8859-1</quote>). Lancez la commande suivante
  pour plus d'informations&nbsp;:</para>

<screen role="nodump"><userinput>man 3 setlocale</userinput></screen>

  <para>La liste de toutes les locales supportées par Glibc peut être
  obtenue en exécutant la commande suivante&nbsp;:</para>

<screen role="nodump"><userinput>locale -a</userinput></screen>

  <para>Une fois que les bons paramètres de locale ont été déterminés,
  créez le fichier <filename>/etc/profile</filename>. Cela écrasera celui
  fait au début du chapitre 6&nbsp;:</para>

<screen><userinput>cat &gt; /etc/profile &lt;&lt; "EOF"
<literal># Début de /etc/profile

export LANG=<replaceable>[ll]</replaceable>_<replaceable>[CC]</replaceable>

# Fin de /etc/profile</literal>
EOF</userinput></screen>

  <note>
  <para>Les locales <quote>C</quote> (par défaut) et
  <quote>en_US</quote> (celle recommandée pour les utilisateurs de
  langue anglaise vivant aux États-Unis) sont différentes.</para>
  </note>

  <para>Le paramétrage de la disposition du clavier, de la police d'écran et des
  variables d'environnement liées à la locale sont les seules étapes 
  d'internationalisation nécessaires pour supporter les locales qui utilisent
  les encodages ordinaires sur un octet et l'écriture de droite à
  gauche. Les cas plus complexes (y compris ceux basés sur UTF-8) exigent des 
  étapes et des correctifs supplémentaires car beaucoup d'applications ont
  tendance à ne pas fonctionner correctement sous certaines conditions. Ces 
  étapes et ces correctifs ne sont pas inclus dans le livre HLFS et, de toute 
  façon, de telles locales ne sont pas supportées par HLFS.</para>

</sect1>
