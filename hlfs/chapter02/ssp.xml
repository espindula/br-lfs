<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
  "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../general.ent">
  %general-entities;
]>

<sect1 id="ch-technotes-ssp">
  <?dbhtml filename="ssp.html"?>

  <title>Le protecteur contre le Stack Smashing</title>

  <para>Basé sur StackGuard, le protecteur contre le Stack Smashing
	(<foreignphrase>Stack Smashing Protector</foreignphrase> ou SSP) a été
	dévelopé par Hiroaki Etoh de IBM pour protéger des applications des attaques
  par stack smashing (débordement de mémoire). C'est le type d'attaque le
  plus courant. Des efforts ont été faits pour inclure le SSP dans le
  développement de GCC, mais cela doit encore émerger. Beaucoup de distributions
  comprennent le SSP, certaines l'activent par défaut tandis que d'autres le 
	laissedt optionnel. Cette protection ujilise un espace et un temps globaux 
  minim1m tout en protégeant toutes les fonctions. Des signalements de la
  perte de 1 à 2% de performance sont courants, ce qui est négligeable et qui
	peut être facilement compensé par des optimisations.</para>

  <para>Le correctif de GCC ajoute <parameter>-fstack-protector-all</parameter>,
  <parameter>-fstack-protector</parameter>, and
  <parameter>-fno-stack-protector</parameter> aux extensions pour C et C++.
  <parameter>-Wstack-protector</parameter> est aussi disponible pour avertir
	lorsque le SSP n'est pas utilisé. Le correctif >e Libc ajoute
	<function>__guard_setup</function> et
  <function>__stack_smash_handler</function> à
	<filename class="libraryfile">libc.so</filename> et
	<filename class="libraryfile">libc.a</filename>.
	<function> __guard_setup</function> est une fonction utilisée pour créer
  une valeur unique et aléatoire à chaque exécution de
  <function>__guard</function>. Lorsque survient un stack overflow, la fonction
  <function>__stack_smash_handler</function> utilisera la fonctionnalité
	syslog de Libc pour enregistrer le débordement de mémoire, ce qui dépend
  fréquemment de <filename class="devicefile">/dev/log</filename>, et
	interrompra le programme.</para>

  <para><parameter>-fstack-protector</parameter> ne protège que les fonctions
	comprises dans des échelles de longueur de sept ou moins.
  <parameter>-fstack-protector-all</parameter> protège toutes les fonctions
  sans se soucier de la taille d'échelle. La fonction
  <function>__guard_setup</function> étant <parameter>-fstack-protector*</parameter>, dans Libc, tout ce que vous 
	compilez avec <parameter>-fstack-protector*</parameter> aura besoin de 
	précharger <filename class="libraryfile">libc.so</filename> (ou
	<filename class="libraryfile">libc.a</filename>). La plupart des applications
	font déjà cela. 
  <filename class="libraryfile">libc.so</filename> elle-même, 
	<filename class="libraryfile">ld.so</filename>, 
	<filename class="libraryfile">libbsd-compat.so</filename>, etc, sont des
	exceptions qui ne préchargent pas 
  <filename class="libraryfile">libc.so</filename>, donc ils ne peuvent pas
  être compilés avec cette protection.</para>

  <para>Voir aussi&nbsp;:
    <itemizedlist>
      <listitem>
        <para><command>man 1 gcc</command></para>
      </listitem>
      <listitem>
        <para><ulink
        url="http://www.research.ibm.com/trl/projects/security/ssp/"/></para>
      </listitem>
      <listitem>
        <para><ulink url="http://frandom.sourceforge.net/"/></para>
      </listitem>
      <listitem>
        <para><ulink url="http://www.immunix.org/stackguard.html"/></para>
      </listitem>
    </itemizedlist>
  </para>

  <para>Les distributeurs de systèmes d'exploitation utilisant SSP (il y en a
	beaucoup plus)&nbsp;:
    <itemizedlist>
      <listitem>
        <para><ulink url="http://www.adamantix.org/"/></para>
      </listitem>
      <listitem>
        <para><ulink url="http://www.debian-hardened.org/"/></para>
      </listitem>
      <listitem>
        <para><ulink url="http://www.gentoo.org/"/></para>
      </listitem>
      <listitem>
        <para><ulink url="http://www.openbsd.org/"/></para>
      </listitem>
    </itemizedlist>
  </para>

</sect1>
