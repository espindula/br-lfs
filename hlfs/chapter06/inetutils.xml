<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
  "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../general.ent">
  %general-entities;
]>

<sect1 id="ch-system-inetutils" role="wrap">
  <?dbhtml filename="inetutils.html"?>

  <title>Inetutils-&inetutils-version;</title>

  <indexterm zone="ch-system-inetutils">
    <primary sortas="a-Inetutils">Inetutils</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>Le paquet Inetutils contient des programmes réseau
		basiques.</para>

    <para>Notes utilisateur&nbsp;: <ulink url="&hlfs-wiki;/inetutils"/></para>

  </sect2>

  <sect2 role="installation">
    <title>Installation de Inetutils</title>

    <para>Ce correctif vient du CVS d'Inetutils, corrigeant divers 
		problèmes&nbsp;:</para>

<screen><userinput>patch -Np1 -i ../&inetutils-fixes-patch;
touch *</userinput></screen>

    <para>Les programmes venant avec Inetutils ne seront pas tous
		installés. Néanmoins, le système de construction d'Inetutils insistera 
		sur l'installation de toutes les pages de man. Le correctif suivant
	  corrigera cette situation&nbsp;:</para>

<screen><userinput>find . -name Makefile.in -exec sed -e '/ftpd.8/d' \
    -e '/inetd.8/d' -e '/logger.1/d' -e '/rexecd.8/d' -e '/rlogind.8/d' \
    -e '/rshd.8/d' -e '/syslog.conf.5 syslogd.8/d' -e '/talkd.8/d' \
    -e '/telnetd.8/d' -e '/tftpd.8/d' -e '/rcp.1/d' -e '/rlogin.1/d' \
    -e '/rsh.1/d' -i.orig {} \;</userinput></screen>

    <para>Par défaut, <command>ping</command> est installé avec droit SUID et d'écriture
		pour le groupe. Nous n'avons pas besoin de cela. Plus tard, après que
		<command>ping</command> sera installé, nous pouvons initialiser cette 
    fonctionnalité sur <command>ping</command> afin qu'il puisse fonctionner sans 
    privilèges root&nbsp;:</para>

<screen><userinput>sed 's/4775/0755/' -i.orig2 ping/Makefile.in</userinput></screen>

    <para>Préparez la compilation d'Inetutils&nbsp;:</para>

<screen><userinput>./configure --prefix=/usr --libexecdir=/usr/sbin \
    --sysconfdir=/etc --localstatedir=/var \
    --disable-logger --disable-syslogd \
    --disable-whois --disable-servers \
    --disable-rcp --disable-rlogin --disable-rsh</userinput></screen>

    <variablelist>
      <title>Voici la signification des options de configure&nbsp;:</title>

      <varlistentry>
        <term><parameter>--disable-logger</parameter></term>
        <listitem>
          <para>Cette option empêche l'installation du programme
					<command>logger</command> par Inetutils. Ce programme est utilisé par
					les scripts pour passer des messages au démon de journalisation système. Nous 
					ne l'installons pas car Util-linux livre une meilleure version plus 
					tard.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><parameter>--disable-syslogd</parameter></term>
        <listitem>
          <para>Cette option empêche l'installation du démon de journalisation système
					par Inetutils car il est installé avec le paquet Sysklogd.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><parameter>--disable-whois</parameter></term>
        <listitem>
          <para>Cette option désactive la construction du client
					<command>whois</command> d'Inetutils qui est vraiment obsolète. Les instructions
					pour un meilleur client <command>whois</command> sont dans le livre
					BLFS.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><parameter>--disable-servers</parameter></term>
        <listitem>
          <para>Ceci désactive l'installation des différents serveurs réseau
					inclus dans le paquet Inetutils. Ces serveurs semblent inappropriés 
					dans un système LFS de base. Certains sont non sécurisés et ne sont 
					pas considérés comme sécurisés sur des réseaux de confiance. Plus d'informations
					sont disponibles sur
				  <ulink url="&blfs-root;view/svn/basicnet/inetutils.html"/>. Notez que
					de meilleurs remplaçants sont disponibles pour certains de ces
					serveurs.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><parameter>--disable-rcp --disable-rlogin --disable-rsh</parameter></term>
        <listitem>
          <para>Ces options désactive la compilation et l'installation de   
          <command>rcp</command>, <command>rlogin</command> et
					<command>rsh</command>. Ces programmes sont arcaïques et peuvent même
					être considérés comme dangereux car ils nécessitent les privilèges 
          root (suid) pour fonctionner. De bien meilleurs remplacements pour
					ces programmes sont fournis par le paquet
          <ulink url="&blfs-book;basicnet/openssh.html">OpenSSH</ulink>.</para>
        </listitem>
      </varlistentry>

    </variablelist>

    <para>Compilez le paquet&nbsp;:</para>

<screen><userinput>make</userinput></screen>

    <para>Ce paquet n'est pas fourni avec une suite de tests.</para>

    <para>Installez le paquet&nbsp;:</para>

<screen><userinput>make install</userinput></screen>

    <para>Déplacez le programme <command>ping</command> à un emplacement
		compatible avec FHS&nbsp;:</para>

<screen><userinput>mv -v /usr/bin/ping{,6} /bin</userinput></screen>

    <para>Initialisez les possibilités sur le programme <command>ping</command>
		de fonctionner sans les privilèges root&nbsp;:</para>

<screen><userinput>setcap cap_net_admin=ep /bin/ping
setcap cap_net_admin=ep /bin/ping6</userinput></screen>

  </sect2>

  <sect2 id="contents-inetutils" role="content">
    <title>Contenu de Inetutils</title>

    <segmentedlist>
      <segtitle>Programmes installés</segtitle>

      <seglistitem>
        <seg>ftp, ping, ping6, talk, telnet et tftp</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Descriptions courtes</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="ftp">
        <term><command>ftp</command></term>
        <listitem>
        <para>Est un programme de transfert de fichier</para>
        <indexterm zone="ch-system-inetutils ftp">
          <primary sortas="b-ftp">ftp</primary>
        </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="ping">
        <term><command>ping, ping6</command></term>
        <listitem>
          <para>Envoie des paquets echo-request et affiche le temps mis pour que la
          réponse arrive</para>
          <indexterm zone="ch-system-inetutils ping">
            <primary sortas="b-ping">ping</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="talk">
        <term><command>talk</command></term>
        <listitem>
          <para>Est utilisé pour discuter avec un autre utilisateur</para>
          <indexterm zone="ch-system-inetutils talk">
            <primary sortas="b-talk">talk</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="telnet">
        <term><command>telnet</command></term>
        <listitem>
          <para>Une interface du protocole TELNET</para>
          <indexterm zone="ch-system-inetutils telnet">
            <primary sortas="b-telnet">telnet</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="tftp">
        <term><command>tftp</command></term>
        <listitem>
          <para>Un programme de transfert trivial de fichiers</para>
          <indexterm zone="ch-system-inetutils tftp">
            <primary sortas="b-tftp">tftp</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>

