<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
  "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../general.ent">
  %general-entities;
]>

<sect1 id="ch-system-flex" role="wrap">
  <?dbhtml filename="flex.html"?>

  <title>Flex-&flex-version;</title>

  <indexterm zone="ch-system-flex">
    <primary sortas="a-Flex">Flex</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>Le paquet Flex contient un outil de génération de programmes
		reconnaissant des motifs de texte.</para>

    <para>Notes utilisateur&nbsp;: <ulink url="&hlfs-wiki;/flex"/></para>

  </sect2>

  <sect2 role="installation">
    <title>Installation de Flex</title>

    <para>Préparez la compilation de Flex&nbsp;:</para>

<screen><userinput>./configure --prefix=/usr</userinput></screen>

    <para>Compilez le paquet&nbsp;:</para>

<screen><userinput>make</userinput></screen>

    <para>Pour tester les résultats, lancez&nbsp;:
    <userinput>make check</userinput>.</para>

    <para>Installez le paquet&nbsp;:</para>

<screen><userinput>make install</userinput></screen>

<!--
    <para role="aslr"><filename class="libraryfile">libfl.a</filename> can
    be reinstalled as a shared library with the following command:</para>

<screen role="aslr"><userinput>gcc -shared -Wl,-soname,libfl.so.&flex-version; \
    -o libfl.so.&flex-version; -fPIC libmain.o libyywrap.o
rm -v /usr/lib/libfl.a
install -v libfl.so.&flex-version; /usr/lib/libfl.so.&flex-version;
ln -vs &flex-version; /usr/lib/libfl.so</userinput></screen>

    <para role="aslr">There are some packages that expect to find the
    <filename class="libraryfile">lex</filename> library in <filename
    class="directory">/usr/lib</filename>. Create a symlink to account for
    this:</para>

<screen role="aslr"><userinput>ln -vs libfl.so /usr/lib/libl.so</userinput></screen>

    <para>If you did not install <filename class="libraryfile">libfl.so</filename>
    and have chosen to keep the static version, then create a lex symlink with
    this command: <command>ln -vs libfl.a /usr/lib/libl.a</command>.</para>
-->
    <para>Créez un lien symbolique pour les paquets qui s'attendent à trouver
		la bibliothèque Lex&nbsp;:</para>

<screen><userinput>ln -vs libfl.a /usr/lib/libl.a</userinput></screen>

    <para>Quelques programmes ne connaissent pas encore
		<command>flex</command> et essaient de lancer son prédécesseur,
		<command>lex</command>. Pour ces programmes, créez un script enveloppe
		nommé <filename>lex</filename> appelant <filename>flex</filename> en
		mode d'émulation <command>lex</command>&nbsp;:</para>

<screen><userinput>cat &gt; /usr/bin/lex &lt;&lt; "EOF"
<literal>#!/bin/sh
# Début de /usr/bin/lex

exec /usr/bin/flex -l "$@"

# Fin de /usr/bin/lex</literal>
EOF
chmod -v 755 /usr/bin/lex</userinput></screen>

  </sect2>

  <sect2 id="contents-flex" role="content">
    <title>Contenu de Flex</title>

    <segmentedlist>
      <segtitle>Programmes installés</segtitle>
      <segtitle>Bibliothèque installée</segtitle>

      <seglistitem>
			<seg>flex et lex</seg>
        <seg>libfl.so</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Descriptions courtes</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="flex">
        <term><command>flex</command></term>
        <listitem>
          <para>Un outil pour générer des programmes reconnaissant des motifs
              dans du texte. Cela permet une grande souplesse pour
              spécifier les règles de recherche de motifs, supprimant ainsi le
              besoin de développer des programmes spécialisés</para>
          <indexterm zone="ch-system-flex flex">
            <primary sortas="b-flex">flex</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="lex">
        <term><command>lex</command></term>
        <listitem>
          <para>Un script qui exécute <command>flex</command> en
					mode d'émulation <command>lex</command></para>
          <indexterm zone="ch-system-flex lex">
            <primary sortas="b-lex">lex</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libfl.so">
        <term><filename class="libraryfile">libfl.so</filename></term>
        <listitem>
          <para>La bibliothèque
					<filename class="libraryfile">flex</filename></para>
          <indexterm zone="ch-system-flex libfl.so">
            <primary sortas="c-libfl.so">libfl.so</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
