# SOME DESCRIPTIVE TITLE
# Copyright (C) YEAR Free Software Foundation, Inc.
# This file is distributed under the same license as the PACKAGE package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"POT-Creation-Date: 2019-09-02 09:14+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: \n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:4
#, no-wrap
msgid ""
"TITLE:          Qmail and Cyrus Imap with virtual domains\n"
"LFS VERSION:    Tested on LFS-4.0\n"
"AUTHOR:         Ivo Schaap <ivo@thecourtofeden.org>\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:7
#, no-wrap
msgid ""
"SYNOPSIS:       How to install and configure a mail system that can \n"
"                handle mail to multiple domains using virtual domains.\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:9
msgid "HINT:"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:11
msgid "version 1.2 (16/10/2002)"
msgstr ""

#. type: Bullet: ' -  '
#: origin/qmail_cyrus_imap.txt:29
msgid "Changed LFS version from 3 to 4"
msgstr ""

#. type: Bullet: ' -  '
#: origin/qmail_cyrus_imap.txt:29
msgid "Added c-client to the list of prerequisites, there could be more deps !!"
msgstr ""

#. type: Bullet: ' -  '
#: origin/qmail_cyrus_imap.txt:29
msgid "Moved Berkeley DB there as well and version updated from 3.0.1 -> 4.0.14"
msgstr ""

#. type: Bullet: ' -  '
#: origin/qmail_cyrus_imap.txt:29
msgid "Moved cyrus-sasl-1.5.27 -> cyrus-sasl-2.1.9"
msgstr ""

#. type: Bullet: ' -  '
#: origin/qmail_cyrus_imap.txt:29
msgid "Moved cyrus-imapd-2.0.16 -> cyrus-imapd-2.1.9"
msgstr ""

#. type: Bullet: ' -  '
#: origin/qmail_cyrus_imap.txt:29
msgid "Added Transport Layer Security (TLS) support"
msgstr ""

#. type: Bullet: ' -  '
#: origin/qmail_cyrus_imap.txt:29
msgid "Added Openssl 0.9.6g"
msgstr ""

#. type: Bullet: ' -  '
#: origin/qmail_cyrus_imap.txt:29
msgid "Added Avmailgate 2.0.1.7"
msgstr ""

#. type: Bullet: ' -  '
#: origin/qmail_cyrus_imap.txt:29
msgid "Added Nail 10.0"
msgstr ""

#. type: Bullet: ' -  '
#: origin/qmail_cyrus_imap.txt:29
msgid "Added Fcron 2.0.0"
msgstr ""

#. type: Bullet: ' -  '
#: origin/qmail_cyrus_imap.txt:29
msgid "Added Procmail 3.22"
msgstr ""

#. type: Bullet: ' -  '
#: origin/qmail_cyrus_imap.txt:29
msgid "Added SpamAssassin 2.43"
msgstr ""

#. type: Bullet: ' -  '
#: origin/qmail_cyrus_imap.txt:29
msgid "Added Vipul's Razor v2.20 + sdk 2.20"
msgstr ""

#. type: Bullet: ' -  '
#: origin/qmail_cyrus_imap.txt:29
msgid "Added F-prot Antivirus 3.12b"
msgstr ""

#. type: Bullet: ' -  '
#: origin/qmail_cyrus_imap.txt:29
msgid "Added Distributed Checksum Clearinghouse 1.1.15"
msgstr ""

#. type: Bullet: ' -  '
#: origin/qmail_cyrus_imap.txt:29
msgid "Added Anomy-sanitizer 1.55"
msgstr ""

#. type: Bullet: ' -  '
#: origin/qmail_cyrus_imap.txt:29
msgid "Added Various comments and command improvements"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:31
msgid "version 1.1 (12/15/2001)"
msgstr ""

#. type: Bullet: ' - '
#: origin/qmail_cyrus_imap.txt:33
msgid "Initial commit"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:37
#, no-wrap
msgid ""
"TABLE OF CONTENTS\n"
"=================\n"
msgstr ""

#. type: Bullet: '1.  '
#: origin/qmail_cyrus_imap.txt:61
msgid "Sources"
msgstr ""

#. type: Bullet: '2.  '
#: origin/qmail_cyrus_imap.txt:61
msgid "Introduction"
msgstr ""

#. type: Bullet: '3.  '
#: origin/qmail_cyrus_imap.txt:61
msgid "Prerequisites"
msgstr ""

#. type: Bullet: '4.  '
#: origin/qmail_cyrus_imap.txt:61
msgid "Installation of Avmailgate"
msgstr ""

#. type: Bullet: '5.  '
#: origin/qmail_cyrus_imap.txt:61
msgid "Installation of Qmail"
msgstr ""

#. type: Bullet: '6.  '
#: origin/qmail_cyrus_imap.txt:61
msgid "Installation of Nail"
msgstr ""

#. type: Bullet: '7.  '
#: origin/qmail_cyrus_imap.txt:61
msgid "Installation of Fcron"
msgstr ""

#. type: Bullet: '8.  '
#: origin/qmail_cyrus_imap.txt:61
msgid "Installation of Procmail"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:61
#, no-wrap
msgid ""
"9.  Installation of SpamAssassin\n"
"10. Installation of Razor-agents\n"
"11. Installation of Razor-agents-sdk\n"
"12. Installation of F-Prot Antivirus \n"
"13. Installation of Distributed Checksum Clearinghouse\n"
"14. Installation of Anomy-sanitizer\n"
"15. Installation of Imap\n"
"16. Configuration of Qmail and Mailboxes\n"
"17. Configuration of Procmail\n"
"18. Starting up all processes\n"
"19. Monitoring the processes\n"
"20. Migrating mail from backups\n"
"21. Interesting readings\n"
"22. Legal Blurb\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:65
#, no-wrap
msgid ""
"1. Sources\n"
"==========\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:69
msgid "Berkeley DB: http://www.sleepycat.com/update/snapshot/db-4.0.14.tar.gz"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:73
msgid ""
"C-client library: ftp://ftp.cac.washington.edu/imap/c-client.tar.Z "
"imap-2002.RC7"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:76
msgid "Openssl: ftp://ftp.openssl.org/source/openssl-0.9.6g.tar.gz"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:80
msgid ""
"Avmailgate: http://www.hbedv.com/files/antivir/release/avlxmgt.tgz "
"avmailgate-2.0.1.7-Linux-glibc"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:83
msgid ""
"The free license can be ordered here: "
"http://www.antivir.de/order/privreg/order_e.htm"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:86
msgid "Qmail: http://cr.yp.to/software/qmail-1.03.tar.gz"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:89
msgid ""
"Nail: "
"http://omnibus.ruf.uni-freiburg.de/~gritter/archive/nail/nail-10.0.tar.gz"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:92
msgid "Fcron: http://fcron.free.fr/fcron-2.0.0.src.tar.gz"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:95
msgid "Procmail: http://www.procmail.org/procmail-3.22.tar.gz"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:98
msgid ""
"SpamAssassin: "
"http://spamassassin.taint.org/released/Mail-SpamAssassin-2.43.tar.gz"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:103
msgid ""
"Razor: http://razor.sourceforge.net/download/index.html "
"razor-agents-sdk-2.03.tar.gz razor-agents-2.20.tar.gz"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:106
msgid "F-Prot Antivirus: ftp://ftp.f-prot.com/pub/f-prot_3.12b.tar.gz"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:110
msgid ""
"Distributed Checksum Clearinghouse: "
"http://www.rhyolite.com/anti-spam/dcc/source/dcc-dccproc.tar.Z "
"dcc-dccproc-1.1.15"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:113
msgid "Anomy-sanitizer: http://mailtools.anomy.net/dist/anomy-sanitizer-1.55.tar.gz"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:117
msgid ""
"IMAP/SASL: ftp://ftp.andrew.cmu.edu/pub/cyrus-mail/cyrus-imapd-2.1.9.tar.gz "
"ftp://ftp.andrew.cmu.edu/pub/cyrus-mail/cyrus-sasl-2.1.9.tar.gz"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:120
#, no-wrap
msgid ""
"2. Introduction\n"
"===============\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:124
msgid ""
"First of all I wanna thank Gerard and all the others for providing the "
"platform where we do the stuff we do."
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:127
msgid ""
"In this hint we setup a mail server that serve two virtual example domains "
"and have different example users per domain:"
msgstr ""

#. type: Bullet: '   - '
#: origin/qmail_cyrus_imap.txt:129
msgid "linuxfromsource.org"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:133
#, no-wrap
msgid ""
"      - John the Ripper          john@linuxfromsource.org\n"
"      - Susie Summer            susie@linuxfromsource.org\n"
"      - Dirk Beekmans            dirk@linuxfromsource.org\n"
msgstr ""

#. type: Bullet: '   - '
#: origin/qmail_cyrus_imap.txt:136
msgid "linuxfrombinary.org"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:140
#, no-wrap
msgid ""
"      - Olaf Olsen               olaf@linuxfrombinary.org\n"
"      - Jennifer Loopneus    jennifer@linuxfrombinary.org\n"
"      - Pamela Andersom        pamela@linuxfrombinary.org\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:146
msgid ""
"John is the local administer so he gets the mail for root, postmaster and "
"himself. All the usernames must be unique as each user has its own box so if "
"olaf have a email account on linuxfrombinary AND linuxfromsource he must be "
"the same person because its the same mailbox. And if Olaf opens his mailbox "
"he sees mail from both the domains. Comprende ?"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:149
msgid ""
"There is also a cyrus user to administer the IMAP server daemon and the "
"mailboxes. But he got a password for both for unix and imap/sasl."
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:153
msgid ""
"A mail user do not needs a unix password set to get mail. If one of the mail "
"users needs access on the mail server you give him a unix password as well "
"as the imap/sasl password."
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:157
#, no-wrap
msgid ""
"3. Prerequisites\n"
"================\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:160
#, no-wrap
msgid ""
"A. The MX record\n"
"----------------\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:164
msgid ""
"Make sure there is an MX record in DNS to point mail for the virtual domains "
"to the host running qmail. (Mostly the DNS runs on the ISP side.)"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:166
msgid "This is what roughly happens:"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:168
msgid "Here is a mail to olaf@linuxfrombinary.org to your SMTP server."
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:174
msgid ""
"The SMPT server wants to find out who is linuxfrombinary.org. An email "
"address as well as a web site address needs to be resolved in an ip "
"address.  DNS ( Domain Name Server) is used to resolve the domain in an ip "
"address and point to a mail server that will accept connections.  An MX "
"(mail exchange) record is used for that."
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:183
msgid ""
"Now the mail is routed to your ip adders for your mail server on port 25.  "
"Port 25 is your SMTP port that listens for mail from your domains.  Your IP "
"address can be your fixed DSL ip address or a connection on your campus, or "
"other fixed ip address connections to the internet. If you behind "
"masquerading you need to set up forwarding rules for both smtp and imap. It "
"should be possible have a dynamic ip address domain name solution on the "
"internet from where you can host your mail server from dailup or isdn "
"connections."
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:186
#, no-wrap
msgid ""
"B. Berkeley DB\n"
"--------------\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:191
msgid ""
"UCB's database library version-4.0.14 Cyrus IMAP will not compile with the "
"version of Berkeley DB 4.1.24.  Or maybe there is a patch for it. Let me "
"know ;)"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:193
msgid "Use this to install it once your in the unpacked tarball of Berkeley DB."
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:199
#, no-wrap
msgid ""
"cd build_unix/\n"
"../dist/configure \\\n"
" --prefix=/usr /\n"
" --enable-compat185 \\\n"
"make docdir=/usr/doc/Berkeley-DB all install\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:202
msgid "chown -R 0.0 /usr/doc/Berkeley-DB chmod -R go-w /usr/doc/Berkeley-DB"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:205
#, no-wrap
msgid ""
"C.  c-client library  (Optional)\n"
"--------------------------------\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:210
msgid ""
"I have this already installed and this is imap related. Adjust to taste this "
"is what i used. Its only a static library with some headers for "
"development. (this is the minimum requirement for IMAP in PHP."
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:213
msgid "cd src/osdep/unix vi Makefile"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:216
msgid "< = Gone > = New"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:222
#, no-wrap
msgid ""
"31,34c31,34\n"
"< SSLDIR=/usr/local/ssl\n"
"< SSLCERTS=$(SSLDIR)/certs\n"
"< SSLINCLUDE=$(SSLDIR)/include\n"
"< SSLLIB=$(SSLDIR)/lib\n"
"---\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:231
#, no-wrap
msgid ""
"> SSLDIR=/usr/ssl\n"
"> SSLCERTS=/etc/ssl/certs\n"
"> SSLINCLUDE=/usr/include\n"
"> SSLLIB=$/usr/lib\n"
"73,75c73,75\n"
"< SPOOLDIR=/usr/spool\n"
"< MAILSPOOL=$(SPOOLDIR)/mail\n"
"< NEWSSPOOL=$(SPOOLDIR)/news\n"
"---\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:235
msgid "> SPOOLDIR=/var/spool > MAILSPOOL=/var/mail > NEWSSPOOL=/var/news"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:237
msgid "cd ../../../"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:258
#, no-wrap
msgid ""
"make slx &&\n"
"cd c-client                &&\n"
"cp c-client.a /usr/lib     &&\n"
"cp c-client.h /usr/include &&\n"
"cp imap4r1.h  /usr/include &&\n"
"cp rfc822.h   /usr/include &&\n"
"cp mail.h     /usr/include &&\n"
"cp linkage.h  /usr/include &&\n"
"cp env.h      /usr/include &&\n"
"cp env_unix.h /usr/include &&\n"
"cp fs.h       /usr/include &&\n"
"cp ftl.h      /usr/include &&\n"
"cp misc.h     /usr/include &&\n"
"cp nntp.h     /usr/include &&\n"
"cp nl.h       /usr/include &&\n"
"cp osdep.h    /usr/include &&\n"
"cp smtp.h     /usr/include &&\n"
"cp tcp.h      /usr/include &&\n"
"ln -s /usr/lib/c-client.a /usr/lib/libc-client.a &&\n"
"ln -s /usr/lib/c-client.a /usr/lib/libc-client4.a\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:261
#, no-wrap
msgid ""
"D. Open Secure Socket Layer\n"
"---------------------------\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:265
msgid ""
"We Only need it if you plan to use imap with ssl but its also needed with "
"Openssh so you might already have it."
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:267
msgid "cp Configure Configure.dist"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:269
#, no-wrap
msgid "vi +337 Configure   # for optimization edit this file\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:272
msgid "And change: -m486"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:275
msgid "In: -march=i686"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:282
#, no-wrap
msgid ""
"mv doc/apps/passwd.pod doc/apps/openssl-passwd.pod\n"
"./Configure linux-elf \\\n"
" --openssldir=/etc/ssl \\\n"
" --prefix=/usr shared \n"
"make MANDIR=/usr/share/man all install\n"
"rmdir /etc/ssl/lib\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:285
#, no-wrap
msgid ""
"E. Other deps\n"
"-------------\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:290
msgid ""
"If any one know of other imap/mail deps, mail me, i have 70+ packs already "
"installed beyond lfs-4 when i start building this server.  In "
"/path/to/cyrus-imapd-2.1.9/doc/install-prereq.html you find them all."
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:294
#, no-wrap
msgid ""
"4.  Installation of Avmailgate\n"
"==============================\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:299
msgid ""
"Avmailgate offers virus protection by having a daemon listening on port 25.  "
"This is the SMPT port. When mail gets thru, it uses qmail's sendmail wrapper "
"to inject the mail into the qmail queue."
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:303
msgid ""
"The other option is to have qmail's smtp server started from (x)inetd and "
"listening on port xxx where avmailgate is forwarding virus checked mail to.  "
"But this gives only more rules for the firewall when heres an other port "
"open."
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:306
msgid "cd /usr/src/avmailgate-2.0.1.7-Linux-glibc"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:308
msgid "mkdir /usr/lib/AntiVir"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:311
#, no-wrap
msgid ""
"cp vdf/antivir.vdf /usr/lib/AntiVir\n"
"cp bin/antivir     /usr/lib/AntiVir\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:313
msgid "chown -R daemon.daemon /usr/lib/AntiVir"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:317
#, no-wrap
msgid ""
"cp etc/avmailgate.conf /etc\n"
"cp etc/avmailgate.acl /etc\n"
"cp etc/antivir.conf /etc\n"
"--------------------------------------------------------------------------------\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:322
#, no-wrap
msgid ""
"Edit /etc/avmailgate.conf              # Here we say witch user and group \n"
"                                       # avgate runs under and to use the\n"
"                                       # sendmail wrapper from qmail that \n"
"                                       # we install in the next section.\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:324
msgid "Change:"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:327
#, no-wrap
msgid ""
"# User                            uucp \n"
"# Group                           uucp\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:329
msgid "# ForwardTo /usr/lib/sendmail -oem -oi"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:331 origin/qmail_cyrus_imap.txt:345 origin/qmail_cyrus_imap.txt:452
msgid "In:"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:334
#, no-wrap
msgid ""
"  User                            daemon\n"
"  Group                           daemon\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:336
#, no-wrap
msgid "  ForwardTo /usr/sbin/sendmail -oem -oi\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:337 origin/qmail_cyrus_imap.txt:348 origin/qmail_cyrus_imap.txt:1380 origin/qmail_cyrus_imap.txt:1396 origin/qmail_cyrus_imap.txt:1404 origin/qmail_cyrus_imap.txt:1413 origin/qmail_cyrus_imap.txt:1424 origin/qmail_cyrus_imap.txt:1432 origin/qmail_cyrus_imap.txt:1440
#, no-wrap
msgid "--------------------------------------------------------------------------------\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:341
#, no-wrap
msgid ""
"Edit /etc/avmailgate.acl               # We do this to prevent relaying to "
"\n"
"                                       # other domains than ours.\n"
"Change:\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:343
msgid "local: hbedv.com antivir.de"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:347
msgid "local: linuxfromsource.org linuxfrombinary.org"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:352
msgid "cp bin/avgated /usr/sbin cp bin/avgatefwd /usr/sbin"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:355
msgid "mkdir /var/spool/avmailgate chown daemon.daemon /var/spool/avmailgate"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:363
msgid ""
"chmod 700 /var/spool/avmailgate cd /var/spool/avmailgate mkdir incoming "
"mkdir outgoing mkdir rejected chown daemon.daemon * chmod -R 700 *"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:366
#, no-wrap
msgid ""
"cp hbedv.key /usr/lib/AntiVir/avmgate.key                                                    "
"\n"
"chown daemon.daemon /usr/lib/AntiVir/avmgate.key\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:368
msgid "cp script/antivirupdater /usr/sbin"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:370
msgid "In the fcron section we set the cron job for antivirupdater"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:372
msgid "cp init/rc.avgate /etc/rc.d/init.d/avgate"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:374
msgid "chmod 700 /etc/init.d/avgate"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:376 origin/qmail_cyrus_imap.txt:516
msgid "Adjust the Sxx and Kxx to your situation"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:383
msgid ""
"cd /etc/rc.d/rc0.d && ln -s ../init.d/avgate Kxxavgate && cd ../rc3.d && ln "
"-s ../init.d/avgate Sxxavgate && cd ../rc6.d && ln -s ../init.d/avgate "
"Kxxavgate"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:387
#, no-wrap
msgid ""
"5. Installation of Qmail\n"
"========================\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:390
#, no-wrap
msgid ""
"A. Create a working directory for Qmail and untar sources\n"
"---------------------------------------------------------\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:397
msgid ""
"mkdir /opt/qmail && mkdir /opt/qmail/alias && cd /usr/src && tar zxvpf "
"qmail-1.03.tar.gz && cd qmail-1.03 &&"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:401
#, no-wrap
msgid ""
"B. Change the program parameters. Read the documentation for other\n"
"   modifications \n"
"------------------------------------------------------------------\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:404
msgid "vi conf-qmail"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:406
msgid "Add :"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:408
msgid "/opt/qmail"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:410
msgid "vi conf-cc"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:412
msgid "Add: (Use your own architecture)"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:414
msgid "gcc -O3 -march=i686"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:417
#, no-wrap
msgid ""
"C. Create user and group ID's\n"
"-----------------------------\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:420 origin/qmail_cyrus_imap.txt:977 origin/qmail_cyrus_imap.txt:1319 origin/qmail_cyrus_imap.txt:1352
msgid "vi /etc/group"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:422 origin/qmail_cyrus_imap.txt:429
msgid "Add: (Use your own ID's if this is conflicting)"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:425
msgid "nofiles:x:100: qmail:x:110:"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:427 origin/qmail_cyrus_imap.txt:971 origin/qmail_cyrus_imap.txt:1310 origin/qmail_cyrus_imap.txt:1347
msgid "vi /etc/passwd"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:437
msgid ""
"alias:x:1000:100::/opt/qmail/alias: qmaild:x:1001:100::/opt/qmail: "
"qmaill:x:1002:100::/opt/qmail: qmailp:x:1003:100::/opt/qmail: "
"qmailq:x:1004:110::/opt/qmail: qmailr:x:1005:110::/opt/qmail: "
"qmails:x:1006:110::/opt/qmail:"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:439
msgid "pwck && grpck"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:443
#, no-wrap
msgid ""
"D. DNS Hack to use DNS response packets larger than 512 bytes\n"
"   Qmail 1.03 chokes on large DNS packets sometimes. \n"
"-------------------------------------------------------------\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:446
msgid "vi +24 dns.c"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:448
msgid "And change:"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:450
msgid "static union { HEADER hdr; unsigned char buf[PACKETSZ]; } response;"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:454
msgid "static union { HEADER hdr; unsigned char buf[65536]; } response;"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:457
#, no-wrap
msgid ""
"E. Final compilation and installation\n"
"-------------------------------------\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:460
msgid "make setup check"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:463
#, no-wrap
msgid ""
"F. Create the init script.\n"
"--------------------------\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:466
msgid "cat << EOF > /etc/init.d/qmail"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:469
msgid "#!/bin/bash # Begin $rc_base/init.d/qmail"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:472 origin/qmail_cyrus_imap.txt:1125
msgid ""
"# Based on sysklogd script from LFS-3.1 and earlier.  # Rewritten by Gerard "
"Beekmans - gerard@linuxfromscratch.org"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:475 origin/qmail_cyrus_imap.txt:1128
msgid "source /etc/sysconfig/rc source $rc_functions"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:477
msgid "test -x /opt/qmail/rc || exit 0"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:484
#, no-wrap
msgid ""
"case \"$1\" in\n"
" start)\n"
"  echo -n \"Starting Qmail...  \"\n"
"  sh -cf '/opt/qmail/rc &'\n"
"  evaluate_retval\n"
" ;;\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:490
#, no-wrap
msgid ""
" stop)\n"
"  echo -n \"Stopping Qmail... \"\n"
"  killall -9 qmail-send\n"
"  evaluate_retval\n"
" ;;\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:497
#, no-wrap
msgid ""
" restart)\n"
"  echo -n \"Restarting Qmail... \"\n"
"  killall -HUP qmail-lspawn\n"
"  killall -ALRM qmail-lspawn\n"
"  evaluate_retval\n"
" ;;\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:501
#, no-wrap
msgid ""
" *)\n"
"  echo \"Usage: $0 {start|stop|restart}\"\n"
"  exit 1\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:503 origin/qmail_cyrus_imap.txt:1162
msgid "esac"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:505
msgid "exit 0"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:508
msgid "# End /etc/rc.d/init.d/qmail EOF"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:511
#, no-wrap
msgid ""
"G. Set up links and permissions\n"
"-------------------------------\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:514
msgid "chmod 700 /etc/init.d/qmail"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:523
msgid ""
"cd /etc/rc.d/rc0.d && ln -s ../init.d/qmail Kxxqmail && cd ../rc3.d && ln -s "
"../init.d/qmail Sxxqmail && cd ../rc6.d && ln -s ../init.d/qmail Kxxqmail"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:526
msgid "cd /usr/sbin && ln -s /opt/qmail/bin/sendmail"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:529
#, no-wrap
msgid ""
"H. Note\n"
"-------\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:534
msgid ""
"Configuration of qmail can happen in many ways, read the documentation on "
"the different kinds of configurations. At the end of this document I go into "
"initialization and configuration of qmail."
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:538
#, no-wrap
msgid ""
"6. Installation of Nail\n"
"============================\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:542
msgid "This peace of software is used by internal processes such as fcron."
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:551
msgid ""
"./configure --prefix=/usr \\ --with-mailspool=/var/mail \\ "
"--with-sendmail=/usr/sbin/sendmail && make && make install && cd /usr/bin && "
"ln -s /usr/bin/nail mail && ln -s /usr/bin/nail mailx"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:555
#, no-wrap
msgid ""
"7. Installation of fcron\n"
"========================\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:559
msgid ""
"Fcron is the program we use as scheduler for some virus update scripts.  Its "
"a very handy program anyway so here we go."
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:561
#, no-wrap
msgid ""
"A. Setting up a fcron user and group.\n"
"-------------------------------------\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:565
msgid "vi /etc/passwd fcron:x:14:14::/dev/null:/bin/false"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:568
msgid "vi /etc/group fcron:x:14:"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:571
#, no-wrap
msgid ""
"B. Configure fcron\n"
"------------------\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:577
#, no-wrap
msgid ""
"./configure --prefix=/usr \\\n"
"   --with-username=fcron \\\n"
"   --with-sendmail=/usr/sbin/sendmail \\\n"
"   --with-groupname=fcron \n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:580
#, no-wrap
msgid ""
"C. Add Optimization for you system.\n"
"-----------------------------------\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:582
msgid "vi Makefile"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:584
#, no-wrap
msgid ""
"< OPTIM         = -O2 -Wall\n"
"---\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:586
#, no-wrap
msgid "> OPTIM         = -O3 -march=i686 -Wall\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:589
#, no-wrap
msgid ""
"D. Make and install fcron.\n"
"--------------------------\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:597
msgid ""
"make && make install && cd /usr/sbin && ln -s fcron cron && cd /usr/bin && "
"ln -s fcrontab crontab"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:599
#, no-wrap
msgid ""
"E. Add init script to /etc/rc.d/init.d\n"
"--------------------------------------\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:632
#, no-wrap
msgid ""
"cat > /etc/rc.d/init.d/fcron << \"EOF\"\n"
"#!/bin/sh\n"
"# Begin $rc_base/init.d/fcron\n"
"# Based on sysklogd script from LFS-3.1 and earlier.\n"
"# Rewritten by Gerard Beekmans  - gerard@linuxfromscratch.org\n"
"source /etc/sysconfig/rc\n"
"source $rc_functions\n"
"case \"$1\" in\n"
"        start)\n"
"                echo \"Starting fcron...\"\n"
"                loadproc fcron\n"
"                ;;\n"
"        stop)\n"
"                echo \"Stopping fcron...\"\n"
"                killproc fcron\n"
"                ;;\n"
"        restart)\n"
"                $0 stop\n"
"                sleep 1\n"
"                $0 start\n"
"                ;; \n"
"        status)\n"
"                statusproc fcron\n"
"                ;;\n"
"        *)\n"
"                echo \"Usage: $0 {start|stop|restart|status}\"\n"
"                exit 1\n"
"                ;;\n"
"esac\n"
"# End $rc_base/init.d/fcron\n"
"EOF\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:634
#, no-wrap
msgid ""
"F. Set up links and permissions\n"
"-------------------------------\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:637
msgid "chmod 700 /etc/rc.d/init.d/fcron"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:639
msgid "Adjust the Sxx and Kxx to your situation."
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:646
msgid ""
"cd /etc/rc.d/rc0.d && ln -s ../init.d/fcron Kxxfcron && cd ../rc3.d && ln -s "
"../init.d/fcron Sxxfcron && cd ../rc6.d && ln -s ../init.d/fcron Kxxfcron"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:648
msgid "use this to start fron"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:650
msgid "/etc/init.d/fcron start"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:652
msgid "So if we want to make use of the scheduler do this"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:654
msgid "fcrontab -e -u root"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:656
msgid "We add the entries we need when appropriate programs are installed."
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:658
msgid "Avmailgate:"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:660
msgid "25 0 * * * root /usr/sbin/antivirupdater -q"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:662
msgid "F-prot Antivirus:"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:664
#, no-wrap
msgid "27 4,16 * * *   /usr/f-prot/check-updates.sh -cron\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:668
#, no-wrap
msgid ""
"8. Installation of Procmail.\n"
"============================\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:673
msgid ""
"We use procmail to filter the delivery of mail to /usr/cyrus/bin/deliver "
"that delivers the mail to the IMAP folders. It will not make use of any "
"mail{box,dir} delivery method."
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:676
msgid "cd /path/to/procmail-3.22/src make BASENAME=/usr install"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:680
#, no-wrap
msgid ""
"9. Installation of SpamAssassin.\n"
"================================\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:684
msgid "read: http://spamassassin.taint.org/dist/INSTALL"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:687
msgid ""
"There are some perl-modules that not come with the presumed perl-5.8.0 "
"standard installation in LFS 4.0 or perl-5.8.0 in general."
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:690
msgid ""
"SpamAssassin Razor Cyrus and probably more depends on perl, no worries there "
"is an easy way to update your system."
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:693
msgid "When you are connected to the internet commence this as root:"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:695
msgid "perl -MCPAN -e shell"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:698
msgid ""
"A series of questions is asked and stores this information in: "
"/usr/lib/perl5/5.8.0/CPAN/Config.pm"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:701
msgid ""
"if you get weird looping experiences say /usr/bin/wget --passive in the "
"questions asked."
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:703
msgid "Now type this in the CPAN shell:"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:705
msgid "o conf prerequisites_policy ask"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:708
msgid "And now for ease of administration, install these optional perl modules ."
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:711
msgid "i /Term::ReadKey/ install Term::ReadKey"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:714
msgid "i /Term::Readline/ install Term::Readline"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:717
msgid "i /Term::Readline::GNU/ install Term::Readline::GNU"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:720
msgid "i /Term::Readline::Perl/ install Term::Readline::Perl"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:722
msgid "What follows are dependences of SpamAssassin although it doesn't need it."
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:725
msgid "i /HTML::Parser/ install HTML::Parser"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:728
msgid "i /Mail::Audit/ install Mail::Audit"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:731
msgid "i /Mail::Internet/ install Mail::Internet"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:734
msgid "i /Net::SMTP/ install Net::SMTP"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:736
msgid "SpamAssassin make a lot use of them if you do install them."
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:738
msgid "SpamAssassin:"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:741
msgid "i /Mail::SpamAssassin/ install Mail::SpamAssassin"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:743
msgid "quit"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:746
msgid "Once the modules are installed you can read all about it by doing:"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:748
msgid "perldoc <name>::<name>"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:750
msgid "eg:"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:752
msgid "perldoc Mail::Audit"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:755
msgid "Oke now the local source tarball method."
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:757
msgid "Untar the SpamAssassin archive and say:"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:761 origin/qmail_cyrus_imap.txt:783 origin/qmail_cyrus_imap.txt:794
msgid "perl Makefile.PL make make -s install"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:764
msgid ""
"If you want to prevent spam checking from eg. user@domain.com you only have "
"to this:"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:766
msgid "Edit /etc/mail/spamassassin/local.cf"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:768 origin/qmail_cyrus_imap.txt:1401 origin/qmail_cyrus_imap.txt:1409 origin/qmail_cyrus_imap.txt:1419 origin/qmail_cyrus_imap.txt:1429 origin/qmail_cyrus_imap.txt:1437 origin/qmail_cyrus_imap.txt:1448
msgid "Add:"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:770
msgid "whitelist_from user@domain.com"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:774
#, no-wrap
msgid ""
"10. Installation of Razor-agents.\n"
"=================================\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:777
msgid "Read: http://razor.sourceforge.net/docs/install.html"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:779
msgid "Untar the razor-agents archive and say:"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:787
#, no-wrap
msgid ""
"11. Installation of Razor-agents-sdk.\n"
"=====================================\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:790
msgid "Oke Razor will work fine without them, so this is optional."
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:798
#, no-wrap
msgid ""
"12. Installation of F-Prot Antivirus.\n"
"=====================================\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:801
msgid "cd /usr"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:804
msgid "tar zxvf /path/to/fp-linux_3.12b.tar.gz mv fp-linux_3.12b f-prot"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:808
msgid ""
"ln -fs /usr/f-prot/f-prot.sh bin/f-prot ln -fs /usr/f-prot/man8/f-prot.8 "
"man/man8/ ln -fs /usr/f-prot/man8/check-updates.sh.8 man/man8/"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:811
msgid "chmod +x /usr/f-prot/f-prot* chmod +x /usr/f-prot/check*"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:814
msgid ""
"ln -fs /usr/f-prot/man8/f-prot.8 man/man8/ ln -fs "
"/usr/f-prot/man8/check-updates.sh.8 man/man8/"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:816
msgid "For more information see this:"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:818
msgid "/usr/bin/f-prot -help"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:822
#, no-wrap
msgid ""
"13. Installation of Distributed Checksum Clearinghouse.\n"
"=======================================================\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:828
#, no-wrap
msgid ""
"./configure \\\n"
" --bindir=/usr/bin \\\n"
" --mandir=/usr/man\n"
"make all install\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:830
msgid "Now to see if it all works do:"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:832
msgid "cdcc 'info'"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:836
#, no-wrap
msgid ""
"14. Installation of Anomy-sanitizer.\n"
"===================================\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:840
msgid ""
"Anomy-sanitizer uses this perl library's, but they are already installed "
"with a standard perl install."
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:843
msgid "MIME::Base64 MIME::QuotedPrint"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:846
msgid "Untar the packet in /usr/src"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:851
msgid "cd /usr/src mv anomy /usr chmod 750 /usr/anomy mkdir /var/quarantine"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:854
msgid ""
"This whole section is used from the mail.txt hint.  Its a good config so why "
"not use it ?"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:859
msgid ""
"cat > /usr/anomy/anomy.conf << \"EOF\" # Configuration file for Anomy "
"Sanitizer #"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:862
msgid "# Do not log to STDERR: feat_log_stderr = 0"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:865
msgid "# Don't insert log in the message itself: feat_log_inline = 0"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:870
msgid ""
"# Advertisement to insert in each mail header: header_info = X-Sanitizer: "
"This mail was sanitized header_url = 0 header_rev = 0"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:873
msgid "# Enable filename based policy decisions: feat_files = 1"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:876
msgid "# Protect against buffer overflows and null values: feat_lengths = 1"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:879
msgid "# Replace MIME boundaries with our own: feat_boundaries = 1"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:882
msgid "# Fix invalid and ambiguous MIME boundaries, if possible: feat_fixmime = 1"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:886
msgid ""
"# Trust signed and/or encrypted messages: feat_trust_pgp = 1 msg_pgp_warning "
"= WARNING: Unsanitized content follows.\\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:889
msgid "# Defang shell scripts: feat_scripts = 0"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:892
msgid "# Defang active HTML: feat_html = 1"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:895
msgid "# Defang UUEncoded files: feat_uuencoded = 0"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:898
msgid "# Sanitize forwarded content too: feat_forwards = 1"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:901
msgid "# Testing? Set to 1 for testing, 0 for production: feat_testing = 0"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:904
msgid "## Warn user about UN scanned parts, etc.  feat_verbose = 1"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:908
msgid ""
"# Force all parts (except text/html parts) to # have file names.  "
"feat_force_name = 1"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:911
msgid "# Disable web bugs: feat_webbugs = 1"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:915
msgid "# Disable \"score\" based mail discarding: score_panic = 0 score_bad = 0"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:920
msgid ""
"msg_file_drop = \\n*****\\n msg_file_drop += NOTE: An attachment named "
"%FILENAME was deleted from msg_file_drop += this message because was a "
"windows executable.  msg_file_drop += Contact the system administrator for "
"more information."
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:924
msgid "## ## File attachment name mangling rules: ##"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:926
#, no-wrap
msgid "file_name_tpl       = /var/quarantine/att-$F-$T.$$\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:930
msgid ""
"# Number of rulesets we are defining: file_list_rules = 2 "
"file_default_policy = defang"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:936
msgid ""
"# Delete probably nasty attachments: file_list_1 = (?i)(winmail.dat)| "
"file_list_1 += "
"(\\.(vb[se]|exe|com|cab|dll|ocx|msi|cmd|bat|pif|lnk|hlp|ms[ip]|reg|asd))$ "
"file_list_1_policy = drop file_list_1_scanner = 0"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:942
msgid ""
"# Allow known \"safe\" file types and those that can be # scanned by the "
"downstream virus scanner: file_list_2 = "
"(?i)\\.(doc|dot|rtf|xls|ppt|xlw|jpg|gif|png|tiff?|txt|zip|tgz|gz)  "
"file_list_2_policy = accept file_list_2_scanner = 0"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:945
msgid "# Any attachment not listed above gets renamed.  EOF"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:949
#, no-wrap
msgid ""
"13. Installation of Imap.\n"
"========================\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:952
msgid "Do some unpacking, by now you should know ;)"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:954
#, no-wrap
msgid ""
"A. Compile and install SASL\n"
"---------------------------\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:960
#, no-wrap
msgid ""
"./configure --prefix=/usr --disable-krb4 \\\n"
"   --with-gnu-ld &&\n"
"make &&\n"
"make install\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:963
#, no-wrap
msgid ""
"B. Create uid/gid for the cyrus admin\n"
"-------------------------------------\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:966
msgid "mkdir /usr/cyrus"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:969
msgid ""
"We assume a user of \"cyrus\" and a group of \"mail\", though any user and "
"group name can be used."
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:973 origin/qmail_cyrus_imap.txt:979
#, no-wrap
msgid "   Add: (Use your own ID's if this is conflicting)\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:975
msgid "cyrus:x:90:90:Imap-Server:/usr/cyrus:/bin/bash"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:981
msgid "mail:x:90:daemon"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:983
msgid "passwd cyrus &&"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:985
msgid "pwck && pwconv"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:988
#, no-wrap
msgid ""
"C. Find a missing header.\n"
"-------------------------\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:992
msgid ""
"First find com_err.h and link it to /usr/include/com_err.h or if you don't "
"have it get it here:"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:994
msgid "http://www.ludd.luth.se/~jnilsson/cvsweb/cvsweb.cgi/src/contrib/com_err"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:996
msgid "locate com_err.h"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:998
msgid "On a LFS-4 system its located @ /usr/include/et/com_err.h"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1001
msgid "cd /usr/include/ && ln -s et/com_err.h ."
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1004
#, no-wrap
msgid ""
"D. Compile and install IMAP\n"
"---------------------------\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1014
#, no-wrap
msgid ""
"./configure --prefix=/usr \\\n"
" --with-auth=unix \\\n"
" --without-krb \\\n"
" --with-cyrus-user=cyrus \\\n"
" --with-cyrus-group=mail &&\n"
"make depend &&\n"
"make all &&\n"
"make install\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1016
msgid "And install some tools"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1020
msgid ""
"cp -av tools/ /usr/cyrus && rm -r /usr/tools/CVS && chown -R cyrus.mail "
"/usr/cyrus"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1022
#, no-wrap
msgid ""
"E. Configuring IMAP\n"
"-------------------\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1025
msgid "mkdir /var/adm"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1028
msgid "The last 3 lines are only necessary if you use SSL Edit /etc/imapd.conf"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1037
msgid ""
"configdirectory: /var/imap partition-default: /var/spool/imap admins: cyrus "
"root srvtab: /var/imap/srvtab allowanonymouslogin: no tls_ca_file: "
"/var/imap/server.pem tls_cert_file: /var/imap/server.pem tls_key_file: "
"/var/imap/server.pem"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1040
#, no-wrap
msgid ""
"F. Making the director's\n"
"------------------------\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1048
msgid ""
"touch /var/adm/imapd.log mkdir /var/imap /var/spool/imap /var/imap/srvtab "
"chown cyrus /var/imap /var/spool/imap /var/imap/srvtab chgrp mail /var/imap "
"/var/spool/imap /var/imap/srvtab chmod 750 /var/spool/imap /var/imap/srvtab "
"chmod 755 /var/imap"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1050
#, no-wrap
msgid ""
"G. Making the imap structure\n"
"----------------------------\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1058
msgid ""
"su - cyrus tools/mkimap cd /var/imap chattr +S . user quota user/* quota/* "
"chattr +S /var/spool/imap exit"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1061
msgid "touch /var/spool/mqueue chattr +S /var/spool/mqueue"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1064
#, no-wrap
msgid ""
"H. Change Other files\n"
"---------------------\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1067
msgid "Added to /etc/services although only imap/imaps is needed."
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1077
#, no-wrap
msgid ""
"imap            143/tcp     # remove old imap2 !\n"
"imsp            406/tcp\n"
"aca             674/tcp\n"
"imaps           993/tcp\n"
"pop3s           995/tcp\n"
"kpop            1109/tcp\n"
"sieve           2000/tcp\n"
"lmtp            2003/tcp\n"
"fud             4201/udp\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1080
msgid "Add to: /etc/syslog.conf"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1083
msgid "local6.debug -/var/log/imapd.log auth.debug -/var/log/auth.log"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1085
msgid "And restart the syslog daemon:"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1087
msgid "/etc/init.d/sysklogd restart"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1090
#, no-wrap
msgid ""
"I. Setting the cyrus user password for imap\n"
"-------------------------------------------\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1093
msgid "/usr/sbin/saslpasswd2 cyrus"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1095
msgid "chown cyrus.mail /etc/sasldb2"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1097
msgid "cd /usr/src/cyrus-imapd-2.1.9"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1099
msgid "You can uncomment the things you don't like here"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1101
msgid "cp master/conf/normal.conf /etc/cyrus.conf"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1104
#, no-wrap
msgid ""
"J. Getting SSL to work.\n"
"-----------------------\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1108
msgid ""
"We already adapted the /etc/imapd.conf for SSL Its known that M$ Outlook and "
"Netscape mail clients can handle SSL connections."
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1110
msgid "Type this:"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1114
#, no-wrap
msgid ""
"openssl req -new -x509 -nodes -out /var/imap/server.pem -keyout \\\n"
"   /var/imap/server.pem -days 365 &&\n"
"chown cyrus.mail /var/imap/server.pem\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1117
#, no-wrap
msgid ""
"K. Making the init.d script.\n"
"----------------------------\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1122
msgid ""
"cat > /etc/rc.d/init.d/imapd << \"EOF\" #!/bin/bash # Begin "
"$rc_base/init.d/imapd"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1135
#, no-wrap
msgid ""
"case \"$1\" in\n"
" start)\n"
"  echo \"Starting the IMAP server...\"\n"
"  /usr/cyrus/bin/master &\n"
"  evaluate_retval\n"
"  ;;\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1140
#, no-wrap
msgid ""
" stop)\n"
"  echo \"Stopping the IMAP server...\"\n"
"  killproc /usr/cyrus/bin/master\n"
"  ;;\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1145
#, no-wrap
msgid ""
" reload)\n"
"  echo \"Reloading the IMAP server...\"\n"
"  reloadproc /usr/cyrus/bin/master\n"
"  ;;\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1151
#, no-wrap
msgid ""
" restart)\n"
"  $0 stop\n"
"  sleep 1\n"
"  $0 start\n"
"  ;;\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1155
#, no-wrap
msgid ""
" status)\n"
"  statusproc /usr/cyrus/bin/master\n"
"  ;;\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1160
#, no-wrap
msgid ""
" *)\n"
"  echo \"Usage: $0 {start|stop|reload|restart|status}\"\n"
"  exit 1\n"
"  ;;\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1165
msgid "# End $rc_base/init.d/imapd EOF"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1167
msgid "Adjust the runlevel link numbers Kxx and Sxx to taste."
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1175
msgid ""
"chmod 700 /etc/rc.d/init.d/imapd && cd /etc/rc.d/rc0.d && ln -s "
"../init.d/imapd Kxximapd && cd ../rc3.d && ln -s ../init.d/imapd Sxximapd && "
"cd ../rc6.d && ln -s ../init.d/imapd Kxximapd"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1178
msgid "/etc/init.d/imapd start"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1181
msgid "Well, if it works, you supposed to see this:"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1190
#, no-wrap
msgid ""
"netstat -vat\n"
"Active Internet connections (servers and established)\n"
"Proto Recv-Q Send-Q Local Address           Foreign Address         State      "
"\n"
"tcp        0      0 *:imaps                 *:*                     LISTEN      "
"\n"
"tcp        0      0 *:pop3s                 *:*                     LISTEN      "
"\n"
"tcp        0      0 *:pop3                  *:*                     LISTEN      "
"\n"
"tcp        0      0 *:imap                  *:*                     LISTEN      "
"\n"
"tcp        0      0 *:sieve                 *:*                     LISTEN      "
"\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1193
msgid ""
"You might only need imap or imaps , adjust this in /etc/cyrus.conf Comment "
"out services that you don't want."
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1195
#, no-wrap
msgid ""
"L. Check configuration\n"
"----------------------\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1198
msgid "Now lets see what works and what not."
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1200
msgid "If you want to login with telnet to test you need to add:"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1202
msgid "allowplaintext yes"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1204
msgid "to /etc/imapd.conf"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1206
msgid "Now try:"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1208
msgid "telnet localhost imap"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1212
msgid ""
"Test all the authentications possible and again fiddling with the "
"/etc/imapd.conf wont hurt. Read the imapd.conf man page and just change the "
"the config file, restart the daemon and:"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1216
msgid ""
"tail -f /var/log/imapd.log tail -f /var/log/sys.log tail -f "
"/var/log/auth.log"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1218
msgid "Now become the cyrus admin and test the various options."
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1220 origin/qmail_cyrus_imap.txt:1242
msgid "su - cyrus"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1225
msgid ""
"imtest -m login -p imap localhost imtest -m OTP -p imap localhost imtest -m "
"DIGEST-MD5 -p imap localhost imtest -m CRAM-MD5 -p imap localhost"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1228
msgid "Use this to bail out !! . logout"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1230
msgid "You can test STARTTLS by using imtest:"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1232
msgid "imtest -t \"\" localhost"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1235
#, no-wrap
msgid ""
"M. Per User Imap Configuration\n"
"------------------------------\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1238
msgid "This is the bare minimum to perform for each imap user you want to add."
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1240
msgid "First become the cyrus administrator"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1244
msgid "Use the cyradm program to administor the IMAP folders for each user."
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1246
msgid "cyradm --auth login localhost"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1250
msgid ""
"localhost.localnet> cm user.john localhost.localnet> cm user.john.SPAM "
"localhost.localnet> quit"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1252
msgid "Become root again"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1254
msgid "exit"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1256
msgid "And set the imap password for john"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1258
msgid "saslpasswd2 john"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1262
msgid ""
"There are more things possible, but knowing to delete a mailbox is handy if "
"you new to all this."
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1265
msgid ""
"Say to the access control list of the user john mailbox that the cyrus user "
"may delete john's folders, this is not the default case."
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1267
msgid "localhost.localnet> setaclmailbox user.john cyrus c"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1269
msgid "localhost.localnet> deletemailbox user.john"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1271
msgid "If you want to get into it do this:"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1273
msgid "localhost.localnet> help"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1295
#, no-wrap
msgid ""
"authenticate, login, auth         authenticate to server\n"
"chdir, cd                         change current directory\n"
"createmailbox, create, cm         create mailbox\n"
"deleteaclmailbox, deleteacl, dam  remove ACLs from mailbox\n"
"deletemailbox, delete, dm         delete mailbox\n"
"disconnect, disc                  disconnect from current server\n"
"exit, quit                        exit cyradm\n"
"help, ?                           show commands\n"
"info                              display mailbox/server metadata\n"
"listacl, lam, listaclmailbox      list ACLs on mailbox\n"
"listmailbox, lm                   list mailboxes\n"
"listquota, lq                     list quotas on specified root\n"
"listquotaroot, lqr, lqm           show quota roots and quotas for mailbox\n"
"reconstruct                       reconstruct mailbox (if supported\n"
"renamemailbox, rename, renm       rename (and optionally relocate) mailbox\n"
"server, servername, connect       show current server or connect to server\n"
"setaclmailbox, sam, setacl        set ACLs on mailbox\n"
"setinfo                           set server metadata\n"
"setquota, sq                      set quota on mailbox or resource\n"
"version, ver                      display version info of current server\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1299
#, no-wrap
msgid ""
"14. Configuration of Qmail and Mailboxes.\n"
"=========================================\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1302
#, no-wrap
msgid ""
"A. First make sure all mail users have valid unix accounts.\n"
"-----------------------------------------------------------\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1307
#, no-wrap
msgid ""
"   Users will not require a password set. So they become \n"
"   valid unix accounts without unix login. \n"
"   John is an admin because root is not supposed to get mail.\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1317
msgid ""
"john:x:501:500:John the ripper:/home/john:/bin/bash susie:x:502:500:Susie "
"Summer:/home/susie:/bin/bash dirk:x:503:500:Dirk "
"Beekmans:/home/dirk:/bin/bash olaf:x:504:500:Olaf Olsen:/home/olaf:/bin/bash "
"jennifer:x:505:500:Jennifer Loopneus:/home/jennifer:/bin/bash "
"pamela:x:506:500:Pamela Andersom:/home/pamela:/bin/bash/bash"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1321
msgid "mailuser:x:500:john,susie,dirk,olaf,jennifer,pamela"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1323 origin/qmail_cyrus_imap.txt:1343
msgid "cd /home"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1325
msgid "mkdir john susie dirk olaf jennifer pamela"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1327 origin/qmail_cyrus_imap.txt:1534
msgid "chown -R <user>.mailuser <userdir>/ (for all users)"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1329
msgid "You repeat the above line if you finished or do it as last"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1331
#, no-wrap
msgid ""
"B. Create a master user ID and home directory for the new domain\n"
"----------------------------------------------------------------\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1341
msgid ""
"This is roughly how stuff works.  Mail is coming in for a domain, lets say "
"pamela@linuxfrombinary.org.  It's first put into a drop box "
"/home/binary/Maildir/ and then processed further via .qmail-xxx files. These "
"files contain a user name who is supposed to get the mail. The user has a "
".qmail file in his or her home directory which says what to do with the "
"incoming mail. In this case pipe it to the program /usr/bin/procmail that "
"filters the mail and send that to the /usr/cyrus/bin/deliver program which "
"stores it in the IMAP boxes."
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1345
msgid "mkdir source binary"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1350
msgid ""
"source:x:507:500:Mail account for linuxfromsource.org:/home/source:/bin/bash "
"binary:x:508:500:Mail account for linuxfrombinary.org:/home/binary:/bin/bash"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1354
msgid "mailuser:x:500:john,susie,dirk,olaf,jennifer,pamela,source,binary"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1358
msgid "chown -R source.mailuser source/ chown -R binary.mailuser binary/"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1361
#, no-wrap
msgid ""
"C. Editing the Qmail Control/Config files\n"
"-----------------------------------------\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1370
msgid ""
"Editing the control files is tricky and I've spent lot's of time fiddling "
"around with it. Key thing to understand is that the host and domainname have "
"something to do with the canonicalized name that is assigned to your link "
"with the internet.  For the people that use a ppp or an adsl connection this "
"is often something like sdf23-2.dsl.blabla.com Please don't ask me why, it "
"works and if anyone has a good explanation mail me !!"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1376
msgid ""
"One way of finding out is with the commands that come with bind dig or "
"nslookup you can also try to login on an other box, logout, and than run to "
"that other box login again and read: your last login was on "
"xxx.xxxx.xxxxx.org or do an chat session on that box. I know it isn't "
"elegant but it works ;-)"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1378
msgid "For now lets hack some qmail"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1383
msgid "cat << EOF > /opt/qmail/rc #!/bin/sh"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1386
msgid ""
"# Using splogger to send the log through syslog.  # Using qmail-local to "
"deliver messages to Maildir by default."
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1390
#, no-wrap
msgid ""
"exec env - PATH=\"/opt/qmail/bin:$PATH\" \\\n"
"   qmail-start ./Maildir/ splogger qmail &\n"
"EOF\n"
"--------------------------------------------------------------------------------\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1393
msgid "chmod 700 /opt/qmail/rc"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1395
msgid "cd /opt/qmail/control"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1399
#, no-wrap
msgid ""
"Edit: me                               # This is the hostname of local "
"server\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1403
msgid "<hostname> (example adsl32.net.xs4all.nl)"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1407
#, no-wrap
msgid "Edit: virtualdomains                   # Specify virtual domains \n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1412
msgid "linuxfromsource.org:source linuxfrombinary.org:binary"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1417
#, no-wrap
msgid ""
"Edit: locals                           # Domains that should be treated as "
"\n"
"                                         locals\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1423
#, no-wrap
msgid ""
"localhost                              # The local name\n"
"adsl32.net.xs4all.nl                   # The canonicalized name\n"
"intern.net                             # An example local domain\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1427
#, no-wrap
msgid ""
"Edit: defaultdomain                    # Same as 'me' minus the first part "
"\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1431
msgid "<domainname> (example net.xs4all.nl)"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1435
#, no-wrap
msgid "Edit: smtpgreeting                     # Adjust to taste\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1439
msgid "Hi and welcome to this SMTP server"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1446
#, no-wrap
msgid ""
"Edit: rcpthosts                        # Important file to prevent relaying "
"of\n"
"                                         mail by outsiders, List all "
"machines\n"
"                                         and domains on the network that \n"
"                                         allowed to relay mail on this "
"server.\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1454
msgid ""
"linuxfrombinary.org linuxfromsource.org otherinterndomain.org internhost1 "
"internhost2"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1456
msgid "chmod 644 *"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1462
msgid ""
"Make the aliases, John is a mortal user on the system who gets "
"administrative email eg for root and for bounced or failed messages.  The "
"first three aliases are necessary. For each user an alias is a necessity.  "
"and only needs the username"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1464
msgid "cd /opt/qmail/alias"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1468
msgid ""
"echo john > .qmail-mailer-daemon echo john > .qmail-postmaster echo john > "
".qmail-root"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1470
msgid "and further for all users:"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1472
msgid "echo <user> > .qmail-<user>"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1474
msgid "eg"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1476
msgid "echo john > .qmail-john"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1479
#, no-wrap
msgid ""
"D. Per user virtual domain config \n"
"--------------------------------\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1486
msgid ""
"Now we split up our users for the virtual domains. If new mail arrives it is "
"forwarded to the user in the first part of the email address. Lets say there "
"is mail for susie@linuxfromsource.org. The alias file .qmail-susie is used "
"to forward the mail to susie, '&user' means forward. The .qmail file in her "
"home directory now determine the faith of the message."
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1491
msgid ""
"The file .qmail-default is used if all other usernames fails to have a "
".qmail-<user> alias for it. For example 'zuzie@linuxfromsource.org'.  You "
"can write one line that says: ./Maildir/ to .qmail-default.  Now unresolved "
"mail is sitting in the /home/virt-dom/Maildir/new directory."
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1495
msgid ""
"John is the local mail admin who loves to get the unresolved mail and "
"therefore we say &john to '.qmail-default'. Now John determine the faith of "
"the message.  He either trash it of forward it to the appropriate recipient."
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1509
#, no-wrap
msgid ""
"cd /home/source\n"
"/opt/qmail/bin/maildirmake Maildir\n"
"echo '&john'       > .qmail-default\n"
"echo '&john'       > .qmail-postmaster\n"
"echo '&john'       > .qmail-webmaster\n"
"echo '&john'       > .qmail-root\n"
"echo '&john'       > .qmail-john\n"
"echo '&susie'      > .qmail-susie\n"
"echo '&dirk'       > .qmail-dirk\n"
"chown -R source.mailuser .\n"
"chmod 640 .qmail-*\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1522
#, no-wrap
msgid ""
"cd /home/binary\n"
"/opt/qmail/bin/maildirmake Maildir\n"
"echo '&john'       > .qmail-default\n"
"echo '&john'       > .qmail-postmaster\n"
"echo '&john'       > .qmail-webmaster\n"
"echo '&john'       > .qmail-root\n"
"echo '&olaf'       > .qmail-olaf\n"
"echo '&jennifer'   > .qmail-jennifer\n"
"echo '&pamela'     > .qmail-pamela\n"
"chown -R binary.mailuser .\n"
"chmod 640 .qmail-*\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1526
msgid ""
"And now for all users substitute <user> for the login name. Here comes the "
"filtering with procmail into play."
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1528
msgid "cd /home/<user>"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1530
msgid "echo '| preline /usr/bin/procmail' > .qmail"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1532
msgid "Now make sure the permissions are set right."
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1538
#, no-wrap
msgid ""
"16. Configuration of Procmail.\n"
"==============================\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1543
msgid ""
"Here you find a example configuration file, adjust to taste This goes to "
"each users home directory, change the <user> with the real user name "
"eg. john"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1546
msgid "touch /var/log/procmail.log chmod 666 /var/log/procmail.log"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1548
msgid "chmod 600 /home/<user>/.procmailrc"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1559
#, no-wrap
msgid ""
"cat > .procmailrc << \"EOF\"\n"
"USER=\"<user>\"\n"
"PATH=/usr/bin:/bin:/usr/cyrus/bin:/usr/anomy/bin\n"
"SHELL=/bin/bash\n"
"#VERBOSE=1                             # uncomment these if you want to "
"see\n"
"#LOGABSTRACT=all                       # more what's happening in "
"procmail.log\n"
"LOGFILE=\"/var/log/procmail.log\"\n"
"SANE=\"deliver -a $USER -m user.$USER\"\n"
"SPAM=\"$SANE.SPAM\"\n"
"ANOMY=/usr/anomy\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1567
#, no-wrap
msgid ""
"  #######################################################\n"
"  # FIRST: REMOVE THE LEADING \"From \" field             #\n"
"  # Cyrus bombs if it sees a leading \"From \" (not       #\n"
"  # to be confused with \"From:\"). By running sed        #\n"
"  # as a filter we simply remove the first line without #\n"
"  # any real thought.                                   #\n"
"  #######################################################\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1570
msgid ":0f | sed 1d"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1572
msgid "# Anomy mail sanitizer"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1575
msgid ":0fw | sanitizer.pl /usr/anomy/anomy.conf"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1578
msgid "# Spam Assassin"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1581
msgid ":0fw | spamassassin"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1585
msgid ":0 * ^X-Spam-Status: Yes | $SPAM"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1588
msgid "# Empty To: From: Subject:"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1592
msgid ":0 * !^To: | $SPAM"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1596
msgid ":0 * !^From: | $SPAM"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1600
msgid ":0 * !^Subject: | $SPAM"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1603
msgid "# Porn Spam although you might wand to see those ;-)"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1607
msgid ":0 * ^Subject.*(\\|<\\pornography\\>)  | $SPAM"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1611
msgid ":0 B * ^.*(\\|<\\pornography\\>)  | $SPAM"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1614
msgid "# Example From spam traps although SpamAssassin should filter it."
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1618
msgid ":0 * ^FROM_advertising | $SPAM"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1622
msgid ""
":0 * ^From:.*(advertising|sales|offers|promotion|reply|request|theuseful)  | "
"$SPAM"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1625
msgid "# Example Subject spam traps"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1629
msgid ":0 * ^Subject:.*\\[ADV\\] | $SPAM"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1633
msgid ":0 * ^Subject:\\ ADV | $SPAM"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1636
msgid "# Else"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1639
msgid ":0 | $SANE"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1646
msgid ":0w { EXITCODE=$? HOST } EOF"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1650
#, no-wrap
msgid ""
"16. Starting up all processes\n"
"=============================\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1654
msgid ""
"You should know how to make the links for the different run levels.  "
"Otherwise Gerard Beekmans has a guide where this issue is addressed."
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1659
#, no-wrap
msgid ""
"/etc/init.d/sysklogd restart\n"
"/etc/init.d/avgate   start\n"
"/etc/init.d/qmail    start\n"
"/etc/init.d/imap     start\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1663
#, no-wrap
msgid ""
"17. Monitoring the processes.\n"
"=============================\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1667
msgid ""
"Oke just start mailing everyone from localhost and remote and have a "
"terminal running with the following command:"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1675
msgid ""
"tail -f /var/log/mail.log or tail -f /var/log/sys.log or tail -f "
"/var/adm/imapd.log or tail -f /var/log/procmail.log"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1686
#, no-wrap
msgid ""
"netstat -vat\n"
"Active Internet connections (servers and established)\n"
"Proto Recv-Q Send-Q Local Address           Foreign Address         State      "
"\n"
"tcp        0      0 *:pop3                  *:*                     LISTEN      "
"\n"
"tcp        0      0 *:imap                  *:*                     LISTEN      "
"\n"
"tcp        0      0 *:ssh                   *:*                     LISTEN      "
"\n"
"tcp        0      0 *:smtp                  *:*                     LISTEN      "
"\n"
"Active UNIX domain sockets (servers and established)\n"
"Proto RefCnt Flags       Type       State         I-Node Path\n"
"unix  2      [ ACC ]     STREAM     LISTENING     16068  "
"/var/imap/socket/lmtp\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1689
msgid "If you wanna know WTF Qmail is doing:"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1692
msgid "for reading the queue: /opt/qmail/bin/qmail-qread"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1695
msgid "for statistics: /opt/qmail/bin/qmail-qstat"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1698
msgid "for information: /opt/qmail/bin/qmail-showctl"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1702
#, no-wrap
msgid ""
"18. Migrating mail from backups.\n"
"================================\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1706
msgid ""
"Make a back up of the /var/spool/imap/user directory and the "
"/var/imap/mailboxes.db on your existing mail server."
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1710
msgid ""
"cd /var/spool/imap tar cvpf user-backup.tar user/ mv user-backup.tar "
"../../imap"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1712
msgid "Add to the backup /var/imap/mailboxes.db"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1715
msgid "cd ../../imap tar uvpf user-backup.tar mailboxes.db"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1717
msgid "gzip -9 user-backup.tar"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1720
msgid "Go to the new system and unpack the user folders and mailboxes.db"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1725
msgid ""
"mv user-backup.tar.gz /var/spool/imap cd /var/spool/imap tar zxvpf "
"user-backup.tar.gz mv mailboxes.db ../../imap/"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1727
msgid ""
"Now that all the old mailboxes are restored, we can rebuild the "
"mailboxes.db."
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1729
#, no-wrap
msgid "su - cyrus                             # Become the cyrus user.\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1732
#, no-wrap
msgid ""
"ctl_cyrusdb -r                         # rebuild the cyrus mailboxes "
"database\n"
"reconstruct                            # reconstruct mailboxes\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1737
#, no-wrap
msgid ""
"cyradm --auth login localhost          # Use the admin console for "
"cyrus-imap.\n"
"Password:                              # Enter the imap/sasl password.\n"
"localhost.localnet> lm                 # Check to see if mailboxes are "
"restored.\n"
"localhost.localnet> exit               # Leave the cyrusadm console.\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1739
#, no-wrap
msgid "exit                                   # exit the cyrus user.\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1742
msgid ""
"Every user that has imap login access needs a entry in /etc/sasldb2 again So "
"do this for every imap user on the new server."
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1744
msgid "saslpasswd2 <user>"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1750
msgid ""
"If you want a hint on reading a remote imap box with fetchmail on a client, "
"compile fetchmail and procmail and put the following in a .fetchmailrc in "
"your home dir and do"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1752
msgid "fetchmail -v"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1762
msgid ""
"<snip> poll \"linuxfromsource.org\" protocol imap no envelope no dns "
"username \"john\" password \"xxxx\" mda \"/usr/bin/procmail -d john\" "
"</snip>"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1764 origin/qmail_cyrus_imap.txt:1774
msgid "Or:"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1772
msgid ""
"<snip> poll mail.linuxfromsource.org port 993 protocol IMAP: user john "
"password secret ssl </snip>"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1780
msgid ""
"<snip> poll mail.linuxfrombinary.org with proto imap: plugin \"ssh %h "
"/usr/cyrus/bin/imtest\" auth ssh; user john is john here </snip>"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1783
#, no-wrap
msgid ""
"19. Interesting readings.\n"
"=========================\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1789
msgid ""
"All this information didn't come to me in a dream. It's a combination of "
"sources that I used. A little file that I used to log thing has grown into "
"this hint and hopefully it's usefull for others as well. Understanding "
"e-mail by this hint is not gonna help you enough, you have to RTFM A LOT."
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1793
msgid "The Big HOWTO: http://linuxdoc.org/HOWTO/Cyrus-IMAP.html"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1796
msgid ""
"Source documentation: "
"file://localhost/usr/src/cyrus-imapd-2.0.16/doc/index.html"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1803
msgid ""
"Article's: http://www.linuxjournal.com/article.php?sid=2313 "
"http://www.linuxworld.com/site-stories/2002/0410.ldap4.html "
"http://www.abiglime.com/webmaster/articles/cgi/062398.htm "
"http://www.summersault.com/chris/techno/qmail/qmail-antispam.html "
"http://sysadmin.oreilly.com/news/imap2_1000.html"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1807
msgid ""
"Sites: http://www.openantivirus.org/projects.php "
"http://docsrv.caldera.com:8457/en/volutionmsg_ag/msgag.mailadmin.html"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1809
msgid "Google, Some ppl on #lfs, a friend enz"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1811
msgid "Running Qmail - ISBN 0-672-31945-4 - Richard Blum - Sams Publishing 2000"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1815
#, no-wrap
msgid ""
"20. Legal Blurb\n"
"==============\n"
msgstr ""

#. type: Plain text
#: origin/qmail_cyrus_imap.txt:1823
msgid ""
"The author does not feel responsible for loss or destruction of data and "
"mail due to typos and bad language. So if you wipe out you system or get "
"your dog killed don't come to me to cry on my shoulder. Be a man/woman and "
"take responsibility for your own actions. On the other hand if your are "
"successful and want to contribute, throw a BIG bag of money to Gerard "
"Beekmans, he deserves it. This is my contribution to LFS and improvements "
"are welcome."
msgstr ""
