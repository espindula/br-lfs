# SOME DESCRIPTIVE TITLE
# Copyright (C) YEAR Free Software Foundation, Inc.
# This file is distributed under the same license as the PACKAGE package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"POT-Creation-Date: 2019-09-02 09:14+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: \n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#. type: Plain text
#: origin/postfix+spamassassin+razor.txt:2
msgid "AUTHOR: Gerard Beekmans <gerard@linuxfromscratch.org>"
msgstr ""

#. type: Plain text
#: origin/postfix+spamassassin+razor.txt:4
msgid "DATE: 2003-10-09"
msgstr ""

#. type: Plain text
#: origin/postfix+spamassassin+razor.txt:6
msgid "LICENSE: BSD"
msgstr ""

#. type: Plain text
#: origin/postfix+spamassassin+razor.txt:8
msgid "SYNOPSIS: Integrating SpamAssassin and Razor into Postfix"
msgstr ""

#. type: Plain text
#: origin/postfix+spamassassin+razor.txt:13
msgid ""
"DESCRIPTION: Spamassassing and Razor are great spam fighting tools. To make "
"things even better, integrate it into your SMTP server to block spam at the "
"incoming level rather than at the user level through procmail recipies."
msgstr ""

#. type: Plain text
#: origin/postfix+spamassassin+razor.txt:17
#, no-wrap
msgid ""
"PREREQUISITES:\tPostfix\t\t- http://www.postfix.org\n"
"\t\tSpamAssassin\t- http://www.spamassassin.org\n"
"\t\tRazor\t\t- http://razor.sourceforge.net\n"
msgstr ""

#. type: Plain text
#: origin/postfix+spamassassin+razor.txt:19
msgid "HINT:"
msgstr ""

#. type: Plain text
#: origin/postfix+spamassassin+razor.txt:23
msgid ""
"The main reason for setting up SpamAssassin + Razor at linuxfromscratch.org "
"at the SMTP level is to do a spam check before spam hits the mailinglists.  "
"If a message is determined to be spam, Postfix will reject the message."
msgstr ""

#. type: Plain text
#: origin/postfix+spamassassin+razor.txt:27
#, no-wrap
msgid ""
"Note:\tthis hint does not deal with installing the Spamassassin or Razor\n"
"\tprograms. Download the programs (URLs above) and read the\n"
"\tdocumentation. They're not hard to setup.\n"
msgstr ""

#. type: Plain text
#: origin/postfix+spamassassin+razor.txt:31
msgid ""
"The Postfix distribution comes with the README_FILES/FILTER_README file you "
"want to read through. It gives some background information on how filtering "
"works in Postfix (which is what we will be doing)."
msgstr ""

#. type: Plain text
#: origin/postfix+spamassassin+razor.txt:37
msgid ""
"That FILTER_README file suggests you creating a dedicated filter user with "
"no home directory or shell. This won't work for us, because spamassassin and "
"razor need a directory to work in and write files to. I decided to call the "
"user and group \"postfixfilter\". It seemed appropriate enough. Create this "
"group and user the same way you would create any other user and group."
msgstr ""

#. type: Plain text
#: origin/postfix+spamassassin+razor.txt:40
msgid ""
"Create the filter script that Postfix will be running for every email that "
"comes in:"
msgstr ""

#. type: Plain text
#: origin/postfix+spamassassin+razor.txt:43
msgid "cat > /home/postfixfilter/postfixfilter << \"EOF\" #!/bin/bash"
msgstr ""

#. type: Plain text
#: origin/postfix+spamassassin+razor.txt:45
msgid "/usr/bin/spamc | /usr/sbin/sendmail -i \"$@\""
msgstr ""

#. type: Plain text
#: origin/postfix+spamassassin+razor.txt:48
msgid "exit $? EOF"
msgstr ""

#. type: Plain text
#: origin/postfix+spamassassin+razor.txt:50
msgid "Chown and chmod that file if you didn't create it as user postfixfilter."
msgstr ""

#. type: Plain text
#: origin/postfix+spamassassin+razor.txt:57
msgid ""
"What does it do? Postfix dumps an email to the "
"/home/postfixfilter/postfixfilter script. We intercept it and dump it to "
"spamc. Spamc connects to the spamd daemon and will run the spam checking "
"tests, then pipe the rewritten email (now including the spam result headers) "
"to sendmail for continued delivery. It then exits with whatever sendmail's "
"return value was."
msgstr ""

#. type: Plain text
#: origin/postfix+spamassassin+razor.txt:60
msgid ""
"So, we need to have the spamd daemon running. I added it to the postfix "
"bootscript, using the command \"spamd -d -u postfixfilter\"."
msgstr ""

#. type: Plain text
#: origin/postfix+spamassassin+razor.txt:62
msgid "Next, configure Postfix to start filtering."
msgstr ""

#. type: Plain text
#: origin/postfix+spamassassin+razor.txt:65
msgid ""
"Edit the /etc/postfix/master.cf (or where ever you keep your postfix "
"configuration files). Find the following line:"
msgstr ""

#. type: Plain text
#: origin/postfix+spamassassin+razor.txt:67
#, no-wrap
msgid "\tsmtp      inet  n       -       n       -       -       smtpd\n"
msgstr ""

#. type: Plain text
#: origin/postfix+spamassassin+razor.txt:73
msgid ""
"It may look a bit different but this is the default. This is the line that "
"tells Postfix to listen on the smtp port (25) for incoming email and have "
"smtpd deal with it. This is the line we want to modify in order for incoming "
"email to be filtered (checked for spam in our case) before "
"delivery. Directly below that line, add this one:"
msgstr ""

#. type: Plain text
#: origin/postfix+spamassassin+razor.txt:75
#, no-wrap
msgid "\t-o content_filter=postfixfilter:\n"
msgstr ""

#. type: Plain text
#: origin/postfix+spamassassin+razor.txt:80
msgid ""
"It would be advisable to indent it with a tab or some spaces just so it's "
"easier to see that it belongs to the previous line. Do not forget the colon "
"at the end of the postfixfilter. I'm not quite sure what it does, but the "
"FILTER_README file warns to include it, so just do it."
msgstr ""

#. type: Plain text
#: origin/postfix+spamassassin+razor.txt:82
msgid "Append the following lines to the end of the master.cf file:"
msgstr ""

#. type: Plain text
#: origin/postfix+spamassassin+razor.txt:85
#, no-wrap
msgid ""
"postfixfilter unix - n n - - pipe\n"
"        flags=Rq user=postfixfilter argv=/home/postfixfilter/postfixfilter "
"-f ${sender} -- ${recipient}\n"
msgstr ""

#. type: Plain text
#: origin/postfix+spamassassin+razor.txt:89
msgid ""
"Okay, if you did exactly what I told you to do and I didn't forget to tell "
"you anything, then you are set to go. Reload postfix by running:"
msgstr ""

#. type: Plain text
#: origin/postfix+spamassassin+razor.txt:91
#, no-wrap
msgid "\tpostfix reload\n"
msgstr ""

#. type: Plain text
#: origin/postfix+spamassassin+razor.txt:95
msgid ""
"Incoming mail should now be filtered for spam by spamassassin. You can "
"configure spamassassin and razor through the config files in "
"/home/postfixfilter"
msgstr ""

#. type: Plain text
#: origin/postfix+spamassassin+razor.txt:100
msgid ""
"If you want to get rid of spam right here at the SMTP level, you can "
"continue with configuring Postfix to reject or discard all spam after "
"SpamAssassin has tagged mail as such. This is accomplished by telling "
"Postfix to check for certain headers and take appropriate action."
msgstr ""

#. type: Plain text
#: origin/postfix+spamassassin+razor.txt:102
msgid "Add the following option to the /etc/postfix/main.cf file:"
msgstr ""

#. type: Plain text
#: origin/postfix+spamassassin+razor.txt:104
#, no-wrap
msgid "\theader_checks = regexp:/etc/postfix/regexp_header\n"
msgstr ""

#. type: Plain text
#: origin/postfix+spamassassin+razor.txt:106
msgid "Create the /etc/postfix/regexp_header file and add this line to it:"
msgstr ""

#. type: Plain text
#: origin/postfix+spamassassin+razor.txt:108
#, no-wrap
msgid "\t/^X-Spam-Flag: YES/\tREJECT I don't like spam. I prefer bison.\n"
msgstr ""

#. type: Plain text
#: origin/postfix+spamassassin+razor.txt:115
msgid ""
"This will cause Postfix to reject all mail that contain the X-Spam-Flag: "
"header with the value of 'YES'. The reject message \"I don't like spam. I "
"prefer bison\" is optional. If not present the generic message \"message "
"content rejected\" will be sent back. Check the access(5) man page for "
"options other than REJECT. DISCARD is an often used one which pretends to be "
"a successful delivery and silently discards the message."
msgstr ""

#. type: Plain text
#: origin/postfix+spamassassin+razor.txt:120
#, no-wrap
msgid ""
"CHANGELOG:\n"
"[2003-10-15]\n"
"\t* Fix bug in cat command (forgot the > character to redirect to the\n"
"\t  output file)\n"
msgstr ""

#. type: Plain text
#: origin/postfix+spamassassin+razor.txt:123
#, no-wrap
msgid ""
"[2003-10-11]\n"
"\t* Completed pre-requisites section.\n"
msgstr ""

#. type: Plain text
#: origin/postfix+spamassassin+razor.txt:127
#, no-wrap
msgid ""
"[2003-10-09]\n"
"\t* Rewrite to comply with the new hint format guidelines.\n"
"\t* Rewrite text to match the current setup on the LFS server.\n"
msgstr ""

#. type: Plain text
#: origin/postfix+spamassassin+razor.txt:133
#, no-wrap
msgid ""
"[2003-01-15]\n"
"\t* Updated for latest software versions\n"
"\t* Using perl daemon for increased performance rather than start the\n"
"\t  entire perl program for every incoming email.\n"
"\t* Removed the spamassassin bug fix from version 1.1\n"
msgstr ""

#. type: Plain text
#: origin/postfix+spamassassin+razor.txt:137
#, no-wrap
msgid ""
"[Unknown date]\n"
"\t* Added bugfix for the\n"
"\t  /usr/lib/perl5/site_perl/5.6.1/Mail/SpamAssassin/PerMsgStatus.pm file\n"
msgstr ""

#. type: Plain text
#: origin/postfix+spamassassin+razor.txt:140
#, no-wrap
msgid ""
"[Unknown date]\n"
"\t* Initial release.\n"
msgstr ""
