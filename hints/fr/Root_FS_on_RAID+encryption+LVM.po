# SOME DESCRIPTIVE TITLE
# Copyright (C) YEAR Free Software Foundation, Inc.
# This file is distributed under the same license as the PACKAGE package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"POT-Creation-Date: 2019-09-02 09:14+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: \n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:2
msgid "AUTHOR: Bryan Kadzban <bryan at linuxfromscratch dot org>"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:4
msgid "DATE: 2009-09-25"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:8
msgid ""
"LICENSE: Creative Commons Attribution-Share Alike 3.0 United States "
"(http://creativecommons.org/licenses/by-sa/3.0/us/)"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:10
msgid "SYNOPSIS: LFS on RAID, dm-crypt, and/or LVM2"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:17
msgid ""
"DESCRIPTION: This hint explains how to build an LFS system capable of "
"booting most RAID, most dm-crypt, and most LVM2 setups.  It allows you to "
"use dmraid (most \"RAID\" add-on boards), and/or Linux kernel \"md\" RAID.  "
"It also allows you to encrypt the RAID array, and use LVM2 on top of the "
"encryption.  The rootfs can then be a logical volume."
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:22
msgid ""
"Any of these transformations can be omitted, but the transformations must be "
"layered in this order.  It is worth noting explicitly that this hint does "
"not cover encrypting a single logical volume (encryption after LVM); it only "
"covers encrypting the entire PV."
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:25
msgid "PREREQUISITES: On the host:"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:31
msgid ""
"- LVM2 userspace tools, if required.  - dmraid, if required.  - mdadm, if "
"required.  - LUKS-capable cryptsetup, if required.  - Also all dependencies "
"of the above packages."
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:33
msgid "For the LFS system:"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:35
msgid "Required:"
msgstr ""

#. type: Bullet: '- '
#: origin/Root_FS_on_RAID+encryption+LVM.txt:39
msgid ""
"Sources for LVM2 userspace tools (with device-mapper): at least version "
"2.02.53.  Note that all the other packages require device-mapper, so you "
"will need the LVM2 package even if you don't plan on using LVM."
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:42
#, no-wrap
msgid ""
"  http://sourceware.org/lvm2/\n"
"  ftp://sources.redhat.com/pub/lvm2/LVM2.2.02.53.tgz\n"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:44
msgid "- Patch for LVM2 udev rules, to make them work better with udev in LFS."
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:46
#, no-wrap
msgid ""
"  "
"http://www.linuxfromscratch.org/patches/downloads/lvm2/LVM2-2.02.53-fix_udev_rules-1.patch\n"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:48
msgid "- Sources for lfs-initramfs, newest stable version."
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:50
#, no-wrap
msgid "  http://www.linuxfromscratch.org/~bryan/lfs-initramfs-1.0.tar.bz2\n"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:52
msgid "Optional (depends on configuration):"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:54
msgid "- dmraid sources: newest stable version."
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:57
#, no-wrap
msgid ""
"  http://people.redhat.com/heinzm/sw/dmraid/src/\n"
"  http://people.redhat.com/heinzm/sw/dmraid/src/dmraid-1.0.0.rc15.tar.bz2\n"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:59
msgid "- mdadm sources: newest stable version."
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:62
#, no-wrap
msgid ""
"  http://neil.brown.name/blog/mdadm\n"
"  http://www.kernel.org/pub/linux/utils/raid/mdadm/mdadm-3.0.tar.bz2\n"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:64
msgid "- LUKS-capable cryptsetup sources: newest stable version."
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:67
#, no-wrap
msgid ""
"  http://code.google.com/p/cryptsetup/\n"
"  http://cryptsetup.googlecode.com/files/cryptsetup-1.0.7.tar.bz2\n"
msgstr ""

#. type: Bullet: '  - '
#: origin/Root_FS_on_RAID+encryption+LVM.txt:70
msgid ""
"You will need popt for cryptsetup: latest stable version.  "
"http://www.linuxfromscratch.org/blfs/view/svn/general/popt.html"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:72
msgid "HINT:"
msgstr ""

#. type: Bullet: '0. '
#: origin/Root_FS_on_RAID+encryption+LVM.txt:74
msgid "Preface"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:79
msgid ""
"Throughout this hint, individual steps are annotated according to which sets "
"of transformations require them.  [dmr] denotes dmraid; [mdr] denotes "
"md-raid; [enc] denotes encryption, and [lvm] denotes LVM2.  Multiple "
"transformations per note are comma-separated."
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:82
msgid ""
"Steps are grouped according to what portion of the book they apply to.  A "
"note precedes each group of steps, offset by lots of = characters."
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:88
msgid ""
"Also note that the only dmraid setup supported is RAID1.  Although dmraid "
"probably supports RAID0/RAID5 if your particular RAID BIOS does, grub does "
"not.  If grub cannot read the /boot partition, you will not be able to "
"boot.  If you have another single disk, you can put /boot on that disk, of "
"course.  Most of this hint should still work in that case, but that setup is "
"untested."
msgstr ""

#. type: Bullet: '1. '
#: origin/Root_FS_on_RAID+encryption+LVM.txt:90
msgid "[dmr,mdr,enc,lvm] Decide on a disk layout"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:94
msgid ""
"dmraid arrays are most often composed of full disks.  md RAID can be "
"composed of either disks, or partitions (but see above: due to grub support, "
"only partitions are supported here).  dm-crypt can handle any source block "
"device, as can LVM."
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:95 origin/Root_FS_on_RAID+encryption+LVM.txt:291 origin/Root_FS_on_RAID+encryption+LVM.txt:303 origin/Root_FS_on_RAID+encryption+LVM.txt:331 origin/Root_FS_on_RAID+encryption+LVM.txt:416 origin/Root_FS_on_RAID+encryption+LVM.txt:480
#, no-wrap
msgid "===============================================================================\n"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:99
#, no-wrap
msgid ""
"  The following steps apply at section 2.2 of the LFS book: \"Creating a "
"New\n"
"  Partition\".  Follow them *instead of* the instructions in that section of "
"the\n"
"  book, until the next ==-delimited note.\n"
"===============================================================================\n"
msgstr ""

#. type: Bullet: '2. '
#: origin/Root_FS_on_RAID+encryption+LVM.txt:102
msgid "[dmr] Build the array"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:108
msgid ""
"Build your array according to whatever process your BIOS uses.  This will "
"write out the RAID signature sector to all involved drives, so that the "
"dmraid program will be able to find it in the next step.  (This usually must "
"be done inside the BIOS or option ROM setup, so you'll have to reboot to do "
"it.)  Boot your host system."
msgstr ""

#. type: Bullet: '3. '
#: origin/Root_FS_on_RAID+encryption+LVM.txt:110
msgid "[dmr] Bring up the dmraid array"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:113
msgid ""
"You will need the \"dm-mod\" kernel module loaded, if it is not already.  To "
"scan your hard drives and bring up the array, run (as root):"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:115
#, no-wrap
msgid "  dmraid -ay\n"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:117
msgid "Explanation of argument:"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:119
#, no-wrap
msgid "  -ay: Activates all scanned dmraid arrays (\"activate yes\").\n"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:123
msgid ""
"This will create a new device node or symlink (depending on your version of "
"device-mapper and its configuration) in /dev/mapper named after the ID of "
"your array.  This name is supposed to be unique."
msgstr ""

#. type: Bullet: '4. '
#: origin/Root_FS_on_RAID+encryption+LVM.txt:125
msgid "[dmr] Partition the dmraid array"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:130
msgid ""
"Run your favorite partitioning tool on /dev/mapper/<dmraid array>, as root.  "
"You will need at least one partition for the following steps, but if you "
"also plan to use dm-crypt or LVM, you will need two: one for /boot and one "
"for the rest of the data."
msgstr ""

#. type: Bullet: '5. '
#: origin/Root_FS_on_RAID+encryption+LVM.txt:132
msgid "[mdr] Bring up md-raid on the host"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:139
msgid ""
"First set aside a partition for /boot.  You may be able to get away without "
"this if you use RAID1 and the correct metadata format (to avoid overwriting "
"the first few sectors of the disk), but this may not work.  The size of this "
"partition can be as small as a few hundred megabytes; it only has to hold "
"any kernel images you wish to boot to, the initramfs image for those "
"kernels, and the config files for grub.  This is usually on the order of 10 "
"megabytes per kernel."
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:142
msgid ""
"mdadm should load the correct kernel modules for this step.  Ensure the "
"source partitions you decided on (step 1 above) are correct and present, and "
"as root:"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:145
#, no-wrap
msgid ""
"  mdadm --create --metadata=1.2 --homehost=\"<id string>\" --level=<X> \\\n"
"        --auto=<md|mdp> /dev/sdAB /dev/sdCD /dev/sdXY\n"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:147
msgid "Explanation of arguments:"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:149
#, no-wrap
msgid "  --create: Create a new array\n"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:154
#, no-wrap
msgid ""
"  --metadata=1.2: Use the newest level metadata.  This is not necessarily\n"
"                  required.  All supported options:\n"
"    --metadata=1.0: Put the superblock at the end of each device.\n"
"    --metadata=1.2: Put the superblock 4K into each device.\n"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:159
#, no-wrap
msgid ""
"    There is also a --metadata=1.1 option, but it definitely doesn't work "
"with\n"
"\tgrub, since it puts the metadata right at the start of each device.  "
"There\n"
"\tis also a 0.9 metadata level, but that has serious limitations and is "
"not\n"
"\tsupported by this hint at all.\n"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:164
#, no-wrap
msgid ""
"  --homehost=\"<id string>\": Set the \"home host\" string for this array.  "
"This is\n"
"                            used for auto-assembly inside the initramfs: "
"any\n"
"                            device with a matching home host string will be "
"put\n"
"                            into the RAID array.  Remember the string you "
"use.\n"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:168
#, no-wrap
msgid ""
"  --level=<X>: Select the RAID level to use.  Valid options are 0 (not\n"
"               recommended), 1, 5, 6, 10, and any others listed in your "
"local\n"
"               mdadm(8) man page.\n"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:173
#, no-wrap
msgid ""
"  --auto=<md|mdp>: Choose either \"md\" or \"mdp\".  \"mdp\" allows "
"partitions to be\n"
"                   created on the result of the RAID array; this is normally "
"not\n"
"                   needed with LVM, but may be useful otherwise.  Remember "
"the\n"
"                   value you choose.\n"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:177
#, no-wrap
msgid ""
"  /dev/sd*: Device files to use as RAID sources.  These are usually "
"partitions,\n"
"            but if you're brave, you can try to get a RAID1 to work with "
"grub\n"
"            across a pair of disks.\n"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:182
msgid ""
"Note that mdadm will find the smallest source device, and act as if the rest "
"of the devices were also that size.  Note also that standard RAID array "
"device counts apply here: a RAID5 array needs at least three members, a "
"RAID1 array needs exactly two members, etc."
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:187
msgid ""
"Note also that you could use partitions created on the dmraid array, but "
"that type of setup is at the edge of what this hint supports.  It may work, "
"but mdadm might have issues reassembling the array inside initramfs, for "
"example.  (You may be able to hack on mdadm.conf to get this to work, "
"though.)"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:190
msgid ""
"Finally, note that you could name the array if you want.  See the mdadm(8) "
"man page for even more options."
msgstr ""

#. type: Bullet: '6. '
#: origin/Root_FS_on_RAID+encryption+LVM.txt:192
msgid "[enc] Create encrypted volume"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:195
msgid ""
"If you didn't do mdraid above (step 5), then set aside a partition for /boot "
"now.  The same comments as above apply: a few hundred megs is large enough."
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:200
msgid ""
"You will need the \"dm-crypt\" kernel module loaded, if it is not already.  "
"As root, first fill the partition with random data, to foil some types of "
"attack which I am not familiar with but which most of the dm-crypt guides "
"seem to know about:"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:202
#, no-wrap
msgid "  dd if=/dev/urandom of=<device> bs=1048576\n"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:207
msgid ""
"Here, <device> is the disk or partition or dmraid array or mdadm array that "
"you wish to encrypt.  This operation will take a *long* time; approximately "
"five minutes per gigabyte depending on disk and processor speeds.  If that "
"is too long, you can use a worse-quality random number generator that will "
"run faster:"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:209
#, no-wrap
msgid "  badblocks -c 10240 -s -w -t random -v <device>\n"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:211
msgid "You could also skip this step entirely if you really want to."
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:213
msgid "Now put the encryption header on the volume, and choose a key:"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:215
#, no-wrap
msgid ""
"  cryptsetup --cipher=aes-cbc-essiv:sha256 --key-size=256 luksFormat "
"<device>\n"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:219
msgid ""
"The cipher given here is not required (use any cipher your kernel supports), "
"although using -cbc-essiv is recommended to defend against watermark "
"attacks.  Note that the size of the hash chosen must match the --key-size "
"argument."
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:221
msgid "Now open the encrypted volume:"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:223
#, no-wrap
msgid "  cryptsetup luksOpen <device> pv\n"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:228
msgid ""
"The last argument (\"pv\") is arbitrary, although \"pv\" makes sense if "
"you're going to put LVM on this encrypted volume.  The string given will be "
"used verbatim for the decrypted device name in /dev/mapper, so remember it "
"if you use something else."
msgstr ""

#. type: Bullet: '7. '
#: origin/Root_FS_on_RAID+encryption+LVM.txt:230
msgid "[lvm] Set up LVM"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:234
msgid ""
"If you did not do encryption above (step 6) or mdraid (step 5), then set "
"aside a partition for /boot now.  The same comments apply: a few hundred "
"megabytes will be more than enough."
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:238
msgid ""
"LVM groups a set of physical volumes (PVs) into a volume group (VG), which "
"is then split into logical volumes (LVs).  LVs can also be resized at "
"runtime, either larger (if room is available on any of the VG's PVs) or "
"smaller."
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:240
msgid "To start, format the sources as an LVM PV:"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:242
#, no-wrap
msgid "  pvcreate --zero y /dev/<device>\n"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:245
msgid ""
"Use whichever <device> is current at this point: either /dev/mapper/pv, or "
"/dev/mdXpX, or /dev/mdX, or /dev/mapper/<dmraid-name>, or /dev/sdXY."
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:248
msgid ""
"You can also remove the \"--zero y\" arguments if you don't wish to zero out "
"the contents of the volume before you start."
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:256
msgid ""
"(Writing zeros may or may not increase security if the underlying volume is "
"encrypted.  On the one hand, if an attacker knows that a certain sector is "
"all-zeros in plaintext, this may -- depending on the encryption algorithm -- "
"help them attack the encryption key.  On the other hand, it does write out "
"lots of seemingly-random data to the raw disk device, and this may disguise "
"the fact that it contains an encrypted volume if you didn't already write "
"random data out to it in step 6.  Writing zeros also takes a while.)"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:260
msgid ""
"Repeat this step for any other device you wish to add to the volume group "
"(VGs can do a sorta-kinda-almost-RAID setup, where a set of logical volumes "
"spans any number of physical volumes in the VG.  It's easiest with a single "
"PV though.)"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:262
msgid "Now create a VG containing this PV:"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:264
#, no-wrap
msgid "  vgcreate lfs /dev/<device>\n"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:267
msgid ""
"Use the same /dev/<device> that you just formatted as a PV.  If you have "
"more than one PV, you can specify more than one /dev/<device>."
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:272
msgid ""
"The volume group is named \"lfs\" here.  You can use any name you wish.  "
"Once logical volumes are created below, they will be accessible as symlinks "
"at /dev/<vg-name>/<lv-name>, so use any volume group name that will make "
"them easy to keep separate from all the other stuff in /dev."
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:274
msgid "Now create the logical volume(s):"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:278
#, no-wrap
msgid ""
"  lvcreate -L 10G -n root lfs\n"
"  lvcreate -L 1G -n swap lfs\n"
"  ...\n"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:284
msgid ""
"The argument to -L is the size of the logical volume.  Any size that will "
"fit in the current volume group is acceptable, though I recommend leaving "
"some space free for future LV growth, or for snapshot LVs.  (These can be "
"used to check your filesystems in the background, for instance, instead of "
"having a 180-day timeout after which fsck does a full check at boot time.)"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:287
msgid ""
"The argument to -n is the logical volume's name: here, root and swap.  The "
"final argument is the volume group that the new LVs are part of: here, lfs."
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:290
msgid ""
"At this point, you should have a /dev/lfs/root and /dev/lfs/swap (or "
"whatever names you chose); use these for the LFS and swap partitions in the "
"book."
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:293
#, no-wrap
msgid ""
"  Notes on section 2.4: Mounting the New Partition\n"
"===============================================================================\n"
msgstr ""

#. type: Bullet: '8. '
#: origin/Root_FS_on_RAID+encryption+LVM.txt:296
msgid "[mdr,enc,lvm] Mounting /boot"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:298
msgid "Be sure to mount your boot partition at $LFS/boot in this step."
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:302
msgid ""
"Also be sure to use the correct (final) root and swap devices (for example, "
"/dev/lfs/root and /dev/lfs/swap if you are doing LVM, you used \"lfs\" for "
"your VG name, and you used \"root\" / \"swap\" for your LV names)."
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:305
#, no-wrap
msgid ""
"  Notes on sections 3.2: All Packages, and 3.3: Needed Patches\n"
"===============================================================================\n"
msgstr ""

#. type: Bullet: '9. '
#: origin/Root_FS_on_RAID+encryption+LVM.txt:308
msgid "[dmr,mdr,enc,lvm] New packages"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:311
msgid ""
"You need LVM2 and lfs-initramfs, and maybe dmraid, mdadm, and "
"cryptsetup+popt.  You also need the patch from above for LVM2.  See above "
"for links."
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:312
#, no-wrap
msgid "==============================================================================\n"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:314
#, no-wrap
msgid ""
"  Modifications to Chapter 6\n"
"===============================================================================\n"
msgstr ""

#. type: Bullet: '10. '
#: origin/Root_FS_on_RAID+encryption+LVM.txt:317
msgid "[dmr,mdr,enc,lvm] Modifications to Udev-XXX (any recent version)"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:322
msgid ""
"Do *not* install rules/packages/64-device-mapper.rules, even though the book "
"says to.  Instead, install rules/suse/64-device-mapper.rules -- this is a "
"much better base for device-mapper support.  (Installing 64-md-raid.rules is "
"fine, and is required if you plan to do md RAID.)"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:325
msgid ""
"install -m644 -v rules/packages/64-md-raid /lib/udev/rules.d/ install -m644 "
"-v rules/suse/64-device-mapper.rules /lib/udev/rules.d/"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:328
msgid ""
"Before installing udev-config, stop it from ignoring device-mapper devices "
"(so that the device-mapper udev rules will work), by commenting out the "
"rule:"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:330
msgid "sed -i -e 's/^KERNEL==\"dm-\\*\",.*ignore_device\"$/#&/' 55-lfs.rules"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:333
#, no-wrap
msgid ""
"  New packages at the end of chapter 6\n"
"===============================================================================\n"
msgstr ""

#. type: Bullet: '11. '
#: origin/Root_FS_on_RAID+encryption+LVM.txt:336
msgid "[dmr,mdr,enc,lvm] Installing LVM2"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:340
msgid ""
"Once you're finished with chapter 6, you need to install a few more packages "
"to support your chosen root FS type.  All of these packages require "
"device-mapper (which is now part of LVM2).  Whether you want to use LVM or "
"not:"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:345
#, no-wrap
msgid ""
"patch -Np1 -i ../LVM2-2.02.53-fix_udev_rules-1.patch\n"
"./configure --prefix=/usr --bindir=/bin --sbindir=/sbin --libdir=/lib \\\n"
"    --enable-readline --with-udev-prefix= --with-udevdir=/etc/udev/rules.d "
"\\\n"
"    --enable-udev_rules\n"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:347
msgid "If you do *not* want to use LVM, build and install just device-mapper:"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:350
msgid "make device-mapper make install_device-mapper"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:352
msgid "If you *do* want to use LVM, build and install everything:"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:357
msgid ""
"make make check make install install -m644 doc/example.conf "
"/etc/lvm/lvm.conf"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:364
msgid ""
"(Note that the every test in the testsuite will fail, unless you run it as "
"root.  It requires the ability to mknod(2) so it can create a path to the "
"device-mapper kernel driver.  Also note that the tests require support for "
"pretty much everything in the kernel -- all device-mapper targets.  "
"Therefore, if you have configured your kernel to disable any of these, or "
"you build as a non-root user, then either consider the tests optional, or do "
"not be surprised if they fail.)"
msgstr ""

#. type: Bullet: '12. '
#: origin/Root_FS_on_RAID+encryption+LVM.txt:366
msgid "[dmr] Installing dmraid"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:370
msgid ""
"./configure --prefix=/usr --bindir=/bin --sbindir=/sbin --libdir=/lib make "
"make install"
msgstr ""

#. type: Bullet: '13. '
#: origin/Root_FS_on_RAID+encryption+LVM.txt:372
msgid "[mdr] Installing mdadm"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:376
msgid ""
"First, prevent mdadm from installing udev rules that rely on vol_id (which "
"is now gone), and which are also duplicated by the 64-md-raid.rules file "
"that you already have:"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:378
msgid "sed -i -e '/^install :/s/ install-udev//' Makefile"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:380
msgid "Then build and install it:"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:383
msgid "make INSTALL=install make INSTALL=install install"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:386
msgid ""
"(Note that mdadm also has a testsuite, which you can run -- but again, only "
"as root -- with \"sh ./test\" after building.)"
msgstr ""

#. type: Bullet: '14. '
#: origin/Root_FS_on_RAID+encryption+LVM.txt:388
msgid "[enc] Installing cryptsetup"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:391
msgid ""
"First install popt and move its library to /lib (but keep the compile-time "
"symlink in /usr/lib):"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:398
msgid ""
"./configure --prefix=/usr make make check make install mv -v "
"/usr/lib/libpopt.so.* /lib ln -sfv ../../lib/libpopt.so.0 "
"/usr/lib/libpopt.so"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:400
msgid "Then install cryptsetup:"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:404
msgid ""
"./configure --prefix=/usr --libdir=/lib --sbindir=/sbin --sysconfdir=/etc "
"make make install"
msgstr ""

#. type: Bullet: '15. '
#: origin/Root_FS_on_RAID+encryption+LVM.txt:406
msgid "[dmr,mdr,enc,lvm] Installing lfs-initramfs"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:410
msgid "./configure --prefix=/usr --sysconfdir=/etc make make install"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:413
msgid ""
"Now edit /etc/mkinitramfs.conf; see the inline comments for guidance on what "
"variables to set to what values."
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:415
msgid "Once the config file looks sane, continue in the LFS book."
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:418
#, no-wrap
msgid ""
"  Modifications to Chapter 8\n"
"===============================================================================\n"
msgstr ""

#. type: Bullet: '16. '
#: origin/Root_FS_on_RAID+encryption+LVM.txt:421
msgid "[dmr,mdr,lvm,enc] Kernel Configuration"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:424
msgid ""
"Be sure to enable the kernel options required for your chosen layers of "
"device mapping."
msgstr ""

#. type: Bullet: '17. '
#: origin/Root_FS_on_RAID+encryption+LVM.txt:426
msgid "[enc] Creating /etc/crypttab"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:430
msgid ""
"The initramfs uses /etc/crypttab to find out which source devices to decrypt "
"into which target names.  Find the source device for your encryption.  Then "
"create the crypttab file:"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:433
msgid "cat <<'EOF' >/etc/crypttab # Begin /etc/crypttab"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:438
#, no-wrap
msgid ""
"# Syntax is:\n"
"# dest src password options\n"
"#   \"options\" and \"password\" are optional (and \"password\" may not be "
"supported\n"
"#   in the initramfs).  \"none\" means no password or options.\n"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:440
msgid "pv /dev/xxxxxxxxxxx none none"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:443
msgid "# End /etc/crypttab EOF"
msgstr ""

#. type: Bullet: '18. '
#: origin/Root_FS_on_RAID+encryption+LVM.txt:445
msgid "[dmr,mdr,lvm,enc] Creating the initramfs image"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:451
msgid ""
"Now that everything is set up, you can actually create the initramfs.  The "
"mkinitramfs script has several options; we will explicitly force it to pull "
"the files for the LFS book's current kernel version.  (Add \"-f\" if you "
"have already run the script once, and it has created the "
"initramfs-<version>.cpio.gz file in /boot.)  As root:"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:453
msgid "mkinitramfs -k <kernel-version>"
msgstr ""

#. type: Bullet: '19. '
#: origin/Root_FS_on_RAID+encryption+LVM.txt:455
msgid "[dmr,mdr,lvm,enc] Grub configuration"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:459
msgid ""
"A note: since we're using a separate partition for /boot, none of the grub "
"path names will begin with /boot (since grub's root is the other partition, "
"its pathnames will be either (e.g.) /grub/menu.lst, or "
"/lfskernel-<version>)."
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:468
msgid ""
"Another note: you don't actually need a \"root=X\" kernel command line "
"parameter with this setup.  The initramfs will (try to) find it from "
"/etc/fstab.  This *does* mean that whenever you change /etc/fstab (or "
"/etc/crypttab), you will want to rerun mkinitramfs so it picks up the "
"changes, but you don't need to keep changing menu.lst if you want to change "
"how the root FS is found.  You will also be able to choose more mount-time "
"options (e.g., \"barrier=1\" now works, assuming your device-mapper stack "
"supports it all the way down; \"data=journal\" does as well), since they all "
"come from fstab."
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:474
msgid ""
"On to the actual changes.  In addition to the kernel line in menu.lst, you "
"will need an \"initrd\" line that refers to the "
"initramfs-<kernel-version>.cpio.gz file.  (Don't worry, it's not really an "
"initrd.  The interface from grub to the kernel is the same as it would be "
"for an initrd, so keeping the same name in grub's configuration makes "
"sense.)"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:479
msgid ""
"Be *SURE* to keep an entry in menu.lst for your host distro.  If the "
"initramfs breaks, your system will likely be unusable; you will have to "
"mount everything back up from the host and figure out how to fix the "
"initramfs.  (Having a reasonable LiveCD available also helps with this.)"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:482
#, no-wrap
msgid ""
"  End: Use the initramfs to boot\n"
"===============================================================================\n"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:491
msgid ""
"Reboot.  Choose the LFS entry from the GRUB menu.  Enter the dm-crypt "
"password if you configured that, when requested.  (Note that you may have to "
"add a rootdelay=X kernel command line parameter, depending on your disk "
"hardware and discovery speeds.)  If you are dropped to \"an extremely "
"minimal shell\", that means that something went wrong: you can either reboot "
"and play with kernel command line options to try to get it to work, or "
"manually run the commands in the script named /init to see where the "
"breakage is."
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:494
msgid ""
"Unfortunately there are hardly any debugging tools on the initramfs; there "
"may never be very many."
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:497
msgid "ACKNOWLEDGEMENTS:"
msgstr ""

#. type: Bullet: '- '
#: origin/Root_FS_on_RAID+encryption+LVM.txt:501
msgid ""
"Alexander Patrakov <patrakov AT gmail.com> For filing the bug that started "
"this.  Also for providing feedback on early versions of lfs-initramfs, and "
"the list of features he thought it needed."
msgstr ""

#. type: Bullet: '- '
#: origin/Root_FS_on_RAID+encryption+LVM.txt:504
msgid ""
"Simon Geard <delgarde AT ihug.co.nz> For testing many early versions of "
"lfs-initramfs."
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:507
msgid "CHANGELOG:"
msgstr ""

#. type: Plain text
#: origin/Root_FS_on_RAID+encryption+LVM.txt:509
#, no-wrap
msgid ""
"[2009-09-25]\n"
"    Initial Release\n"
msgstr ""
