# SOME DESCRIPTIVE TITLE
# Copyright (C) YEAR Free Software Foundation, Inc.
# This file is distributed under the same license as the PACKAGE package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"POT-Creation-Date: 2019-12-12 04:11+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: \n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:2
msgid "USING GRUB ON UEFI"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:4
msgid "AUTHORS: Dan McGhee, Kevin M. Buckley"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:6
msgid "DATE: 2017-02-07"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:8
msgid "LICENSE: GNU Free Documentation License Version 1.2"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:10
msgid "SYNOPSIS: Boot LFS by default in a UEFI Environment using GRUB"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:15
msgid ""
"DESCRIPTION: This hint contains the information to direct the OS Boot "
"Manager to default to the GRUB in a UEFI environment employing EFI Mode.  "
"This hint applies to only x86_64 machines."
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:18
msgid ""
"This version, hereafter referred to as \"the 2017-10-22 hint\", updates Dan "
"McGhee's original, dated 2014-10-16."
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:22
msgid ""
"The 2017-10-22 hint saw the UEFI packages built against an LFS 7.10 SysV "
"installation that was already being booted using the existing host system's "
"bootloaders."
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:25
msgid ""
"Where possible, changes to the 2017-01-22 hint have been made so that it "
"should be obvious where the the 2017-01-22 and 2014-10-16 hint's differ."
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:28
msgid "ATTACHMENTS: * None"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:32
msgid ""
"PREREQUISITES: Base LFS system before or after Ch. 8 Basic understanding of "
"obtaining and building packages"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:34
msgid "HINT:"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:42
msgid ""
"DISCLAIMER: The recipes in this hint neither supplant nor supersede the "
"build instructions in a stable version of either the LFS or BLFS books.  "
"They merely augment them for newer firmware.  If conflicts arise between "
"this hint and the instructions in the book, take the issue to the mailing "
"lists.  Additionally, this hint applies to only x86_64 machines packaged "
"with Windows 7 or Windows 8.  The recipes here can be used on Mac OS, but "
"have not been investigated at the initial writing of this hint."
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:49
msgid ""
"The 2017-01-22 hint refers to an LFS 7.10 system, built onto an x86_64 "
"machine from within a CentOS 6 host, that had had never had a version of "
"windows installed on it, indeed the host contained three EFI directories "
"below \"/boot/efi/EFI/\", namely centos, redhat, and ubuntu, these having "
"been installed from CentOS 6.8, Fedora Core 20 and Ubuntu 12.04 OSes "
"respectively."
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:52
msgid ""
"USE OF TERMS: The following is a use of terms in this hint.  Further "
"information for and amplification of them can be found in References 1-3."
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:56
msgid ""
"BIOS Settings: A firmware interface accessed by the keyboard after power is "
"applied.  In it a user can change the order and way of how the computer "
"boots."
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:58
msgid "BIOS System: Firmware with an MBR"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:62
msgid ""
"EFI Mode: A condition of the booted system in which the EFI partition is "
"mounted and the uefi (efi) variable support in the kernel is working "
"properly.  It results from enabling UEFI Mode in BIOS Settings."
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:65
msgid ""
"EFI Mount Point: A user defined mount point for the EFI Partition.  In this "
"hint, and in most distros, it is /boot/efi."
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:70
msgid ""
"EFI Partition: A small partition, usually before any other partitions; i."
"e., /dev/sda1 of 200-250 Mb, formatted in FAT32 with the /boot flag, in "
"parted, or ef00 (EF00) partition type in gdisk.  (NOTE: The boot flag has a "
"different function and meaning in MBR partitioned disks.)"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:73
msgid ""
"efi variables (synonymous: uefi variables): variables through which the "
"operating system can interact with the firmware."
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:76
msgid ""
"Legacy Boot Option (Legacy Boot): A boot process in BIOS Settings that "
"disables UEFI booting and uses CIM."
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:79
msgid ""
"GUID Partition Table (GPT): A partitioning scheme that uses UUID's instead "
"of cylinders to identify partitions."
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:83
msgid ""
"PRELIMINARY DISCUSSION: Additional information and more in depth discussion "
"of the following concepts can be found using References 1-3."
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:102
#, no-wrap
msgid ""
"Booting LFS is no longer as simple as \"grub-install  /dev/sda.\"  There are\n"
"more options and more considerations.  With the advent and proliferation of\n"
"UEFI firmware, a user's knowledge and philosophy of the boot\n"
"process requires expansion:\n"
"    a) GPT partitioning is different from MBR partitioning.  The tool fdisk\n"
"       is not able to manipulate GPT partitions.  Parted and gdisk (from\n"
"       gptfdisk) are the tools to use.  Each has their pros and cons,\n"
"       supporters and detractors.  Either one or both can be used.\n"
"    b) UEFI firmware uses Boot Managers to select Boot Loaders like GRUB or\n"
"       LILO.  They, themselves do not boot the machine.\n"
"    c) The Boot Loaders are placed on the EFI partition rather than the\n"
"       MBR.  This concept is similar and parallel to the LFS procedures of\n"
"       using a separate /boot partition.\n"
"    d) There are additional tools that LFS needs in order to accomplish\n"
"       this mode of booting.\n"
"    e) LFS can be built and booted as the instructions are written up to\n"
"       and including LFS-7.10.  To do this on UEFI firmware, the BIOS\n"
"       Settings must be changed to Legacy Options from UEFI Options.\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:109
msgid ""
"One of the hugely discussed issues surrounding UEFI is Secure Boot.  It is "
"necessary to understand that the terms \"UEFI\" and \"Secure Boot\" are NOT "
"synonymous.  UEFI is firmware.  Secure Boot is a process of using \"keys\" "
"to \"guarantee\" the safety and authenticity of a Boot Loader.  NOTE: To use "
"the recipes in this hint, Secure Boot must be disabled in the BIOS Boot "
"Settings."
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:117
#, no-wrap
msgid ""
"Please note that the recommended order for implementing these recipes is a\n"
"departure from the build order in LFS.  The most convenient, and arguably\n"
"the most practical way, to implement the recipes here is to use them in the\n"
"of build of an LFS System at the end of Ch. 6. Building the BLFS and\n"
"non-BLFS packages has been tested both inside and outside of the chroot\n"
"environment.  Then, following the book, proceed through Ch. 7, returning to\n"
"the recipes in Ch. 8.   The recipes are presented in that order.\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:124
msgid ""
"The most inconvenient way to implement these recipes is in a completely "
"functional LFS-7.10, or earlier, system.  This involves uninstalling "
"grub-2.02, removing it from its location as a result of grub-install and "
"implementing the recipes.  Migrating from Legacy Boot to UEFI boot is "
"possible.  At the initial writing of this hint, however, it is not "
"included.  References 1-3 contain more information on this subject."
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:133
#, no-wrap
msgid ""
"The last consideration in implementing the recipes here is GRUB's graphical\n"
"terminal.  In UEFI systems, if the GRUB video mode is not initialized, no\n"
"kernel boot messages will appear until the kernel video takes over.  The\n"
"GRUB package does not supply fonts, and GRUB defaults to unicode.pf2.\n"
"There are two ways to supply this font.  The first is to copy unicode.pf2\n"
"from the host system to /boot/grub on the LFS system.  The second method\n"
"involves configuring grub to build grub-mkfont, and this creates a build\n"
"dependency of Freetype2 for GRUB.  This hint addresses both situations.   \n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:142
msgid ""
"Finally, as of the initial writing of this hint, there is no standard for "
"the use of UEFI and the implementation of Secure Boot.  These are hugely "
"manufacturer dependent.  This hint uses terms used in the original author's "
"hardware.  They may be different in other manufacturers' implementations.  "
"However, the capabilities to do the boot setup operations contained in this "
"hint will exist on each machine.  The terms may differ, and more than one "
"operation might be needed to achieve a desired goal.  For example, someone "
"may need to disable Secure Boot and remove Secure Keys."
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:148
msgid ""
"RECIPES: [NOTE] The recipes are written with the assumption that the "
"packages are being built in the chroot environment before the end of Ch. 8.  "
"They can be modified, with little difficulty, to be used in a functional "
"system."
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:152
#, no-wrap
msgid ""
"CHECKING EFI-MODE\n"
"    Before entering the chroot environment, check that the host booted in\n"
"    EFI Mode.\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:154
#, no-wrap
msgid "    ls /sys/firmware/efi\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:156
#, no-wrap
msgid "    If this directory exists and is populated, the host booted in EFI Mode.\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:161
#, no-wrap
msgid ""
"MOUNT EFI PARTITION\n"
"\tDetermine which device is the EFI partition using gdisk or parted,\n"
"        enter the chroot environment, create /boot/efi if needed, and\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:163
#, no-wrap
msgid "\tmount -vt vfat /dev/sda(x) /boot/efi\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:165
#, no-wrap
msgid "        where sda(x) is the device containing the EFI partition.\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:167
msgid "BUILD DEPENDENCIES:"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:171
#, no-wrap
msgid ""
"Install the following BLFS packages, using the instructions in the book:\n"
"popt and pciutils.   Build and install Freetype2 if building grub with\n"
"grub-mkfont enabled.\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:178
msgid ""
"The BLFS 7.10 Freetype2 instructions recommend that it be built after \"which"
"\" and \"libpng\" have been installed, so it was, however, as the "
"recommendation for \"HarfBuzz\" notes that one builds Freetype2 without it "
"first, and then do a re-install, it wasn't thought necessary to do the re-"
"install."
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:180
msgid "The \"libpng\" install did include the \"apng\" patch."
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:183
msgid "The BLFS 7.10 instructions for popt explicitly"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:185
#, no-wrap
msgid "  \"prevents installtion of  the static versions of the libraries\"\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:187
msgid "however the build of efivars appears to require those."
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:191
msgid ""
"In order to follow the BLFS book and then explicity alter things for an "
"installtion of UEFI-related packages, following the BLFS books instructions, "
"and then doing"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:197
msgid ""
"tar xf /path/to/BLFS-SRCS-7.10/popt-1.16.tar.gz cd popt-1.16/ ./configure --"
"prefix=/usr --enable-static make make install"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:199
msgid "appears to do the right thing."
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:205
#, no-wrap
msgid ""
"      DOSFSTOOLS 3.0.28 (runtime dependency of efibootmgr)\n"
"      Note: As of October 3, 2014, dosfstools was tagged \"orphaned.\n"
"      It is still functional.]\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:208
#, no-wrap
msgid ""
"      Download:\n"
"        https://github.com/dosfstools/dosfstools/releases/download/v3.0.28/dosfstools-3.0.28.tar.xz\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:210
#, no-wrap
msgid "      Build and Installation:\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:217
#, no-wrap
msgid ""
"        tar xf /path/to/EXTRA-SRCS-7.10/dosfstools-3.0.28.tar.xz\n"
"        cd dosfstools-3.0.28/\n"
"        make PREFIX=/usr SBINDIR=/usr/bin MANDIR=/usr/share/man \\\n"
"         DOCDIR=/usr/share/doc\n"
"        make LANGUAGES=\"\" PREFIX=/usr SBINDIR=/usr/bin MANDIR=/usr/share/man \\\n"
"         DOCDIR=/usr/share/doc install\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:220
msgid ""
"Note that the LANGUAGES=\"\" prevents the install from creating all manner "
"of directories below /use/share/man, but if you want those, leave it out."
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:223
#, no-wrap
msgid "      EFIVAR-30 (depends on popt)\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:229
#, no-wrap
msgid ""
"The 2014-10-16 hint pointed to a user's GitHub branch of the main code\n"
" that is now available as part of Fedora's GitHub repository.\n"
"Note also that the numbering scheme has changed slightly.\n"
"Furthermore, the EFIVAR-30's Makefiles have altered the way in which\n"
" the codebase is built\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:232
#, no-wrap
msgid ""
"      Download:\n"
"        https://github.com/rhinstaller/efivar/releases/download/30/efivar-30.tar.bz2\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:234 origin/lfs-uefi-20170207.txt:335
#, no-wrap
msgid "      Compile the package:\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:245
#, no-wrap
msgid ""
"        tar xf /path/to/EXTRA-SRCS-7.10/efivar-30.tar.bz2\n"
"        cd efivar-devel-30/\n"
"        cp -p Make.defaults Make.defaults.dist\n"
"        sed 's|-O2|-Os|g' -i Make.defaults\n"
"        cp -p src/test/Makefile src/test/Makefile.dist\n"
"        sed 's|-rpath=$(TOPDIR)/src/|-rpath=$(libdir)|g' \\\n"
"         -i src/test/Makefile\n"
"        make libdir=\"/usr/lib/\" bindir=\"/usr/bin/\" \\\n"
"         mandir=\"/usr/share/man/\"     \\\n"
"         includedir=/usr/include/\" V=1 -j1\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:247 origin/lfs-uefi-20170207.txt:339
#, no-wrap
msgid "      Install the package:\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:251
#, no-wrap
msgid ""
"        make -j1 V=1 DESTDIR=\"${pkgdir}/\" libdir=\"/usr/lib/\" \\\n"
"         bindir=\"/usr/bin/\" mandir=\"/usr/share/man\"   \\\n"
"         includedir=\"/usr/include/\" install\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:253
#, no-wrap
msgid "        install -v -D -m0755 src/test/tester /usr/bin/efivar-tester\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:257
msgid ""
"Despite pathcing the src/test/Makefile, and that Makefile having a \"test\", "
"target, albeit one which isn't run by default, you SHOULD NOT run that "
"\"make test\", as it has been found to cause firmware bugs."
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:260
msgid ""
"Here are the thoughts on, and the exhortation not to do, this from the "
"EFIVAR community,"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:262
#, no-wrap
msgid "   https://github.com/rhinstaller/efivar/issues/78\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:266
msgid ""
"Note that, rather than remove the test from the Makefile, or alter it to "
"tell the use not to run it, they've merely hidden it from normal invocation."
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:270
#, no-wrap
msgid ""
"      EFIBOOTMGR-14\n"
"      (depends on pciutils, efivars,zlib to build and dosfstools to run.)\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:272
msgid "See notes to EFIVAR package as regards changes to download URI"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:275
#, no-wrap
msgid ""
"Note also that compared to the 2014-10-16 hint, efibootmgr's source \n"
" directory layout has changed,\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:277
#, no-wrap
msgid "      Download:  https://github.com/rhinstaller/efibootmgr/releases/download/14/efibootmgr-14.tar.bz2\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:283
#, no-wrap
msgid ""
"      Compile the package:\n"
"        tar xf /path/to/EXTRA-SRCS-7.10/efibootmgr-14.tar.bz2\n"
"        cd efibootmgr-14/\n"
"        make\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:290
#, no-wrap
msgid ""
"      Install the package:\n"
"        install -v -D -m0755 src/efibootmgr /usr/sbin/efibootmgr\n"
"        install -v -D -m0644 src/efibootmgr.8 \\\n"
"                /usr/share/man/man8/efibootmgr.8\n"
"        install -v -D -m0644 src/efibootdump.8 \\\n"
"                /usr/share/man/man8/efibootdump.8\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:294
#, no-wrap
msgid ""
"      GRUB-2.02~beta3 (depends on freetype2 if grub-mkfont is desired\n"
"               and on efibootmgr, efivars and efivarfs at run time.) \n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:296
#, no-wrap
msgid "         Download: http://alpha.gnu.org/gnu/grub/grub-2.02~beta3.tar.xz\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:311
#, no-wrap
msgid ""
"      Prepare for compilation:\n"
"         tar xf /path/to/LFS-SRCS-7.10/grub-2.02~beta3.tar.xz\n"
"         cd grub-2.02~beta3/\n"
"        ./configure --prefix=/usr  \\\n"
"            --sbindir=/sbin        \\\n"
"            --sysconfdir=/etc      \\\n"
"            --disable-efiemu       \\\n"
"            --enable-grub-mkfont   \\\n"
"            --with-platform=efi    \\\n"
"            --target=x86_64        \\\n"
"            --program-prefix=\"\"    \\\n"
"            --with-bootdir=\"/boot\" \\\n"
"            --with-grubdir=\"grub\" \\\n"
"            --disable-werror       \n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:313
#, no-wrap
msgid "         Command explanation:\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:319
#, no-wrap
msgid ""
"          --enable-grub-mkfont  This creates the build dependency on\n"
"             Freetype2. To remove this dependency do not use this switch\n"
"             and copy unicode.pf2 from the host system to /boot/grub of the\n"
"             LFS partition.  Alternatively, it can be downloaded from the\n"
"             internet.\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:324
#, no-wrap
msgid ""
"          --program-prefix=\"\" is a matter of convenience.  If not used,\n"
"             \"x86_64\" is inserted in all the grub executables.  For\n"
"             example, \"grub-install\" and \"grub-mkconfig\" become\n"
"             x86_64-grub-install and x86_64-grub-mkconfig.\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:327
#, no-wrap
msgid ""
"          --with-platform=efi and --target=x86_64 are mandatory for the efi\n"
"             and x86_64 build\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:332
#, no-wrap
msgid ""
"         The other configure options added to the ones in LFS-7.10 and\n"
"         LFS-SVN were employed to insure that grub is built and installed\n"
"         in the directories used in this hint.  They may be used or\n"
"         eliminated based on individual use and preference.\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:337
#, no-wrap
msgid "        make\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:341
#, no-wrap
msgid "        make install\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:343
#, no-wrap
msgid "      Post installation of the Unifont files, do a\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:346
#, no-wrap
msgid ""
"        grub-mkfont -o /usr/share/grub/unicode.pf2 > \\\n"
"         /usr/share/fonts/unifont/unifont.pcf\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:349
#, no-wrap
msgid "      UNIFONT 9.0.06\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:353
msgid ""
"In the 2014-01-16 hint, the Unifont installtion got a mention further down "
"but as the 2017-01-22 hint's build made use of those fonts, they're here"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:355
#, no-wrap
msgid "      Download: http://unifoundry.com/pub/unifont-9.0.06/font-builds/unifont-9.0.06.pcf.gz\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:357
#, no-wrap
msgid "      Install the font files\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:361
#, no-wrap
msgid ""
"        mkdir -pv /usr/share/fonts/unifont\n"
"        gunzip -c /path/to/EXTRA-SRCS-7.10/unifont-9.0.06.pcf.gz > \\\n"
"         /usr/share/fonts/unifont/unifont.pcf\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:364
msgid "LFS CHAPTER 7:"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:366
#, no-wrap
msgid "     When constructing the file /etc/fstab, add the following lines:\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:368
#, no-wrap
msgid "      /dev/sda(x)     /boot/efi    vfat     defaults            0     1\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:370
#, no-wrap
msgid "      efivarfs       /sys/firmware/efi/efivars  efivarfs  defaults  0      1\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:372
#, no-wrap
msgid "     where /dev/sda(x) is the EFI partion\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:374
msgid "Notes:"
msgstr ""

#. type: Bullet: '1) '
#: origin/lfs-uefi-20170207.txt:379
msgid ""
"If you are going to be booting your UEFI-aware LFS system using a non-LFS "
"Grub from your host AND if that Grub is one (eg Fedora)  that allows for the "
"kernel to be specified using that Grub's \"linuxefi\" attribute, so"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:381
#, no-wrap
msgid "     linuxefi  /path/to/kernel root=/path/to/root ro\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:385
#, no-wrap
msgid ""
"   then you don't appear to need the /etc/fstab line, and indeed, \n"
"   you'll get told during the boot that the mounter knows nothing\n"
"   about the efivars filesystem type.\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:388
#, no-wrap
msgid ""
"   However, LFS's efibootmgr will still be capable of interrogating\n"
"   your UEFI environment.\n"
msgstr ""

#. type: Bullet: '2) '
#: origin/lfs-uefi-20170207.txt:391
msgid ""
"If the LFS system is booted from the LFS+Hint's grub, which doesn't appear "
"to know about the \"linuxefi\" attribute so using"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:393
#, no-wrap
msgid "    linux  /path/to/kernel root=/path/to/root ro\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:398
#, no-wrap
msgid ""
"   then, unless you have the efivars filesystem mounted, and you are\n"
"   able to, then LFS's efibootmgr will be NOT capable of interrogating\n"
"   your UEFI environment, and you'll be told that there is no efivars\n"
"   filesystem\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:402
msgid "LFS CHAPTER 8:"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:404
#, no-wrap
msgid "   KERNEL CONFIGURATION OPTIONS FOR EFI\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:411
msgid ""
"The LFS 7.10 kernel build's \"make defconfig\" populated a good number of "
"the EFI-related options on my UEFI-enabled hardware, however, so as to make "
"the 2014-10-16 hint's list of settings easier to find when coming to alter/"
"set things, here is the list of the options along with the location of the "
"various checkboxes and the settings they should have, as seen when starting "
"from a \"make menuconfig\""
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:413
#, no-wrap
msgid "     ## CONFIG_EFI_PARTITION=y\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:420
#, no-wrap
msgid ""
"       Location:\n"
"         -> Enable the block layer\n"
"           -> Partition Types\n"
"             [*] Advanced partition selection\n"
"             ...\n"
"             [*] EFI GUID Partition support\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:423
#, no-wrap
msgid ""
"     ## CONFIG_EFI=y\n"
"     ## CONFIG_EFI_STUB=y\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:428
#, no-wrap
msgid ""
"       Location:\n"
"         -> Processor type and features\n"
"           [*] EFI runtime service support\n"
"           [*]   EFI stub support\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:430
#, no-wrap
msgid "     ## CONFIG_FB_EFI=y\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:436
#, no-wrap
msgid ""
"       Location:\n"
"         -> Device Drivers\n"
"           -> Graphics support\n"
"             -> Frame buffer Devices\n"
"               [*] EFI-based Framebuffer Support\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:438
#, no-wrap
msgid "     ## CONFIG_FRAMEBUFFER_CONSOLE=y\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:444
#, no-wrap
msgid ""
"       Location:\n"
"         -> Device Drivers\n"
"           -> Graphics support\n"
"             -> Console display driver support\n"
"               Framebuffer Console support      (Not available on mine)\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:447
#, no-wrap
msgid ""
"     ## CONFIG_EFI_VARS is not set\n"
"     ## CONFIG_EFI_RUNTIME_MAP=y\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:453
#, no-wrap
msgid ""
"       Location:\n"
"         -> Firmware Drivers\n"
"           -> EFI (Extensible Firmware Interface) Support\n"
"             < > EFI Variable Support via sysfs\n"
"             [*] Export efi runtime maps to sysfs\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:456
#, no-wrap
msgid "     ## CONFIG_EFIVAR_FS=y\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:461
#, no-wrap
msgid ""
"        Location:\n"
"          -> File systems\n"
"            -> Pseudo filesystems\n"
"              [*] EFI Variable filesystem\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:464
msgid "Note:"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:467
msgid ""
"The only Kernel Config setting that a 'make defconfig' didn't set on the "
"UEFI-enabled host was this one:"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:469
#, no-wrap
msgid "     ## CONFIG_EFI_STUB=y\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:472
msgid ""
"and without that setting in the kernel, attempts to boot the LFS system tell "
"you that:"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:474
#, no-wrap
msgid "  Kernel doesn't support EFI handover\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:477
msgid ""
"however, adding just that one Kernel Config setting sees you able to boot "
"into the LFS system using the host system's Grub."
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:481
msgid "USING GRUB TO SET UP THE BOOT PROCESS"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:483
msgid "INSTALLING GRUB TO THE EFI PARTITION"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:493
#, no-wrap
msgid ""
"  Installing GRUB to the EFI partition and creating an OS Boot Manager\n"
"  entry is the major difference between the recipes in this hint and the\n"
"  procedures in the LFS book.  In concept, it is not actually a divergence\n"
"  from the concepts of the book.  The instructions there install GRUB to\n"
"  the MBR, the MBR protected layer of a GPT disk or to a dedicated /boot\n"
"  partition.  The recipes here install GRUB to the EFI partition and\n"
"  generate an entry in the system's Boot Manager.  It is for the single\n"
"  command here that this hint was written and for which all the non-LFS\n"
"  packages were installed.\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:496
#, no-wrap
msgid ""
"    grub-install --target=x86_64-efi --efi-directory=/boot/efi  \\\n"
"       --bootloader-id=LFS --recheck --debug\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:500
#, no-wrap
msgid ""
"    --efi-directory=<EFI Mount Point> not the actual EFI partition\n"
"    --bootloader-id=<some name> is the directory on the EFI partition to\n"
"      which the GRUB image is written.\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:505
#, no-wrap
msgid ""
"  Running this command generates lots of output.  But at the end it will\n"
"  indicate that it was successful.  This command installs the GRUB image to\n"
"  /boot/efi/EFI/LFS/grubx64.efi and creates the entry \"LFS\" in the system's\n"
"  Boot Manager.\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:511
#, no-wrap
msgid ""
"  To check it, inspect the contents of /boot/efi/EFI/LFS and, as root, run\n"
"  <efibootmgr>.  The results of this command will list the Boot Order and\n"
"  all the Boot Entries.  If the entry \"LFS\" does not appear, read the\n"
"  efibootmgr man page, create an entry and change the Boot Order to what is\n"
"  desired.\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:513
msgid "CONFIGURING GRUB"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:515
#, no-wrap
msgid "  Generate grub.cfg:\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:520
#, no-wrap
msgid ""
"  cat > /boot/grub/grub.cfg << \"EOF\"\n"
"  # Begin /boot/grub/grub.cfg\n"
"  set default=0\n"
"  set timeout=5\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:526
#, no-wrap
msgid ""
"  insmod gzio\n"
"  insmod part_gpt\n"
"  insmod ext2\n"
"  set root=(hd[x], gpt[y])\n"
"  # hd[x] is the drive of the LFS partion and gpt[y] is the partition\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:537
#, no-wrap
msgid ""
"  insmod efi_gop\n"
"  insmod efi_uga\n"
"  insmod font\n"
"  if loadfont /grub/unicode.pf2; then\n"
"    loadfont /grub/unicode.pf2\n"
"    set gfxmode=auto\n"
"    insmod gfxterm\n"
"    set gfxpayload=keep\n"
"    terminal_output gfxterm\n"
"  fi\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:542
#, no-wrap
msgid ""
"  menuentry \"GNU/Linux, Linux <kernel name>\"  {\n"
"    linux   /boot/vmlinuz-<kernel name> root=/dev/sda[x] ro\n"
"  }  \n"
"  EOF\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:544
#, no-wrap
msgid "  Note that in \"menuentry\" /dev/sda[x] is the device of the LFS partition.\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:546
msgid "FINAL DISCUSSION:"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:554
msgid ""
"As stated before, the implementation of UEFI firmware and its manipulation "
"depends hugely on the manufacturer.  As of the initial writing of this hint, "
"there is no standard approach.  Therefore, while the recipes here all do "
"what is advertised, regrettably the system may not default to the grub boot "
"loader \"out of the box.\" In that case, reviewing References 1-3, will "
"provide information that will lead users to a solution to the situation.  As "
"always, one of the best resources is the {,B}LFS mailing lists."
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:559
msgid ""
"At this point, it is worth stating that there are other helpfultools: "
"gummiboot and rEFInd are two of them.  They are described as Boot Managers, "
"but in fact are a user space layer between the OS Boot Manager and the Boot "
"Loader.  Information about both is in the references."
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:561
msgid "REFERENCES:"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:567
#, no-wrap
msgid ""
"1.  Rod's Books  A collection of web page articles that goes into great\n"
"    detail about the concepts of  UEFI booting, partitioning and tools.\n"
"    The below URL goes right to the efi information.  www.rodsbooks.com is\n"
"    the main page and has many, many good articles.\n"
"  URL:  http://www.rodsbooks.com/efi-bootloaders/index.html\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:571
#, no-wrap
msgid ""
"2.   \"Unified Extensible Firmware Interface-ArchWiki\"\n"
"  URL:  https://wiki.archlinux.org/index.php/\n"
"          Unified_Extensible_Firmware_Interface\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:574
#, no-wrap
msgid ""
"3.  \"GRUB-ArchWiki\"\n"
"  URL:  https://wiki.archlinux.org/index.php/GRUB\n"
msgstr ""

#. type: Bullet: '4.  '
#: origin/lfs-uefi-20170207.txt:576
msgid "Google"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:582
#, no-wrap
msgid ""
"ACKNOWLEDGEMENTS:\n"
"  * Craig Magee <lfs-support at lists.linuxfromscratch.org> for comments and testing\n"
"  * Pierre Labastie <http://lists.linuxfromscratch.org/listinfo/lfs-dev> for testing,\n"
"    font manipulation and comments.\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:590
#, no-wrap
msgid ""
"TODO:\n"
"  *  Add paragraph and section numbers and TOC to make searchable\n"
"  *  Add appendix for migration from Legacy Boot to UEFI boot\n"
"  *  Add appendix for more options to default to GRUB\n"
"  *  Add appendix for LVM\n"
"  *  Add appendix for \"standalone\" GRUB on EFI partition independent\n"
"     from distro\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:599
#, no-wrap
msgid ""
"CHANGELOG:\n"
"[TBD]\n"
"  * 2017-01-22 \n"
"    Updated for LFS 7.10 and \"extra package\" updates\n"
"    dosfstools-3.0.26 -> dosfstools-3.0.28\n"
"    efivar-0.12       -> efivar-30\n"
"    efibootmgr-0.9.0  -> efibootmgr-14\n"
"    unifont-7.0.05    -> unifont-9.0.06\n"
msgstr ""

#. type: Plain text
#: origin/lfs-uefi-20170207.txt:603
#, no-wrap
msgid ""
"[TBD]\n"
"  * 2014-10-16\n"
"    Initial hint.\n"
msgstr ""
