<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
  "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../general.ent">
  %general-entities;
]>

<sect1 id="ch-tools-flex" role="wrap">
  <?dbhtml filename="flex.html"?>

  <sect1info condition="script">
    <productname>flex</productname>
    <productnumber>&flex-version;</productnumber>
    <address>&flex-url;</address>
  </sect1info>

  <title>Flex-&flex-version;</title>

  <indexterm zone="ch-tools-flex">
    <primary sortas="a-Flex">Flex</primary>
    <secondary>tools</secondary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
    href="../chapter06/flex.xml"
    xpointer="xpointer(/sect1/sect2[1]/para[1])"/>

    <segmentedlist>
      <segtitle>&buildtime;</segtitle>
      <segtitle>&diskspace;</segtitle>

      <seglistitem>
        <seg>&flex-ch5-sbu;</seg>
        <seg>&flex-ch5-du;</seg>
      </seglistitem>
    </segmentedlist>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Flex</title>

    <para>Prepare Flex for compilation:</para>

<screen><userinput remap="configure">./configure --prefix=/usr                     \
            --host=$LFS_TGT                   \
            --build=$(build-aux/config.guess) \
            --disable-bootstrap               \
            --docdir=/usr/share/doc/flex-&flex-version;</userinput></screen>

    <variablelist>
      <title>The meaning of the new configure option:</title>

      <varlistentry>
        <term><parameter>--disable-bootstrap</parameter></term>
	<listitem>
          <para>Normally, building flex is done in two stages. A first
	  programs, which is used to generate the source of a second one,
	  which is then compiled. When using cross-compilation, the first
	  program is generated on the build systemd. However, due to a bug
	  in configure, the presence of some funciton is tested only on the
	  host system. If this function is not found on the build system, the
	  build fails. This can be prevented by disabling the two stage
	  build.</para>
	</listitem>
      </varlistentry>
    </variablelist>

    <para>Compile the package:</para>

<screen><userinput remap="make">make</userinput></screen>

    <para>Install the package:</para>

<screen><userinput remap="install">make DESTDIR=$LFS install</userinput></screen>

  </sect2>

  <sect2 role="content">
    <title/>

    <para>Details on this package are located in
    <xref linkend="contents-flex" role="."/></para>

  </sect2>

</sect1>
