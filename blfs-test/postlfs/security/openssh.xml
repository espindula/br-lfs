<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
    "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
   <!ENTITY % general-entities SYSTEM "../../general.ent">
   %general-entities;
   
   <!ENTITY openssh-download-http "http://ftp.openbsd.org/pub/OpenBSD/OpenSSH/portable/openssh-&openssh-version;.tar.gz">
   <!ENTITY openssh-download-ftp  "ftp://ftp.openbsd.org/pub/OpenBSD/OpenSSH/portable/openssh-&openssh-version;.tar.gz">
   <!ENTITY openssh-md5sum        "afe17eee7e98d3b8550cc349834a85d0">
   <!ENTITY openssh-size          "1.1 Mio">
   <!ENTITY openssh-buildsize     "44 Mio">
   <!ENTITY openssh-time          "3.5 SBU (including the test suite)">
   
]>
<sect1 id="openssh" xreflabel="OpenSSH-&openssh-version;">
   <?dbhtml filename="openssh.html"?>
   
   <sect1info>
      <othername>$LastChangedBy: krejzi $</othername>
      <date>$Date: 2012-04-06 14:13:40 +0200 (ven. 06 avril 2012) $</date>
   </sect1info>
   
   <title></title> 
   
   <para>
       <application></application>  <command></command>  <command></command>  <command></command> 
       <command></command>  <command></command>  <command></command>  
   </para> 
   
   &lfs70_checked;
   <indexterm zone="openssh">
      <primary sortas="a-OpenSSH"> OpenSSH </primary>
   </indexterm>
   
   <sect2 role="package">
      <title></title> 
      
      <bridgehead renderas="sect3"> Informations sur le paquet </bridgehead>
      <itemizedlist spacing="compact">
         <listitem>
            <para>
                <ulink url="&openssh-download-http;"/>  
            </para> 
         </listitem>
         <listitem>
            <para>
                <ulink url="&openssh-download-ftp;"/> 
            </para> 
         </listitem>
         <listitem>
            <para>
            </para> 
         </listitem>
         <listitem>
            <para>
            </para> 
         </listitem>
         <listitem>
            <para>
            </para> 
         </listitem>
         <listitem>
            <para>
            </para> 
         </listitem>
      </itemizedlist>
      
      <bridgehead renderas="sect3"> Dépendances d'OpenSSH </bridgehead>
      
      <bridgehead renderas="sect4"> Requises </bridgehead>
      
      <para role="required">
         <xref linkend="openssl"/> 
      </para> 
      
      <bridgehead renderas="sect4"> Facultatives </bridgehead>
      
      <para role="optional">
         <xref linkend="linux-pam"/> <xref linkend="tcpwrappers"/>
          <xref linkend="x-window-system"/> <xref linkend="mitkrb"/>
          <ulink url="http://www.thrysoee.dk/editline/">  </ulink>
          <command></command>  <ulink url="http://www.opensc-project.org/">  </ulink>
          <ulink url="http://www.citi.umich.edu/projects/smartcard/sectok.html">  </ulink>
      </para> 
      
      <bridgehead renderas="sect4"> Facultatives Runtime (Used only to gather entropy) </bridgehead>
      
      <para role="optional">
         <xref linkend="icedtea6"/> <xref linkend="jdk"/>
          <xref linkend="net-tools"/> <xref linkend="sysstat"/>
      </para> 
      
      <para condition="html" role="usernotes">
          <ulink url='&blfs-wiki;/OpenSSH'/> 
      </para> 
      
   </sect2>
   
   <sect2 role="installation">
      <title></title> 
      
      <para>
         <application></application>  <systemitem class="username">  </systemitem>  
      </para> 
      
<screen role="root">
<userinput>install -v -m700 -d /var/lib/sshd &amp;&amp;
chown -v root:sys /var/lib/sshd &amp;&amp;
groupadd -g 50 sshd &amp;&amp;
useradd -c 'sshd PrivSep' -d /var/lib/sshd -g sshd \
    -s /bin/false -u 50 sshd</userinput></screen>
      
      <para>
         <application></application>  <application></application>  <application></application> 
         <application></application>  <application></application>  
      </para> 
      
<screen><userinput>sed -i 's@-lcrypto@/usr/lib/libcrypto.a -ldl@' configure</userinput></screen>
      
      <para>
          <application></application>  
      </para> 
      
<screen><userinput>sed -i.bak '/K5LIBS=/s/ -ldes//' configure &amp;&amp;
./configure --prefix=/usr \
            --sysconfdir=/etc/ssh \
            --datadir=/usr/share/sshd \
            --libexecdir=/usr/lib/openssh \
            --with-md5-passwords \
            --with-privsep-path=/var/lib/sshd &amp;&amp;
make</userinput></screen>
      
      <para>
          <application></application>  <option>
          </option>
          <filename>/etc/hosts.allow</filename>  <filename>/etc/hosts.deny</filename> 
          <command></command>  <filename class="directory">/usr/bin</filename>  
      </para> 
      
      <para>
      </para> 
      
<screen role="root">
<userinput>make tests 2&gt;&amp;1 | tee check.log
grep FATAL check.log</userinput></screen>
      
      <para>
          <systemitem class="username">  </systemitem>  
      </para> 
      
<screen role="root">
<userinput>make install &amp;&amp;
install -v -m755 -d /usr/share/doc/openssh-&openssh-version; &amp;&amp;
install -v -m644 INSTALL LICENCE OVERVIEW README* \
    /usr/share/doc/openssh-&openssh-version;</userinput></screen>
      
   </sect2>
   
   <sect2 role="commands">
      <title></title> 
      
      <para>
         <command></command>  <option>
          </option>
          <application></application>  
      </para> 
      
      <para>
      <parameter> </parameter>  <filename class="directory">/usr/etc</filename>  
      </para> 
      
      <para>
      <parameter> </parameter>  <filename class="directory">/usr/share/sshd</filename>  
      </para> 
      
      <para>
      <parameter> </parameter>  
      </para> 
      
      <para>
      <parameter> </parameter>  <filename class="directory">/usr/lib/openssh</filename>  <filename
      class="directory">
         /usr/libexec</filename>  
      </para> 
      
      <para>
      <parameter> </parameter>  <application></application>  
      </para> 
      
      <para>
      <parameter> </parameter>  <command></command>  <command></command> 
      <filename>sshd_config</filename>  <application></application>  
      </para> 
      
      <para>
      <parameter> </parameter>  
      </para> 
      
   </sect2>
   
   <sect2 role="configuration">
      <title></title> 
      
      <para>
          <command></command>  <command></command>  
      </para> 
      
      <sect3 id="openssh-config">
         <title></title> 
         
         <para>
            <filename>~/.ssh/*</filename>  <filename>/etc/ssh/ssh_config</filename> 
            <filename>/etc/ssh/sshd_config</filename> 
         </para> 
         <indexterm zone="openssh openssh-config">
            <primary sortas="e-AA.ssh"> ~/.ssh/* </primary>
         </indexterm>
         <indexterm zone="openssh openssh-config">
            <primary sortas="e-etc-ssh-ssh_config"> /etc/ssh/ssh_config </primary>
         </indexterm>
         <indexterm zone="openssh openssh-config">
            <primary sortas="e-etc-ssh-sshd_config"> /etc/ssh/sshd_config </primary>
         </indexterm>
         
         <para>
             <filename class='directory'>/etc/ssh/</filename>  <systemitem class='username'> 
             </systemitem> <command></command>  <systemitem class='username'>  </systemitem>
             <systemitem class='username'>
             </systemitem> <command></command>  
         </para> 
         
<screen role="root">
<userinput>echo "PermitRootLogin no" &gt;&gt; /etc/ssh/sshd_config</userinput></screen>
         
         <para>
             <application></application>  <application></application>  <application></application> 
             <systemitem class='username'>  </systemitem>  
         </para> 
         
<screen role="root">
<userinput>sed 's@d/login@d/sshd@g' /etc/pam.d/login &gt; /etc/pam.d/sshd &amp;&amp;
chmod 644 /etc/pam.d/sshd &amp;&amp;
echo "USEPAM yes" &gt;&gt; /etc/ssh/sshd_config</userinput></screen>
         
         <para>
             <command></command>  <command></command>  <command></command>  
         </para> 
         
      </sect3>
      
      <sect3  id="openssh-init">
         <title></title> 
         
         <para>
             <filename>/etc/rc.d/init.d/sshd</filename>  <xref linkend="bootscripts"/> 
         </para> 
         <indexterm zone="openssh openssh-init">
            <primary sortas="f-sshd"> sshd </primary>
         </indexterm>
         
<screen role="root">
<userinput>make install-sshd</userinput></screen>
         
      </sect3>
      
   </sect2>
   
   <sect2 role="content">
      <title></title> 
      
      <segmentedlist>
         <segtitle>Programmes installés</segtitle>
         <segtitle>Bibliothèques installées</segtitle>
         <segtitle>Répertoires installés</segtitle>
         
         <seglistitem>
            <seg>
               
            </seg>
            <seg>
               
            </seg>
            <seg>
               
            </seg>
         </seglistitem>
      </segmentedlist>
      <variablelist>
      
      <bridgehead renderas="sect3"> Descriptions courtes </bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>
      
      <varlistentry id="scp">
         <term><command>scp</command> </term>
         <listitem>
            <para>
                <command></command>  
            </para> 
            <indexterm zone="openssh scp">
               <primary sortas="b-scp"> scp </primary>
            </indexterm>
         </listitem>
      </varlistentry>
      
      <varlistentry id="sftp">
         <term><command>sftp</command> </term>
         <listitem>
            <para>
            </para> 
            <indexterm zone="openssh sftp">
               <primary sortas="b-sftp"> sftp </primary>
            </indexterm>
         </listitem>
      </varlistentry>
      
      <varlistentry id="sftp-server">
         <term><command>sftp-server</command> </term>
         <listitem>
            <para>
            </para> 
            <indexterm zone="openssh sftp-server">
               <primary sortas="b-sftp-server"> sftp-server </primary>
            </indexterm>
         </listitem>
      </varlistentry>
      
      <varlistentry id="slogin">
         <term><command>slogin</command> </term>
         <listitem>
            <para>
                <command></command>  
            </para> 
            <indexterm zone="openssh slogin">
               <primary sortas="g-slogin"> slogin </primary>
            </indexterm>
         </listitem>
      </varlistentry>
      
      <varlistentry id="ssh">
         <term><command>ssh</command> </term>
         <listitem>
            <para>
                <command></command>  <command></command>  
            </para> 
            <indexterm zone="openssh ssh">
               <primary sortas="b-ssh"> ssh </primary>
            </indexterm>
         </listitem>
      </varlistentry>
      
      <varlistentry id="sshd">
         <term><command>sshd</command> </term>
         <listitem>
            <para>
                <command></command>  
            </para> 
            <indexterm zone="openssh sshd">
               <primary sortas="b-sshd"> sshd </primary>
            </indexterm>
         </listitem>
      </varlistentry>
      
      <varlistentry id="ssh-add">
         <term><command>ssh-add</command> </term>
         <listitem>
            <para>
                <command></command>  
            </para> 
            <indexterm zone="openssh ssh-add">
               <primary sortas="b-ssh-add"> ssh-add </primary>
            </indexterm>
         </listitem>
      </varlistentry>
      
      <varlistentry id="ssh-agent">
         <term><command>ssh-agent</command> </term>
         <listitem>
            <para>
            </para> 
            <indexterm zone="openssh ssh-agent">
               <primary sortas="b-ssh-agent"> ssh-agent </primary>
            </indexterm>
         </listitem>
      </varlistentry>
      
      <varlistentry id="ssh-keygen">
         <term><command>ssh-keygen</command> </term>
         <listitem>
            <para>
            </para> 
            <indexterm zone="openssh ssh-keygen">
               <primary sortas="b-ssh-keygen"> ssh-keygen </primary>
            </indexterm>
         </listitem>
      </varlistentry>
      
      <varlistentry id="ssh-keyscan">
         <term><command>ssh-keyscan</command> </term>
         <listitem>
            <para>
            </para> 
            <indexterm zone="openssh ssh-keyscan">
               <primary sortas="b-ssh-keyscan"> ssh-keyscan </primary>
            </indexterm>
         </listitem>
      </varlistentry>
      
      <varlistentry id="ssh-keysign">
         <term><command>ssh-keysign</command> </term>
         <listitem>
            <para>
                <command></command>  
            </para> 
            <indexterm zone="openssh ssh-keysign">
               <primary sortas="b-ssh-keysign"> ssh-keysign </primary>
            </indexterm>
         </listitem>
      </varlistentry>
      </variablelist>
      
   </sect2>
   
</sect1>
