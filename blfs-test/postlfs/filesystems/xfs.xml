<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
    "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
   <!ENTITY % general-entities SYSTEM "../../general.ent">
   %general-entities;
   
   <!ENTITY xfsprogs-download-http "&files-anduin;/sources/xfsprogs-&xfsprogs-version;.tar.gz">
   <!ENTITY xfsprogs-download-ftp " ">
   <!ENTITY xfsprogs-md5sum        "049cf9873794ea49d0bb3f12d45748a4">
   <!ENTITY xfsprogs-size          "1.3 Mio">
   <!ENTITY xfsprogs-buildsize     "36 Mio">
   <!ENTITY xfsprogs-time          "0.5 SBU">
   
]>
<sect1 id="xfs" xreflabel="xfs-&xfsprogs-version;">
   <?dbhtml filename="xfsfs.html"?>
   
   <sect1info>
      <othername>$LastChangedBy: bdubbs $</othername>
      <date>$Date: 2012-01-30 05:00:39 +0100 (lun. 30 janv. 2012) $</date>
   </sect1info>
   
   <title>xfs-&xfsprogs-version;</title> 
   
   <indexterm zone="xfs">
      <primary sortas="a-XFS"> XFS </primary>
   </indexterm>
   
   <sect2 role="package">
      <title>Introduction à xfs</title> 
      
      <para>
         Le paquet <application>xfs</application> contient des outils d'administration et de
         débogage pour le système de fichiers XFS. 
      </para> 
      
      &lfs70_checked;
      
      <bridgehead renderas="sect3"> Informations sur le paquet </bridgehead>
      <itemizedlist spacing="compact">
         <listitem>
            <para>
               Téléchargement (HTTP): <ulink url="&xfsprogs-download-http;"/> 
            </para> 
         </listitem>
         <listitem>
            <para>
               Téléchargement (FTP): <ulink url="&xfsprogs-download-ftp;"/> 
            </para> 
         </listitem>
         <listitem>
            <para>
               Somme de contrôle MD5 du téléchargement: &xfsprogs-md5sum; 
            </para> 
         </listitem>
         <listitem>
            <para>
               Taille du téléchargement: &xfsprogs-size; 
            </para> 
         </listitem>
         <listitem>
            <para>
               Estimation de l'espace disque requis: &xfsprogs-buildsize; 
            </para> 
         </listitem>
         <listitem>
            <para>
               Estimation du temps de construction: &xfsprogs-time; 
            </para> 
         </listitem>
      </itemizedlist>
      <caution>
      
      <para>
         Les développeurs de XFS suppriment régulièrement le paquet actuel lorsqu'un nouveau paquet
         est disponible. Cela a malheureusement conduit à des incompatibilités sévères, notamment
         des <ulink url="http://bugs.debian.org/465737"> systèmes de fichiers non dénmontables
         </ulink>
         , du fait d'exigences d'une version de noyau dans les nouvelles versions du paquet.
         L'utilisation d'une version qui n'est pas dans le livre est fortement déconseillée. Des
         informations complémentaires sont disponibles sur la page du projet <ulink
         url="http://oss.sgi.com/projects/xfs/"> XFS </ulink>
         . 
      </para> 
      </caution>
      
      <para condition="html" role="usernotes">
         Notes utilisateur: <ulink url="&blfs-wiki;/xfs"/> 
      </para> 
      
   </sect2>
   
   <sect2 role="kernel" id='xfs-kernel'>
      <title>Configuration du noyau</title> 
      
      <para>
         Activez l'option suivante dans la configuration du noyau et recompilez le noyau: 
      </para> 
      
<screen><literal>
</literal>
</screen>
      <indexterm zone="xfs xfs-kernel">
         <primary sortas="d-xfs"> XFS Programs </primary>
      </indexterm>
      
   </sect2>
   
   <sect2 role="installation">
      <title>Installation de xfsprogs</title> 
      
      <para>
         Installez <application>xfs</application> en lançant les commandes suivantes: 
      </para> 
      
<screen><userinput>make DEBUG=-DNDEBUG INSTALL_USER=root INSTALL_GROUP=root \
    LOCAL_CONFIGURE_OPTIONS="--enable-readline=yes"</userinput></screen>
      
      <para>
         Ce paquet n'est pas fourni avec une suite de tests. 
      </para> 
      
      <para>
         Maintenant, en tant qu'utilisateur <systemitem class="username"> root </systemitem>&nbsp;: 
         
      </para> 
      
<screen role="root">
<userinput>make install &amp;&amp;
make install-dev &amp;&amp;
chmod -v 755 /lib/libhandle.so.1.*</userinput></screen>
      
   </sect2>
   
   <sect2 role="commands">
      <title>Explication des commandes</title> 
      
      <para>
         <command>make DEBUG=-DNDEBUG</command>&nbsp;: Désactive les symboles de débogage. 
      </para> 
      
      <para>
      <parameter>INSTALL_USER=root INSTALL_GROUP=root </parameter>&nbsp;: Ceci règle le propriétaire
      et le groupe des fichiers installés. 
      </para> 
      
      <para>
      <parameter>LOCAL_CONFIGURE_OPTIONS="..." </parameter>&nbsp;: Ceci passe des options de
      configuration supplémentaires au script <filename>configure</filename> . L'exemple du
      paramètre <parameter>--enable-readline=yes </parameter> active le lien des programmes XFS à la
      bibliothèque <filename class="libraryfile">libreadline.so</filename> afin de permettre
      l'édition de commandes interactives. 
      </para> 
      
      <para>
      <parameter>OPTIMIZER="..." </parameter>&nbsp;: L'ajout de ce paramètre à la fin de la commande
      <command>make</command> écrase les paramètres d'optimisation par défaut. 
      </para> 
      
      <para>
         <command>make install-dev</command>&nbsp;: Cette commande installe les bibliothèques, les
         en-têtes de XFS et leur documentation correspondante. 
      </para> 
      
   </sect2>
   
   <sect2 role="content">
      <title>Contenu</title> 
      
      <segmentedlist>
         <segtitle>Programmes installés</segtitle>
         <segtitle>Bibliothèques installées</segtitle>
         <segtitle>Répertoire installé</segtitle>
         
         <seglistitem>
            <seg>
               fsck.xfs, mkfs.xfs, xfs_admin, xfs_bmap, xfs_check, xfs_copy, xfs_db, xfs_freeze,
               xfs_growfs, xfs_info, xfs_io, xfs_logprint, xfs_mdrestore, xfs_metadump, xfs_mkfile,
               xfs_ncheck, xfs_quota, xfs_repair, et xfs_rtcp
            </seg>
            <seg>
               libdisk.a, libhandle.{so,a}, libxcmd.a, libxfs.a, et libxlog.a
            </seg>
            <seg>
               /usr/share/doc/xfsprogs
            </seg>
         </seglistitem>
      </segmentedlist>
      <variablelist>
      
      <bridgehead renderas="sect3"> Descriptions courtes </bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>
      
      <varlistentry id="fsck.xfs">
         <term><command>fsck.xfs</command> </term>
         <listitem>
            <para>
               quitte simplement avec le statut zéro puisque les partitions XFS sont vérifiées au
               moment du montage. 
            </para> 
            <indexterm zone="xfs fsck.xfs">
               <primary sortas="b-fsck.xfs"> fsck.xfs </primary>
            </indexterm>
         </listitem>
      </varlistentry>
      
      <varlistentry id="mkfs.xfs">
         <term><command>mkfs.xfs</command> </term>
         <listitem>
            <para>
               construit un système de fichiers XFS. 
            </para> 
            <indexterm zone="xfs mkfs.xfs">
               <primary sortas="b-mkfs.xfs"> mkfs.xfs </primary>
            </indexterm>
         </listitem>
      </varlistentry>
      
      <varlistentry id="xfs_admin">
         <term><command>xfs_admin</command> </term>
         <listitem>
            <para>
               modifie les paramètres d'un système de fichiers XFS. 
            </para> 
            <indexterm zone="xfs xfs_admin">
               <primary sortas="b-xfs_admin"> xfs_admin </primary>
            </indexterm>
         </listitem>
      </varlistentry>
      
      <varlistentry id="xfs_bmap">
         <term><command>xfs_bmap</command> </term>
         <listitem>
            <para>
               affiche la correspondance d'un bloc d'un fichier XFS. 
            </para> 
            <indexterm zone="xfs xfs_bmap">
               <primary sortas="b-xfs_bmap"> xfs_bmap </primary>
            </indexterm>
         </listitem>
      </varlistentry>
      
      <varlistentry id="xfs_check">
         <term><command>xfs_check</command> </term>
         <listitem>
            <para>
               vérifie la cohérence d'un système de fichiers XFS. 
            </para> 
            <indexterm zone="xfs xfs_check">
               <primary sortas="b-xfs_check"> xfs_check </primary>
            </indexterm>
         </listitem>
      </varlistentry>
      
      <varlistentry id="xfs_copy">
         <term><command>xfs_copy</command> </term>
         <listitem>
            <para>
               copie le contenu d'un système de fichiers XFS vers une ou plusieurs cibles en
               parallèle. 
            </para> 
            <indexterm zone="xfs xfs_copy">
               <primary sortas="b-xfs_copy"> xfs_copy </primary>
            </indexterm>
         </listitem>
      </varlistentry>
      
      <varlistentry id="xfs_db">
         <term><command>xfs_db</command> </term>
         <listitem>
            <para>
               est utilisé pour déboguer un système de fichiers XFS. 
            </para> 
            <indexterm zone="xfs xfs_db">
               <primary sortas="b-xfs_db"> xfs_db </primary>
            </indexterm>
         </listitem>
      </varlistentry>
      
      <varlistentry id="xfs_freeze">
         <term><command>xfs_freeze</command> </term>
         <listitem>
            <para>
               suspend l'accès à un système de fichiers XFS. 
            </para> 
            <indexterm zone="xfs xfs_freeze">
               <primary sortas="b-xfs_freeze"> xfs_freeze </primary>
            </indexterm>
         </listitem>
      </varlistentry>
      
      <varlistentry id="xfs_growfs">
         <term><command>xfs_growfs</command> </term>
         <listitem>
            <para>
               étend un système de fichiers XFS. 
            </para> 
            <indexterm zone="xfs xfs_growfs">
               <primary sortas="b-xfs_growfs"> xfs_growfs </primary>
            </indexterm>
         </listitem>
      </varlistentry>
      
      <varlistentry id="xfs_info">
         <term><command>xfs_info</command> </term>
         <listitem>
            <para>
               revient à appeler <command>xfs_growfs</command> , mais en indiquant qu'aucun
               changement ne sera apporté au système de fichiers. 
            </para> 
            <indexterm zone="xfs xfs_info">
               <primary sortas="b-xfs_info"> xfs_info </primary>
            </indexterm>
         </listitem>
      </varlistentry>
      
      <varlistentry id="xfs_io">
         <term><command>xfs_io</command> </term>
         <listitem>
            <para>
               est un outil de débogage comme <command>xfs_db</command> , mais il vise à examiner le
               chemin d'E/S des fichiers réguliers plutôt que le volume XFS raw lui-même. 
            </para> 
            <indexterm zone="xfs xfs_io">
               <primary sortas="b-xfs_io"> xfs_io </primary>
            </indexterm>
         </listitem>
      </varlistentry>
      
      <varlistentry id="xfs_logprint">
         <term><command>xfs_logprint</command> </term>
         <listitem>
            <para>
               affiche le journal d'un système de fichiers XFS. 
            </para> 
            <indexterm zone="xfs xfs_logprint">
               <primary sortas="b-xfs_logprint"> xfs_logprint </primary>
            </indexterm>
         </listitem>
      </varlistentry>
      
      <varlistentry id="xfs_mdrestore">
         <term><command>xfs_mdrestore</command> </term>
         <listitem>
            <para>
               restaure une image métaenvoyée XFS vers une imagede système de fichiers. 
            </para> 
            <indexterm zone="xfs xfs_mdrestore">
               <primary sortas="b-xfs_mdrestore"> xfs_mdrestore </primary>
            </indexterm>
         </listitem>
      </varlistentry>
      
      <varlistentry id="xfs_metadump">
         <term><command>xfs_metadump</command> </term>
         <listitem>
            <para>
               copie les métadonnées d'un système de fichiers XFS dans un fichier. 
            </para> 
            <indexterm zone="xfs xfs_metadump">
               <primary sortas="b-xfs_metadump"> xfs_metadump </primary>
            </indexterm>
         </listitem>
      </varlistentry>
      
      <varlistentry id="xfs_mkfile">
         <term><command>xfs_mkfile</command> </term>
         <listitem>
            <para>
               crée un fichier XFS pavé par défaut avec des zéros. 
            </para> 
            <indexterm zone="xfs xfs_mkfile">
               <primary sortas="b-xfs_mkfile"> xfs_mkfile </primary>
            </indexterm>
         </listitem>
      </varlistentry>
      
      <varlistentry id="xfs_ncheck">
         <term><command>xfs_ncheck</command> </term>
         <listitem>
            <para>
               génère des noms de chemin à partir de numéros de n&oelig;uds pour un système de
               fichiers XFS. 
            </para> 
            <indexterm zone="xfs xfs_ncheck">
               <primary sortas="b-xfs_ncheck"> xfs_ncheck </primary>
            </indexterm>
         </listitem>
      </varlistentry>
      
      <varlistentry id="xfs_quota">
         <term><command>xfs_quota</command> </term>
         <listitem>
            <para>
               est un outil pour signaler et éditer divers aspects des quotas du système de
               fichiers. 
            </para> 
            <indexterm zone="xfs xfs_quota">
               <primary sortas="b-xfs_quota"> xfs_quota </primary>
            </indexterm>
         </listitem>
      </varlistentry>
      
      <varlistentry id="xfs_repair">
         <term><command>xfs_repair</command> </term>
         <listitem>
            <para>
               répare des systèmes de fichiers XFS corrompus ou endommagé. 
            </para> 
            <indexterm zone="xfs xfs_repair">
               <primary sortas="b-xfs_repair"> xfs_repair </primary>
            </indexterm>
         </listitem>
      </varlistentry>
      
      <varlistentry id="xfs_rtcp">
         <term><command>xfs_rtcp</command> </term>
         <listitem>
            <para>
               copie un fichier vers la partition en temps réel sur un système de fichiers XFS. 
            </para> 
            <indexterm zone="xfs xfs_rtcp">
               <primary sortas="b-xfs_rtcp"> xfs_rtcp </primary>
            </indexterm>
         </listitem>
      </varlistentry>
      
      <varlistentry id="libhandle">
         <term><filename class='libraryfile'>libhandle.so</filename> </term>
         <listitem>
            <para>
               contient des fonctions spécifiues à XFS qui offrent un moyen de d'effectuer certaines
               opérations de système de fichiers sans utiliser de descripteur de fichiers pour
               accéder aux objets du système de fichiers. 
            </para> 
            <indexterm zone="xfs libhandle">
               <primary sortas="c-libhandle"> libhandle.so </primary>
            </indexterm>
         </listitem>
      </varlistentry>
      </variablelist>
      
   </sect2>
   
</sect1>
