<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
    "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
   <!ENTITY % general-entities SYSTEM "../../general.ent">
   %general-entities;
   
   <!ENTITY GConf-download-http "&gnome-download-http;/GConf/&gnome-version;/GConf-&GConf-version;.tar.xz">
   <!ENTITY GConf-download-ftp "&gnome-download-ftp;/GConf/&gnome-version;/GConf-&GConf-version;.tar.xz">
   <!ENTITY GConf-md5sum        "1b803eb4f8576c572d072692cf40c9d8">
   <!ENTITY GConf-size          "1.5 Mio">
   <!ENTITY GConf-buildsize     "42 Mio">
   <!ENTITY GConf-time          "0.3 SBU">
   
]>
<sect1 id="GConf" xreflabel="GConf-&GConf-version;">
   <?dbhtml filename="GConf.html"?>
   
   <sect1info>
      <othername>$LastChangedBy: andy $</othername>
      <date>$Date: 2012-03-27 02:10:48 +0200 (mar. 27 mars 2012) $</date>
   </sect1info>
   
   <title>GConf-&GConf-version;</title> 
   
   <indexterm zone="GConf">
      <primary sortas="a-GConf"> GConf </primary>
   </indexterm>
   
   <sect2 role="package">
      <title>Introduction à GConf</title> 
      
      <para>
         Le paquet <application>GConf</application> contient un système de base de données de
         configuration. 
      </para> 
      
      &lfs71_built;
      
      <bridgehead renderas="sect3"> Informations sur le paquet </bridgehead>
      <itemizedlist spacing="compact">
         <listitem>
            <para>
               Téléchargement (HTTP): <ulink url="&GConf-download-http;"/> 
            </para> 
         </listitem>
         <listitem>
            <para>
               Téléchargement (FTP): <ulink url="&GConf-download-ftp;"/> 
            </para> 
         </listitem>
         <listitem>
            <para>
               Somme de contrôle MD5 du téléchargement: &GConf-md5sum; 
            </para> 
         </listitem>
         <listitem>
            <para>
               Taille du téléchargement: &GConf-size; 
            </para> 
         </listitem>
         <listitem>
            <para>
               Estimation de l'espace disque requis: &GConf-buildsize; 
            </para> 
         </listitem>
         <listitem>
            <para>
               Estimation du temps de construction: &GConf-time; 
            </para> 
         </listitem>
      </itemizedlist>
      
      <bridgehead renderas="sect3"> Dépendances de GConf </bridgehead>
      
      <bridgehead renderas="sect4"> Requises </bridgehead>
      
      <para role="required">
         <xref linkend="dbus-glib"/>, <xref linkend="intltool"/>
         , et <xref linkend="libxml2"/>
      </para> 
      
      <bridgehead renderas="sect4"> Recommandées </bridgehead>
      
      <para role="recommended">
         <xref linkend="gtk3"/>(Requis pour la construction d'un bureau
         <application>GNOME</application> . <command>gconf-sanity-check-2</command> ne construira
         pas autrement.) et <xref linkend="polkit"/>
      </para> 
      
      <bridgehead renderas="sect4"> Facultatives </bridgehead>
      
      <para role="optional">
         <xref linkend="openldap"/>, <xref linkend="gobject-introspection"/>
         et <xref linkend="gtk-doc"/>
      </para> 
      
      <para condition="html" role="usernotes">
         Notes utilisateur: <ulink url="&blfs-wiki;/gconf"/> 
      </para> 
      
   </sect2>
   
   <sect2 role="installation">
      <title>Installation de GConf</title> 
      
      <para>
         Installez <application>GConf</application> en lançant les commandes suivantes: 
      </para> 
      
<screen><userinput>sed -i '/INTROSPECTION_SCANNER_ARGS/s#$# -lgmodule-2.0#' gconf/Makefile.in
&amp;&amp;
./configure --prefix=$GNOME_PREFIX \
            --sysconfdir=$GNOME_SYSCONFDIR \
            --libexecdir=$GNOME_PREFIX/lib/GConf \
            --disable-orbit \
            --disable-static &amp;&amp;
make</userinput></screen>
      
      <para>
         Ce paquet n'est pas fourni avec une suite de tests. 
      </para> 
      
      <para>
         Maintenant, en tant qu'utilisateur <systemitem class="username"> root </systemitem>&nbsp;: 
         
      </para> 
      
<screen role="root">
<userinput>make install &amp;&amp;
install -v -m755 -d $GNOME_SYSCONFDIR/gconf/gconf.xml.system</userinput></screen>
      
      <para>
         En tant qu'utilisateur <systemitem class="username"> root </systemitem>, configurez
         <application>D-Bus</application> pour qu'il puisse chercher le fichier
         <application>GNOME</application> <!-- installed= --> \n --non_traduit-- <filename
         class='extension'> .conf</filename> installé (ceci suppose que
         <filename>/etc/dbus-1/system-local.conf</filename> n'existe pas encore. S'il existe, alors
         il faudra ajouter les modifications). Si <envar>$GNOME_PREFIX </envar>n'est pas <filename
         class='directory'> /usr</filename> , vous devez décommenter la ligne <quote>servicedir
         </quote>&nbsp;: 
      </para> 
      
<screen role="root">
<userinput>cat &gt; /etc/dbus-1/system-local.conf &lt;&lt; "EOF"
<literal>
 "-//freedesktop//DTD D-BUS Bus Configuration 1.0//EN" -
 "http://www.freedesktop.org/standards/dbus/1.0/busconfig.dtd"&gt; - "-//freedesktop//DTD D-BUS Bus
 Configuration 1.0//EN" - "http://www.freedesktop.org/standards/dbus/1.0/busconfig.dtd"&gt;
</literal></userinput></screen>
      
      <para>
         Si <envar>$GNOME_PREFIX </envar>n'est pas <filename class='directory'> /usr</filename> ,
         vous aurez alors besoin de configurer <application>D-Bus</application> pour qu'il puisse
         chercher le fichier <application>GNOME</application> <!-- installed= --> \n --non_traduit--
         <quote>session </quote> <filename class='extension'>
         .service</filename> installé. (Ceci suppose que
         <filename>/etc/dbus-1/session-local.conf</filename> n'existe pas encore. S'il existe, alors
         il faudra ajouter les modifications). De plus, si <application>polkit</application> est
         installé, créer un lien symbolique dans <filename
         class='directory'>/usr/share/polkit-1/actions</filename> pour le fichier <quote>action
         </quote> installé par <application>GConf</application> . Exécutez les commandes suivantes
         en tant que <systemitem class="username"> root </systemitem>&nbsp;:  
      </para> 
      
<screen role="root">
<userinput>cat &gt; /etc/dbus-1/session-local.conf &lt;&lt; "EOF"
<literal>
</literal>
ln -s -v
<envar>-$GNOME_PREFIX</envar> 
/share/polkit-1/actions/org.gnome.gconf.defaults.policy \
         /usr/share/polkit-1/actions</userinput></screen>
      
   </sect2>
   
   <sect2 role="commands">
      <title>Explication des commandes</title> 
      
      <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
      href="../../xincludes/gnome-prefix.xml"/>
      <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
      href="../../xincludes/gnome-sysconfdir.xml"/>
      
      <para>
         <command>sed -i '/INTROSPECTION_SCANNER_ARGS/s#$# -lgmodule-2.0#'
         gconf/Makefile.in</command>&nbsp;: Cette commande sed corrige la compilation en ayant
         <application>Glib-2.32</application> et <xref linkend="gobject-introspection"/>d'installés.
         
      </para> 
      
      <para>
      <parameter>--libexecdir= <envar>$GNOME_PREFIX </envar>/lib/GConf </parameter>&nbsp;: Le
      paramètre permet aux fichiers libexec d'être installé dans l'endroit préféré <filename
      class="directory"> $GNOME_PREFIX/lib/GConf</filename> au lieu de <filename class="directory">
         $GNOME_PREFIX/libexec</filename> . 
      </para> 
      
      <para>
      <parameter>--disable-orbit </parameter>&nbsp;: Ce paramètre est requis si
      <application>ORBit2</application> n'est pas installé. <application>ORBit2</application> est un
      paquet obsolète. 
      </para> 
      
      <para>
         <option>
         --disable-static </option>
         : Ce paramètre empêche l'installation des bibliothèques statiques. 
      </para> 
      <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
      href="../../xincludes/gtk-doc-rebuild.xml"/>
      
      <para>
         <command>install -v -m755 -d $GNOME_SYSCONFDIR/gconf/gconf.xml.system</command>&nbsp;: Crée
         un répertoire oublié. Sans ce répertoire, <command>gconf-sanity-check-2</command> échouera
         pendant le démarrage de <application>GDM</application> et le login. 
      </para> 
      
   </sect2>
   
   <sect2 role="content">
      <title>Contenu</title> 
      
      <segmentedlist>
         <segtitle>Programmes installés</segtitle>
         <segtitle>Bibliothèques installées</segtitle>
         <segtitle>Répertoires installés</segtitle>
         
         <seglistitem>
            <seg>
               gconf-defaults-mechanism, gconf-merge-tree, gconf-sanity-check-2, gconfd-2,
               gconftool-2, and gsettings-data-convert
            </seg>
            <seg>
               libgconf-2.{so,a}, libgconfbackend-oldxml.{so,a}, libgconfbackend-xml.{so,a}, and
               libgsettingsgconfbackend.{so,a}
            </seg>
            <seg>
               <envar>$GNOME_SYSCONFDIR</envar> 
               /{gconf/{2,gconf.xml.defaults, gconf.xml.mandatory,gconf.xml.system},xdg/autostart}
               <envar>$GNOME_PREFIX</envar> 
               /{include/gconf/2/gconf,lib/GConf/2, share/{gtk-doc/html/gconf,sgml/gconf}}
            </seg>
         </seglistitem>
      </segmentedlist>
      <variablelist>
      
      <bridgehead renderas="sect3"> Descriptions courtes </bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>
      
      <varlistentry id="gconf-merge-tree">
         <term><command>gconf-merge-tree</command> </term>
         <listitem>
            <para>
               produit une hiérarchie d'un système de fichiers xml. 
            </para> 
            <indexterm zone="GConf gconf-merge-tree">
               <primary sortas="b-gconf-merge-tree"> gconf-merge-tree </primary>
            </indexterm>
         </listitem>
      </varlistentry>
      
      <varlistentry id="gconftool-2">
         <term><command>gconftool-2</command> </term>
         <listitem>
            <para>
               est un outil en ligne de commande pour manipuler la base de données
               <application>GConf</application> . 
            </para> 
            <indexterm zone="GConf gconftool-2">
               <primary sortas="b-gconftool-2"> gconftool-2 </primary>
            </indexterm>
         </listitem>
      </varlistentry>
      
      <varlistentry id="gsettings-data-convert">
         <term><command>gsettings-data-convert</command> </term>
         <listitem>
            <para>
               lit les valeurs de la base de données utilisateur GConf et les enregistre dans les
               GSettings. 
            </para> 
            <indexterm zone="GConf gsettings-data-convert">
               <primary sortas="b-gsettings-data-convert"> gsettings-data-convert </primary>
            </indexterm>
         </listitem>
      </varlistentry>
      
      <varlistentry id="libgconf-2">
         <term><filename class='libraryfile'>libgconf-2.{so,a}</filename> </term>
         <listitem>
            <para>
               fournit les fonctions nécessaires pour maintenir la base de données de configuration.
               
            </para> 
            <indexterm zone="GConf libgconf-2">
               <primary sortas="c-libgconf-2"> libgconf-2.{so,a} </primary>
            </indexterm>
         </listitem>
      </varlistentry>
      </variablelist>
      
   </sect2>
   
</sect1>
