<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
    "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
   <!ENTITY % general-entities SYSTEM "../../general.ent">
   %general-entities;
   
   <!ENTITY thunderbird-download-http "http://releases.mozilla.org/pub/mozilla.org/thunderbird/releases/&thunderbird-version;/source/thunderbird-&thunderbird-version;.source.tar.bz2">
   <!ENTITY thunderbird-download-ftp "ftp://ftp.mozilla.org/pub/mozilla.org/thunderbird/releases/&thunderbird-version;/source/thunderbird-&thunderbird-version;.source.tar.bz2">
   <!ENTITY thunderbird-md5sum            "1d7127a3282e62d95eb9b59d47291b70">
   <!ENTITY thunderbird-size              "97 Mio">
   <!ENTITY thunderbird-buildsize         "3 G (46 M installed)">
   <!ENTITY thunderbird-time              "26 SBU">
   
]>
<sect1 id="thunderbird" xreflabel="Thunderbird-&thunderbird-version;">
   <?dbhtml filename="thunderbird.html" ?>
   
   <sect1info>
      <othername>$LastChangedBy: andy $</othername>
      <date>$Date: 2012-03-27 19:13:46 +0200 (mar. 27 mars 2012) $</date>
   </sect1info>
   
   <title></title> 
   
   <indexterm zone="thunderbird">
      <primary sortas="a-Thunderbird"> Thunderbird </primary>
   </indexterm>
   
   <sect2 role="package">
      <title></title> 
      
      <para>
         <application></application> est un client autonome de mail/news basésur le code source de
         <application></application> . 
      </para> 
      
      &lfs71_checked;
      
      <bridgehead renderas="sect3">  </bridgehead>
      <itemizedlist spacing="compact">
         <listitem>
            <para>
               Téléchargement (HTTP): <ulink url="&thunderbird-download-http;"/> 
            </para> 
         </listitem>
         <listitem>
            <para>
               Téléchargement (FTP): <ulink url="&thunderbird-download-ftp;"/> 
            </para> 
         </listitem>
         <listitem>
            <para>
               Somme de contrôle MD5 du téléchargement: &thunderbird-md5sum; 
            </para> 
         </listitem>
         <listitem>
            <para>
               Taille du téléchargement: &thunderbird-size; 
            </para> 
         </listitem>
         <listitem>
            <para>
               Estimation de l'espace disque requis: &thunderbird-buildsize; 
            </para> 
         </listitem>
         <listitem>
            <para>
               Estimation du temps de construction: &thunderbird-time; 
            </para> 
         </listitem>
      </itemizedlist>
      
      <bridgehead renderas="sect3">  </bridgehead>
      <itemizedlist spacing="compact">
         <listitem>
            <para>
               Correctif requis: <ulink
               url="&patch-root;/thunderbird-&thunderbird-version;_gcc-4.7-1.patch"/> 
            </para> 
         </listitem>
      </itemizedlist>
      
      <bridgehead renderas="sect3">  </bridgehead>
      
      <bridgehead renderas="sect4">  </bridgehead>
      
      <para role="required">
         <xref linkend="alsa-lib"/>, <xref linkend="gtk2"/>
         , <xref linkend="zip"/>et <xref linkend="unzip"/>
      </para> 
      
      <para>
         Remarque: <application></application> et <application></application> (corrigé pour le
         support apng) devraient avoir été installés avant <application></application> et devraient
         exister sur votre système. Si pour une raison bizarre, vous ne les avez pas installées,
         vous devriez supprimer les options <option>
         --with-system-jpeg </option>
         et <option>
         --with-system-png </option>
         du fichier <filename></filename> créé ci dessous. 
      </para> 
      
      <bridgehead renderas="sect4">  </bridgehead>
      
      <para role="optional">
         <xref linkend="dbus-glib"/>, <xref linkend="doxygen"/>
         , <xref linkend="gnome-vfs"/>et <xref linkend="libgnomeui"/>
         (pour l'intégration avec l'ancienne version de <application></application> ), <xref
         linkend="libnotify"/>, <xref linkend="nss"/>
         , <xref linkend="nspr"/>, <xref linkend="startup-notification"/>
         , <xref linkend="sqlite"/>, <xref linkend="yasm"/>
         (ou <xref linkend="libvpx"/>), <ulink url="http://hunspell.sourceforge.net/"> Hunspell
         </ulink>
         , <ulink url="http://libevent.org/"> Libevent </ulink>
         , <ulink url="http://www.valgrind.org/"> Valgrind </ulink>
         (seulement pour tester le code jemalloc) et <xref linkend="wget"/>
      </para> 
      
      <para condition="html" role="usernotes">
         Notes Utilisateur: <ulink url="&blfs-wiki;/Thunderbird"/> 
      </para> 
      
   </sect2>
   
   <sect2 role="installation">
      <title></title> 
      
      <para>
         La configuration de <application></application> est réalisée en créant un fichier
         <filename></filename> contenant les options de configurations désirées. Un
         <filename></filename> par défaut est créé çi-dessous. Pour voir la liste complète des
         options de configuration disponibles (un une brève description de chacune d'elles), taper
         <command>./configure --help</command> en tapant les commandes suivantes: 
      </para> 
      
<screen><userinput>cat &gt; mozconfig &lt;&lt; "EOF"
# Si vous avez une machine multicoeurs, vous pouvez accélérer la -# construction en lançant
plusieurs tâches en même temps, mais vous n'avez qu'un -# coeur, effacez cette ligne:-mk_add_options
MOZ_MAKE_FLAGS="-j4"
# Si vous avez installé Yasm effacez cette option:-ac_add_options --disable-webm
# Si vous avez installé DBus-Glib effacez cette option:-ac_add_options --disable-dbus
# Si vous avez installé wireless-tools effacez cette option:-ac_add_options --disable-necko-wifi
# Si vous avez installé libnotify effacez cette option:-ac_add_options --disable-libnotify
# Décommentez ceci si vous les avez installés: -# ac_add_options --with-system-nspr -#
ac_add_options --with-system-nss -# ac_add_options --enable-system-sqlite -# ac_add_options
--with-system-libvpx -# ac_add_options --enable-startup-notification -# ac_add_options
--enable-system-hunspell -# ac_add_options --with-system-libevent-mk_add_options
MOZ_OBJDIR=@TOPSRCDIR@/thunderbuild
ac_add_options --enable-official-branding
ac_add_options --with-pthreads
ac_add_options --enable-system-ffi
ac_add_options --with-system-jpeg
ac_add_options --with-system-png
ac_add_options --enable-system-cairo
ac_add_options --with-system-zlib
ac_add_options --enable-shared
ac_add_options --disable-static
ac_add_options --disable-debug
ac_add_options --disable-crashreporter
ac_add_options --disable-installer
ac_add_options --disable-updater
ac_add_options --disable-tests
EOF</userinput></screen>
      
      <para>
         Installez <application></application>&nbsp;: 
      </para> 
      
<screen><userinput>patch -p1 &lt; ../thunderbird-&thunderbird-version;_gcc-4.7-1.patch &amp;&amp;
sed -i 's#VPX_CODEC_USE_INPUT_PARTITION#VPX_CODEC_USE_INPUT_FRAGMENTS#' \
  mozilla/configure &amp;&amp;
make -f client.mk &amp;&amp;
make -C thunderbuild/mail/installer</userinput></screen>
      
      <para>
         . 
      </para> 
      
      <para>
         <!-- Install= --> \n --non_traduit-- <application></application> <!-- by running the
         following commands as the= --> \n --non_traduit-- <systemitem class="username"> <!-- root=
         --> \n --non_traduit-- </systemitem><!-- user:= --> \n --non_traduit--  
      </para> 
      
<screen role="root">
<userinput>mkdir -p /usr/lib/thunderbird-&thunderbird-version; &amp;&amp;
tar xf thunderbuild/mozilla/dist/thunderbird-*.tar.bz2 -C /usr/lib/thunderbird-&thunderbird-version;
--strip-components=1 &amp;&amp;
ln -s ../lib/thunderbird-&thunderbird-version;/thunderbird /usr/bin/thunderbird</userinput></screen>
      
   </sect2>
   
   <sect2 role="commands">
      <title></title> 
      
      <para>
         <command><!-- sed -i 's#VPX_CODEC_USE_INPUT_PARTITION ...= --> \n --non_traduit--</command>
         <!--&nbsp;: This fixes mozilla's= --> \n --non_traduit-- <command><!-- configure= --> \n
         --non_traduit--</command> <!-- script to properly detect= --> \n --non_traduit-- <xref
         linkend="libvpx"/><!-- . This sed is not needed if you have libvpx-v0.9.7 or earlier
         installed or if you've not installed= --> \n --non_traduit-- <application></application> . 
      </para> 
      
      <para>
         <command><!-- make -f client.mk= --> \n --non_traduit--</command> <!--&nbsp;: Mozilla
         products are packaged to allow the use of a configuration file which can be used to pass
         the configuration settings to the= --> \n --non_traduit-- <command><!-- configure= --> \n
         --non_traduit--</command> <!-- command.= --> \n --non_traduit-- <command><!-- make= --> \n
         --non_traduit--</command> <!-- uses the= --> \n --non_traduit-- <filename></filename> <!--
         file to get initial configuration and setup parameters.= --> \n --non_traduit-- 
      </para> 
      
      <para>
         <command><!-- make -C thunderbuild/mail/installer= --> \n --non_traduit--</command>
         <!--&nbsp;: this runs make in the= --> \n --non_traduit-- <filename
         class="directory"></filename> <!-- folder. This gathers together all the parts of= --> \n
         --non_traduit-- <application></application> <!-- and compresses them into a tarball.= -->
         \n --non_traduit-- 
      </para> 
      
      <para>
         <command><!-- tar -xfv thunderbuild/mozilla/dist ...= --> \n --non_traduit--</command>
         <!--&nbsp;: This untars= --> \n --non_traduit-- <application></application> <!-- , the= -->
         \n --non_traduit-- <option>
         <!-- -C= --> \n --non_traduit-- </option>
         <!-- option uncompresses the files in= --> \n --non_traduit-- <filename
         class="directory"></filename> <!-- . The= --> \n --non_traduit-- <option>
         <!-- - -strip-components=1= --> \n --non_traduit-- </option>
         <!-- option removes the leading 'thunderbird' directory from the filenames, allowing us to
         untar it into a versioned directory.= --> \n --non_traduit-- 
      </para> 
      
   </sect2>
   
   <sect2 role="configuration">
      <title></title> 
      
      <sect3>
         <title></title> 
         
         <para>
            <!-- If your Window or Desktop Manager does not allow you to configure a default
            browser, you can add a configuration parameter to= --> \n --non_traduit--
            <application></application> <!-- so that a browser will start when when you click on an
            Internet/intranet/local URL. The procedure to check or modify any of the configuration
            parameters is quite simple and the instructions here can be used to view or modify any
            of the parameters.= --> \n --non_traduit-- 
         </para> 
         
         <para>
            <!-- First, open the configuration dialog by opening the= --> \n --non_traduit--
            <quote><!-- Edit= --> \n --non_traduit-- </quote> <!-- drop-down menu. Choose= --> \n
            --non_traduit-- <quote><!-- Preferences= --> \n --non_traduit-- </quote> <!-- and then
            click on the= --> \n --non_traduit-- <quote><!-- Advanced= --> \n --non_traduit--
            </quote> <!-- icon on the top menu bar. Choose the= --> \n --non_traduit-- <quote><!--
            General= --> \n --non_traduit-- </quote> <!-- tab and click on the= --> \n
            --non_traduit-- <quote><!-- Config Editor= --> \n --non_traduit-- </quote> <!-- button.
            This will display a list of the configuration preferences and information related to
            each one. You can use the= --> \n --non_traduit-- <quote><!-- Filter:= --> \n
            --non_traduit-- </quote> <!-- bar to enter search criteria and narrow down the listed
            items. Changing a preference can be done using two methods. One, if the preference has a
            boolean value (True/False), simply double-click on the preference to toggle the value
            and two, for other preferences simply right-click on the desired line, choose= --> \n
            --non_traduit-- <quote><!-- Modify= --> \n --non_traduit-- </quote> <!-- from the menu
            and change the value. Creating new preference items is accomplished in the same way,
            except choose= --> \n --non_traduit-- <quote><!-- New= --> \n --non_traduit-- </quote>
            <!-- from the menu and provide the desired data into the fields when prompted.= --> \n
            --non_traduit-- 
         </para> 
         
         <para>
            <!-- The configuration preference item you need to check so that= --> \n --non_traduit--
            <application></application> <!-- uses a specified browser is the= --> \n --non_traduit--
            
         <parameter><!-- network.protocol-handler.app.http= --> \n --non_traduit-- </parameter> <!--
         which should be set to the path of the desired browser, e.g.= --> \n --non_traduit--
         <option>
            <!-- /usr/bin/firefox= --> \n --non_traduit-- </option>
            . 
         </para> 
         <tip>
         
         <para>
            <!-- There is a multitude of configuration parameters you can tweak to customize= --> \n
            --non_traduit-- <application></application> <!-- . A very extensive, but not so
            up-to-date list of these parameters can be found at= --> \n --non_traduit-- <ulink
            url="http://preferential.mozdev.org/preferences.html"/> . 
         </para> 
         </tip>
         
         <para>
            <!-- If you use a desktop environment like= --> \n --non_traduit--
            <application></application> <!-- or= --> \n --non_traduit-- <application></application>
            <!-- you may wish to create a= --> \n --non_traduit-- <filename></filename> <!-- file so
            that= --> \n --non_traduit-- <application></application> <!-- appears in the panel's
            menus. If you didn't enable startup-notification in your mozconfig change the
            StartupNotify line to false. As the= --> \n --non_traduit-- <systemitem
            class="username"> <!-- root= --> \n --non_traduit-- </systemitem><!-- user:= --> \n
            --non_traduit--  
         </para> 
         
<screen role="root">
<userinput>cat &gt; /usr/share/applications/thunderbird.desktop &lt;&lt; "EOF"
[Desktop Entry]
Encoding=UTF-8
Type=Application
Name=Thunderbird
Comment=Fetch Your Email
Icon=thunderbird
Exec=thunderbird
Categories=Network;GTK;Application;Email;News;
StartupNotify=true
Terminal=false
EOF
ln -sv -f /usr/lib/thunderbird-&thunderbird-version;/chrome/icons/default/default256.png \
  /usr/share/pixmaps/thunderbird.png</userinput></screen>
         
      </sect3>
      
   </sect2>
   
   <sect2 role="content">
      <title></title> 
      
      <segmentedlist>
         <segtitle>Programmes installés</segtitle>
         <segtitle>Bibliothèques installées</segtitle>
         <segtitle>Répertoires installés</segtitle>
         
         <seglistitem>
            <seg>
               
            </seg>
            <seg>
               
            <filename class="directory"></filename> </seg>
            <seg>
               
            </seg>
         </seglistitem>
      </segmentedlist>
      <variablelist>
      
      <bridgehead renderas="sect3">  </bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>
      
      <varlistentry id="thunderbird-prog">
         <term><command>thunderbird</command> </term>
         <listitem>
            <para>
               <!-- is= --> \n --non_traduit-- <application></application> <!-- 's next-generation
               email and newsgroup client.= --> \n --non_traduit-- 
            </para> 
            <indexterm zone="thunderbird thunderbird-prog">
               <primary sortas="b-thunderbird"> thunderbird </primary>
            </indexterm>
         </listitem>
      </varlistentry>
      </variablelist>
      
   </sect2>
   
</sect1>
