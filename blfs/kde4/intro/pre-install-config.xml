<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;
]>

<sect1 id="kde4-pre-install-config">
  <?dbhtml filename="pre-install-config.html"?>

  <sect1info>
    <othername>$LastChangedBy>&nbsp;: thomas $</othername>
    <date>$Date: 2012-01-10 22:25:24 +0100 (mar. 10 janv. 2012) $</date>
  </sect1info>

  <title>configuration de la pré-installation de KDE4</title>

  <sect2><title>Dépendances</title>

    <para><application>KDE4</application> est une importante collection de programmes 
    fournissant un environnement de bureau, des outils pour le système et les taches de développement
	aussi bien que des choses amusantes et éducatives. Il utilise une importante quantité de paquets
	non-KDE. Alors que presque tous ces paquets sont facultatifs, d'autres sont 
	fortement recommandés.</para>

    <para>La liste suivante des paquets devrait vous donner un aperçu
     au sujet de ces paquets et vous pouvez envisager de les installer
     la première fois. L'installation de ces paquets fournit quelques fonctionnalités utiles
     dans le <application>KDE4</application> résultant. Néanmoins, les
     dépendances sont indiquées sur chacune des pages suivantes.

    <itemizedlist>
      <listitem>
        <para><ulink url="http://qjson.sourceforge.net">QJSON</ulink> (http://qjson.sourceforge.net) - bibliothèque Qt
		pour manipuler des objets JavaScript. Malheureusement, la version 0.7.1 est trop ancienne pour se compiler.
		Alternativement, utilisez les sources SVN actuelles ou appliquez un correctif pour les rendre utilisables.</para>
        
        <para>Compilez les en utilisant <command>cmake -DCMAKE_INSTALL_PREFIX=/usr &amp;&amp; make &amp;&amp; make install</command> dans leur propre répertoire de construction.</para> 
      </listitem>
      <listitem>
         <para><ulink url="http://gpsd.berlios.de/">libgps</ulink> (http://gpsd.berlios.de/) - interface pour les périphériques GPS (kdeedu)</para>
         <para>Compilez le de la façon usuelle <command>configure &amp;&amp; make &amp;&amp; make install</command>.</para>
      </listitem>
      <listitem>
        <para><ulink url="http://eigen.tuxfamily.org/">eigen2</ulink> (http://eigen.tuxfamily.org/) - une bibliothèque de templates C++ pour l'algèbre linéaire</para>
        <para>Compilez le en utilisant <command>cmake -DCMAKE_INSTALL_PREFIX=/usr &amp;&amp; make &amp;&amp; make install</command>.</para>
      </listitem>
      <listitem>
        <para><xref linkend="desktop-file-utils"/> - quelques utilitaires en ligne de commande pour travailler avec les entrées de l'environnement de bureau</para>
      </listitem>
      <listitem>
        <para><ulink url="http://www.riverbankcomputing.com/software/sip/intro">pySIP</ulink> (http://www.riverbankcomputing.com/software/sip/intro) - Python Service Integration Platform</para>
        <para>Compilez le <command>python ./configure &amp;&amp; make &amp;&amp; make install</command>.</para>
      </listitem>
      <listitem>
        <para><ulink url="http://www.riverbankcomputing.com/software/pyqt/">pyQT4</ulink> (http://www.riverbankcomputing.com/software/pyqt/) - Interface Python pour Qt4 (kdebindings)</para>
        <para>Compilez le <command>python ./configure &amp;&amp; make &amp;&amp; make install</command>.</para>
      </listitem>
      <listitem>
        <para><xref linkend="ruby"/> - Langage Ruby (kdebindings)</para>
      </listitem>
      <listitem>
        <para><xref linkend="poppler"/> - Utilitaire et bibliothèque pour voir les fichiers PDF (kdegraphics)</para>

        <para>assurez-vous que l'option --enable-xpdf-headers est passée</para>
      </listitem>
      <listitem>
        <para><xref linkend="libical"/> - bibliothèque manipulant les entrées du calendrier (kdepimlibs)</para>
      </listitem>
      <listitem>
        <para><ulink url="http://cyberelk.net/tim/data/pycups/">pyCUPS</ulink> (http://cyberelk.net/tim/data/pycups/) - Interface Python pour CUPS (kdeadmin)</para>
        <para>Compilez-le avec <command>make &amp;&amp; make install</command>.</para>
      </listitem>
      <listitem>
        <para><ulink url="http://cyberelk.net/tim/data/system-config-printer/">system-config-printer</ulink> (http://cyberelk.net/tim/data/system-config-printer/) - configuration de l'impression (kdeadmin)</para>
        <para>Compilez-le de la façon usuelle <command>configure &amp;&amp; make &amp;&amp; make install</command>.</para>
      </listitem>
      <listitem>
        <para><xref linkend="libidn"/> - en-/decodeur des noms de domaines internationalisés (kdenetwork)</para>
      </listitem>
      <listitem>
        <para><xref linkend="polkit"/> - Manipulation de Police (presque entièrement de KDE)</para>
      </listitem>
      <listitem>
        <para><xref linkend="consolekit"/> - Dépendance d'exécution de polkit</para>
      </listitem>
      <listitem>
        <para>U-tools - udisks et upower au lieu de HAL</para>
        <para>et toutes ses dépendances>&nbsp;: <xref linkend="libatasmart"/>, <xref linkend="sg3_utils"/>, 
        <xref linkend="libffi"/>, <xref linkend="acl"/>, <xref linkend="gobject-introspection"/>,
        <xref linkend="udev"/>, <xref linkend="lvm2"/>,  <xref linkend="parted"/> et ensuite
        <xref linkend="udisks"/> et <xref linkend="upower"/></para>
      </listitem>
      <listitem>
        <para><xref linkend="libiodbc"/> - Bibliothèque iODBC</para>
      </listitem>
      <listitem>
        <para><xref linkend="virtuoso"/> - une base de données universelle</para>
      </listitem>
      <listitem>
        <para><xref linkend="exiv2"/> - bibliothèqye de traitemenr des données Image</para>
      </listitem>
      <listitem>
        <para>Outils RDF - Manipulation des données RDF</para>
        <para>Including>&nbsp;: <xref linkend="raptor"/>, <xref linkend="rasqal"/> et <xref linkend="redland"/></para>
      </listitem>
      <listitem>
        <para><xref linkend="clucene"/> - Moteur de recherche de Text</para>
      </listitem>
      <listitem>
        <para><xref linkend="boost"/> - collection de bibliothèques libres C++</para>
      </listitem>
      <listitem>
        <para><xref linkend="qca"/> - bibliothèque de chiffrage pour la plateforme Qt</para>
      </listitem>
      <listitem>
        <para><xref linkend="libdbusmenu-qt"/> - Interface Qt pour le menu D-Bus</para>
      </listitem>
      <listitem>
        <para><xref linkend="soprano"/> - framework orienté objet C++/Qt4 pour les données RDF</para>
      </listitem>
      <listitem>
        <para><xref linkend="strigi"/> - Moteur d'indexation d'environnement de bureau</para>
      </listitem>
      <listitem>
        <para><ulink url="http://www.grantlee.org">Grantlee</ulink> (http://www.grantlee.org) - un système de modèles  pour Qt</para>
        <para>Compilez le en utilisant <command>cmake -DCMAKE_INSTALL_PREFIX=/usr &amp;&amp; make &amp;&amp; make install</command> dans ses propres répertoires de construction.</para>
      </listitem>
    </itemizedlist>
    </para>
  </sect2>

  <sect2><title>Installation dans /usr</title>
    <para>Une option est de mettre <application>KDE4</application> dans la hiérarchie
    <filename class='directory'>/usr</filename>.  Cela va créer un setup plus simple
    mais il est plus difficile d'essayer des versions multiples de
    <application>KDE4</application>.</para>

<screen><userinput>export &kde4-dir-var;=/usr</userinput></screen>
  </sect2>
  
  <sect2><title>Installation dans /opt</title>
    <para>Une méthode pour construire des multiples versions est d'installer
    <application>KDE4</application> dans la hiérarchie <filename
    class='directory'>/opt</filename>&nbsp;:</para>

<screen><userinput>export &kde4-dir-var;=/opt/kde4</userinput></screen>

    <para>Si vous n'avez pas installé <application>KDE4</application> dans
    <filename class="directory">/usr</filename>, vous aurez besoin de faire quelques
	changement supplémentaire de la configuration. Une bonne pratique est de les ajouter dans votre
	profil système ou personnel:</para>

<screen><userinput>cat &gt; /etc/profile.d/kde4.sh &lt;&lt;"EOF"
# Début de /etc/profile.d/kde4.sh

&kde4-dir-var;=/opt/kde4
KDE4DIR=&kde4-dir;
KDEDIR=&kde4-dir;

pathappend &kde4-dir;/bin             PATH
pathappend &kde4-dir;/lib/pkgconfig   PKG_CONFIG_PATH
pathappend &kde4-dir;/share/pkgconfig PKG_CONFIG_PATH
pathappend &kde4-dir;/share           XDG_DATA_DIRS
pathappend /etc/kde4/xdg                XDG_CONFIG_DIRS

export KDE4_PREFIX KDE4DIR KDEDIR

# Fin de /etc/profile.d/kde4.sh
EOF
</userinput></screen>

    <para>Ajouter dans votre <filename>/etc/ld.so.conf</filename>:</para>

<screen role="root"><userinput>cat &gt;&gt; /etc/ld.so.conf &lt;&lt; "EOF"
<literal># Begin kde4 addition to /etc/ld.so.conf

/opt/kde4/lib

# End kde4 addition</literal>
EOF</userinput></screen>

    <indexterm zone="kde4-pre-install-config">
      <primary sortas="e-etc-ld.so.conf">/etc/ld.so.conf</primary>
    </indexterm>

    <para>Ajouter dans votre <filename>/etc/man_db.conf</filename>:</para>

<screen role="root"><userinput>cat &gt;&gt; /etc/man_db.conf &lt;&lt; "EOF"
<literal># Begin kde4 addition to man_db.conf

MANDATORY_MANPATH /opt/kde4/man

# End kde4 addition to man_db.conf</literal>
EOF</userinput></screen>

    <indexterm zone="kde4-pre-install-config">
      <primary sortas="e-etc-man_db.conf">/etc/man_db.conf</primary>
    </indexterm>

    <tip>
      <para>Parfois, les chemins d'installation sont corrigés dans les fichies installés.
	  C'est la raison pourquoi <filename class="directory">/opt/kde4</filename>
      est utilisé comme préfixe d'installation au lieu de <filename class="directory">/opt/kde-&kde4-version;</filename>.
      Après l'installation de <application>KDE4</application>, vous pouvez considérer de renommer le répertoire
	  et créer un lien symbolique:</para>

<screen role="root"><userinput>mv /opt/kde{4,-&kde4-version;} &amp;&amp;
ln -vsf kde-&kde4-version; /opt/kde4</userinput></screen>

      <para>Plus tard, vous pouvez vouloir installer d'autres versions de <application>KDE4</application>.
      Pour faire cela, il suffit d'effacer le lien symbolique et utiliser <filename class="directory">/opt/kde4</filename>
      de nouveau comme préfixe (<application>KDE4</application> ne doit pas être démarré). La version de 
      <application>KDE4</application> que vous utiliserez dépendra uniquement de la cible du lien
	  symbolique. Aucune autre configuration ne sera nécessaire.</para>
    </tip>

  </sect2>
  
  <sect2><title>La variable QT4DIR</title>
  <para>Quelques paquets supplémentaires qui sont basés sur <application>Qt4</application>
  seront installés. Un de ceux la est <application>Phonon</application>, un remplacement direct
  de l'implémentation qui est fournie avec <application>Qt4</application>.
  Il est recommandé de placer de tels bibliothèques dans la même hiérarchie que <application>Qt4</application>.
  Plus tard, il est fait référence à <envar>QT4DIR</envar>. Si vous avez placé 
  <application>Qt4</application> dans <filename class='directory'>/usr</filename>,
  initialisez <envar>QT4DIR</envar>:</para>
  
<screen><userinput>export QT4DIR=/usr</userinput></screen>

  <para>Alternativement, <application>Qt4</application> peut aussi être placé dans la hiérarchie
  <filename class='directory'>/opt</filename>&nbsp;:</para>
  
<screen><userinput>export QT4DIR=/opt/qt-&qt4-version;
export PATH=$QT4DIR/bin:$PATH</userinput></screen>

  </sect2>
  
</sect1>
