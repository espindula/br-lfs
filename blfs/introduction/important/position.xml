<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN"
   "http://www.oasis-open.org/docbook/xml/4.3/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;
]>

<sect1 id="intro-important-position">
<sect1info>
<othername>$LastChangedBy: bdubbs $</othername>
<date>$Date: 2005-06-21 20:04:59 $</date>
</sect1info>
<?dbhtml filename="position.html"?>
<title>Le débat /usr contre /usr/local</title>

<para><emphasis>Dois-je installer XXX dans <filename>/usr</filename> ou
<filename>/usr/local</filename>?</emphasis></para>

<para>Cette question n'a pas de réponse évidente à partir d'un système basé sur
<acronym>LFS</acronym>.</para>

<para>Dans les systèmes Unix traditionnels, <filename>/usr</filename> contient
généralement des fichiers provenant de la distribution du système, et l'arbre
<filename>/usr/local</filename> est disponible pour l'administrateur local.
La seule règle vraiment difficile est que les
distributions Unix ne doivent pas toucher à <filename>/usr/local</filename>,
sauf peut-être pour créer les répertoires de base de celui-ci.</para>

<para>Avec les distributions Linux, comme RedHat, Debian etc. une règle possible
est que <filename>/usr</filename> est géré par le système de packages de la
distribution et que <filename>/usr/local</filename> ne l'est pas. De cette
façon, le gestionnaire de packages connait tout fichier à l'intérieur de
<filename>/usr</filename>.</para>

<para>Les utilisateurs <acronym>LFS</acronym> construisent leur propre système
et donc décider où le système finit et où les fichiers locaux commencent n'est
pas simple. Donc le choix doit se faire pour rendre les choses simples à
administrer. Il existe plusieurs raisons pour diviser les fichiers entre
<filename>/usr</filename> et <filename>/usr/local</filename>.</para>

<itemizedlist>

<listitem><para>Sur un réseau de plusieurs machines toutes sous
<acronym>LFS</acronym>, ou composé de distributions Linux mixtes
<acronym>LFS</acronym> et autres, <filename>/usr/local</filename> peut être
utilisé pour conserver les packages communs à tous les ordinateurs du réseau.
Il peut être un montage <acronym>NFS</acronym> ou un miroir à partir d'un
serveur simple. Ici, local se définit par rapport au site.</para></listitem>

<listitem><para>Sur un réseau de plusieurs ordinateurs tous utilisant un
système <acronym>LFS</acronym> identique, <filename>/usr/local</filename> peut
conserver les packages différents entre chaque machine. Dans ce cas, local se
définit par rapport aux ordinateurs individuels.</para></listitem>

<listitem><para>Même sur un simple ordinateur, <filename>/usr/local</filename>
peut être utile si vous avez plusieurs distributions installées simultanément,
et voulez un endroit où placer des fichiers qui seront partagés par les
différentes distributions.</para></listitem>

<listitem><para>Ou vous pouvez régulièrement reconstruire votre
<acronym>LFS</acronym>, mais souhaitez un endroit que vous ne voulez pas avoir
à reconstruire à chaque fois. De cette façon, vous pouvez supprimer le système
de fichiers <acronym>LFS</acronym> et démarrer d'une partition intacte à chaque
fois sans tout perdre.</para></listitem>

</itemizedlist>

<para>Des personnes ont demandé pourquoi ne pas utiliser votre propre arbre
de répertoires, c'est-à-dire <filename>/usr/site</filename> au lieu de
<filename>/usr/local</filename>?</para>

<para>Rien ne vous y empêche, beaucoup de sites construisent leur propre arbre,
néanmoins cela rends l'installation de nouveaux logiciels plus difficile. Les
installateurs automatiques cherchent souvent les dépendances dans
<filename>/usr</filename> et <filename>/usr/local</filename>, et si le fichier
qu'ils cherchent se trouve dans <filename>/usr/site</filename>,
l'installateur va probablement échoué à moins que vous ne lui ayez
spécifiquement dit où chercher.</para>

<para><emphasis>Quelle est la position de <acronym>BFLS</acronym> là-dessus?</emphasis></para>

<para>Toutes les instructions de <acronym>BLFS</acronym> installent les
programmes dans <filename>/usr</filename> avec des instructions optionnelles
d'installation dans <filename>/opt</filename> pour certains paquetages
spécifiques.</para>

</sect1>
