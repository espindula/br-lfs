<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

  <!ENTITY gimp-download-http "https://download.gimp.org/pub/gimp/v2.10/gimp-&gimp-version;.tar.bz2">
  <!ENTITY gimp-download-ftp  "">
  <!ENTITY gimp-md5sum        "fd99bd8336c0d3aa09598e68d6e4a4d9">
  <!ENTITY gimp-size          "30&nbsp;Mo">
  <!ENTITY gimp-buildsize     "876&nbsp;Mo (194&nbsp;Mo installés, plus 814&nbsp;Mo pour les tests)">
  <!ENTITY gimp-time          "1,9&nbsp;SBU (avec parallélisme=4&nbsp;; plus 0,5&nbsp;SBU pour les tests)">

  <!-- pro-tem, a pull of gimp-help, https://gitlab.gnome.org/GNOME/gimp-help.git
  git archive - -format=tar - -prefix=${DIRNAME}/ HEAD | xz >../${DIRNAME}.tar.xz -->

  <!-- renodr: I generated the git tarball using the following instructions:
       cd /tmp &&
       mkdir gimp-help &&
       cd gimp-help &&
       git clone https://gitlab.gnome.org/GNOME/gimp-help.git &&
       cd gimp-help &&
       git checkout gimp-help-2-10 &&
       cd .. &&
       rm -rv gimp-help/.git &&
       mv -v gimp-help gimp-help-<DATE>
       tar -cJvf gimp-help-<DATE>.tar.xz gimp-help-<DATE>

       After you've completed this, run a test build, and upload the tarball to
       anduin.-->

  <!ENTITY gimp-help-version    "2021-03-30">
  <!ENTITY gimp-help-download   "&sources-anduin-http;/gimp/gimp-help-&gimp-help-version;.tar.xz">
  <!ENTITY gimp-help-md5sum     "df6acc812c829b610d621f8e6973a680">
  <!ENTITY gimp-help-size       "170&nbsp;Mo">
  <!ENTITY gimp-help-buildsize  "From 383 MB (en only) to 1.8 GB (all 17
                                 languages)">
  <!ENTITY gimp-help-time       "1.8 SBU (en only), 14.0 SBU, with parallelism=4,
                                 for all languages">
]>

<sect1 id="gimp" xreflabel="Gimp-&gimp-version;">
  <?dbhtml filename="gimp.html" ?>

  <sect1info>
<date>$Date$</date></sect1info>

  <title>Gimp-&gimp-version;</title>

  <indexterm zone="gimp">
    <primary sortas="a-Gimp">Gimp</primary>
  </indexterm>

  <sect2 role="package">
    <title>Introduction à Gimp</title>

    <para>
      Le paquet <application>Gimp</application> contient le <foreignphrase>GNU
Image Manipulation Program</foreignphrase> qui est utilisé pour retoucher
des photos, créer des images et mettre un nom sur une image.
    </para>

    &lfs111_checked;

    <bridgehead renderas="sect3">Informations sur le paquet</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>
          Téléchargement (HTTP)&nbsp;: <ulink url="&gimp-download-http;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Téléchargement (FTP)&nbsp;: <ulink url="&gimp-download-ftp;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Somme de contrôle MD5&nbsp;: &gimp-md5sum;
        </para>
      </listitem>
      <listitem>
        <para>
          Taille du téléchargement&nbsp;: &gimp-size;
        </para>
      </listitem>
      <listitem>
        <para>
          Estimation de l'espace disque requis&nbsp;: &gimp-buildsize;
        </para>
      </listitem>
      <listitem>
        <para>
          Estimation du temps de construction&nbsp;: &gimp-time;
        </para>
      </listitem>
    </itemizedlist>

    <bridgehead renderas="sect3">Téléchargements supplémentaires</bridgehead>

    <!--
    <note>

	   <para>
       The creation of local html files with recent versions of the necessary
       packages is somewhat broken (some png images are not sourced by the
       generated HTML, only their captions are visible).
      </para>
    </note>
-->
<note>
      <para>
        La mise à jour des fichiers d'aide est toujours en cours, avec de grande
parties de textes qui ne sont pas encore traduites dans beaucoup de
langues. Le fichier ci-dessous est un instantané git.
      </para>
    </note>

    <itemizedlist spacing="compact">
      <listitem>
        <para>
          Téléchargement (HTTP)&nbsp;: <ulink url="&gimp-help-download;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Taille du téléchargement&nbsp;: &gimp-help-size;
        </para>
      </listitem>
      <listitem>
        <para>
          Somme de contrôle MD5&nbsp;: &gimp-help-md5sum;
        </para>
      </listitem>
      <listitem>
        <para>
          Estimation de l'espace disque requis&nbsp;: &gimp-help-buildsize;
        </para>
      </listitem>
      <listitem>
        <para>
          Estimation du temps de construction&nbsp;: &gimp-help-time;
        </para>
      </listitem>
    </itemizedlist>

    <bridgehead renderas="sect3">Dépendances de Gimp</bridgehead>

    <bridgehead renderas="sect4">Requises</bridgehead>
    <para role="required">
      <!-- en can be built without this -->
<!-- some parts of Xorg appear to be required, as are deps it pulls in -->
<xref linkend="gegl"/>, <xref linkend="gexiv2"/>, <xref
linkend="glib-networking"/>, <xref linkend="gtk2"/>, <xref
linkend="harfbuzz"/>.  <xref linkend="libjpeg"/>, <xref
linkend="libmypaint"/>, <xref linkend="librsvg"/>, <xref
linkend="libtiff"/>, <xref linkend="libxml2py2"/> (pour construire les
fichiers d'aide traduits), <xref linkend="lcms2"/>, <xref
linkend="mypaint-brushes"/>, <xref linkend="poppler"/> (avec poppler-data)
et <xref linkend="x-window-system"/>
    </para>

    <bridgehead renderas="sect4">Recommandées</bridgehead>
    <para role="recommended">
      <xref linkend="dbus-glib"/>, <xref linkend="gs"/> (avec libgs installé),
<xref linkend="iso-codes"/>, <xref linkend="libgudev"/>, <xref
linkend="pygtk"/> (avec les modules gtk, pango et pangocairo) et <xref
linkend="xdg-utils"/>
    </para>

    <bridgehead renderas="sect4">Facultatives</bridgehead>
    <para role="optional">
      <xref linkend="aalib"/>, <xref linkend="alsa-lib"/>, <xref linkend="gvfs"/>
(pour accéder à la documentation en ligne), <xref linkend="libmng"/>, <xref
linkend="libunwind"/>, <xref linkend="libwebp"/>, <xref
linkend="openjpeg2"/>, un <xref linkend="server-mail"/> (qui fournit un
programme <command>sendmail</command>), <xref linkend="gtk-doc"/>, <ulink
url="https://people.freedesktop.org/~hughsient/appstream-glib">appstream-glib</ulink>,
<ulink
url="https://github.com/ianlancetaylor/libbacktrace">libbacktrace</ulink>,
<ulink url="https://github.com/strukturag/libheif/">libheif</ulink> with
<ulink url="https://github.com/strukturag/libde265/">libde265</ulink> (tous
deux requis pour lire les images heic de macOS), <ulink
url="http://wvware.sourceforge.net/libwmf.html">libwmf</ulink> et <ulink
url="https://www.openexr.com/">OpenEXR</ulink>
    </para>

    <para>
      Après avoir lancé configure, vous verrez que WebKit n'est pas trouvé — c'est
une dépendance du vénérable webkit-1.0 qui ne devrait jamais être utilisé
sur un système moderne connecté à internet.
    </para>

    <bridgehead renderas="sect4">Facultatives, pour construire le système d'aide</bridgehead>
    <para role="optional">
      <ulink url="http://dblatex.sourceforge.net/">dblatex</ulink> (pour la doc
PDF), <ulink url="http://pngnq.sourceforge.net/">pngnq</ulink> et <ulink
url="http://pmt.sourceforge.net/pngcrush/">pngcrush</ulink> pour optimiser
les fichiers png, mais voir la note sur le téléchargement de l'aide
ci-dessus
    </para>

    <para condition="html" role="usernotes">Notes utilisateur&nbsp;: <ulink url="&blfs-wiki;/gimp"/>
    </para>
  </sect2>

  <sect2 role="installation">
    <title>Installation de Gimp</title>

    <para>
      Installez <application>Gimp</application> en exécutant les commandes
suivantes&nbsp;:
    </para>

<screen><userinput>./configure --prefix=/usr --sysconfdir=/etc &amp;&amp;
make</userinput></screen>

    <para>
      <!-- km: in 2.10.16 no failures, 2 tests were skipped -->
Pour tester les résultats (demande un terminal X), lancez&nbsp;:
<command>make check</command>.
      

    </para>

    <para>
      Maintenant, en tant qu'utilisateur <systemitem
class="username">root</systemitem>&nbsp;:
    </para>

<screen role="root"><userinput>make install</userinput></screen>

    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
      href="../../xincludes/update-icons-and-desktop.xml"/>

  </sect2>

  <sect2 role="installation">
    <title>Installation de Gimp-Help</title>

    <para>
      L'archive de <filename>gimp-help</filename> contient des images et le texte
anglais des fichiers d'aide, avec leur traduction. À cause des problèmes
mentionnés plus haut, nous vous recommandons d'utiliser l'aide en ligne,
soit en construisant avec <xref linkend="gvfs"/> pour que «&nbsp;aide&nbsp;»
puisse ouvrir les derniers fichiers XML dans votre navigateur, soit en
ouvrant manuellement le fichiers html dans votre navigateur en allant sur
<ulink
url="https://docs.gimp.org/2.10/fr/">https://docs.gimp.org/2.10/fr</ulink>
(changez la langue si vous le souhaitez).
    </para>

    <para>
      Si vous voulez tout de même installer les copies locales des fichiers d'aide
pour les lire hors ligne, décompressez l'archive
<filename>gimp-help</filename> et déplacez-vous dans la racine du répertoire
des sources nouvellement créé. Préparez la construction avec la commande
suivante&nbsp;:
    </para>

<screen><userinput>ALL_LINGUAS=&quot;ca da de el en en_GB es fi fr it ja ko nn pt_BR ro ru zh_CN&quot; \
./autogen.sh --prefix=/usr</userinput></screen>

    <para>
      Effacez de <envar>ALL_LINGUAS</envar> les codes de toutes les langues que
vous ne souhaitez pas installer. Sinon, enlevez la ligne commençant par
<envar>ALL_LINGUA</envar>S, si vous souhaitez installer toutes les langues.
    </para>

    <para>
      Maintenant construisez les fichiers d'aide&nbsp;:
    </para>

<screen><userinput>make</userinput></screen>

    <para>
      Tapez les commandes suivantes en tant qu'utilisateur <systemitem
class="username">root</systemitem> pour installer les fichiers d'aide&nbsp;:
    </para>

<screen role="root"><userinput>make install &amp;&amp;
chown -R root:root /usr/share/gimp/2.0/help</userinput></screen>

  </sect2>

  <sect2 role="commands" id="gimp-cmd-explanations">
    <title>Explication des commandes</title>

    <para>
      <envar>ALL_LINGUAS=&quot;ca da de el en en_GB ...&quot;</envar>&nbsp;: par
défaut, les fichiers d'aide seront générés dans toutes les langues
disponibles. Supprimez les codes de langues que vous ne souhaitez pas
construire.
    </para>

    <para>
      <option>--disable-python</option>&nbsp;: Cette option est nécessaire si vous
n'avez pas installé <application>PyGTK</application>.
    </para>

    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
      href="../../xincludes/gtk-doc-rebuild.xml"/>

  </sect2>

  <sect2 role="configuration">
    <title>Configuration de Gimp</title>

    <sect3 id="gimp-config">
      <title>Fichiers de configuration</title>

      <para>
        <filename>/etc/gimp/2.0/*</filename> et
<filename>~/.gimp-2.8/gimprc</filename>
      </para>

      <indexterm zone="gimp gimp-config">
        <primary sortas="e-AA.gimp-2.0/gimprc">~/.g/GIMP/2.10/*</primary>
      </indexterm>

      <indexterm zone="gimp gimp-config">
        <primary sortas="e-etc-gimp-2.0-star">/etc/gimp/2.0/*</primary>
      </indexterm>

    </sect3>

  </sect2>

  <sect2 role="content">
    <title>Contenu</title>

    <segmentedlist>
      <segtitle>Programmes installés</segtitle>
      <segtitle>Bibliothèques installées</segtitle>
      <segtitle>Répertoires installés</segtitle>

      <seglistitem>
        <seg>
          gimp (lien symbolique), gimp-2.10, gimp-console (lien symbolique),
gimp-console-2.10, gimp-test-clipboard-2.0 et gimptool-2.0
        </seg>
        <seg>
          libgimp-2.0.so, libgimpbase-2.0.so, libgimpcolor-2.0.so,
libgimpconfig-2.0.so, libgimpmath-2.0.so, libgimpmodule-2.0.so,
libgimpthumb-2.0.so, libgimpui-2.0.so et libgimpwidgets-2.0.so
        </seg>
        <seg>
          /etc/gimp, /usr/include/gimp-2.0, /usr/{lib,share}/gimp,
/usr/share/gtk-doc/html/libgimp{,base,color,config} et
/usr/share/gtk-doc/html/libgimp{math,module,thumb,widgets}
        </seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Descriptions courtes</bridgehead>
      <?dbfo list-presentation="list"?> <?dbhtml list-presentation="table"?>

      <varlistentry id="gimp-prog">
        <term><command>gimp</command></term>
        <listitem>
          <para>
            est un lien symbolique vers <command>gimp-2.10</command>
          </para>
          <indexterm zone="gimp gimp-prog">
            <primary sortas="b-gimp">gimp</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="gimp-2.10">
        <term><command>gimp-2.10</command></term>
        <listitem>
          <para>
            est le programme de manipulation d'images GNU. Il fonctionne avec un
ensemble de formats d'image et fournit une grande sélection d'outils
          </para>
          <indexterm zone="gimp gimp-2.10">
            <primary sortas="b-gimp-2.10">gimp-2.10</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="gimp-console">
        <term><command>gimp-console</command></term>
        <listitem>
          <para>
            est un lien symbolique vers <command>gimp-console-2.10</command>
          </para>
          <indexterm zone="gimp gimp-console">
            <primary sortas="b-gimp-console">gimp-console</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="gimp-console-2.10">
        <term><command>gimp-console-2.10</command></term>
        <listitem>
          <para>
            est un programme en console qui se comporte comme si
<application>Gimp</application> était appelé avec l'option
<option>--no-interface</option>
          </para>
          <indexterm zone="gimp gimp-console-2.10">
            <primary sortas="b-gimp-console-2.10">gimp-console-2.10</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="gimptool-2.0">
        <term><command>gimptool-2.0</command></term>
        <listitem>
          <para>
            est un outil qui peut construire des greffons ou des scripts et les
installer s'ils sont distribués dans un fichier
source. <command>gimtool-2.0</command> peut aussi être utilisé par les
programmes qui ont besoin de savoir avec quelles bibliothèques et dossiers
d'inclusion <application>Gimp</application> a été construit
          </para>
          <indexterm zone="gimp gimptool-2.0">
            <primary sortas="b-gimptool-2.0">gimptool-2.0</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libgimp-2.0">
        <term><filename class="libraryfile">libgimp-2.0.so</filename></term>
        <listitem>
          <para>
            fournit les bindings C pour la base de données procédurale de (Procedural
Database) (PDB) de <application>Gimp</application> qui offre une interface
avec les fonctions cœur et avec les fonctionnalités fournies par les
greffons
          </para>
          <indexterm zone="gimp libgimp-2.0">
            <primary sortas="c-libgimp-2.0">libgimp-2.0.so</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libgimpbase-2.0">
        <term><filename class="libraryfile">libgimpbase-2.0.so</filename></term>
        <listitem>
          <para>
            fournit les fonctions C pour les fonctionnalités de base de
<application>Gimp</application> telles que la détermination des types de
données d'énumération, la traduction gettext, la détermination du numéro et
des capacités de la version de <application>Gimp</application>, la gestion
des fichiers de données et l'accès à l'environnement
          </para>
          <indexterm zone="gimp libgimpbase-2.0">
            <primary sortas="c-libgimpbase-2.0">libgimpbase-2.0.so</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libgimpcolor-2.0">
        <term><filename class="libraryfile">libgimpcolor-2.0.so</filename></term>
        <listitem>
          <para>
            fournit les fonctions C liées aux couleurs RGB, HSV et CMYK ainsi que la
conversion de couleurs entre différents modèles de couleurs l'application de
supersampling (super-modélisation) d'adaptation sur une zone
          </para>
          <indexterm zone="gimp libgimpcolor-2.0">
            <primary sortas="c-libgimpcolor-2.0">libgimpcolor-2.0.so</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libgimpconfig-2.0">
        <term><filename class="libraryfile">libgimpconfig-2.0.so</filename></term>
        <listitem>
          <para>
            contient les fonctions C pour lire et écrire les informations de
configuration
          </para>
          <indexterm zone="gimp libgimpconfig-2.0">
            <primary sortas="c-libgimpconfig-2.0">libgimpconfig-2.0.so</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libgimpmath-2.0">
        <term><filename class="libraryfile">libgimpmath-2.0.so</filename></term>
        <listitem>
          <para>
            contient des fonctions C qui offrent des définitions mathématiques et des
macros, des matrices de manipulation de transformation 3x3, de paramétrage
et de manipulation des vecteurs et l'algorithme de digest-message MD5
          </para>
          <indexterm zone="gimp libgimpmath-2.0">
            <primary sortas="c-libgimpmath-2.0">libgimpmath-2.0.so</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libgimpmodule-2.0">
        <term><filename class="libraryfile">libgimpmodule-2.0.so</filename></term>
        <listitem>
          <para>
            fournit les fonctions C qui implémente le chargement de modules en utilisant
GModule et qui garde une liste des modules Gimp trouvés dans un chemin de
recherche donné
          </para>
          <indexterm zone="gimp libgimpmodule-2.0">
            <primary sortas="c-libgimpmodule-2.0">libgimpmodule-2.0.so</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libgimpthumb-2.0">
        <term><filename class="libraryfile">libgimpthumb-2.0.so</filename></term>
        <listitem>
          <para>
            fournit les fonctions C pour gérer les objets de vignette de
<application>Gimp</application>
          </para>
          <indexterm zone="gimp libgimpthumb-2.0">
            <primary sortas="c-libgimpthumb-2.0">libgimpthumb-2.0.so</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libgimpui-2.0">
        <term><filename class="libraryfile">libgimpui-2.0.so</filename></term>
        <listitem>
          <para>
            contient les fonctions de l'interface utilisateur classique de
<application>Gimp</application>
          </para>
          <indexterm zone="gimp libgimpui-2.0">
            <primary sortas="c-libgimpui-2.0">libgimpui-2.0.so</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libgimpwidgets-2.0">
        <term><filename class="libraryfile">libgimpwidgets-2.0.so</filename></term>
        <listitem>
          <para>
            contient les fonctions de création et de manipulation de widget de
<application>Gimp</application> et de <application>GTK</application>
          </para>
          <indexterm zone="gimp libgimpwidgets-2.0">
            <primary sortas="c-libgimpwidgets-2.0">libgimpwidgets-2.0.so</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
