<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

  <!ENTITY cairo-download-http "&gnome-download-http;/cairo/&cairo-minor;/cairo-&cairo-version;.tar.xz">
  <!--<!ENTITY cairo-download-http "https://www.cairographics.org/snapshots/cairo-&cairo-version;.tar.xz">
  <!ENTITY cairo-download-http "&sources-anduin-http;/cairo/cairo-&cairo-version;.tar.xz">-->
  <!ENTITY cairo-download-ftp  "">
  <!ENTITY cairo-md5sum        "c5a6f255af72a2e5faa8e6a53dd882e2">
  <!ENTITY cairo-size          "33&nbsp;Mo">
  <!ENTITY cairo-buildsize     "137 Mo">
  <!ENTITY cairo-time          "0,4&nbsp;SBU (avec parallélisme = 4)">
]>

<sect1 id="cairo" xreflabel="Cairo-&cairo-version;">
  <?dbhtml filename="cairo.html"?>

  <sect1info>
<date>$Date$</date></sect1info>

  <title>Cairo-&cairo-version;</title>

  <indexterm zone="cairo">
    <primary sortas="a-Cairo">Cairo</primary>
  </indexterm>

  <sect2 role="package">
    <title>Introduction à Cairo</title>

    <para>
      <application>Cairo</application> is a 2D graphics library with support for
multiple output devices. Currently supported output targets include the
<application>X</application> Window System, win32, image buffers,
PostScript, PDF and SVG. Experimental backends include OpenGL, Quartz and
XCB file output. <application>Cairo</application> is designed to produce
consistent output on all output media while taking advantage of display
hardware acceleration when available (e.g., through the X Render
Extension). The <application>Cairo</application> API provides operations
similar to the drawing operators of PostScript and PDF. Operations in
<application>Cairo</application> include stroking and filling cubic
B&eacute;zier splines, transforming and compositing translucent images, and
antialiased text rendering. All drawing operations can be transformed by any
<ulink url="https://en.wikipedia.org/wiki/Affine_transformation">affine
transformation</ulink> (scale, rotation, shear, etc.).
    </para>

    &lfs112_checked;

    <bridgehead renderas="sect3">Informations sur le paquet</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>
          Téléchargement (HTTP)&nbsp;: <ulink url="&cairo-download-http;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Téléchargement (FTP)&nbsp;: <ulink url="&cairo-download-ftp;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Somme de contrôle MD5&nbsp;: &cairo-md5sum;
        </para>
      </listitem>
      <listitem>
        <para>
          Taille du téléchargement&nbsp;: &cairo-size;
        </para>
      </listitem>
      <listitem>
        <para>
          Estimation de l'espace disque requis&nbsp;: &cairo-buildsize;
        </para>
      </listitem>
      <listitem>
        <para>
          Estimation du temps de construction&nbsp;: &cairo-time;
        </para>
      </listitem>
    </itemizedlist>

    <bridgehead renderas="sect3">Dépendances de Cairo</bridgehead>

    <bridgehead renderas="sect4">Requises</bridgehead>
    <para role="required">
      <xref linkend="libpng"/> et <xref linkend="pixman"/>
    </para>

    <bridgehead renderas="sect4">Recommandées</bridgehead>
    <para role="recommended">
      <xref linkend="fontconfig"/>, <xref linkend="glib2"/> (requis par la plupart
des GUIs) et <xref linkend="xorg7-lib"/>
    </para>

    <bridgehead renderas="sect4">Facultatives</bridgehead>
    <para role="optional">
      <xref linkend="cogl"/>, <xref linkend="gs"/>, <xref linkend="gtk3"/> and
<xref linkend="gtk2"/>, <xref linkend="gtk-doc"/>, <xref linkend="libdrm"/>,
<xref linkend="librsvg"/>, <xref linkend="libxml2"/>, <xref linkend="lzo"/>,
<xref linkend="mesa"/>, <xref linkend="poppler"/>, <xref linkend="qt5"/>,
<xref linkend="valgrind"/>, <ulink
url="https://pkgs.fedoraproject.org/repo/pkgs/directfb/">DirectFB</ulink>,
<ulink url="https://github.com/rillian/jbig2dec/">jbig2dec</ulink>, <ulink
url="https://www.freedesktop.org/wiki/Software/libspectre/">libspectre</ulink>,
<ulink url="https://skia.org/">Skia</ulink>, and <ulink
url="https://download.qt.io/archive/qt/4.8/">Qt4</ulink>.
    </para>

    <note>
      <para>
        Il y a une dépendance circulaire entre cairo et harfbuzz.  Si cairo est
construit avant harfbuzz, il est nécessaire de reconstruire cairo après
harfbuzz pour pouvoir construire pango.
      </para>
    </note>

    <para condition="html" role="usernotes">
      Notes utilisateur&nbsp;: <ulink url="&blfs-wiki;/cairo"/>
    </para>
  </sect2>

  <sect2 role="installation">
    <title>Installation de Cairo</title>

    
    <!-- /usr/include/ansidecl.h says "This file is part of the GNU C
    Library", but it's actually installed by Binutils.  -->
<para>
      Adaptez ce paquet à des changements dans Binutils-2.39 et supérieur&nbsp;:
    </para>

<screen><userinput>sed 's/PTR/void */' -i util/cairo-trace/lookup-symbol.c</userinput></screen>

    <para>
      Corrigez un fichier pkg-config qui peut poser problème plus tard&nbsp;:
    </para>

<screen><userinput>sed -e "/@prefix@/a exec_prefix=@exec_prefix@" \
    -i util/cairo-script/cairo-script-interpreter.pc.in</userinput></screen>

    <para>
      Installez <application>Cairo</application> en exécutant les commandes
suivantes&nbsp;:
    </para>

<screen><userinput>./configure --prefix=/usr    \
            --disable-static \
            --enable-tee &amp;&amp;
make</userinput></screen>

    <para>
      <!-- The test suite can be run with 'make check', but 488 tests fail and
      59 tests pass. This seems to be due to minute changes in the expected
      output, similar to librsvg's tests. Since it's a huge chunk of the tests,
      let's keep it as "broken" for now.-->
Ce paquet n'a pas de suite de tests fonctionnelle.
      
    </para>

    <para>
      Maintenant, en tant qu'utilisateur <systemitem
class="username">root</systemitem>&nbsp;:
    </para>

<screen role="root"><userinput>make install</userinput></screen>
  </sect2>

  <sect2 role="commands">
    <title>Explication des commandes</title>



    <!-- Not needed with 1.17.4
    <para>

      <parameter>autoreconf -fv</parameter>: This prevents
      <command>configure</command> ending in error with the current version
      of <application>automake</application> because the AM_INIT_AUTOMAKE
      definitions came from a previous version.
    </para>
-->
<para>
      <parameter>--enable-tee</parameter>&nbsp;: Ce paramètre active le moteur
expérimental de surfaces tee qui est requis pour utiliser l'installation
système de <application>Cairo</application> avec les applications Mozilla.
    </para>

    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
      href="../../xincludes/static-libraries.xml"/>

    <para>
      <option>--enable-xlib-xcb</option>&nbsp;: ce paramètre active les fonctions
expérimentales de Xlib/XCB utilisées par quelques gestionnaires de fenêtres.
    </para>

    <para>
      <option>--enable-gl</option>: Ce paramètre active les surfaces
expérimentales <application>OpenGL</application> de
<application>Cairo</application> qui est requis par
<application>Wayland</application> et d'autres paquets qui ne font pas
partie de BLFS.
    </para>



    <!--<xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
      href="../../xincludes/gtk-doc-rebuild.xml"/>

      NOTE: For this version, no docs are installed by default -->
<para>
      <option>--enable-gtk-doc</option>&nbsp;: utilisez ce paramètre si GTK-Doc
est installé et que vous souhaitez créer et installer la documentation.
    </para>

  </sect2>

  <sect2 role="content">
    <title>Contenu</title>

    <segmentedlist>
      <segtitle>Programmes installés</segtitle>
      <segtitle>Bibliothèques installées</segtitle>
      <segtitle>Répertoires installés</segtitle>

      <seglistitem>
        <seg>
          cairo-trace
        </seg>
        <seg>
          libcairo.so, libcairo-gobject.so et libcairo-script-interpreter.so
        </seg>
        <seg>
          /usr/{include,lib,share/gtk-doc/html}/cairo
        </seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Descriptions courtes</bridgehead>
      <!--
     <varlistentry id="cairo-sphinx">

        <term><command>cairo-sphinx</command></term>
        <listitem>
          <para>
            is an internal utility for regression analysis
          </para>
          <indexterm zone="cairo cairo-sphinx">
            <primary sortas="b-cairo-sphinx">cairo-sphinx</primary>
          </indexterm>
        </listitem>
      </varlistentry>
-->
<?dbfo list-presentation="list"?> <?dbhtml list-presentation="table"?>



      <varlistentry id="cairo-trace">
        <term><command>cairo-trace</command></term>
        <listitem>
          <para>
            génère un journal de tous les appels d'une application à
<application>Cairo</application>
          </para>
          <indexterm zone="cairo cairo-trace">
            <primary sortas="b-cairo-trace">cairo-trace</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libcairo">
        <term><filename class="libraryfile">libcairo.so</filename></term>
        <listitem>
          <para>
            contient les fonctions graphiques 2D exigées pour dessiner sur des cibles de
sortie variées
          </para>
          <indexterm zone="cairo libcairo">
            <primary sortas="c-libcairo">libcairo.so</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libcairo-gobject">
        <term><filename class="libraryfile">libcairo-gobject.so</filename></term>
        <listitem>
          <para>
            contient des fonctions qui intègrent <application>Cairo</application> avec
le système de type GObject de <application>Glib</application>
          </para>
          <indexterm zone="cairo libcairo-gobject">
            <primary sortas="c-libcairo-gobject">libcairo-gobject.so</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libcairo-script-interpreter">
        <term><filename class="libraryfile">libcairo-script-interpreter.so</filename></term>
        <listitem>
          <para>
            contient les fonctions de l'interpréteur de script pour exécuter et
manipuler des traces d'exécution de <application>Cairo</application>
          </para>
          <indexterm zone="cairo libcairo-script-interpreter">
            <primary sortas="c-libcairo-script-interpreter">libcairo-script-interpreter.so</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
