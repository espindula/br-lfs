<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

  <!ENTITY gtk3-download-http "&gnome-download-http;/gtk+/&gnome-minor-24;/gtk+-&gtk3-version;.tar.xz">
  <!ENTITY gtk3-download-ftp  "&gnome-download-ftp;/gtk+/&gnome-minor-24;/gtk+-&gtk3-version;.tar.xz">
  <!ENTITY gtk3-md5sum        "3649dd48556ead2d909467c1f0751956">
  <!ENTITY gtk3-size          "12&nbsp;Mo">
  <!ENTITY gtk3-buildsize     "232&nbsp;Mo (plus 4&nbsp;Mo pour les tests)">
  <!ENTITY gtk3-time          "0.3 SBU (using parallelism=4, add 0.7 SBU for tests)">
]>

<sect1 id="gtk3" xreflabel="GTK+-&gtk3-version;">
  <?dbhtml filename="gtk3.html"?>


  <title>GTK+-&gtk3-version;</title>

  <indexterm zone="gtk3">
    <primary sortas="a-GTK+3">GTK+3</primary>
  </indexterm>

  <sect2 role="package">
    <title>Introduction à GTK+ 3</title>

    <para>
      Le paquet <application>GTK+ 3</application> contient les bibliothèques
utilisées pour les interfaces graphiques des applications.
    </para>

    &lfs113_checked;

    <bridgehead renderas="sect3">Informations sur le paquet</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>
          Téléchargement (HTTP)&nbsp;: <ulink url="&gtk3-download-http;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Téléchargement (FTP)&nbsp;: <ulink url="&gtk3-download-ftp;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Somme de contrôle MD5&nbsp;: &gtk3-md5sum;
        </para>
      </listitem>
      <listitem>
        <para>
          Taille du téléchargement&nbsp;: &gtk3-size;
        </para>
      </listitem>
      <listitem>
        <para>
          Estimation de l'espace disque requis&nbsp;: &gtk3-buildsize;
        </para>
      </listitem>
      <listitem>
        <para>
          Estimation du temps de construction&nbsp;: &gtk3-time;
        </para>
      </listitem>
    </itemizedlist>

    <bridgehead renderas="sect3">Dépendances de GTK+ 3</bridgehead>

    <bridgehead renderas="sect4">Requises</bridgehead>
    <para role="required">
      <xref linkend="at-spi2-core"/>, <xref linkend="gdk-pixbuf"/>, <xref
linkend="libepoxy"/> et <xref linkend="pango"/>
    </para>

    <bridgehead renderas="sect4">Recommandées</bridgehead>
    <para role="recommended">
      <xref linkend="adwaita-icon-theme"/> (par défaut pour certaines clefs de
préférences gtk+3, aussi requis pour les tests), <xref
linkend="docbook-xsl"/> (pour générer les pages de manuel), <xref
linkend="hicolor-icon-theme"/> (requis pour les tests), <xref
linkend="iso-codes"/>, <xref linkend="libxkbcommon"/>, <xref
linkend="libxslt"/> (pour générer les pages de manuel), <xref
linkend="sassc"/>, <xref linkend="wayland"/> et <xref
linkend="wayland-protocols"/>
    </para>

    <bridgehead renderas="sect4">Recommandées (Requises pour construire GNOME)</bridgehead>
    <para role="recommended">
      <xref linkend="gobject-introspection"/>
    </para>

    <bridgehead renderas="sect4">Facultatives</bridgehead>
    <para role="optional">
      <xref linkend="colord"/>, <xref linkend="cups"/>, <xref linkend="gtk-doc"/>,
<xref linkend="pyatspi2"/> (pour les tests), <xref linkend='tracker3'/> et
<ulink url="https://icl.utk.edu/papi/">PAPI</ulink>
    </para>

    <para condition="html" role="usernotes">
      Notes utilisateur&nbsp;: <ulink url="&blfs-wiki;/gtk3"/>
    </para>
  </sect2>

  <sect2 role="installation">
    <title>Installation de GTK+ 3</title>

    <para>
      Installez <application>GTK+ 3</application> en exécutant les commandes
suivantes&nbsp;:
    </para>

    <screen><userinput>mkdir build &amp;&amp;
cd    build &amp;&amp;
meson setup --prefix=/usr           \
            --buildtype=release     \
            -Dman=true              \
            -Dbroadway_backend=true \
            .. &amp;&amp;
ninja</userinput></screen>

    <para>
      To test the results you need a graphical session, then issue <command>ninja
test</command>. One test may fail because the time out setting is too short.
    </para>

    <para>
      Maintenant, en tant qu'utilisateur <systemitem
class="username">root</systemitem>&nbsp;:
    </para>

<screen role="root"><userinput>ninja install</userinput></screen>

    <note>
      <para>
        Si vous avez installé le paquet sur votre système en utilisant une méthode
<quote>DESTDIR</quote>, un fichier important n'a pas été installé et il faut
le copier ou le générer. Générez-le en utilisant la commande suivante en
tant qu'utilisateur <systemitem class="username">root</systemitem>&nbsp;:
      </para>

<screen role="root"><userinput>gtk-query-immodules-3.0 --update-cache</userinput></screen>
    </note>

    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
      href="../../xincludes/gsettings-destdir.xml"/>
  </sect2>

  <sect2 role="commands">
    <title>Explication des commandes</title>

    <para>
      <parameter>-Dbroadway_backend=true</parameter>&nbsp;: ce paramètre active le
moteur HTML5 de GTK.
    </para>

    <para>
      <parameter>-Dman=true</parameter>&nbsp;: Ce paramètre permet de générer les
pages de manuel.
    </para>

    <para>
      <option>-Dgtk_doc=true</option>&nbsp;: ce paramètre active la construction
de la documentation. Cela nécessite <xref linkend="gtk-doc"/>.
    </para>

    <para>
      <option>-Dtracker3=true</option>&nbsp;: ce paramètre active la fonction de
recherche basée sur Tracker 3 dans le dialogue de choix de fichier
GTK+-3. Cela nécessite <xref linkend="tracker3"/>.
    </para>

  </sect2>

  <sect2 role="configuration">
    <title>Configuration de GTK+ 3</title>

    <sect3 id="gtk3-config">
      <title>Fichiers de configuration</title>
      <para>
        <filename>~/.config/gtk-3.0/settings.ini</filename> et
<filename>/etc/gtk-3.0/settings.ini</filename>
      </para>

      <indexterm zone="gtk3 gtk3-config">
        <primary sortas="e-AA.home-settings.ini">~/.config/gtk-3.0/settings.ini</primary>
      </indexterm>

      <indexterm zone="gtk3 gtk3-config">
        <primary sortas="e-etc-path-settings.ini">/etc/gtk-3.0/settings.ini</primary>
      </indexterm>
    </sect3>

    <sect3><title>Informations sur la configuration</title>

      <para>
        Les thèmes <application>GTK+ 3</application> modifient la manière dont est
affichée une application <application>GTK+ 3</application>. Vous pouvez
utiliser un thème d'icônes pour modifier les icônes apparaissant sur la
barre d'outils de l'application. Si vous avez installé un thème
<application>GTK+ 3</application> (par exemple le thème Adwaita forunit par
<application>GTK+ 3</application>), un thème d'icônes (tel que <xref
linkend="oxygen-icons5"/>) ou une police de caractères (comme <xref
linkend="dejavu-fonts"/>), vous pouvez définir vos préférences dans
<filename>~/.config/gtk-3.0/settings.ini</filename> ou le fichier de
configuration par défaut pour tout le système (en tant qu'utilisateur
<systemitem class="username">root</systemitem>) dans
<filename>/etc/gtk-3.0/settings.in</filename>. Par exemple pour
l'utilisateur local&nbsp;:
      </para>

<screen><userinput>mkdir -vp ~/.config/gtk-3.0
cat &gt; ~/.config/gtk-3.0/settings.ini &lt;&lt; "EOF"
<literal>[Settings]
gtk-theme-name = <replaceable>Adwaita</replaceable>
gtk-icon-theme-name = <replaceable>oxygen</replaceable>
gtk-font-name = <replaceable>DejaVu Sans 12</replaceable>
gtk-cursor-theme-size = <replaceable>18</replaceable>
gtk-toolbar-style = <replaceable>GTK_TOOLBAR_BOTH_HORIZ</replaceable>
gtk-xft-antialias = <replaceable>1</replaceable>
gtk-xft-hinting = <replaceable>1</replaceable>
gtk-xft-hintstyle = <replaceable>hintslight</replaceable>
gtk-xft-rgba = <replaceable>rgb</replaceable>
gtk-cursor-theme-name = <replaceable>Adwaita</replaceable></literal>
EOF</userinput></screen>

      <para>
        Il y a beaucoup de clés de configuration, dont certaines avec des valeurs
par défaut. Vous pouvez les trouver sur <ulink
url="https://developer.gnome.org/gtk3/stable/GtkSettings.html">Configuration&nbsp;:
Manuel de référence GTK+ 3</ulink>. Il existe beaucoup plus de thèmes
disponibles sur <ulink url="https://www.gnome-look.org/browse/"/> et à
d'autres endroits.
      </para>

      <para>
        Les boutons des barres de défilement ne sont plus visibles à la suite de la
modification du style de GTK+-3.0 dans de nombreuses applications. Si vous
le souhaitez, modifiez le fichier <filename>gtk.css</filename> et
restaurez-les avec la commande suivante&nbsp;:
      </para>

<!-- This trick was discovered in the Seamonkey-2.53.2 release notes:
           http://www.seamonkey-project.org/releases/seamonkey2.53.2/ -->
<screen><userinput>cat &gt; ~/.config/gtk-3.0/gtk.css &lt;&lt; "EOF"
<literal>*  {
   -GtkScrollbar-has-backward-stepper: 1;
   -GtkScrollbar-has-forward-stepper: 1;
}</literal>
EOF</userinput></screen>

      

    </sect3>
  </sect2>

  <sect2 role="content">
    <title>Contenu</title>

    <segmentedlist>
      <segtitle>Programmes installés</segtitle>
      <segtitle>Bibliothèques installées</segtitle>
      <segtitle>Répertoires installés</segtitle>

      <seglistitem>
        <seg>
          broadwayd, gtk3-demo, gtk3-demo-application, gtk3-icon-browser,
gtk3-widget-factory, gtk-builder-tool, gtk-encode-symbolic-svg, gtk-launch,
gtk-query-immodules-3.0, gtk-query-settings et gtk-update-icon-cache
        </seg>
        <seg>
          libgailutil-3.so, libgdk-3.so et libgtk-3.so
        </seg>
        <seg>
          /etc/gtk-3.0, /usr/include/{gail,gtk}-3.0, /usr/{lib,share}/gtk-3.0 et
/usr/share/themes/{Default,Emacs}/gtk-3.0
        </seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Descriptions courtes</bridgehead>
      <?dbfo list-presentation="list"?> <?dbhtml list-presentation="table"?>

      <varlistentry id="broadwayd">
        <term><command>broadwayd</command></term>
        <listitem>
          <para>
            fournit le support pour l'affichage des applications <application>GTK+
3</application> dans un navigateur web utilisant HTML5 et les sockets web
          </para>
          <indexterm zone="gtk3 broadwayd">
            <primary sortas="b-broadwayd">broadwayd</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="gtk3-demo">
        <term><command>gtk3-demo</command></term>
        <listitem>
          <para>
            est un simple programme qui démontre certaines des choses dont est capable
<application>GTK+ 3</application>
          </para>
          <indexterm zone="gtk3 gtk3-demo">
            <primary sortas="b-gtk3-demo">gtk3-demo</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="gtk3-demo-application">
        <term><command>gtk3-demo-application</command></term>
        <listitem>
          <para>
            est une simple application <application>GKT+ 3</application>
          </para>
          <indexterm zone="gtk3 gtk3-demo-application">
            <primary sortas="b-gtk3-demo-application">gtk3-demo-application</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="gtk3-icon-browser">
        <term><command>gtk3-icon-browser</command></term>
        <listitem>
          <para>
            est un utilitaire pour explorer les icônes dans le thème d'icône
courante. Il montre les icônes dans des tailles différentes, leurs
différences symboliques quand elles sont disponibles, aussi bien que la
description des icônes et leur contexte
          </para>
          <indexterm zone="gtk3 gtk3-icon-browser">
            <primary sortas="b-gtk3-icon-browser">gtk3-icon-browser</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="gtk3-widget-factory">
        <term><command>gtk3-widget-factory</command></term>
        <listitem>
          <para>
            est un programme pour visionner les thèmes et les widgets <application>GTK+
3</application>
          </para>
          <indexterm zone="gtk3 gtk3-widget-factory">
            <primary sortas="b-gtk3-widget-factory">gtk3-widget-factory</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="gtk-builder-tool">
        <term><command>gtk-builder-tool</command></term>
        <listitem>
          <para>
            réalise différentes opérations sur les fichiers .ui de GtkBuilder
          </para>
          <indexterm zone="gtk3 gtk-builder-tool">
            <primary sortas="b-gtk-builder-tool">gtk-builder-tool</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="gtk-encode-symbolic-svg">
        <term><command>gtk-encode-symbolic-svg</command></term>
        <listitem>
          <para>
            convertit des icônes SVG symboliques dans un fichier spécialement préparé en
PNG. <application>GTK+ 3</application> peut charger et recolorer ces PNG
comme ceux d'origine en SVG, mais les charge bien plus rapidement
          </para>
          <indexterm zone="gtk3 gtk-encode-symbolic-svg">
            <primary sortas="b-gtk-encode-symbolic-svg">gtk-encode-symbolic-svg</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="gtk-launch">
        <term><command>gtk-launch</command></term>
        <listitem>
          <para>
            lance une application en utilisant soun nom. Le nom doit correspondre à des
noms de fichier d'application de bureau, qui sont dans <filename
class="directory">/usr/share/application</filename>, avec ou sans
l'extension '.desktop'
          </para>
          <indexterm zone="gtk3 gtk-launch">
            <primary sortas="b-gtk-launch">gtk-launch</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="gtk-query-immodules-3.0">
        <term><command>gtk-query-immodules-3.0</command></term>
        <listitem>
          <para>
            rassemble des informations sur les modules de méthode d'entrée chargeables
pour <application>GTK+ 3</application> et il les écrit à l'emplacement du
fichier cache par défaut ou sur la sortie standard
          </para>
          <indexterm zone="gtk3 gtk-query-immodules-3.0">
            <primary sortas="b-gtk-query-immodules-3.0">gtk-query-immodules-3.0</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="gtk-query-settings">
        <term><command>gtk-query-settings</command></term>
        <listitem>
          <para>
            fournit une liste complète de tous les paramètres liés à <application>GTK+
3</application>
          </para>
          <indexterm zone="gtk3 gtk-query-settings">
            <primary sortas="b-gtk-query-settings">gtk-query-settings</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="gtk-update-icon-cache3">
        <term><command>gtk-update-icon-cache</command></term>
        <listitem>
          <para>
            est un outil de mise en cache de thème d'icône qui crée des fichiers de
cache mmap()able pour les thèmes d'icônes
          </para>
          <indexterm zone="gtk3 gtk-update-icon-cache3">
            <primary sortas="b-gtk-update-icon-cache3">gtk-update-icon-cache</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libgailutil-3">
        <term><filename class="libraryfile">libgailutil-3.so</filename></term>
        <listitem>
          <para>
            contient les fonctions qui implémentent les interfaces d'accessibilité
définies par le <application>GNOME</application> Accessibility Toolkit
          </para>
          <indexterm zone="gtk3 libgailutil-3">
            <primary sortas="c-libgailutil-3">libgailutil-3.so</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libgdk-3">
        <term><filename class="libraryfile">libgdk-3.so</filename></term>
        <listitem>
          <para>
            contient les fonctions agissant comme une enveloppe autour des fonctions de
dessin et de mise en fenêtres de bas niveau qu'offre le système graphique
sous-jacent
          </para>
          <indexterm zone="gtk3 libgdk-3">
            <primary sortas="c-libgdk-3">libgdk-3.so</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libgtk-3">
        <term><filename class="libraryfile">libgtk-3.so</filename></term>
        <listitem>
          <para>
            contient les fonctions offrant une API pour implémenter des interfaces
graphiques
          </para>
          <indexterm zone="gtk3 libgtk-3">
            <primary sortas="c-libgtk-3">libgtk-3.so</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
