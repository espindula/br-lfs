<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

  <!ENTITY icewm-download-http "https://github.com/ice-wm/icewm/archive/&icewm-version;/icewm-&icewm-version;.tar.gz">
  <!ENTITY icewm-download-ftp  "">
  <!ENTITY icewm-md5sum        "4114f69e87441e81427ab1dea169acd0">
  <!ENTITY icewm-size          "2.2&nbsp;Mo">
  <!ENTITY icewm-buildsize     "44&nbsp;Mo">
  <!ENTITY icewm-time          "0,2 SBU (avec parallélisme = 4)">
]>

<sect1 id="icewm" xreflabel="IceWM-&icewm-version;">
  <?dbhtml filename="icewm.html" ?>

  <sect1info>
<date>$Date$</date></sect1info>

  <title>IceWM-&icewm-version;</title>

  <indexterm zone="icewm">
    <primary sortas="a-icewm">icewm</primary>
  </indexterm>

  <sect2 role="package">
    <title>Introduction à IceWM</title>

    <para>
      <application>IceWM</application> est un gestionnaire de fenêtres ayant pour
but la rapidité, la simplicité et ne pas marcher sur les pieds de
l'utilisateur.
    </para>

    &lfs110a_checked;

    <bridgehead renderas="sect3">Informations sur le paquet</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>
          Téléchargement (HTTP)&nbsp;: <ulink url="&icewm-download-http;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Téléchargement (FTP)&nbsp;: <ulink url="&icewm-download-ftp;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Somme de contrôle MD5 du téléchargement&nbsp;: &icewm-md5sum;
        </para>
      </listitem>
      <listitem>
        <para>
          Taille du téléchargement&nbsp;: &icewm-size;
        </para>
      </listitem>
      <listitem>
        <para>
          Estimation de l'espace disque requis&nbsp;: &icewm-buildsize;
        </para>
      </listitem>
      <listitem>
        <para>
          Estimation du temps de construction&nbsp;: &icewm-time;
        </para>
      </listitem>
    </itemizedlist>

    <bridgehead renderas="sect3">Dépendances de IceWM</bridgehead>

    <bridgehead renderas="sect4">Requises</bridgehead>
    <para role="required">
      <xref linkend="cmake"/>, <xref linkend="x-window-system"/> et <xref
linkend="gdk-pixbuf-xlib"/>
    </para>

    <bridgehead renderas="sect4">Facultatives</bridgehead>
    <para role="optional">
      <xref linkend="asciidoc"/> (pour régénérer la documentation HTML), <xref
linkend="fribidi"/> (pour les langues écrites de droite à gauche), <xref
linkend="imlib2"/>, <xref linkend="librsvg"/>, <xref linkend="libao"/>,
<xref linkend="libsndfile"/> et <xref linkend="alsa-lib"/> (pour le
programme expérimental icesound)
    </para>

    <para condition="html" role="usernotes">Notes utilisateur&nbsp;: <ulink url="&blfs-wiki;/icewm"/></para>

   </sect2>

  <sect2 role="installation">
    <title>Installation de IceWM</title>

    <para>
      Installez <application>IceWM</application> en lançant les commandes
suivantes&nbsp;:
    </para>

<screen><userinput>mkdir build &amp;&amp;
cd    build &amp;&amp;

cmake -DCMAKE_INSTALL_PREFIX=/usr \
      -DCMAKE_BUILD_TYPE=Release  \
      -DCFGDIR=/etc               \
      -DENABLE_LTO=ON             \
      -DCONFIG_GDK_PIXBUF_XLIB=ON \
      -DCONFIG_IMLIB2=OFF         \
      -DDOCDIR=/usr/share/doc/icewm-&icewm-version;  \
      .. &amp;&amp;
make</userinput></screen>

    <para>
      Ce paquet n'a pas de suite de tests fonctionnelle.
    </para>

    <para>
      Maintenant, en tant qu'utilisateur <systemitem
class="username">root</systemitem>&nbsp;:
    </para>

<screen role="root"><!--
<screen role="root">
<userinput>cp ../lib/IceWM.jpg lib &amp;&amp;
make install         &amp;&amp;
rm /usr/share/xsessions/icewm.desktop</userinput></screen>
-->
<userinput>make install</userinput></screen>

  </sect2>

  <sect2 role="commands">
    <title>Explication des commandes</title>

    <para>
      <option>-DENABLE_LTO=ON</option>&nbsp;: cette option active l'optimisation à
l'édition des liens et est requise pour ce paquet.
    </para>

  <!--
    <para>

      <command>rm /usr/share/xsessions/icewm.desktop</command>: The package
      ships with both icewm.desktop and icewm-xsession.desktop. The former has
      apparently been used in the past, but it will hang if used with a modern
      desktop-manager<phrase revision='sysv'> such as
      <xref linkend="lightdm"/></phrase>.
    </para>

    <para>
      <command>cp ../lib/IceWM.jpg lib</command>: This instruction fixes an 
      install problem.
    </para>
-->
</sect2>

  <sect2 role="configuration">
    <title>Configuration de IceWM</title>

    <sect3 id="icewm-config">
      <title>Fichiers de configuration</title>

      <para>
        <filename>~/.icewm/keys</filename>, <filename>~/.icewm/menu</filename>, et
<filename>~/.icewm/preferences</filename>, et
<filename>~/.icewm/toolbar</filename>, et
<filename>~/.icewm/winoptions</filename>. Les versions par défaut sont
installées dans <filename class="directory">/usr/share/icewm/</filename> et
seront utilisées si vous ne les avez pas copiées dans <filename
class="directory">~/.icewm</filename>.
      </para>


      <indexterm zone="icewm icewm-config">
        <primary sortas="e-AA.icewm-keys">~/.icewm/keys</primary>
      </indexterm>

      <indexterm zone="icewm icewm-config">
        <primary sortas="e-AA.icewm-menu">~/.icewm/menu</primary>
      </indexterm>

      <indexterm zone="icewm icewm-config">
        <primary sortas="e-AA.icewm-preferences">~/.icewm/preferences</primary>
      </indexterm>

      <indexterm zone="icewm icewm-config">
        <primary sortas="e-AA.icewm-toolbar">~/.icewm/toolbar</primary>
      </indexterm>

      <indexterm zone="icewm icewm-config">
        <primary sortas="e-AA.icewm-winoptions">~/.icewm/winoptions</primary>
      </indexterm>

    </sect3>

    <sect3>
      <title>Informations sur la configuration</title>

      <para>
        Si <application>IceWM</application> est le seul gestionnaire de fenêtres que
vous voulez utiliser, vous pouvez le démarrer avec un fichier
<filename>.xinitrc</filename> dans votre dossier personnel. Soyez certain
d'avoir une copie de votre fichier <filename>.xinitrc</filename> actuel
avant de le modifier.
      </para>

      <indexterm zone="icewm icewm-config">
        <primary sortas="e-AA.xinitrc">~/.xinitrc</primary>
      </indexterm>

<screen><userinput>echo icewm-session &gt; ~/.xinitrc</userinput></screen>

      <para>
        Maintenant, créez les fichiers de configuration de
<application>IceWM</application>&nbsp;:
      </para>

<screen><userinput>mkdir -pv ~/.icewm                                      &amp;&amp;
cp -v /usr/share/icewm/keys ~/.icewm/keys               &amp;&amp;
cp -v /usr/share/icewm/menu ~/.icewm/menu               &amp;&amp;
cp -v /usr/share/icewm/preferences ~/.icewm/preferences &amp;&amp;
cp -v /usr/share/icewm/toolbar ~/.icewm/toolbar         &amp;&amp;
cp -v /usr/share/icewm/winoptions ~/.icewm/winoptions</userinput></screen>

      <para>
        Vous pouvez maintenant éditer ces fichiers pour mettre vos
personnalisations. En particulier, regardez le fichier
<filename>preferences</filename>. Vous pouvez utiliser <command>Logout ->
Restart-IceWM</command> dans le menu principal pour charger vos préférences
modifiées, mais les modifications de fond ne prendront effet seulement quand
<application>IceWM</application> est redémarré.
      </para>

      <para>
        À ce stade, vous pouvez <emphasis>soit</emphasis> modifier les fichiers de
menu tradutionels pour satisfaire vos exigences, <emphasis>soit</emphasis>
utiliser <command>icewm-menu-fdo</command> comme décrit plus tard.
      </para>

      <para>
        La syntaxe des menus est expliquée dans les fichiers d'aide, auxquels vous
pouvez accéder en lançant <command>help</command> depuis le menu, mais
certains des détails sont dépassés et les sélections par défaut dans les
menus (quelques vieilles applications dans le menu principal, et toutes
celles dans le menu <command>Programs</command>) auraient besoin d'être mise
à jour pour s'adapter à vos besoins. Les exemples suivants sont fournis pour
vous encourager à penser comment vous voulez organiser vos menus. Merci de
faire attention à la suite&nbsp;:
      </para>

      <itemizedlist>
        <listitem>
          <para>
            Si un programme listé dans le menu n'a pas été installé, il n'apparaîtra pas
quand le menu sera affiché. De même, si un programme existe mais que l'icône
spécifiée n'existe pas, aucune icône ne sera affichée dans le menu.
          </para>
        </listitem>
        <listitem>
          <para>
            Les icônes peuvent être des fichiers <filename>.xpm</filename> ou
<filename>.png</filename>, et il n'est pas utile de spécifier
l'extension. Si l'icône est placée dans la «&nbsp;bibliothèque&nbsp;»
(<filename class="directory">/usr/share/icewm/icons</filename>) il n'est pas
utile de spécifier le chemin.
          </para>
        </listitem>
        <listitem>
          <para>
            La plupart des programmes sont dans des sous menus, et le menu principal
sera seulement pour les entrées <literal>windows, help, settings,
logout</literal> en bas.
          </para>
        </listitem>
        <listitem>
          <para>
            Une icône pour <application>firefox</application> a été copiée dans le
répertoire de la bibliothèque et a un nom logique. L'icône pour
<application>xine</application> est <filename>xine.xpm</filename> qui a été
installée dans le répertoire pixmap.
          </para>
        </listitem>
        <listitem>
          <para>
            La barre d'outils par défaut n'est pas altérée.
          </para>
        </listitem>
      </itemizedlist>

      <para>
        Si vous souhaitez utiliser cette méthode traditionnelle, il y a plus
d'exemples dans les versions précédentes de ce livre (par exemple BLFS-7.8).
      </para>

      <para>
        <emphasis>Autrement</emphasis>, vous pouvez créer un menu qui se conforme à
la spécification des menus de bureau FDO, où les programmes peuvent être
trouvés grâce à leur fichier .desktop dans les répertoires XDG_DATA_HOME ou
XDG_DATA_DIR. Contrairement à la plupart des gestionnaires de fenêtres,
<application>icewm</application> ne cherche pas les programmes quand le menu
est ouvert, donc si vous prenez ce chemin, vous devrez relancer les
commandes suivantes après avoir installé ou supprimé des programmes&nbsp;:
      </para>

<screen><userinput>icewm-menu-fdo >~/.icewm/menu</userinput></screen>

      <para>
        Si vous voulez mettre les icônes sur votre bureau, vous devrez installer un
programme comme <xref linkend="rox-filer"/> qui fournit un tableau
d'affichage. Si vous le faites, vous ne serez plus en mesure d'accéder au
menu par un clic droit sur le bureau, vous aurez besoin d'utiliser le bouton
de <application>IceWM</application>. Pour vous assurer que le tableau
d'affichage <application>rox</application> est lancé, la commande suivante
doit être placée dans le fichier de démarrage&nbsp;:
      </para>

<screen role="nodump"><userinput>cat &gt; ~/.icewm/startup &lt;&lt; "EOF"
<literal>rox -p Default &amp;
EOF &amp;&amp;
chmod +x ~/.icewm/startup</literal></userinput></screen>

     <tip>
       <para>
         Il y a de nombreux raccourcis dans <application>IceWM</application>&nbsp;:
       </para>
       <itemizedlist>
         <listitem>
           <para>
             Ctrl + Alt + F<replaceable>N</replaceable>&nbsp;: aller au
<filename>tty<replaceable>N</replaceable></filename>.
           </para>
         </listitem>
         <listitem>
           <para>
             Ctrl + Alt + <replaceable>N</replaceable>&nbsp;: aller au bureau numéro
<replaceable>N</replaceable>
           </para>
         </listitem>
         <listitem>
           <para>
             Ctrl + Alt + Space&nbsp;: ouvre une boite dans la barre des taches ou vous
pouvez taper le nom d'une application et la lancer.
           </para>
         </listitem>
       </itemizedlist>
     </tip>

    </sect3>

  </sect2>

  <sect2 role="content">
    <title>Contenu</title>

    <segmentedlist>
      <segtitle>Programmes installés</segtitle>
      <segtitle>Bibliothèques installées</segtitle>
      <segtitle>Répertoires installés</segtitle>

      <seglistitem>
        <seg><!--icewmtray-->
icehelp, icesh, icesound, icewm, icewm-menu-fdo, icewm-menu-xrandr,
icewm-session, icewm-set-gnomewm, icewmbg et icewmhint 
        </seg>
        <seg>Aucune</seg>
        <seg>/usr/share/doc/icewm-&icewm-version;, /usr/share/icewm et ~/.icewm</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Descriptions courtes</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="icehelp">
        <term><command>icehelp</command></term>
        <listitem>
          <para>
            est utilisée pour afficher le manuel html
          </para>
          <indexterm zone="icewm icehelp">
            <primary sortas="b-icehelp">icehelp</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="icesh">
        <term><command>icesh</command></term>
        <listitem>
          <para>
            est un gestionnaire de fenêtres en ligne de commandes qui peut être utilisé
dans <filename>~/.icewm/startup</filename>
          </para>
          <indexterm zone="icewm icesh">
            <primary sortas="b-icesh">icesh</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="icesound">
        <term><command>icesound</command></term>
        <listitem>
          <para>
            joue les fichiers audio lorsque des événements graphiques sont levés par
IceWM
          </para>
          <indexterm zone="icewm icesound">
            <primary sortas="b-icesound">icesound</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="icewm-prog">
        <term><command>icewm</command></term>
        <listitem>
          <para>
            est le gestionnaire de fenêtres
          </para>
          <indexterm zone="icewm icewm-prog">
            <primary sortas="b-icewm">icewm</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="icewm-menu-fdo">
        <term><command>icewm-menu-fdo</command></term>
        <listitem>
          <para>
            peut créer un fichier dans un format compatible avec le menu IceWM, qui
liste les programmes actuellement installés dans un style conforme aux
spécifications de menu de bureau FDO
          </para>
          <indexterm zone="icewm icewm-menu-fdo">
            <primary sortas="b-icewm-menu-fdo">icewm-menu-fdo</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="icewm-menu-xrandr">
        <term><command>icewm-menu-xrandr</command></term>
        <listitem>
          <para>
            est un programme d'aide utilisé pour gérer les configurations multi-écrans
          </para>
          <indexterm zone="icewm icewm-menu-xrandr">
            <primary sortas="b-icewm-menu-xrandr">icewm-menu-xrandr</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="icewm-session">
        <term><command>icewm-session</command></term>
        <listitem>
          <para>
            lance icewmbg, icewm, icewmtray, startup, shutdown (c'est-à-dire que les
scripts de démarrage et d'arrêt sont lancés s'ils ont été installés)
          </para>
          <indexterm zone="icewm icewm-session">
            <primary sortas="b-icewm-session">icewm-session</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="icewm-set-gnomewm">
        <term><command>icewm-set-gnomewm</command></term>
        <listitem>
          <para>
            est un script pour initialiser <application>GNOME</application> avec le
gestionnaire de fenêtres <application>icewm</application> en utilisant
<application>gconftool</application>
          </para>
          <indexterm zone="icewm icewm-set-gnomewm">
            <primary sortas="b-icewm-set-gnomewm">icewm-set-gnomewm</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="icewmbg">
        <term><command>icewmbg</command></term>
        <listitem>
          <para>
            est utilisé pour initialiser le fond, en accord avec les nombreux paramètres
de <literal>DesktopBackground</literal> dans les préférences
          </para>
          <indexterm zone="icewm icewmbg">
            <primary sortas="b-icewmbg">icewmbg</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="icewmhint">
        <term><command>icewmhint</command></term>
        <listitem>
          <para>
            est utilisé en interne
          </para>
          <indexterm zone="icewm icewmhint">
            <primary sortas="b-icewmhint">icewmhint</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="icewmtray">
        <term><command>icewmtray</command></term>
        <listitem>
          <para>
            fournit la barre
          </para>
          <indexterm zone="icewm icewmtray">
            <primary sortas="b-icewmtray">icewmtray</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
