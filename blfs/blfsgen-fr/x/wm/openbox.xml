<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

  <!ENTITY openbox-download-http
  "http://openbox.org/dist/openbox/openbox-&openbox-version;.tar.gz">
  <!ENTITY openbox-download-ftp  "">
  <!ENTITY openbox-md5sum        "b72794996c6a3ad94634727b95f9d204">
  <!ENTITY openbox-size          "944 Ko">
  <!ENTITY openbox-buildsize     "21 Mo">
  <!ENTITY openbox-time          "0.3 SBU">
]>

<sect1 id="openbox" xreflabel="openbox-&openbox-version;">
  <?dbhtml filename="openbox.html"?>

  <sect1info>
<date>$Date$</date></sect1info>

  <title>openbox-&openbox-version;</title>

  <indexterm zone="openbox">
    <primary sortas="a-openbox">Openbox</primary>
  </indexterm>

  <sect2 role="package">
    <title>Introduction à openbox</title>

    <para>
      <application>Openbox</application> est un gestionnaire de fenêtres de bureau
hautement configurable supportant des standards de façon étendue. Il vous
permet de contrôler presque tous les aspects de la manière dont interagissez
avec votre bureau.
    </para>

    &lfs111_checked;

    <bridgehead renderas="sect3">Informations sur le paquet</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>
          Téléchargement (HTTP)&nbsp;: <ulink url="&openbox-download-http;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Somme de contrôle MD5&nbsp;: &openbox-md5sum;
        </para>
      </listitem>
      <listitem>
        <para>
          Taille du téléchargement&nbsp;: &openbox-size;
        </para>
      </listitem>
      <listitem>
        <para>
          Estimation de l'espace disque requis&nbsp;: &openbox-buildsize;
        </para>
      </listitem>
      <listitem>
        <para>
          Estimation du temps de construction&nbsp;: &openbox-time;
        </para>
      </listitem>
    </itemizedlist>

    <bridgehead renderas="sect3">Dépendances de Openbox</bridgehead>

    <bridgehead renderas="sect4">Requises</bridgehead>
    <para role="required">
      <xref linkend="x-window-system"/> et <xref linkend="pango"/> (compilé avec
le support de libXft)
    </para>

    <bridgehead renderas="sect4">Facultatives</bridgehead>
    <para role="optional">
      <xref role="runtime" linkend="dbus"/> (exécution), <xref linkend="imlib2"/>
(pour activer les icônes das le menu du clic-droit), <xref
linkend="imagemagick"/> (pour afficher les fond d'écran comme dans la
section d'information sur la configuration ci-dessous), <xref
linkend="pyxdg"/>, <xref linkend="startup-notification"/> et <xref
linkend="librsvg"/>
    </para>

    <para condition="html" role="usernotes">
      Notes utilisateur&nbsp;: <ulink url="&blfs-wiki;/openbox"/>
    </para>
  </sect2>

  <sect2 role="installation">
    <title>Installation de Openbox</title>

    <note>
      <para>
        Si XORG_PREFIX n'est pas <filename class='directory'>/gcc</filename>,
informez-en <command>gcc</command>&nbsp;:
      </para>

<screen><userinput>export LIBRARY_PATH=$XORG_PREFIX/lib</userinput></screen>

    </note>

    <para>
      Si vous installez seulement le module Python 3 PyXDG convertissez l'un des
scripts pour Python 3&nbsp;:
    </para>

<screen><userinput>2to3-&python3-majorver; -w data/autostart/openbox-xdg-autostart &amp;&amp;
sed 's/python/python3/' -i data/autostart/openbox-xdg-autostart</userinput></screen>

    <para>
      Installez <application>Openbox</application> en exécutant les commandes
suivantes&nbsp;:
    </para>

<screen><userinput>./configure --prefix=/usr     \
            --sysconfdir=/etc \
            --disable-static  \
            --docdir=/usr/share/doc/openbox-&openbox-version; &amp;&amp;
make</userinput></screen>

    <para>
      Ce paquet n'a pas de suite de tests.
    </para>

    <para>
      Maintenant, en tant qu'utilisateur <systemitem
class="username">root</systemitem>&nbsp;:
    </para>

<screen role="root"><userinput>make install</userinput></screen>
  </sect2>

  <sect2 role="commands">
    <title>Explication des commandes</title>

    <para>
      <parameter>--sysconfdir=/etc</parameter>&nbsp;: Cette option met les
fichiers de configuration de <application>Openbox</application> dans
/etc/xdg/openbox au lieu de /usr/etc/xdg/openbox.
    </para>

    <para>
      <parameter>--docdir=/usr/share/doc/openbox-&openbox-version;</parameter>&nbsp;:
ceci met quelques fichiers dans un répertoire versionné de <filename
class="directory">/usr/share/doc</filename>.
    </para>

    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
      href="../../xincludes/static-libraries.xml"/>

  </sect2>

  <sect2 role="configuration">
    <title>Configuration de Openbox</title>

    <sect3 id="openbox-config">
      <title>Fichiers de configuration</title>

      <para>
        <filename>/etc/xdg/openbox/autostart</filename>,
<filename>/etc/xdg/openbox/menu.xml</filename>,
<filename>/etc/xdg/openbox/rc.xml</filename>,
<filename>~/.config/openbox/autostart</filename>,
<filename>~/.config/openbox/menu.xml</filename> et
<filename>~/.config/openbox/rc.xml</filename>
      </para>

      <indexterm zone="openbox openbox-config">
        <primary sortas="e-AA.autostart">~/.config/openbox/autostart</primary>
      </indexterm>

      <indexterm zone="openbox openbox-config">
        <primary sortas="e-AA.menu">~/.config/openbox/menu.xml</primary>
      </indexterm>

      <indexterm zone="openbox openbox-config">
        <primary sortas="e-AA.rc">~/.config/openbox/rc.xml</primary>
      </indexterm>

      <indexterm zone="openbox openbox-config">
        <primary sortas="e-etc-path-autostart">/etc/xdg/openbox/autostart</primary>
      </indexterm>

      <indexterm zone="openbox openbox-config">
        <primary sortas="e-etc-path-menu">/etc/xdg/openbox/menu.xml</primary>
      </indexterm>

      <indexterm zone="openbox openbox-config">
        <primary sortas="e-etc-path-rc">/etc/xdg/openbox/rc.xml</primary>
      </indexterm>
    </sect3>

    <sect3><title>Informations sur la configuration</title>

      <para>
        Un clic droit sur le menu d'<application>Openbox</application> peut être
utilisé pour lancer des programmes. Le menu lui-même est configuré par 2
fichiers, <filename>/etc/xdg/openbox/menu.xml</filename> et
<filename>~/.config/openbox/menu.xml</filename>. Pour faire des
modifications dans le menu, copiez /etc/xdg/openbox/menu.xml vers
~/.config/openbox/menu.xml et éditez-le&nbsp;:
      </para>

<screen><userinput>cp -rf /etc/xdg/openbox ~/.config</userinput></screen>
      <para>

        Vous pouvez éditer <filename>~/.config/openbox/menu.xml</filename> avec un
éditeur de texte ou vous pouvez installer <ulink
url="http://obmenu.sourceforge.net/">Obmenu</ulink> (exige <ulink
url="http://pyxml.sourceforge.net/topics/">pyxml</ulink> et <xref
linkend="pygtk"/>).
      </para>

      <para>
        Pour avoir des icônes dans votre menu accessible avec le clic droit, il vous
faut installer <xref linkend="imlib2"/> avant d'installer
<application>Openbox</application>. Pour définir une icône pour une entrée
de menu, éditez <filename>~/.config/openbox/menu.xml</filename> et ajoutez
une icône au tag &lt;ite&gt; comme ceci&nbsp;:
      </para>

<screen>&lt;item label="Mplayer" icon="/usr/share/pixmaps/mplayer.png"&gt;</screen>

      <para>
        De nombreux autres aspects du comportement
d'<application>Openbox</application> sont configurés avec
<filename>~/.config/openbox/rc.xml</filename> tels que les raccourcis
claviers utilisés pour lancer des programmes ou le bouton de la souris pour
lancer le menu principal.
      </para>

      <para>
        Les détails sur le thème appliqué par <application>Openbox</application> aux
décors de la fenêtre sont configurés dans
<filename>~/.config/openbox/rc.xml</filename>. Vous pouvez avoir une liste
des thèmes disponibles par la commande&nbsp;:
      </para>

<screen role="nodump"><userinput>ls -d /usr/share/themes/*/openbox-3 | sed 's#.*es/##;s#/o.*##'</userinput></screen>
    </sect3>

    <sect3  id="openbox-init">
      <title>Démarrer Openbox</title>

      <para>
        Pour démarrer automatiquement <command>openbox</command> au démarrage de
<application>Xorg</application>&nbsp;:
      </para>

<screen><userinput>echo openbox &gt; ~/.xinitrc</userinput></screen>

      <para>
        Si vous souhaitez avoir une image de fond sur votre bureau vous pouvez
utiliser <xref linkend="display"/> et le lancer depuis ~/.xinitrc juste
avant openbox&nbsp;:
      </para>

<screen role="nodump"><userinput>cat &gt; ~/.xinitrc &lt;&lt; "EOF"
<literal>display -backdrop -window root /path/to/beautiful/picture.jpeg
exec openbox</literal>
EOF</userinput></screen>

      <para>
        Ou si vous aimez un peu de variété, mettez une sélection d'images dans un
dossier (dans cet exemple, le répertoire ~/.config/backgrounds) et
choisissez en une au hasard chaque fois que vous lancez
<command>xinit</command>&nbsp;:
      </para>

<screen role="nodump"><userinput>cat &gt; ~/.xinitrc &lt;&lt; "EOF"
<literal># make an array which lists the pictures:
picture_list=(~/.config/backgrounds/*)
# create a random integer between 0 and the number of pictures:
random_number=$(( ${RANDOM} % ${#picture_list[@]} ))
# display the chosen picture:
display -backdrop -window root "${picture_list[${random_number}]}"
exec openbox</literal>
EOF</userinput></screen>

      <para>
        <!-- 13-12-11 numlockx not found on the KDE website. This URL is OK ? -->
If you like to have the numlock key set when you start Xorg, install <ulink
url=
"https://ftp.debian.org/debian/pool/main/n/numlockx/numlockx_1.2.orig.tar.gz">
Numlockx</ulink> and add that to your xinitrc. Another useful application is
<xref linkend="dbus"/>:
      </para>

<screen role="nodump"><userinput>cat &gt; ~/.xinitrc &lt;&lt; "EOF"
<literal>. /etc/profile
picture_list=(~/.config/backgrounds/*)
random_number=$(( ${RANDOM} % ${#picture_list[*]} ))
display -backdrop -window root "${picture_list[${random_number}]}"
numlockx
eval $(dbus-launch --auto-syntax --exit-with-session)
lxpanel &amp;
exec openbox</literal>
EOF</userinput></screen>
    </sect3>
  </sect2>

  <sect2 role="content">
    <title>Contenu</title>

    <segmentedlist>
      <segtitle>Programmes installés</segtitle>
      <segtitle>Bibliothèques installées</segtitle>
      <segtitle>Répertoires installés</segtitle>

      <seglistitem>
        <seg>
          gdm-control, gnome-panel-control, obxprop, openbox, openbox-gnome-session,
openbox-kde-session et openbox-session
        </seg>
        <seg>
          libobrender.so et libobt.so
        </seg>
        <seg>
          /etc/xdg/openbox, /usr/include/openbox,
/usr/share/doc/openbox-&openbox-version; et /usr/share/themes.
        </seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Descriptions courtes</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="gdm-control">
        <term><command>gdm-control</command></term>
        <listitem>
          <para>
            est un outil en ligne de commande pour envoyer des signaux à
<application>GDM</application>
          </para>
          <indexterm zone="openbox gdm-control">
            <primary sortas="b-gdm-control">gdm-control</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="gnome-panel-control">
        <term><command>gnome-panel-control</command></term>
        <listitem>
          <para>
            est un outil en ligne de commande pour appeler la boîte de dialogue/le menu
de <application>Gnome Panel</application>
          </para>
          <indexterm zone="openbox gnome-panel-control">
            <primary sortas="b-gnome-panel-control">gnome-panel-control</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="obxprop">
        <term><command>obxprop</command></term>
        <listitem>
          <para>
            est un outil pour afficher les propriétés d'un système x window. Il comporte
une fonctionnalité similaire à <command>xprop</command>, mais il vous permet
de voir des chaînes UTF-8 comme du texte
          </para>
          <indexterm zone="openbox obxprop">
            <primary sortas="b-obxprop">obxprop</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="openbox-prog">
        <term><command>openbox</command></term>
        <listitem>
          <para>
            est un gestionnaire de fenêtres respectant les standards et très
configurable
          </para>
          <indexterm zone="openbox openbox">
            <primary sortas="b-openbox">openbox</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="openbox-gnome-session">
        <term><command>openbox-gnome-session</command></term>
        <listitem>
          <para>
            est un script pour lancer une session <application>Gnome</application> avec
<application>Openbox</application> comme gestionnaire de fenêtres à partir
de votre <filename>~/.xinitrc</filename>
          </para>
          <indexterm zone="openbox openbox-gnome-session">
            <primary sortas="b-openbox-gnome-session">openbox-gnome-session</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="openbox-kde-session">
        <term><command>openbox-kde-session</command></term>
        <listitem>
          <para>
            est un script pour lancer une session <application>KDE</application> avec
<application>Openbox</application> comme gestionnaire de fenêtres à partir
de votre <filename>~/.xinitrc</filename>
          </para>
          <indexterm zone="openbox openbox-kde-session">
            <primary sortas="b-openbox-kde-session">openbox-kde-session</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="openbox-session">
        <term><command>openbox-session</command></term>
        <listitem>
          <para>
            est un script pour lancer une session <application>Openbox</application> à
partir de votre <filename>~/.xinitrc</filename>
          </para>
          <indexterm zone="openbox openbox-session">
            <primary sortas="b-openbox-session">openbox-session</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libobrender">
        <term><filename class="libraryfile">libobrender.so</filename></term>
        <listitem>
          <para>
            contient les fonctions utilisées par <application>Openbox</application> pour
l'affichage du thème
          </para>
          <indexterm zone="openbox libobrender">
            <primary sortas="c-libobrender">libobrender.so</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libobt">
        <term><filename class="libraryfile">libobt.so</filename></term>
        <listitem>
          <para>
            est la bibliothèque d'outils d'<application>Openbox</application>
          </para>
          <indexterm zone="openbox libobt">
            <primary sortas="c-libobt">libobt.so</primary>
          </indexterm>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect2>

</sect1>
