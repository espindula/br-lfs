<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

  <!ENTITY libva-version                "2.18.0">

  <!ENTITY libva-download-http "https://github.com/intel/libva/releases/download/&libva-version;/libva-&libva-version;.tar.bz2">
  <!ENTITY libva-download-ftp  "">
  <!ENTITY libva-md5sum        "b597a43395daebf65f23872b67bcd794">
  <!ENTITY libva-size          "496&nbsp;Ko">
  <!ENTITY libva-buildsize     "5,4&nbsp;Mo">
  <!ENTITY libva-time          "moins de 0.1 SBU">
]>

  <sect2 id="libva" xreflabel="libva-&libva-version;">

    <sect2info>
<date>$Date$</date></sect2info>

    <title>libva-&libva-version;</title>

    <indexterm zone="libva">
      <primary sortas="a-libva">libva</primary>
    </indexterm>

    <sect3 role="package">
      <title>Introduction à libva</title>

      <para>
         Le paquet <application>libva</application> contient une bibliothèque qui
fournit l'accès à l'accélération vidéo matérielle en utilisant le matériel
pour accélérer le traitement des vidéos pour décharger le processeur en
décodant et en encodant des vidéos numériques compressées. L'interface de
décodage et d'encodage vidéo VA API est indépendant de la plateforme et du
système de fenêtrage destiné à fonctionner avec la Direct Rendering
Infrastructure (DRI) dans le système de fenêtrage X bien qu'il puisse
éventuellement aussi être utilisé directement avec le framebuffer ou les
sous-systèmes graphiques pour la sortie vidéo. Le traitement accéléré inclut
le support pour le décodage vidéo, l'encodage vidéo, le mixage de
sous-images et le rendu vidéo.
      </para>

      &lfs113_checked;

      <bridgehead renderas="sect4">Informations sur le paquet</bridgehead>
      <itemizedlist spacing="compact">
        <listitem>
          <para>
            Téléchargement (HTTP)&nbsp;: <ulink url="&libva-download-http;"/>
          </para>
        </listitem>
        <listitem>
          <para>
            Téléchargement (FTP)&nbsp;: <ulink url="&libva-download-ftp;"/>
          </para>
        </listitem>
        <listitem>
          <para>
            Somme de contrôle MD5&nbsp;: &libva-md5sum;
          </para>
        </listitem>
        <listitem>
          <para>
            Taille du téléchargement&nbsp;: &libva-size;
          </para>
        </listitem>
        <listitem>
          <para>
            Estimation de l'espace disque requis&nbsp;: &libva-buildsize;
          </para>
        </listitem>
        <listitem>
          <para>
            Estimation du temps de construction&nbsp;: &libva-time;
          </para>
        </listitem>
      </itemizedlist>

      <bridgehead renderas="sect4">Dépendances de libva</bridgehead>

      <bridgehead renderas="sect5">Requises</bridgehead>
      <para role="required">
        <xref linkend="libdrm"/>
      </para>

      <bridgehead renderas="sect5">Recommandées</bridgehead>
      <para role="recommended">
        <xref linkend="mesa"/>
      </para>

      <bridgehead renderas="sect5">Recommended (Runtime)</bridgehead>
      
      <!-- "nodep" to prevent BLFS tool from blindly installing all the
           drivers -->
<para role='nodep'>
        The VA API driver suitable for the hardware in your system: <xref
linkend='intel-vaapi-driver'/> (for Intel GPUs provided with Haswell CPUs or
earlier), <xref linkend='intel-media-driver'/> (for Intel GPUs provided with
Broadwell CPUs or later), <xref linkend='mesa'/> (providing the
<literal>r600</literal>, <literal>raedonsi</literal>, and
<literal>nouveau</literal> VA API drivers, for the ATI/AMD Raedon HD 2xxx
GPUs and later, and <ulink
url='https://nouveau.freedesktop.org/VideoAcceleration.html'> supported
NVIDIA GPUs</ulink>; there is a circular dependency, read the Mesa page for
information on how to break it)
      </para>

      <bridgehead renderas="sect5">Facultatives</bridgehead>
      <para role="optional">
        <xref linkend="doxygen"/>, <xref linkend="wayland"/> et <ulink
url="https://gitlab.freedesktop.org/drm/igt-gpu-tools">intel-gpu-tools</ulink>
      </para>

      <para condition="html" role="usernotes">
        Notes utilisateur&nbsp;: <ulink url="&blfs-wiki;/libva"/>
      </para>
    </sect3>

    <sect3 role="installation">
      <title>Installation de libva</title>
      
      <!-- libva*.so.2 have been around for a long time...
      <caution>

        <para>
          If you are reinstalling this package, you will need
          to remove the older versions of the libraries.  These are in the
          form of libva*.so.1 and any symbolic links pointing to them.  In
          addition, any packages that use these files need to be rebuilt.
        </para>
      </caution>
      -->
<para>
        Installez <application>libva</application> en exécutant les commandes
suivantes&nbsp;:
      </para>

<screen><userinput>mkdir build &amp;&amp;
cd    build &amp;&amp;

meson setup --prefix=$XORG_PREFIX --buildtype=release &amp;&amp;
ninja</userinput></screen>

      <para>
        Ce paquet n'a pas de suite de tests.
      </para>

      <para>
        Maintenant, en tant qu'utilisateur <systemitem
class="username">root</systemitem>&nbsp;:
      </para>

<screen role="root"><userinput>ninja install</userinput></screen>

    </sect3>

    <sect3 role="content">
      <title>Contenu</title>

      <segmentedlist>
        <segtitle>Programmes installés</segtitle>
        <segtitle>Bibliothèques installées</segtitle>
        <segtitle>Répertoire installé</segtitle>

        <seglistitem>
          <seg>
            None
          </seg>
          <seg>
            libva-drm.so, libva-glx.so, libva.so, libva-wayland.so et libva-x11.so
          </seg>
          <seg>
            $XORG_PREFIX/include/va
          </seg>
        </seglistitem>
      </segmentedlist>

      <variablelist>
        <bridgehead renderas="sect3">Descriptions courtes</bridgehead>
        <?dbfo list-presentation="list"?> <?dbhtml list-presentation="table"?>

        <varlistentry id="libva-lib">
          <term><filename class="libraryfile">libva.so</filename></term>
          <listitem>
            <para>
              contient les fonctions de l'API qui fournit l'accès à l'accélération
matérielle du traitement vidéo
            </para>
            <indexterm zone="libva libva-lib">
              <primary sortas="c-libva">libva.so</primary>
            </indexterm>
          </listitem>
        </varlistentry>

      </variablelist>

    </sect3>

  </sect2>
