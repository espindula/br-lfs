<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

  <!ENTITY libva-download-http "https://github.com/intel/libva/releases/download/&libva-version;/libva-&libva-version;.tar.bz2">
  <!ENTITY libva-download-ftp  "">
  <!ENTITY libva-md5sum        "51490259c307c65fcc36447d92856152">
  <!ENTITY libva-size          "488&nbsp;Ko">
  <!ENTITY libva-buildsize     "11&nbsp;Mo">
  <!ENTITY libva-time          "0.1 SBU">


  <!ENTITY libva-intel-driver-download-http "https://github.com/intel/intel-vaapi-driver/releases/download/&libva-intel-driver-version;/intel-vaapi-driver-&libva-intel-driver-version;.tar.bz2">
  <!ENTITY libva-intel-driver-download-ftp  "">
  <!ENTITY libva-intel-driver-md5sum        "073fce0f409559109ad2dd0a6531055d">
  <!ENTITY libva-intel-driver-size          "2.8 Mo">
  <!ENTITY libva-intel-driver-buildsize     "97 Mo">
  <!ENTITY libva-intel-driver-time          "0.3 SBU">
]>

  <sect2 id="libva" xreflabel="libva-&libva-version;">

    <sect2info>
<date>$Date$</date></sect2info>

    <title>libva-&libva-version;</title>

    <indexterm zone="libva">
      <primary sortas="a-libva">libva</primary>
    </indexterm>

    <sect3 role="package">
      <title>Introduction à libva</title>

      <para>
         Le paquet <application>libva</application> contient une bibliothèque qui
fournit l'accès à l'accélération vidéo matérielle en utilisant le matériel
pour accélérer le traitement des vidéos pour décharger le processeur en
décodant et en encodant des vidéos numériques compressées. L'interface de
décodage et d'encodage vidéo VA API est indépendant de la plateforme et du
système de fenêtrage destiné à fonctionner avec la Direct Rendering
Infrastructure (DRI) dans le système de fenêtrage X bien qu'il puisse
éventuellement aussi être utilisé directement avec le framebuffer ou les
sous-systèmes graphiques pour la sortie vidéo. Le traitement accéléré inclut
le support pour le décodage vidéo, l'encodage vidéo, le mixage de
sous-images et le rendu vidéo.
      </para>

      &lfs110a_checked;

      <bridgehead renderas="sect4">Informations sur le paquet</bridgehead>
      <itemizedlist spacing="compact">
        <listitem>
          <para>
            Téléchargement (HTTP)&nbsp;: <ulink url="&libva-download-http;"/>
          </para>
        </listitem>
        <listitem>
          <para>
            Téléchargement (FTP)&nbsp;: <ulink url="&libva-download-ftp;"/>
          </para>
        </listitem>
        <listitem>
          <para>
            Somme de contrôle MD5 du téléchargement&nbsp;: &libva-md5sum;
          </para>
        </listitem>
        <listitem>
          <para>
            Taille du téléchargement&nbsp;: &libva-size;
          </para>
        </listitem>
        <listitem>
          <para>
            Estimation de l'espace disque requis&nbsp;: &libva-buildsize;
          </para>
        </listitem>
        <listitem>
          <para>
            Estimation du temps de construction&nbsp;: &libva-time;
          </para>
        </listitem>
      </itemizedlist>

      <bridgehead renderas="sect4">Téléchargements supplémentaires</bridgehead>
      <itemizedlist spacing="compact">
        <listitem>
          <para>
            Téléchargement du pilote Intel (HTTP)&nbsp;: <ulink
url="&libva-intel-driver-download-http;"/>
          </para>
        </listitem>
        <listitem>
          <para>
            Téléchargement du pilote Intel (FTP)&nbsp;: <ulink
url="&libva-intel-driver-download-ftp;"/>
          </para>
        </listitem>
        <listitem>
          <para>
            Somme MD5 du pilote Intel&nbsp; &libva-intel-driver-md5sum;
          </para>
        </listitem>
        <listitem>
          <para>
            Taille du pilote Intel&nbsp;: &libva-intel-driver-size;
          </para>
        </listitem>
        <listitem>
          <para>
            Estimation de l'espace disque requis&nbsp;: &libva-intel-driver-buildsize;
          </para>
        </listitem>
        <listitem>
          <para>
            Estimation du temps de construction&nbsp;: &libva-intel-driver-time;
          </para>
        </listitem>
      </itemizedlist>

      <bridgehead renderas="sect4">Dépendances de libva</bridgehead>

      <bridgehead renderas="sect5">Requises</bridgehead>
      <para role="required">
        <xref linkend="libdrm"/>
      </para>

      <bridgehead renderas="sect5">Recommandées</bridgehead>
      <para role="recommended">
        <xref linkend="mesa"/>
      </para>

      <bridgehead renderas="sect5">Facultatives</bridgehead>
      <para role="optional">
        <xref linkend="doxygen"/>, <xref linkend="wayland"/> et <ulink
url="https://gitlab.freedesktop.org/drm/igt-gpu-tools">intel-gpu-tools</ulink>
      </para>

      <para condition="html" role="usernotes">
        Notes utilisateur&nbsp;: <ulink url="&blfs-wiki;/libva"/>
      </para>
    </sect3>

    <sect3 role="installation">
      <title>Installation de libva</title>

      <caution>
        <para>
          Si vous réinstallez ce paquet, vous devrez supprimer les anciennes versions
des bibliothèques. Elles sont de la forme libva*.so.1 et les liens
symboliques qui pointent dessus. En plus, tout paquet qui utilise ces
fichiers doit être reconstruit.
        </para>
      </caution>

      <para>
        Installez <application>libva</application> en lançant les commandes
suivantes&nbsp;:
      </para>

<screen><userinput>./configure $XORG_CONFIG &amp;&amp;
make</userinput></screen>

      <para>
        Ce paquet n'est pas fourni avec une suite de tests.
      </para>

      <para>
        Maintenant, en tant qu'utilisateur <systemitem
class="username">root</systemitem>&nbsp;:
      </para>

<screen role="root"><userinput>make install</userinput></screen>

    <bridgehead renderas="sect3">Installation de intel-vaapi-driver</bridgehead>

      <para>
        Le pilote <application>intel-vaapi-driver</application> est destiné
spécifiquement aux cartes vidéo basées sur un GPU Intel. Décompressez
l'archive intel-vaapi&nbsp;:
      </para>

<!-- Fixed in intel-vaapi-driver-2.4.1
      <para>

        Fix building with GCC-10 and above:
      </para>

<screen><userinput>sed -e 's/const/extern &amp;/' \
    -i src/gen9_hevc_enc_kernels_binary.h</userinput></screen>
-->
<screen><userinput>tar -xvf ../intel-vaapi-driver-&libva-intel-driver-version;.tar.bz2 &amp;&amp;
cd intel-vaapi-driver-&libva-intel-driver-version;</userinput></screen>



      <para>
        Installez le pilote en lançant les commandes suivantes&nbsp;:
      </para>

<screen><userinput>./configure $XORG_CONFIG &amp;&amp;
make</userinput></screen>

      <para>
        Ce paquet n'est pas fourni avec une suite de tests.
      </para>

      <para>
        Maintenant, en tant qu'utilisateur <systemitem
class="username">root</systemitem>&nbsp;:
      </para>

<screen role="root"><userinput>make install</userinput></screen>

    </sect3>

    <sect3 role="content">
      <title>Contenu</title>

      <segmentedlist>
        <segtitle>Programmes installés</segtitle>
        <segtitle>Bibliothèques installées</segtitle>
        <segtitle>Pilote installé</segtitle>
        <segtitle>Répertoire installé</segtitle>

        <seglistitem>
          <seg>
            None
          </seg>
          <seg>
            libva-drm.so, libva-glx.so, libva.so, libva-wayland.so et libva-x11.so
          </seg>
          <seg>
            i965_drv_video.so
          </seg>
          <seg>
            $XORG_PREFIX/include/va
          </seg>
        </seglistitem>
      </segmentedlist>

      <variablelist>
        <bridgehead renderas="sect3">Descriptions courtes</bridgehead>
        <?dbfo list-presentation="list"?>
        <?dbhtml list-presentation="table"?>

        <varlistentry id="libva-lib">
          <term><filename class="libraryfile">libva.so</filename></term>
          <listitem>
            <para>
              contient les fonctions de l'API qui fournit l'accès à l'accélération
matérielle du traitement vidéo
            </para>
            <indexterm zone="libva libva-lib">
              <primary sortas="c-libva">libva.so</primary>
            </indexterm>
          </listitem>
        </varlistentry>

      </variablelist>

    </sect3>

  </sect2>
