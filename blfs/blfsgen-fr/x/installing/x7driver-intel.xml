<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;


  <!--<!ENTITY xorg-intel-driver-download-http "&xorg-download-http;/driver/xf86-video-intel-&xorg-intel-driver-version;.tar.bz2">
  <!ENTITY xorg-intel-driver-download-ftp  "&xorg-download-ftp;/driver/xf86-video-intel-&xorg-intel-driver-version;.tar.bz2">-->
  
  <!-- git clone git://anongit.freedesktop.org/xorg/driver/xf86-video-intel
       as of 2016-09-02 -->

  <!--<!ENTITY xorg-intel-driver-version "2.99.917">-->
  <!ENTITY xorg-intel-driver-version "20210222">

  <!ENTITY xorg-intel-driver-download-http "&sources-anduin-http;/xf86-video-intel/xf86-video-intel-&xorg-intel-driver-version;.tar.xz">
  <!ENTITY xorg-intel-driver-download-ftp  "&sources-anduin-ftp;/xf86-video-intel/xf86-video-intel-&xorg-intel-driver-version;.tar.xz">
  <!ENTITY xorg-intel-driver-md5sum        "8795a5d17ece4dea4763e61be7805882">
  <!ENTITY xorg-intel-driver-size          "948&nbsp;Ko">
  <!ENTITY xorg-intel-driver-buildsize     "77&nbsp;Mo">
  <!ENTITY xorg-intel-driver-time          "0.6&nbsp;SBU">
]>

  <sect2 id="xorg-intel-driver" xreflabel="Xorg Intel Driver-&xorg-intel-driver-version;">

    <sect2info>
<date>$Date$</date></sect2info>

    <title>Xorg Intel Driver-&xorg-intel-driver-version;</title>

    <indexterm zone="xorg-intel-driver">
      <primary sortas="a-xorg-intel-driver">xorg-intel-driver</primary>
    </indexterm>

    <sect3 role="package">
      <title>Introduction à Xorg Intel Driver</title>

      <para>
        Le paquet <application>Xorg Intel Driver</application> contient le pilote
vidéo X.Org pour les cartes graphiques Intel incluant les processeurs
graphiques 8xx, 9xx, Gxx, Qxx, HD, Iris et Iris Pro.
      </para>

      &lfs110a_checked;

      <note>
        <para>
          C'est une version de développement du pilote Intel qui est nécessaire pour
fonctionner correctement avec du matériel récent.
        </para>
      </note>

      <bridgehead renderas="sect4">Informations sur le paquet</bridgehead>
      <itemizedlist spacing="compact">
        <listitem>
          <para>
            Téléchargement (HTTP)&nbsp;: <ulink
url="&xorg-intel-driver-download-http;"/>
          </para>
        </listitem>
        <listitem>
          <para>
            Téléchargement (FTP)&nbsp;: <ulink url="&xorg-intel-driver-download-ftp;"/>
          </para>
        </listitem>
        <listitem>
          <para>
            Somme de contrôle MD5 du téléchargement&nbsp;: &xorg-intel-driver-md5sum;
          </para>
        </listitem>
        <listitem>
          <para>
            Taille du téléchargement&nbsp;: &xorg-intel-driver-size;
          </para>
        </listitem>
        <listitem>
          <para>
            Estimation de l'espace disque requis&nbsp;: &xorg-intel-driver-buildsize;
          </para>
        </listitem>
        <listitem>
          <para>
            Estimation du temps de construction&nbsp;: &xorg-intel-driver-time;
          </para>
        </listitem>
      </itemizedlist>

      <bridgehead renderas="sect4">Dépendances de Xorg Intel Driver</bridgehead>

      <bridgehead renderas="sect5">Requises</bridgehead>
      <para role="required">
        <xref linkend="xcb-util"/> et <xref linkend="xorg-server"/>
      </para>

      <para condition="html" role="usernotes">
        Notes utilisateur&nbsp;: <ulink url="&blfs-wiki;/xorg-intel-driver"/>
      </para>
    </sect3>

    <sect3 role="kernel" id="xorg-intel-driver-kernel">
      <title>Configuration du noyau</title>

      <para>
        Activez les options suivantes dans la configuration du noyau. Recompilez le
noyau si nécessaire&nbsp;:
      </para>

<screen><literal>Device Drivers  ---&gt;
  Graphics support ---&gt;
   &lt;*&gt; Direct Rendering Manager (XFree86 ... support) ---&gt; [CONFIG_DRM]
   &lt;*&gt; Intel 8xx/9xx/G3x/G4x/HD Graphics                   [CONFIG_DRM_I915]</literal></screen>

      <indexterm zone="xorg-intel-driver xorg-intel-driver-kernel">
        <primary sortas="d-xorg-intel-driver">xorg-intel-driver</primary>
      </indexterm>
    </sect3>

    <sect3 role="installation">
      <title>Installation de Xorg Intel Driver</title>



      <!-- appears to be in the current git version, but commenting since I do not have an 32-bit
      <para>

        If you are building on i686, apply a sed to fix a type mismatch.
      </para>

<screen><userinput remap="pre">case $(uname -m) in
   i?86) sed -i "s/#define force_inline inline __attribute__((always_inline))/#define force_inline inline/" src/sna/compiler.h
         ;;
esac</userinput></screen>-->
<para>
        Installez <application>Xorg Intel Driver</application> en lançant les
commandes suivantes&nbsp;:
      </para>

<screen><userinput>./autogen.sh $XORG_CONFIG     \
            --enable-kms-only \
            --enable-uxa      \
            --mandir=/usr/share/man &amp;&amp;
make</userinput></screen>

      <para>
        Ce paquet n'est pas fourni avec une suite de tests.
      </para>

      <para>
        Maintenant, en tant qu'utilisateur <systemitem
class="username">root</systemitem>&nbsp;:
      </para>

<screen role="root"><userinput>make install &amp;&amp;
      
mv -v /usr/share/man/man4/intel-virtual-output.4 \
      /usr/share/man/man1/intel-virtual-output.1 &amp;&amp;
      
sed -i '/\.TH/s/4/1/' /usr/share/man/man1/intel-virtual-output.1</userinput></screen>

    </sect3>

    <sect3>
      <title>Contournement des problèmes avec le pilote Intel</title>

      <para>
        Le code de la nouvelle accélération SandyBridge (SNA) est prévu pour
remplacer l'ancien UXA (UMA Acceleration Architecture), mais c'est une
grosse partie de code et parfois il cause des problèmes. Cependant, la
version du code dans le système de contrôle de version listé plus haut a été
testé avec succès avec les fonctions SNA et UXA.
      </para>

      <para>
        Pour contourner ce problème, ainsi que pour activater le support UXA il est
nécessaire de forcer l'utilisation d'UXA en créant un fichier de
configuration. Si vous avez ce problème, créez le fichier suivant en tant
qu'utilisateur <systemitem class="username">root</systemitem>&nbsp;:
      </para>

<screen role="root"><userinput>cat &gt;&gt; /etc/X11/xorg.conf.d/20-intel.conf &lt;&lt; "EOF"
<literal>Section   "Device"
        Identifier "Intel Graphics"
        Driver     "intel"
        #Option     "DRI" "2"            # DRI3 is default
        #Option     "AccelMethod"  "sna" # default
        #Option     "AccelMethod"  "uxa" # fallback
EndSection</literal>
EOF</userinput></screen>

    </sect3>

    <sect3 role="commands">
      <title>Explication des commandes</title>

      <para>
        <parameter>--enable-kms-only</parameter>&nbsp;: Ce paramètre enlève le code
UMS (User Mode Setting).
      </para>

      <para>
        <parameter>--enable-uxa</parameter>&nbsp;: Ce paramètre permet que l'ancien
code UXA soit compilé en supplément du code SNA par défaut.
      </para>

    </sect3>

    <sect3 role="content">
      <title>Contenu</title>

      <segmentedlist>
        <segtitle>Programme installé</segtitle>
        <segtitle>Bibliothèque installée</segtitle>
        <segtitle>Pilotes Xorg Installés</segtitle>

        <seglistitem>
          <seg>
            intel-virtual-output
          </seg>
          <seg>
            libIntelXvMC.so
          </seg>
          <seg>
            intel_drv.so
          </seg>
        </seglistitem>
      </segmentedlist>

      <variablelist>
        <bridgehead renderas="sect4">Descriptions courtes</bridgehead>
        <?dbfo list-presentation="list"?>
        <?dbhtml list-presentation="table"?>

        <varlistentry id="intel-virtual-output">
          <term><command>intel-virtual-output</command></term>
          <listitem>
            <para>
              est un utilitaire pour connecter le GPU Intel intégré à des sorties
particulières sur les systèmes hybrides
            </para>
            <indexterm zone="xorg-intel-driver intel-virtual-output">
              <primary sortas="b-intel-virtual-output">intel-virtual-output</primary>
            </indexterm>
          </listitem>
        </varlistentry>

        <varlistentry id="intel_drv">
          <term><filename class="libraryfile">intel_drv.so</filename></term>
          <listitem>
            <para>
              est un pilote vidéo Xorg pour les puces graphiques Intel
            </para>
            <indexterm zone="xorg-intel-driver intel_drv">
              <primary sortas="c-intel_drv">intel_drv.so</primary>
            </indexterm>
          </listitem>
        </varlistentry>

      </variablelist>

    </sect3>

  </sect2>
