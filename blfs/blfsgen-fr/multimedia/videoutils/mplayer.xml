<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

<!--
  <!ENTITY mplayer-download-http "http://www.mplayerhq.hu/MPlayer/releases/MPlayer-&mplayer-version;.tar.xz">
  <!ENTITY mplayer-download-ftp  "ftp://ftp.mplayerhq.hu/MPlayer/releases/MPlayer-&mplayer-version;.tar.xz">
-->
  <!ENTITY mplayer-download-http "&sources-anduin-http;/mplayer/mplayer-&mplayer-version;.tar.bz2">
  <!ENTITY mplayer-download-ftp  "">

  <!ENTITY mplayer-md5sum        "887fa9fce21feecbe0f43388d49f4a93">
  <!ENTITY mplayer-size          "5.7&nbsp;Mo">
  <!ENTITY mplayer-buildsize     "207 Mo">
  <!ENTITY mplayer-time          "0,4 SBU (avec parallélisme = 4)">

  <!ENTITY mplayer-skin          "Clearlooks-2.0">
  <!ENTITY mplayer-skin-download-http "http://www.mplayerhq.hu/MPlayer/skins/&mplayer-skin;.tar.bz2">
  <!ENTITY mplayer-skin-download-ftp "ftp://ftp.mplayerhq.hu/MPlayer/skins/&mplayer-skin;.tar.bz2">
  <!ENTITY mplayer-skin-md5sum   "c82d4dbd7f0c36dfecd63dff972807c5">
  <!ENTITY mplayer-skin-size     "34 Ko">
]>

<sect1 id="mplayer" xreflabel="MPlayer-&mplayer-version;">
  <?dbhtml filename="mplayer.html"?>

  <sect1info>
<date>$Date$</date></sect1info>

  <title>MPlayer-&mplayer-version;</title>

  <indexterm zone="mplayer">
    <primary sortas="a-MPlayer">MPlayer</primary>
  </indexterm>

  <sect2 role="package">
    <title>Introduction à MPlayer</title>

    <para>
      <application>MPlayer</application> est un puissant lecteur audio/vidéo
contrôlable en ligne de commande ou par une interface graphique et capable
de lire presque tous les formats audio et vidéo. Avec du matériel vidéo
supporté et des pilotes supplémentaires, <application>MPlayer</application>
peut lire des fichiers vidéo sans système <application>X
Window</application> installé.
    </para>

    <note>
      <para>La dernière version <quote>stable</quote> date d'avril 2019. Cette version
ne construit plus correctement avec les derniers outils de construction et
bibliothèques systèmes. La version ci-dessous est un instantané qui peut ne
plus être disponible en amont mais a été téléchargé sur notre serveur de
fichiers. Si vous voulez tester une version plus récente, allez sur <ulink
url="http://www.mplayerhq.hu/MPlayer/releases/"/>.
      </para>
    </note>

    &lfs111_checked;

    <bridgehead renderas="sect3">Informations sur le paquet</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>
          Téléchargement (HTTP)&nbsp;: <ulink url="&mplayer-download-http;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Téléchargement (FTP)&nbsp;: <ulink url="&mplayer-download-ftp;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Somme de contrôle MD5 du téléchargement&nbsp;: &mplayer-md5sum;
        </para>
      </listitem>
      <listitem>
        <para>
          Taille du téléchargement&nbsp;: &mplayer-size;
        </para>
      </listitem>
      <listitem>
        <para>
          Estimation de l'espace disque requis&nbsp;: &mplayer-buildsize;
        </para>
      </listitem>
      <listitem>
        <para>
          Estimation du temps de construction&nbsp;: &mplayer-time;
        </para>
      </listitem>
    </itemizedlist>
    <bridgehead renderas="sect3">Téléchargements supplémentaires</bridgehead>

    <!--
    <itemizedlist spacing='compact'>

      <title>Required Patch</title>
      <listitem>
        <para>
          <ulink url="&patch-root;/MPlayer-1.3.0-x264_fix-1.patch"/>
        </para>
      </listitem>
    </itemizedlist>
-->
<itemizedlist spacing='compact'>
      <title>Skins</title>
      <listitem>
        <para>
          Skin de la GUI (HTTP)&nbsp;: <ulink url="&mplayer-skin-download-http;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Skin de la GUI (FTP)&nbsp;: <ulink url="&mplayer-skin-download-ftp;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Somme MD5 du Skin: &mplayer-skin-md5sum;
        </para>
      </listitem>
      <listitem>
        <para>
          Taille du Skin&nbsp;: &mplayer-skin-size;
        </para>
      </listitem>
      <listitem>
        <para>
          Skins alternatifs&nbsp;: <ulink
url="https://www.mplayerhq.hu/MPlayer/skins/"/>
        </para>
      </listitem>
    </itemizedlist>

    <note>
      <para>
        Les Skins sont seulement requis pour l'utilisation d'une interface
utilisateur <application>Gtk+ 2</application>.
      </para>
    </note>

    <bridgehead renderas="sect3">Dépendances de MPlayer</bridgehead>

    <bridgehead renderas="sect4">Requises</bridgehead>
    <para role="required">
      <xref linkend="yasm"/>
    </para>

    <bridgehead renderas="sect4">Recommandées</bridgehead>
    <para role="recommended">
      <xref linkend="ffmpeg"/>, <xref linkend="gtk2"/> et <xref
linkend="libvdpau-va-gl"/>
    </para>

    <bridgehead renderas="sect4">Bibliothèques et pilotes d'entrée audio facultatifs</bridgehead>
    <para role="optional">
      <xref linkend="cdparanoia"/>, <xref linkend="libcdio"/> (pour identifier et
jouer des CD), <xref linkend="libdvdread"/>, <xref linkend="libdvdnav"/>,
<xref linkend="libdvdcss"/>, <xref linkend="samba"/>, <ulink
url="http://www.videolan.org/developers/libbluray.html">libbluray</ulink>,
<ulink url="http://www.live555.com/">LIVE555 Streaming Media</ulink>, <ulink
url="http://rtmpdump.mplayerhq.hu/">RTMPDump</ulink>, <ulink
url="http://tivo-mplayer.sourceforge.net/mythtivo.html">TiVo vstream
client</ulink> et <ulink url="http://www.xmms.org/">XMMS</ulink>
    </para>

    <bridgehead renderas="sect4">Bibliothèques et pilotes de sortie audio facultatifs</bridgehead>
    <para role="optional">
      <xref linkend="alsa"/>, <xref linkend="pulseaudio"/>, <xref linkend="sdl"/>,
<ulink url="http://jackaudio.org/">JACK</ulink>, <ulink
url="http://www.radscan.com/nas.html">NAS</ulink> et <ulink
url="https://openal.org/">OpenAL</ulink>
    </para>

    <bridgehead renderas="sect4">Bibliothèques et pilotes de sortie vidéo facultatifs</bridgehead>
    <para role="optional">
      <xref linkend="aalib"/>, <xref linkend="giflib"/>, <xref
linkend="libjpeg"/>, <xref linkend="libmng"/>, <xref linkend="libpng"/>,
<ulink
url="https://sourceforge.net/projects/openjpeg.mirror/files/">OpenJPEG1</ulink>
<ulink
url="http://pkgs.fedoraproject.org/repo/pkgs/directfb/">DirectFB</ulink>,
<ulink
url="http://pkgs.fedoraproject.org/repo/pkgs/libcaca/">libcaca</ulink> et
<ulink url="http://www.svgalib.org/">SVGAlib</ulink>
    </para>

    <bridgehead renderas="sect4">CODEC facultatifs</bridgehead>
    <para role="optional">
      
      <!-- includes its own version of FFmpeg which is the recommended one by
      the devs <xref linkend="ffmpeg"/>
, -->
<!--      <ulink url="http://diracvideo.org/download/dirac-research/">
Dirac</ulink>,-->
<!--      <ulink url="http://diracvideo.org/download/schroedinger/">
Schroedinger</ulink>,-->
<xref linkend="faac"/>, <xref linkend="faad2"/>, <xref linkend="lame"/>,
<xref linkend="liba52"/>, <xref linkend="libdv"/>, <xref linkend="libmad"/>,
<xref linkend="libmpeg2"/>, <xref linkend="libtheora"/>, <xref
linkend="libvpx"/>, <xref linkend="lzo"/>, <xref linkend="mpg123"/>, <xref
linkend="speex"/>, <xref linkend="xvid"/>, <xref linkend="x264"/>, <ulink
url="https://packages.debian.org/source/sid/crystalhd">CrystalHD</ulink>,
<ulink url="https://sourceforge.net/projects/dirac/">Dirac</ulink>, <ulink
url="http://www.quut.com/gsm/">GSM</ulink>, <ulink
url="https://webrtc.github.io/webrtc-org/license/ilbc-freeware/">iLBC</ulink>,
<ulink url="http://www.videolan.org/developers/libdca.html">libdca</ulink>,
<ulink url="http://wiki.multimedia.cx/index.php?title=NUT">libnut</ulink>,
<ulink url="http://www.musepack.net/">libmpcdec</ulink>, <ulink
url="https://sourceforge.net/projects/opencore-amr/">OpenCore Adaptive Multi
Rate</ulink>, <ulink
url="https://sourceforge.net/projects/schrodinger/">Schroedinger</ulink>,
<ulink url="http://wiki.xiph.org/Tremor">Tremor</ulink> et <ulink
url="https://sourceforge.net/projects/twolame/">TwoLAME</ulink>
    </para>

    <bridgehead renderas="sect4">Dépendances de Optional Miscellaneous</bridgehead>
    <para role="optional">
      <!-- <xref linkend="openssl"/>
, only valid for samba3 at this time -->
<!--LADSPA plugins and other sites of the maintainer are down.
      <ulink url="http://www.ladspa.org/">
LADSPA</ulink>,-->
<xref linkend="fontconfig"/>, <xref linkend="freetype2"/>, <xref
linkend="fribidi"/>, <xref linkend="gnutls"/>, <xref linkend="opus"/> et
<xref linkend="unrar"/>&nbsp;; <xref linkend="libxslt"/>, <xref
linkend="DocBook"/> et <xref linkend="docbook-xsl"/> (tous trois requis pour
construire la documentation HTML)&nbsp;; et <ulink
url="http://cihar.com/software/enca/">Enca</ulink>, <ulink
url="https://sourceforge.net/projects/bs2b/">libbs2b</ulink> et <ulink
url="http://www.lirc.org/">LIRC</ulink> (avec <ulink
url="http://www.dolda2000.com/~fredrik/lirccd/">LIRC Client Daemon</ulink>)
    </para>

    <para condition="html" role="usernotes">
      Notes utilisateur&nbsp;: <ulink url="&blfs-wiki;/mplayer"/>
    </para>
  </sect2>

  <sect2 role="installation">
    <title>Installation de MPlayer</title>

    <sect3>
      <title>Installation du MPlayer principal</title>

      <note>
        <para>
          Les mainteneurs du paquet recommandent de construire sans optimisations.
        </para>
      </note>

      <para>
        Il se peut que vous souhaitiez examiner la sortie de <command>./configure
--help</command> pour connaître les paramètres supplémentaires de
<command>configure</command> nécessaires pour les dépendances que vous avez
installées sur votre système.
      </para>

      <para>
        Installez <application>MPlayer</application> en lançant les commandes
suivantes&nbsp;:
      </para>

<screen><userinput>./configure --prefix=/usr                 \
            --confdir=/etc/mplayer        \
            --enable-dynamic-plugins      \
            --disable-libmpeg2-internal   \
            --disable-ffmpeg_a            \
            --enable-menu                 \
            --enable-runtime-cpudetection \
            --enable-gui                  &amp;&amp;
make</userinput></screen>

      <para>
        Si vous souhaitez construire la documentation HTML, lancez la commande
suivante&nbsp;:
      </para>

<screen><userinput>make doc</userinput></screen>

      <para>
        Ce paquet n'est pas fourni avec une suite de tests.
      </para>

      <para>
        Maintenant, en tant qu'utilisateur <systemitem
class="username">root</systemitem>&nbsp;:
      </para>

<screen role="root"><userinput>make install  &amp;&amp;
ln -svf ../icons/hicolor/48x48/apps/mplayer.png \
        /usr/share/pixmaps/mplayer.png</userinput></screen>

      <para>
        Pour installer la documentation HTML, lancez les commandes suivantes en tant
qu'utilisateur <systemitem class="username">root</systemitem>&nbsp;:
      </para>

<screen role="root"><userinput>install -v -m755 -d /usr/share/doc/mplayer-&mplayer-version; &amp;&amp;
install -v -m644    DOCS/HTML/en/* \
                    /usr/share/doc/mplayer-&mplayer-version;</userinput></screen>

      <para>
        Vous n'aurez besoin de <filename>codecs.conf</filename> que si vous voulez
modifier ses propriétés, vu que le binaire principal en contient une copie
interne. Assurez-vous que toutes vos modifications de
<filename>codecs.conf</filename> aboutissent au résultat désiré vu que des
entrées incorrectes dans ce fichier sont connues pour provoquer des erreurs
et rendre le lecteur inutilisable. Si nécessaire, créez le fichier en tant
qu'utilisateur <systemitem class="username">root</systemitem>&nbsp;:
      </para>

<screen role="root"><userinput>install -v -m644 etc/codecs.conf /etc/mplayer</userinput></screen>

      <para>
        Il se peut aussi que vous souhaitiez copier tous les fichiers de
configuration par défaut vers <filename
class='directory'>/etc/mplayer</filename> pour vous y référer plus tard ou
pour pouvoir les personnaliser. En tant qu'utilisateur <systemitem
class="username">root</systemitem>&nbsp;:
      </para>

<screen role="root"><userinput>install -v -m644 etc/*.conf /etc/mplayer</userinput></screen>

    </sect3>

    <sect3>
      <title>Installation de skin (facultatif)</title>

      <para>
        Pour activer l'interface Gtk+2 de <application>MPlayer</application>, vous
devez au moins installer un skin. Extrayez le skin souhaité et créez le
répertoire par défaut (en tant qu'utilisateur <systemitem
class="username">root</systemitem>)&nbsp;:
      </para>

<screen role="root"><userinput>tar -xvf  ../&mplayer-skin;.tar.bz2 \
    -C    /usr/share/mplayer/skins &amp;&amp;
ln  -sfvn Clearlooks /usr/share/mplayer/skins/default</userinput></screen>

    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
      href="../../xincludes/update-icons-and-desktop.xml"/>

    </sect3>
  </sect2>

  <sect2 role="commands">
    <title>Explication des commandes</title>

    <para>
      <parameter>--enable-gui</parameter>&nbsp;: Cette option construit
l'interface GUI dans <command>mplayer</command>.
    </para>

    <para>
      <parameter>--enable-menu</parameter>&nbsp;: Cette option active l'affichage
par-dessus l'écran.
    </para>

    <para>
      <parameter>--enable-runtime-cpudetection</parameter>&nbsp;: cette option
permet de lancer MPlayer avec un type de CPU générique, ce qui évite des
optimisations qui peuvent causer des problèmes à l'exécution.
    </para>

    <para>
      <!--MPlayer includes a copy of the FFmpeg
      source and without this option it will statically compile the included
      version of FFmpeg into itself.-->
<!--If MPlayer exhibits
      unstable behavior linked to a system installed FFmpeg, try recompiling MPlayer
      without this option (it is always more thoroughly tested with the included
      FFmpeg).-->
<option>--disable-ffmpeg_a</option>&nbsp;: vous pouvez utiliser cette option
si vous avez installé <xref linkend="ffmpeg"/>. La liaison dynamique à un
FFmpeg installé sur le système rend MPlayer et Mencoder environ 9 Mo plus
petits. 
    </para>

    <para>
      <parameter>--disable-libmpeg2-internal</parameter>&nbsp;: cette option
permet de lancer MPlayer avec une version système de libmpeg2.
    </para>

    <para>
      <option>--language-doc="<replaceable>&lt;lang&gt;</replaceable>"</option>:
This switch sets the language used for the documentation. Use
<command>./configure --help</command> for more information.
    </para>

    <para>
      <option>--language-man="<replaceable>&lt;lang&gt;</replaceable>"</option>:
This switch sets the language used for the man pages. Use
<command>./configure --help</command> for more information.
    </para>

    <para>
      <option>--language-msg="<replaceable>&lt;lang&gt;</replaceable>"</option>:
This switch sets the language used for messages and the GUI. Use
<command>./configure --help</command> for more information
    </para>

    <para>
      <option>--language="<replaceable>&lt;lang&gt;</replaceable>"</option>: This
switch sets the default language used. Use <command>./configure
--help</command> for more information.
    </para>

      <note>
        <para>
          Des options spécifiques écrasent --language. Vous pouvez passer une liste de
langues séparées par des espaces ou des virgules à la place d'une seule
langue. Les traductions non existantes seront ignorées de chaque
liste. Toutes les traductions de la documentation et des pages de manuel
disponibles seront installées, pour les messages la première traduction
disponible sera utilisée. La valeur "all" activera toutes les
traductions. La variable d'environnement LINGUAS est honorée. Dans tous les
cas, la valeur par défaut est l'anglais. Les valeurs listées par
<command>./configure --help</command> ne sont pas toutes disponibles, comme
cela devrait être. Vous devez tester en construisant.
        </para>
      </note>

  </sect2>

  <sect2 role="configuration">
    <title>Configuration de MPlayer</title>

    <sect3 id="mplayer-config">
      <title>Fichiers de configuration</title>

      <para>
        <filename>/etc/mplayer/*</filename> et <filename>~/.mplayer/*</filename>
      </para>

      <note>
        <para>
          Pour lire un DVD, il peut être utile de s'assurer qu'un périphérique
/dev/dvd est créé. Vous pouvez avoir besoin de le mettre en place comme
décrit dans <xref linkend="dev-dvd"/>.
        </para>
      </note>

      <indexterm zone="mplayer mplayer-config">
        <primary sortas="e-AA.mplayer">~/.mplayer/*</primary>
      </indexterm>

      <indexterm zone="mplayer mplayer-config">
        <primary sortas="e-etc-mplayer">/etc/mplayer/*</primary>
      </indexterm>
    </sect3>

    <sect3>
      <title>Informations sur la configuration</title>

      <para>
        Normalement, aucune configuration n'est nécessaire pour les fichiers du
système global dans <filename class='directory'>/etc/mplayer</filename> (en
fait, ce répertoire est vide, sauf si vous avez copié les fichiers par
défaut comme indiqué ci-dessus). Vous pouvez modifier la configuration en
choisissant le bouton de configuration qui se trouve sur l'interface
graphique de <application>MPlayer</application>. Tout changement de
configuration que vous faites dans le GUI sera copié dans le répertoire
<filename class='directory'>~/.mplayer</filename> de l'utilisateur.
      </para>

    </sect3>

  </sect2>

  <sect2 role="content">
    <title>Contenu</title>

    <segmentedlist>
      <segtitle>Programmes installés</segtitle>
      <segtitle>Bibliothèques installées</segtitle>
      <segtitle>Répertoires installés</segtitle>

      <seglistitem>
        <seg>
          gmplayer, mplayer et mencoder
        </seg>
        <seg>
          Aucune
        </seg>
        <seg>
          /etc/mplayer, /usr/share/doc/mplayer-&mplayer-version; et /usr/share/mplayer
        </seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Descriptions courtes</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="gmplayer">
        <term><command>gmplayer</command></term>
        <listitem>
          <para>
            est un lien symbolique vers <command>mplayer</command> qui apporte
l'interface GTK+ 2 de <application>MPlayer</application>
          </para>
          <indexterm zone="mplayer gmplayer">
            <primary sortas="b-gmplayer">gmplayer</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="mplayer-prog">
        <term><command>mplayer</command></term>
        <listitem>
          <para>
            est le lecteur vidéo principal de MPlayer
          </para>
          <indexterm zone="mplayer mplayer-prog">
            <primary sortas="b-mplayer">mplayer</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="mencoder">
        <term><command>mencoder</command></term>
        <listitem>
          <para>
            est un puissant décodeur, encodeur et outil de filtrage vidéo en ligne de
commande qui est utilisé pour (entre autres choses) ripper des dvd en un
fichier sur votre disque dur (voir
/usr/share/doc/mplayer-SVN-r37561/mencoder.html).
          </para>
          <indexterm zone="mplayer mencoder">
            <primary sortas="b-mencoder">mencoder</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
