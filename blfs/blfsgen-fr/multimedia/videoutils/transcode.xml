<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

<!--  <!ENTITY transcode-download-http "https://bitbucket.org/france/transcode-tcforge/downloads/transcode-&transcode-version;.tar.bz2">-->
  <!ENTITY transcode-download-http "https://sources.archlinux.org/other/community/transcode/transcode-&transcode-version;.tar.bz2">
  <!ENTITY transcode-download-ftp  "&gentoo-ftp-repo;/transcode-&transcode-version;.tar.bz2">
  <!ENTITY transcode-md5sum        "9bb25a796a8591fb764de46ee87ce505">
  <!ENTITY transcode-size          "2.1 Mo">
  <!ENTITY transcode-buildsize     "72&nbsp;Mo">
  <!ENTITY transcode-time          "0.5&nbsp;SBU">
]>

<sect1 id="transcode" xreflabel="Transcode-&transcode-version;">
  <?dbhtml filename="transcode.html"?>

  <sect1info>
<date>$Date$</date></sect1info>

  <title>Transcode-&transcode-version;</title>

  <indexterm zone="transcode">
    <primary sortas="a-Transcode">Transcode</primary>
  </indexterm>

  <sect2 role="package">
    <title>Introduction à Transcode</title>

    <para>
      <!-- 403 Forbidden
      For a rundown of the features and capabilities, along with usage
      examples, visit the Transcode Wiki at
      <ulink url="http://www.transcoding.org/"/>
.-->
<application>Transcode</application> était un convertisseur vidéo entre
n'importe quel format, rapide, plein de ressources, en ligne de commande
surtout dédié au fichiers vidéo AVI avec de l'audio MP3 mais avec aussi un
programme pour lire tous les flux vidéos ou audio d'un DVD.
      
    </para>

    <para>
      Bien que vieux et plus maintenu, il peut toujours être utilisé pour extraire
des éléments d'un DVD avec seulement les dépendances requises et
recommandées ou pour ré-encoder des fichiers AVI.
    </para>

    <para>
      Aux commentaires suivants près, ce paquet est connu pour se construire et
fonctionner de manière minimale sur la plateforme LFS actuelle.
    </para>

    &lfs110_checked;

    <bridgehead renderas="sect3">Informations sur le paquet</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>
          Téléchargement (HTTP)&nbsp;: <ulink url="&transcode-download-http;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Téléchargement (FTP)&nbsp;: <ulink url="&transcode-download-ftp;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Somme de contrôle MD5 du téléchargement&nbsp;: &transcode-md5sum;
        </para>
      </listitem>
      <listitem>
        <para>
          Taille du téléchargement&nbsp;: &transcode-size;
        </para>
      </listitem>
      <listitem>
        <para>
          Estimation de l'espace disque requis&nbsp;: &transcode-buildsize;
        </para>
      </listitem>
      <listitem>
        <para>
          Estimation du temps de construction&nbsp;: &transcode-time;
        </para>
      </listitem>
    </itemizedlist>

    <bridgehead renderas="sect3">Téléchargements supplémentaires</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>
          Correctif requis pour corriger des changements d'API dans ffmpeg&nbsp;:
<ulink url="&patch-root;/transcode-&transcode-version;-ffmpeg4-1.patch"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Correctif requis pour corriger des problèmes exposés par GCC 10 et
supérieur&nbsp;: <ulink
url="&patch-root;/transcode-&transcode-version;-gcc10_fix-1.patch"/>
        </para>
      </listitem>
    </itemizedlist>

    <bridgehead renderas="sect3">Dépendances de Transcode</bridgehead>

    <bridgehead renderas="sect4">Requises</bridgehead>
    <para role="required">
      <xref linkend="ffmpeg"/> (configuré avec --enable-avresample)
    </para>

    <bridgehead renderas="sect4">Recommandées</bridgehead>
    <para role="recommended">
      <xref linkend="alsa-lib"/>, <xref linkend="lame"/>, <xref
linkend="libdvdread"/>, <xref linkend="libmpeg2"/> et <xref
linkend="xorg7-lib"/>
    </para>

    <bridgehead renderas="sect4">Facultatives</bridgehead>
    <para role="optional">
      <xref linkend="faac"/>, <xref linkend="freetype2"/>, <ulink
url="https://legacy.imagemagick.org/script/download.php">ImageMagick-6</ulink>,
<xref linkend="liba52"/>, <xref linkend="libdv"/>, <xref
linkend="libjpeg"/>, <xref linkend="libogg"/>, <xref
linkend="libquicktime"/>, <xref linkend="libtheora"/>, <xref
linkend="libvorbis"/>, <xref linkend="libxml2"/>, <xref linkend="lzo"/>,
<xref linkend="sdl"/>, <xref linkend="v4l-utils"/>, <xref linkend="x264"/>,
<xref linkend="xvid"/> <ulink
url="https://sourceforge.net/projects/mjpeg/">MJPEG Tools</ulink> et <ulink
url="http://www.netlib.org/pvm3/">PVM3</ulink>,
    </para>

    <bridgehead renderas="sect4">Facultatives (à l'exécution)</bridgehead>
    <para role="optional">
      <ulink url="https://sourceforge.net/projects/lsdvd/files/">lsdvd</ulink>
    </para>

    <para condition="html" role="usernotes">Notes utilisateur&nbsp;: <ulink url="&blfs-wiki;/transcode"/>
    </para>
  </sect2>

  <sect2 role="installation">
    <title>Installation de Transcode</title>

    <note>
      <para>
        Les détails sur comment les bibliothèques <application>FFmpeg</application>
sont utilisées ont changé depuis que cette version de
<application>transcode</application> a été publiée. Le correctif permet que
le paquet compile, mais certains appels internes, voir tous les appels
internes, à <application>ffmpeg</application> échouent à l'exécution (ils
indiquent une erreur et les processus continuent, mais sans aucune sortie).
      </para>

      <para>
        Pour beaucoup de paquets, cela serait une erreur critique. Dans ce cas, la
principale raison d'installer <application>transcode</application> est pour
le programme <command>tccat</command>, qui fonctionne. Quelques unes des
options de <command>transcode</command> fonctionnent - pour les autres,
utilisez <command>ffmpeg</command> directement en ligne de commande.
      </para>
    </note>

    <note>
      <para>
        Le support de la plupart des paquets de dépendance exige d'utiliser des
options passées au script <command>configure</command>. Lisez le fichier
<filename>INSTALL</filename> et la sortie de <command>./configure
--help</command> pour des informations complètes sur l'activation des
paquets de dépendance.
      </para>
    </note>

    <para>
      Installez <application>Transcode</application> en lançant les commandes
suivantes&nbsp;:
    </para>

<screen><userinput>sed -i 's|doc/transcode|&amp;-$(PACKAGE_VERSION)|' \
       $(find . -name Makefile.in -exec grep -l 'docsdir =' {} \;) &amp;&amp;

patch -Np1 -i ../transcode-&transcode-version;-ffmpeg4-1.patch   &amp;&amp;
patch -Np1 -i ../transcode-&transcode-version;-gcc10_fix-1.patch &amp;&amp;

./configure --prefix=/usr     \
            --enable-alsa     \
            --enable-libmpeg2 &amp;&amp;
make</userinput></screen>

    <para>
      Ce paquet n'est pas fourni avec une suite de tests.
    </para>

    <para>
      Maintenant, en tant qu'utilisateur <systemitem
class="username">root</systemitem>&nbsp;:
    </para>

<screen role="root"><userinput>make install</userinput></screen>

  </sect2>

  <sect2 role="commands">
    <title>Explication des commandes</title>

    <para>
      <command>sed -i ...</command>&nbsp;: Corrige l'emplacement d'installation de
la documentation.
    </para>

  </sect2>

  <sect2 role="content">
    <title>Contenu</title>

    <segmentedlist>
      <segtitle>Programmes installés</segtitle>
      <segtitle>Bibliothèques installées</segtitle>
      <segtitle>Répertoires installés</segtitle>

      <seglistitem>
        <seg>
          avifix, aviindex, avimerge, avisplit, avisync, tccat, tcdecode, tcdemux,
tcextract, tcmodinfo, tcmp3cut, tcprobe, tcscan, tcxmlcheck, tcxpm2rgb,
tcyait et transcode
        </seg>
        <seg>
          Aucune
        </seg>
        <seg>
          /usr/lib/transcode et /usr/share/doc/transcode-&transcode-version;
        </seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Descriptions courtes</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="avifix">
        <term><command>avifix</command></term>
        <listitem>
          <para>
            corrige l'en-tête d'un fichier AVI
          </para>
          <indexterm zone="transcode avifix">
            <primary sortas="b-avifix">avifix</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="aviindex">
        <term><command>aviindex</command></term>
        <listitem>
          <para>
            écrit un fichier texte décrivant l'index d'un fichier AVI
          </para>
          <indexterm zone="transcode aviindex">
            <primary sortas="b-aviindex">aviindex</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="avimerge">
        <term><command>avimerge</command></term>
        <listitem>
          <para>
            fusionne des fichiers AVI du même format. N'essayez pas de fusionner des
fichiers AVI de formats différents, cela provoquera très probablement des
erreurs (et le format signifie le même débit, aussi&nbsp;!)
          </para>
          <indexterm zone="transcode avimerge">
            <primary sortas="b-avimerge">avimerge</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="avisplit">
        <term><command>avisplit</command></term>
        <listitem>
          <para>
            découpe des fichiers AVI en plusieurs fichiers
          </para>
          <indexterm zone="transcode avisplit">
            <primary sortas="b-avisplit">avisplit</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="avisync">
        <term><command>avisync</command></term>
        <listitem>
          <para>
            peut transformer du son en un fichier AVI pour une meilleure synchronisation
des signaux du son et de l'image
          </para>
          <indexterm zone="transcode avisync">
            <primary sortas="b-avisync">avisync</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="tccat">
        <term><command>tccat</command></term>
        <listitem>
          <para>
            concatène des fichiers d'entrée en utilisant les greffons d'entrée de
<application>Transcode</application>. Ceci est utile pour extraire des
fichiers VOB (Video OBject), soit pour un DVD complet soit pour des titres
ou des chapitres définis qui peuvent ensuite être joués ou ré-encodés
          </para>
          <indexterm zone="transcode tccat">
            <primary sortas="b-tccat">tccat</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="tcdecode">
        <term><command>tcdecode</command></term>
        <listitem>
          <para>
            est utilisé pour décoder des fichiers d'entrée en vidéos raw et en flux
audio PCM
          </para>
          <indexterm zone="transcode tcdecode">
            <primary sortas="b-tcdecode">tcdecode</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="tcdemux">
        <term><command>tcdemux</command></term>
        <listitem>
          <para>
            démultiplexe (sépare) une entrée audio/vidéo contenant plusieurs flux comme
des fichiers VOB
          </para>
          <indexterm zone="transcode tcdemux">
            <primary sortas="b-tcdemux">tcdemux</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="tcextract">
        <term><command>tcextract</command></term>
        <listitem>
          <para>
            récupère des flux uniques à partir d'un fichier contenant plusieurs flux
          </para>
          <indexterm zone="transcode tcextract">
            <primary sortas="b-tcextract">tcextract</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="tcmodinfo">
        <term><command>tcmodinfo</command></term>
        <listitem>
          <para>
            charge un module de filtre <application>Transcode</application> fourni et
affiche ses paramètres
          </para>
          <indexterm zone="transcode tcmodinfo">
            <primary sortas="b-tcmodinfo">tcmodinfo</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="tcmp3cut">
        <term><command>tcmp3cut</command></term>
        <listitem>
          <para>
            est un outil qui peut couper des flux MP3 à des positions en millisecondes
          </para>
          <indexterm zone="transcode tcmp3cut">
            <primary sortas="b-tcmp3cut">tcmp3cut</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="tcprobe">
        <term><command>tcprobe</command></term>
        <listitem>
          <para>
            affiche des informations sur le format du fichier d'entrée
          </para>
          <indexterm zone="transcode tcprobe">
            <primary sortas="b-tcprobe">tcprobe</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="tcscan">
        <term><command>tcscan</command></term>
        <listitem>
          <para>
            effectue plusieurs mesures de l'élément d'entrée donné
          </para>
          <indexterm zone="transcode tcscan">
            <primary sortas="b-tcscan">tcscan</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="tcxmlcheck">
        <term><command>tcxmlcheck</command></term>
        <listitem>
          <para>
            vérifie les informations d'un fichier d'entrée SMIL
          </para>
          <indexterm zone="transcode tcxmlcheck">
            <primary sortas="b-tcxmlcheck">tcxmlcheck</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="transcode-prog">
        <term><command>transcode</command></term>
        <listitem>
          <para>
            est l'interface utilisateur de l'encodeur qui gère les greffons et d'autres
programmes, c'est l'élément soudant les modules. Il y a plusieurs exemples
d'utilisation bien documentés sur la page d'accueil et dans la documentation
fournie dans le paquet
          </para>
          <indexterm zone="transcode transcode-prog">
            <primary sortas="b-transcode">transcode</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
