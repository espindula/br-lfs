<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

  <!ENTITY xfce4-session-download-http
           "https://archive.xfce.org/src/xfce/xfce4-session/&xfce4-version;/xfce4-session-&xfce4-session-version;.tar.bz2">
  <!ENTITY xfce4-session-download-ftp  "">
  <!ENTITY xfce4-session-md5sum        "dfdcb697a2315168e2e56a70f17a19b7">
  <!ENTITY xfce4-session-size          "856&nbsp;Ko">
  <!ENTITY xfce4-session-buildsize     "16&nbsp;Mo">
  <!ENTITY xfce4-session-time          "0.1&nbsp;SBU">
]>

<sect1 id="xfce4-session" xreflabel="xfce4-session-&xfce4-session-version;">
  <?dbhtml filename="xfce4-session.html"?>


  <title>xfce4-session-&xfce4-session-version;</title>

  <indexterm zone="xfce4-session">
    <primary sortas="a-xfce4-session">xfce4-session</primary>
  </indexterm>

  <sect2 role="package">
    <title>Introduction à Xfce4 Session</title>

    <para>
      <application>Xfce4 Session</application> est un gestionnaire de session pour
<application>Xfce</application>. Sa tâche est de sauvegarder l'état de votre
bureau (applications ouvertes et leur emplacement) et à le restaurer lors du
redémarrage suivant. Vous pouvez créer plusieurs sessions différentes et
choisir l'une d'entre elles au démarrage.
    </para>

    &lfs120_checked;

    <bridgehead renderas="sect3">Informations sur le paquet</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>
          Téléchargement (HTTP)&nbsp;: <ulink url="&xfce4-session-download-http;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Téléchargement (FTP)&nbsp;: <ulink url="&xfce4-session-download-ftp;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Somme de contrôle MD5&nbsp;: &xfce4-session-md5sum;
        </para>
      </listitem>
      <listitem>
        <para>
          Taille du téléchargement&nbsp;: &xfce4-session-size;
        </para>
      </listitem>
      <listitem>
        <para>
          Estimation de l'espace disque requis&nbsp;: &xfce4-session-buildsize;
        </para>
      </listitem>
      <listitem>
        <para>
          Estimation du temps de construction&nbsp;: &xfce4-session-time;
        </para>
      </listitem>
    </itemizedlist>

    <bridgehead renderas="sect3">Dépendances de Xfce4 Session</bridgehead>

    <bridgehead renderas="sect4">Requises</bridgehead>
    <para role="required">
      <xref linkend="libwnck"/> et <xref linkend="libxfce4ui"/>
    </para>

    <bridgehead renderas="sect4">Recommandées</bridgehead>
    <para role="recommended">
      <xref linkend="desktop-file-utils"/>, <ulink
url="https://docs.xfce.org/apps/screensaver/start">xfce4-screensaver</ulink>
ou <xref linkend="xscreensaver"/>, <xref linkend="shared-mime-info"/> et
<xref linkend="polkit-gnome"/>
    </para>

    <bridgehead renderas="sect4">Requises pour l'exécution</bridgehead>
    <para role="required">
      <xref role="runtime" linkend="xfdesktop"/>
    </para>

  </sect2>

  <sect2 role="installation">
    <title>Installation de Xfce4 Session</title>

    <para>
      Installez <application>Xfce4 Session</application> en exécutant les
commandes suivantes&nbsp;:
    </para>

<screen><userinput>./configure --prefix=/usr \
            --sysconfdir=/etc \
            --disable-legacy-sm &amp;&amp;
make</userinput></screen>

    <para>
      Ce paquet n'a pas de suite de tests.
    </para>

    <para>
      Maintenant, en tant qu'utilisateur <systemitem
class="username">root</systemitem>&nbsp;:
    </para>

<screen role="root"><userinput>make install</userinput></screen>

  </sect2>

  <sect2 role="commands">
    <title>Explication des commandes</title>

    <para>
      <parameter>--disable-legacy-sm</parameter>&nbsp;: Ce paramètre désactive
l'ancienne gestion des sessions qui n'est pas nécessaire sur un système
moderne.
    </para>

  </sect2>

  <sect2 role="configuration">
    <title>Configurer la session Xfce4</title>

    <para>
      Il y a plusieurs dépendances d'exécution facultative pour
<application>Xfce4</application>&nbsp;: <xref linkend="dbus"/>, <xref
linkend="gnupg2"/>, <xref linkend="hicolor-icon-theme"/>, <xref
linkend="openssh"/> et <xref linkend="xinit"/>
    </para>

    <para>
      Pendant la construction d'un paquet <application>Xfce4</application>,
certains fichiers de configuration sont installés dans <filename
class="directory">/usr/share/applications</filename>, <filename
class="directory">/usr/share/icons</filename> et <filename
class="directory">/usr/share/mime</filename>. Afin d'utiliser ces fichiers
dans votre session <application>Xfce4</application>, vous devez mettre à
jour différentes bases de données. Faites cela en lançant, en tant
qu'utilisateur <systemitem class="username">root</systemitem> (vous avez
besoin d'avoir les dépendances recommandées d'installées)&nbsp;:
   </para>

<screen role="root"><userinput>update-desktop-database &amp;&amp;
update-mime-database /usr/share/mime</userinput></screen>
  </sect2>

  <sect2 role="starting">
    <title>Démarrage de Xfce4</title>

    <para revision="sysv">
      Vous pouvez démarrer <application>Xfce4</application> depuis le niveau
d'exécution 3, en utilisant <xref linkend="xinit"/>, ou depuis le niveau
d'exécution 5, en utilisant un gestionnaire d'affichage, tel que <xref
linkend="lightdm"/>.
    </para>

    <para revision="systemd">
      Vous pouvez démarrer <application>Xfce4</application> depuis un TTY avec
<xref linkend="xinit"/>, ou depuis un affichage graphique avec un
gestionnaire d'affichage, comme <xref linkend="lightdm"/>.
    </para>

    <para>
      Pour démarrer <application>Xfce4</application> en utilisant <xref
linkend="xinit"/> lancez les commandes suivantes&nbsp;:
    </para>

    

<screen><!-- TODO: A plain "startxfce4" command works for me on Systemd.
         But maybe it does not work on SysV.  Need more investigate.  -->
<userinput>cat &gt; ~/.xinitrc &lt;&lt; "EOF"
<literal>dbus-launch --exit-with-x11 startxfce4</literal>
EOF

startx</userinput></screen>

    <para>
      La session X démarre dans le premier terminal virtuel inutilisé, normalement
vt7. Vous pouvez passer à vt<emphasis>n</emphasis> en pressant simultanément
les touches Ctrl-Alt-F<emphasis>n</emphasis> (<emphasis>n</emphasis>=1, 2,
...). Pour retourner à la session X, normalement démarrée dans vt7, utilisez
Ctrl-Alt-F7. Le Vt où la commande <command>startx</command> est exécutée
affichera beaucoup de messages, dont les messages de démarrage de X, les
applications automatiquement démarrées avec la session et, éventuellement,
quelques avertissements et erreurs. Vous pouvez préférer rediriger ces
messages dans un fichier log, qui non seulement laissera vt1 propre, mais
qui pourra aussi servir pour le débogage. Cela peut être fait en démarrant X
avec&nbsp;:
    </para>

    <screen><userinput>startx &amp;&gt; ~/.x-session-errors</userinput></screen>

    <note revision="sysv">
      <para>
        Vous pouvez souhaiter abandonner dbus-launch, par exemple, en utilisant
seulement startxfce4 dans .~/.xinitrc. Cependant quelques fonctionnalités
comme le montage et le démontage des systèmes de fichiers depuis un
gestionnaire de fichiers ne seront pas disponibles ou les options de
redémarrage seront absente ou non fonctionnelles, entre autres.
      </para>
    </note>

    <para>
      Quand vous arrêtez ou redémarrez, les messages d'arrêt apparaissent sur le
vt où X était lancé. Si vous souhaitez voir ces messages, appuyez
simultanément sur Alt-F7 (en considérant que X était lancé sur vt7).
    </para>

  </sect2>

  <sect2 role="content">
    <title>Contenu</title>

    <segmentedlist>
      <segtitle>Programmes installés</segtitle>
      <segtitle>Bibliothèque installée</segtitle>
      <segtitle>Répertoires installés</segtitle>

      <seglistitem>
        <seg>
          startxfce4, xfce4-session, xfce4-session-logout, xfce4-session-settings et
xflock4
        </seg>
        <seg>
          Aucun
        </seg>
        <seg>
          /usr/lib/xfce4/session
        </seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Descriptions courtes</bridgehead>
      <?dbfo list-presentation="list"?> <?dbhtml list-presentation="table"?>

      <varlistentry id="startxfce4">
        <term><command>startxfce4</command></term>
        <listitem>
          <para>
            is a script responsible for starting an <application>Xfce</application>
session.
          </para>
          <indexterm zone="xfce4-session startxfce4">
            <primary sortas="b-startxfce4">startxfce4</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="xfce4-session-prog">
        <term><command>xfce4-session</command></term>
        <listitem>
          <para>
            démarre l'environnement de bureau <application>Xfce</application>
          </para>
          <indexterm zone="xfce4-session xfce4-session-prog">
            <primary sortas="b-xfce4-session">xfce4-session</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="xfce4-session-logout">
        <term><command>xfce4-session-logout</command></term>
        <listitem>
          <para>
            se déconnecte de <application>Xfce</application>
          </para>
          <indexterm zone="xfce4-session xfce4-session-logout">
            <primary sortas="b-xfce4-session-logout">xfce4-session-logout</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="xfce4-session-settings">
        <term><command>xfce4-session-settings</command></term>
        <listitem>
          <para>
            est une interface <application>Gtk+ 3</application> qui vous permet de
modifier vos préférences pour votre <application>Xfce Session</application>
          </para>
          <indexterm zone="xfce4-session xfce4-session-settings">
            <primary sortas="b-xfce4-session-settings">xfce4-session-settings</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
