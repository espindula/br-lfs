<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;
]>

<sect1 id="position">
  <?dbhtml filename="position.html"?>

  <sect1info>
<date>$Date$</date></sect1info>

  <title>Le débat /usr contre /usr/local</title>

  <para><emphasis>Devrais-je installer XXX dans <filename>/usr</filename> ou dans
<filename>/usr/local</filename>&nbsp;?</emphasis></para>

  <para>C'est une question sans réponse évidente pour un système basé sur LFS.</para>

  <para>Dans les systèmes Unix traditionnels, <filename
class='directory'>/usr</filename> contient en général des fichiers fournis
avec la distribution du système, et l'arborescence de <filename
class='directory'>/usr/local</filename> est libre pour que l'administrateur
local puisse le gérer. La seule règle vraiment dure et rapide est que les
distributions Unix ne devraient pas toucher à <filename
class='directory'>/usr/local</filename>, sauf peut-être pour y créer les
répertoires de base.</para>

  <para>Avec les distributions Linux comme Red Hat, Debian, etc., une règle possible
est que <filename class='directory'>/usr</filename> est géré par le système
de paquets de la distribution et <filename
class='directory'>/usr/local</filename> ne l'est pas. De cette façon, la
base de données du gestionnaire de paquets connaît tous les fichiers d'un
<filename class='directory'>/usr</filename>.</para>

  <para>Les utilisateurs LFS construisent leur propre système et décident donc de
manière non absolue de l'endroit où s'arrête le système et où les fichiers
locaux commencent. Le choix devrait donc se faire pour faciliter
l'administration des choses. Il y a plusieurs raisons pour diviser des
fichiers entre <filename class='directory'>/usr</filename> et <filename
class='directory'>/usr/local</filename>.</para>

  <itemizedlist>
    <listitem>
      <para>Sur un réseau de plusieurs machines exécutant LFS, où sont mélangées LFS et
d'autres distributions Linux, <filename
class='directory'>/usr/local</filename> pourrait être utilisé pour conserver
les paquets communs entre tous les ordinateurs du réseau.  Il peut être
monté en NFS ou le miroir d'un seul serveur. Ici, local indique local sur le
site.</para>
    </listitem>
    <listitem>
      <para>Sur un réseau de plusieurs ordinateurs exécutant tous un système LFS
identique, <filename class='directory'>/usr/local</filename> pourrait
contenir les paquets différents entre les machines. Dans ce cas, local se
réfère aux ordinateurs individuels.</para>
    </listitem>
    <listitem>
      <para>Même sur un seul ordinateur, <filename
class='directory'>/usr/local</filename> peut être utile si vous avez
installé plusieurs distributions en même temps et si vous voulez un endroit
pour mettre les paquets qui seront identiques sur chacune.</para>
    </listitem>
    <listitem>
      <para>Ou vous pourriez reconstruire régulièrement votre LFS, mais vouloir un
endroit pour mettre des fichiers que vous ne voulez pas reconstruire à
chaque fois. De cette façon, vous pouvez nettoyer le système de fichiers LFS
et commencer depuis une partition propre sans tout perdre à chaque fois.</para>
    </listitem>
  </itemizedlist>

  <para>Certaines personnes demandent pourquoi ne pas utiliser votre propre
arborescence de répertoires, comme <filename
class='directory'>/usr/site</filename>, plutôt que <filename
class='directory'>/usr/local</filename>&nbsp;?</para>

  <para>Rien ne vous en empêche. Beaucoup de sites font leur propre arborescence,
mais cela complique l'installation de nouveaux logiciels. Les installeurs
automatiques cherchent souvent les dépendances dans <filename
class='directory'>/usr</filename> et <filename
class='directory'>/usr/local</filename> et si le fichier qu'il cherche se
trouve plutôt dans <filename class='directory'>/usr/site</filename>,
l'installeur échouera probablement sauf si vous lui dites spécifiquement où
chercher.</para>

  <para><emphasis>Quelle est la position de BLFS là-dessus&nbsp;?</emphasis></para>

  <para>Toutes les instructions de BLFS installent des programmes dans <filename
class='directory'>/usr</filename> avec des instructions facultatives pour
installer dans <filename class='directory'>/opt</filename> pour certains
paquets spécifiques.</para>

</sect1>
