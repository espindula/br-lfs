<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

  <!ENTITY xindy-download-http "http://tug.ctan.org/support/xindy/base/xindy-&xindy-version;.tar.gz">
  <!ENTITY xindy-download-ftp  "">
  <!ENTITY xindy-md5sum        "221acfeeb0f6f8388f89a59c56491041">
  <!ENTITY xindy-size          "506 Ko">
  <!ENTITY xindy-buildsize     "15 Mo">
  <!ENTITY xindy-time          "moins de 0.1 SBU">
]>

<sect1 id="xindy" xreflabel="xindy-&xindy-version;">
  <?dbhtml filename="xindy.html"?>

  <sect1info>
<date>$Date$</date></sect1info>

  <title>xindy-&xindy-version;</title>

  <indexterm zone="xindy">
    <primary sortas="a-xindy">xindy</primary>
  </indexterm>

  <sect2 role="package">
    <title>Introduction à xindy</title>

    <para>
      
      <!-- LaTeX for the system, but just latex for the command -->
<application>Xindy</application> est un processeur d'index qui peut être
utilisé pour générer des index comme ceux des livres pour des systèmes de
préparation de documents arbitraires. Cela inclut les systèmes tel que TeX
et LaTeX, la famille roff, les systèmes basés sur SGML/XML (par exemple
HTML) qui manipulent différentes sortes de textes et génèrent des
informations d'indexage.
    </para>

    &lfs101_checked;

    <bridgehead renderas="sect3">Informations sur le paquet</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>
          Téléchargement (HTTP)&nbsp;: <ulink url="&xindy-download-http;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Téléchargement (FTP)&nbsp;: <ulink url="&xindy-download-ftp;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Somme de contrôle MD5 du téléchargement&nbsp;: &xindy-md5sum;
        </para>
      </listitem>
      <listitem>
        <para>
          Taille du téléchargement&nbsp;: &xindy-size;
        </para>
      </listitem>
      <listitem>
        <para>
          Estimation de l'espace disque requis&nbsp;: &xindy-buildsize;
        </para>
      </listitem>
      <listitem>
        <para>
          Estimation du temps de construction&nbsp;: &xindy-time;
        </para>
      </listitem>
    </itemizedlist>

    <bridgehead renderas="sect3">Téléchargements supplémentaires requis</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>
          Correctif requis&nbsp;: <ulink
url="&patch-root;/xindy-&xindy-version;-upstream_fixes-2.patch"/>
        </para>
      </listitem>
    </itemizedlist>

    <bridgehead renderas="sect3">Dépendances de Xindy</bridgehead>

    <bridgehead renderas="sect4">Requises</bridgehead>
    <para role="required">
      <xref linkend="clisp"/> et <xref linkend="texlive"/>
    </para>

    <para condition="html" role="usernotes">
      Notes utilisateur&nbsp;: <ulink url="&blfs-wiki;/xindy"/>
    </para>
  </sect2>

  <sect2 role="installation">
    <title>Installation de xindy</title>

    <para>
      Installez <application>xindy</application> en lançant les commandes
suivantes&nbsp;:
    </para>

<screen><userinput>export TEXARCH=$(uname -m | sed -e 's/i.86/i386/' -e 's/$/-linux/') &amp;&amp;

sed -i "s/ grep -v '^;'/ awk NF/" make-rules/inputenc/Makefile.in &amp;&amp;

sed -i 's%\(indexentry\)%\1\\%' make-rules/inputenc/make-inp-rules.pl &amp;&amp;

patch -Np1 -i ../xindy-&xindy-version;-upstream_fixes-2.patch &amp;&amp;

./configure --prefix=/opt/texlive/&texlive-year;              \
            --bindir=/opt/texlive/&texlive-year;/bin/$TEXARCH \
            --datarootdir=/opt/texlive/&texlive-year;         \
            --includedir=/usr/include               \
            --libdir=/opt/texlive/&texlive-year;/texmf-dist   \
            --mandir=/opt/texlive/&texlive-year;/texmf-dist/doc/man &amp;&amp;

make LC_ALL=POSIX</userinput></screen>

    <para>
      Ce paquet n'a pas de suite de tests.
    </para>

    <para>
      Maintenant, en tant qu'utilisateur <systemitem
class="username">root</systemitem>&nbsp;:
    </para>

<screen role="root"><userinput>make install</userinput></screen>

  </sect2>

  <sect2 role="commands">
    <title>Explication des commandes</title>

    <para>
      <command>sed -i "s/ grep -v '^;'/ awk NF/" ...</command>&nbsp;: La
construction trie les fichiers dans les encodages latin{1..3} pour créer
latin.xdy, et les versions unicode de ceux-ci pour créer utf8.xdy après
avoir utilisé <command>grep -v '^;'</command> pour supprimer les lignes
vides. Avec <application>grep-2.23</application>, toute donnée qui n'est pas
dans l'encodage attendu est traité comme du binaire, ce qui résulte en un
fichier inutilisable. Cette commande utilise une manière alternative pour
supprimer les lignes vides.
    </para>

    <para>
      <command>sed -i 's%\(indexentry\)%\1\\%' ...</command>&nbsp;: Une expression
régulière contient <literal>indexentry{</literal> — perl avertissait qu'il y
avait une accolade ouvrant non échappée et traite maintenant ceci comme une
erreur. Modifiez-la en <literal>indexentry\{</literal>, en doublant les
antislashs pour <command>sed</command>.
    </para>

    <para>
      <command>patch -Np1 -i
../xindy-&xindy-version;-upstream_fixes-2.patch</command>:
<application>Xindy</application> is now maintained at CTAN. This patch
updates the source with some of the changes made there (but ignoring changes
which were only made to allow for spaces in pathnames and some trivial
recent changes).
    </para>

    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
     href="../../xincludes/tex-prefix.xml"/>

    <para>
      <parameter>--includedir=/usr/include</parameter>&nbsp;: Ce paramètre assure
que les entêtes <filename>kpathsea</filename> de <xref linkend="texlive"/>
seront trouvées.
    </para>

    <para>
      <command>make LC_ALL=POSIX</command>&nbsp;: avec la version actuelle de
<application>coreutils</application>, il est essentiel de construire
<application>xindy</application> en locale POSIX (ou C) car dans une locale
UTF-8 le fichier <filename>latin.xdy</filename> contiendra seulement une
entête et ensuite une ligne '<literal>Binary file (standard input)
matches</literal>' à la place des nombreuses lignes de commandes
<application>lisp</application> merge-rule qu'il doit contenir.
    </para>

  </sect2>

  <sect2 role="content">
    <title>Contenu</title>

    <segmentedlist>
      <segtitle>Programmes installés</segtitle>
      <segtitle>Bibliothèques installées</segtitle>
      <segtitle>Répertoire installé</segtitle>

      <seglistitem>
        <seg>
          tex2xindy, texindy, xindy
        </seg>
        <seg>
          Aucune
        </seg>
        <seg>
          /opt/texlive/&texlive-year;/texmf-dist/xindy
        </seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Descriptions courtes</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="tex2xindy">
        <term><command>tex2xindy</command></term>
        <listitem>
          <para>
            transforme un fichier d'index LaTeX en un fichier d'index brut xindy
          </para>
          <indexterm zone="xindy tex2xindy">
            <primary sortas="b-tex2xindy">tex2xindy</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="texindy">
        <term><command>texindy</command></term>
        <listitem>
          <para>
            est une enveloppe pour xindy qui utlise beaucoup des conventions LaTeX par
défaut
          </para>
          <indexterm zone="xindy texindy">
            <primary sortas="b-texindy">texindy</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="xindy-prog">
        <term><command>xindy</command></term>
        <listitem>
          <para>
            crée un index trié et tagué depuis un index LaTeX
          </para>
          <indexterm zone="xindy xindy">
            <primary sortas="b-xindy">xindy</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
