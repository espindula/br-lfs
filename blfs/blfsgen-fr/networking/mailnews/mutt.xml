<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

  <!ENTITY mutt-download-http "https://bitbucket.org/mutt/mutt/downloads/mutt-&mutt-version;.tar.gz">
  <!ENTITY mutt-download-ftp  "ftp://ftp.mutt.org/pub/mutt/mutt-&mutt-version;.tar.gz">
  <!ENTITY mutt-md5sum        "ba33c54a11ccd409aacb16039d36ddd2">
  <!ENTITY mutt-size          "5.1&nbsp;Mo">
  <!ENTITY mutt-buildsize     "46&nbsp;Mo">
  <!ENTITY mutt-time          "0.3&nbsp;SBU">
]>

<sect1 id="mutt" xreflabel="Mutt-&mutt-version;">
  <?dbhtml filename="mutt.html"?>

  <sect1info>
<date>$Date$</date></sect1info>

  <title>Mutt-&mutt-version;</title>

  <indexterm zone="mutt">
    <primary sortas="a-mutt">mutt</primary>
  </indexterm>

  <sect2 role="package">
    <title>Introduction à Mutt</title>

    <para>
      Le paquet <application>Mutt</application> contient un agent d'utilisateur
courrier. Ceci est utile pour lire, écrire, répondre, enregistrer et effacer
votre courrier.
    </para>

    &lfs101_checked;

    <bridgehead renderas="sect3">Informations sur le paquet</bridgehead>
    <itemizedlist spacing='compact'>
      <listitem>
        <para>
          Téléchargement (HTTP)&nbsp;: <ulink url="&mutt-download-http;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Téléchargement (FTP)&nbsp;: <ulink url="&mutt-download-ftp;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Somme de contrôle MD5 du téléchargement&nbsp;: &mutt-md5sum;
        </para>
      </listitem>
      <listitem>
        <para>
          Taille du téléchargement&nbsp;: &mutt-size;
        </para>
      </listitem>
      <listitem>
        <para>
          Estimation de l'espace disque requis&nbsp;: &mutt-buildsize;
        </para>
      </listitem>
      <listitem>
        <para>
          Estimation du temps de construction&nbsp;: &mutt-time;
        </para>
      </listitem>
    </itemizedlist>



    <!--<bridgehead renderas="sect3">
Additional Downloads</bridgehead>
    <itemizedlist spacing='compact'>
      <listitem>
        <para>
          Required patch: <ulink
          url="&patch-root;/mutt-&mutt-version;-memleak-1.patch"/>
        </para>
      </listitem>
    </itemizedlist>-->
<bridgehead renderas="sect3">Dépendances de Mutt</bridgehead>

    <bridgehead renderas="sect4">Recommandées (pour la version textuelle du manuel)</bridgehead>
    <para role="recommended">
      <xref linkend="lynx"/> ou <xref linkend="Links"/> (ou <ulink
url="&w3m-url;">W3m</ulink>, ou <ulink url="&elinks-url;">ELinks</ulink>) —
lisez la note.
    </para>

    <bridgehead renderas="sect4">Facultatives</bridgehead>
    <para role="optional">
      <!-- from configure: \-\-with-bdb[=DIR] Use BerkeleyDB4 if gdbm is not
      available but gdbm is installed in LFS, so do not mention BerkeleyDB
      <xref linkend="db"/>
 or -->
<xref linkend="aspell"/>, <xref linkend="cyrus-sasl"/>, <xref
linkend="gdb"/>, <xref linkend="gnupg2"/>, <xref linkend="gnutls"/>,<xref
linkend="gpgme"/>, <xref linkend="libidn"/>, <xref linkend="mitkrb"/>, un
<xref linkend="server-mail"/> (qui fournit une commande
<command>sendmail</command>), <xref linkend="slang"/>, <xref
linkend="sqlite"/>, <ulink
url="http://www.citi.umich.edu/projects/nfsv4/linux/">libgssapi</ulink>,
<ulink url="http://mixmaster.sourceforge.net/">Mixmaster</ulink>, <ulink
url="http://fallabs.com/qdbm/">QDBM</ulink> ou <ulink
url="http://fallabs.com/tokyocabinet/">Tokyo Cabinet</ulink>
    </para>



    <!--<bridgehead renderas="sect4">
Optional (To Generate PDF Manual)</bridgehead>
    <para role="optional">
      <xref linkend="docbook-dsssl"/>,
      <xref linkend="openjade"/>, and
      <xref linkend="texlive"/> (or <xref linkend="tl-installer"/> with
      <command>pdfjadetex</command> installed)
    </para>-->
<para condition="html" role="usernotes">Notes utilisateur&nbsp;: <ulink url="&blfs-wiki;/mutt"/></para>

  </sect2>

  <sect2 role="installation">
    <title>Installation de Mutt</title>

    <note>
      <para>
        <application>Mutt</application> contient une version HTML de son manuel,
mais la version textuelle n'est plus fournie parce que plusieurs personnes
se sont plaintes de différences de formatage dans les différents navigateurs
de texte par rapporte à la version publiée. Pour obtenir un fichier texte,
les paquets suivants sont listés par ordre de préférence :
<application>lynx</application> qui utilise la surimpression (avec des
retours arrière) pour l'emphase, <application>w3m</application> ou
<application>elinks</application>&nbsp;: les deux fournissent du texte
brut. Le texte brut est généralement recommandé à moins que vous ne lisiez
le manuel HTML, donc les instructions ci-dessous utilisent
<application>lynx</application> s'il est disponible, ou
<application>links</application> pour produire du texte brut.
      </para>
    </note>

    <para>
      <application>Mutt</application> exige un groupe nommé <systemitem
class="groupname">mail</systemitem>. Vous pouvez ajouter ce groupe s'il
n'existe pas avec cette commande&nbsp;:
    </para>

<screen role="root"><userinput>groupadd -g 34 mail</userinput></screen>

    <para>
      Si vous n'avez pas installé de <xref linkend="server-mail"/>, vous devez
modifier le propriétaire de <filename class="directory">/var/mail</filename>
avec cette commande&nbsp;:
    </para>

<screen role="root"><userinput>chgrp -v mail /var/mail</userinput></screen>

    <para>
      Installez <application>Mutt</application> en lançant les commandes
suivantes&nbsp;:
    </para>



    <!--<para>

      First apply the patch to prevent a memory leak:
    </para>

<screen><userinput>patch -Np1 -i ../mutt-&mutt-version;-memleak-1.patch</userinput></screen>-->
<para>
      Pour vous assurer qu'un manuel est texte brut est créé avec
<application>lynx</application> ou pour utiliser
<application>links</application> à la place (au lieu de
<application>elinks</application>), lancez la commande suivante&nbsp;:
    </para>

<screen><userinput>sed -i -e 's/ -with_backspaces//' -e 's/elinks/links/' \
  -e 's/-no-numbering -no-references//' doc/Makefile.in</userinput></screen>

    <para>
      Maintenant configurez et construisez l'application&nbsp;:
    </para>

<!-- PDF broken with 1.14.0
    <para>

      To generate the PDF manual with <xref linkend="texlive"/>, run
      the following command:
    </para>

<screen remap="doc"><userinput>make -C doc manual.pdf</userinput></screen>-->
<screen><userinput>./configure --prefix=/usr                           \
            --sysconfdir=/etc                       \
            --with-docdir=/usr/share/doc/mutt-&mutt-version; \
            --with-ssl                              \
            --enable-external-dotlock               \
            --enable-pop                            \
            --enable-imap                           \
            --enable-hcache                         \
            --enable-sidebar                        &amp;&amp;
make</userinput></screen>



    <para>
      Ce paquet n'est pas fourni avec une suite de tests.
    </para>

    <para>
      Maintenant, en tant qu'utilisateur <systemitem
class="username">root</systemitem>&nbsp;:
    </para>

    <!--<para>

      If you generated the PDF manual, install it
      by issuing the following command as the
      <systemitem class="username">root</systemitem> user:
    </para>

<screen role='root' remap='doc'><userinput>install -v -m644 doc/manual.pdf \
    /usr/share/doc/mutt-&mutt-version;</userinput></screen>-->
<screen role='root'><userinput>make install</userinput></screen>



    <note>
      <para>
        Si vous avez utilisé une méthode DESTDIR pour installer seulement dans un
emplacement temporaire en tant qu'utilisateur normal (comme procédé de
gestion des paquets), vous devrez lancer ce qui suit en tant qu'utilisateur
<systemitem class="username">root</systemitem> après l'installation
réelle&nbsp;:
      </para>

<screen role="nodump"><userinput>chown root:mail /usr/bin/mutt_dotlock &amp;&amp;
chmod -v 2755 /usr/bin/mutt_dotlock</userinput></screen>

      <para>
        Un fichier info est maintenant installé, donc vous devrez recréer
<filename>/usr/share/info/dir</filename> comme cela est décrit lors de
l'installation de <application>Texinfo</application> dans LFS.
      </para>
    </note>


  </sect2>

  <sect2 role="commands">
    <title>Explication des commandes</title>

    <para>
      <parameter>sed ... -e 's/ -with_backspaces//' ...</parameter>&nbsp;: cette
commande désactive les retours arrière utilisés pour l'emphase avec
<application>lynx</application>, pour obtenir du texte brut lisible avec
<command>view</command>.
    </para>

    <para>
      <parameter>sed ... -e 's/elinks/links/' ...</parameter>&nbsp;: cela permet
d'utiliser <command>links</command> à la place de <command>elinks</command>
qui n'est pas dans le livre.
    </para>

    <para>
      <parameter>sed ... -e 's/-no-numbering -no-references//'
...</parameter>&nbsp;: cela supprime les paramètres qui ne sont pas compris
par <command>links</command>.
    </para>

    <para>
      <parameter>--enable-external-dotlock</parameter>&nbsp;: Dans certaines
circonstances, le programme mutt-dotlock n'est pas créé. Ce paramètre assure
qu'il sera toujours créé.
    </para>

    <para>
      <parameter>--enable-pop</parameter>&nbsp;: Ce paramètre active le support de
POP3.
    </para>

    <para>
      <parameter>--enable-imap</parameter>&nbsp;: Ce paramètre active le support
d'IMAP.
    </para>

    <para>
      <parameter>--enable-hcache</parameter>&nbsp;: Ce paramètre active la mise en
cache des en-têtes.
    </para>

    <para>
      <parameter>--enable-sidebar</parameter>&nbsp;: Ce paramètre active la prise
en charge de la barre latérale (une liste de boîte aux lettres). Elle est
désactivée par défaut, mais vous pouvez l'activer avec <command>:set
sidebar_visible</command> dans mutt (et la désactiver de nouveau avec
':unset'), ou elle peut être activée dans <filename>~/.muttrc</filename>.
    </para>

    <para>
      <parameter>--with-ssl</parameter>&nbsp;: Ce paramètre ajoute le support de
SSL/TLS d'openssl dans POP3/IMAP/SMTP.
    </para>

    <para>
      <option>--enable-autocrypt --with-sqlite3</option>&nbsp;: ces deux
paramètres ajoutent la prise en charge de la protection passive contre la
collection de données, avec gnupg et gpgme (gpgme est activé par
autocrypt). Voir <ulink
url="http://www.mutt.org/doc/manual/#autocryptdoc">le manuel</ulink>.
    </para>

    <para>
      <option>--enable-gpgme</option>&nbsp;: Ce paramètre active le support de GPG
à travers le paquet GPGME. Utilisez ce paramètre si vous voulez le support
de GPG dans Mutt.
    </para>

    <para>
      <option>--enable-smtp</option>&nbsp;: Ce paramètre active le support du
relai SMTP.
    </para>

    <para>
      <option>--with-idn2</option>&nbsp;: Utilisez ce paramètre si vous avez
installé à la fois libidn et libidn2 et que vous souhaitez utiliser libidn2
ici.
    </para>

    <para>
      <option>--with-sasl</option>&nbsp;: Ce paramètre ajoute la prise en charge
de l'authentification avec <xref linkend="cyrus-sasl"/> dans POP3/IMAP/SMTP
s'ils sont activés. Selon la configuration du serveur, cela peut ne pas être
nécessaire pour POP3 ou IMAP. Cependant, c'est nécessaire pour
l'authentification SMTP.
    </para>

    

  <!-- we do not normally list all possible switches. LFS installs ncurses.
    <para>

      <option>\-\-with-slang</option>: Use <application>S-Lang
      </application> instead of <application>Ncurses</application>.
    </para> -->
</sect2>

  <sect2 role="configuration">
    <title>Configuration de Mutt</title>

    <sect3 id="mutt-config">
      <title>Fichiers de configuration</title>

      <para>
        <filename>/etc/Muttrc</filename>, <filename>~/.muttrc</filename>,
<filename>/etc/mime.types</filename> et <filename>~/.mime.types</filename>
      </para>

      <indexterm zone="mutt mutt-config">
        <primary sortas="e-etc-Muttrc">/etc/Muttrc</primary>
      </indexterm>

      <indexterm zone="mutt mutt-config">
        <primary sortas="e-AA.muttrc">~/.muttrc</primary>
      </indexterm>

      <indexterm zone="mutt mutt-config">
        <primary sortas="e-etc-mime.types">/etc/mime.types</primary>
      </indexterm>

      <indexterm zone="mutt mutt-config">
        <primary sortas="e-AA.mime.types">~/.mime.types</primary>
      </indexterm>

    </sect3>

    <sect3>
      <title>Informations sur la configuration</title>

      <para>
        Aucun changement n'est nécessaire dans ces fichiers pour commencer à
utiliser <application>Mutt</application>. Lorsque vous êtes prêt à faire des
changements, la page de man pour <filename>muttrc</filename> sera un bon
point de départ.
      </para>

      <para>
        Pour utiliser <application>GnuPG</application>, utilisez la commande
suivante&nbsp;:
      </para>

<screen><userinput>cat /usr/share/doc/mutt-&mutt-version;/samples/gpg.rc &gt;&gt; ~/.muttrc</userinput></screen>

    </sect3>

  </sect2>

  <sect2 role="content">
    <title>Contenu</title>

    <segmentedlist>
      <segtitle>Programmes installés</segtitle>
      <segtitle>Bibliothèques installées</segtitle>
      <segtitle>Répertoires installés</segtitle>

      <seglistitem>
        <seg>flea, mutt, mutt_dotlock, muttbug, pgpewrap, pgpring et smime_keys</seg>
        <seg>Aucune</seg>
        <seg>/usr/share/doc/mutt-&mutt-version;</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Descriptions courtes</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="flea">
        <term><command>flea</command></term>
        <listitem>
          <para>
            est un script pour montrer où rapporter les bogues
          </para>
          <indexterm zone="mutt flea">
            <primary sortas="b-flea">flea</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="mutt-prog">
        <term><command>mutt</command></term>
        <listitem>
          <para>
            est un agent utilisateur de courrier (MUA) qui vous permet de lire, écrire
et effacer votre courrier
          </para>
          <indexterm zone="mutt mutt-prog">
            <primary sortas="b-mutt">mutt</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="mutt_dotlock">
        <term><command>mutt_dotlock</command></term>
        <listitem>
          <para>
            implémente le verrouillage du fichier de spool de courrier
          </para>
          <indexterm zone="mutt mutt_dotlock">
            <primary sortas="b-mutt_dotlock">mutt_dotlock</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="muttbug">
        <term><command>muttbug</command></term>
        <listitem>
          <para>
            est un script identique à <command>flea</command>
          </para>
          <indexterm zone="mutt muttbug">
            <primary sortas="b-muttbug">muttbug</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="pgpewrap">
        <term><command>pgpewrap</command></term>
        <listitem>
          <para>
            prépare une ligne de commande pour les outils <xref linkend="gnupg2"/>
          </para>
          <indexterm zone="mutt pgpewrap">
            <primary sortas="b-pgpewrap">pgpewrap</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="pgpring">
        <term><command>pgpring</command></term>
        <listitem>
          <para>
            est un générateur de trousseau de clés pour <ulink
url="http://www.pgp.com/">PGP</ulink>. Il n'est pas nécessaire pour <xref
linkend="gnupg2"/>
          </para>
          <indexterm zone="mutt pgpring">
            <primary sortas="b-pgpring">pgpring</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="smime_keys">
        <term><command>smime_keys</command></term>
        <listitem>
          <para>
            gère un ensemble de clé pour les certificats S/MIME
          </para>
          <indexterm zone="mutt smime_keys">
            <primary sortas="b-smime_keys">smime_keys</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
