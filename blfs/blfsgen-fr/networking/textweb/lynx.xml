<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

  <!ENTITY lynx-download-http "https://invisible-mirror.net/archives/lynx/tarballs/lynx&lynx-version;.tar.bz2">
  <!ENTITY lynx-download-ftp  "">
  <!ENTITY lynx-md5sum        "44316f1b8a857b59099927edc26bef79">
  <!ENTITY lynx-size          "2.5 Mo">
  <!ENTITY lynx-buildsize     "31 Mo">
  <!ENTITY lynx-time          "0.3 SBU">
]>

<sect1 id="lynx" xreflabel="Lynx-&lynx-version;">
  <?dbhtml filename="lynx.html"?>

  <sect1info>
<date>$Date$</date></sect1info>

  <title>Lynx-&lynx-version;</title>

  <indexterm zone="lynx">
    <primary sortas="a-Lynx">Lynx</primary>
  </indexterm>

  <sect2 role="package">
    <title>Introduction à Lynx</title>

    <para>
      <application>Lynx</application> est un navigateur web en texte.
    </para>

    &lfs101_checked;

    <bridgehead renderas="sect3">Informations sur le paquet</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>
          Téléchargement (HTTP)&nbsp;: <ulink url="&lynx-download-http;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Téléchargement (FTP)&nbsp;: <ulink url="&lynx-download-ftp;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Somme de contrôle MD5 du téléchargement&nbsp;: &lynx-md5sum;
        </para>
      </listitem>
      <listitem>
        <para>
          Taille du téléchargement&nbsp;: &lynx-size;
        </para>
      </listitem>
      <listitem>
        <para>
          Estimation de l'espace disque requis&nbsp;: &lynx-buildsize;
        </para>
      </listitem>
      <listitem>
        <para>
          Estimation du temps de construction&nbsp;: &lynx-time;
        </para>
      </listitem>
    </itemizedlist>

    <!--
    <bridgehead renderas="sect3">
Additional Downloads</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>
          Patch to build with openssl-1.1:
          <ulink url="&patch-root;/lynx-&lynx-version;-openssl_1.1.0-1.patch"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Patch to build with ncurses-6.1:
          <ulink url="&patch-root;/lynx-&lynx-version;-ncurses_6.1-1.patch"/>
        </para>
      </listitem>
    </itemizedlist>
-->
<bridgehead renderas="sect3">Dépendances de Lynx</bridgehead>

    <!--
    <bridgehead renderas="sect4">
Recommended</bridgehead>
    <para role="recommended">
      <xref linkend="openssl"/>
    </para>
-->
<bridgehead renderas="sect4">Facultatives</bridgehead>
    <para role="optional">
      <xref linkend="gnutls"/> (expérimental, pour remplacer openssl), <xref
linkend="zip"/>, <xref linkend="unzip"/>, un <xref linkend="server-mail"/>
(qui fournit une commande <command>sendmail</command>) et <xref
linkend='sharutils'/> (pour le programme <command>uudecode</command>)
    </para>



    <!-- Attempt to utilize S-Lang (- -with-screen=slang) leads to a build failure -->
<para condition="html" role="usernotes">Notes utilisateur&nbsp;: <ulink url="&blfs-wiki;/Lynx"/></para>

  </sect2>

  <sect2 role="installation">
    <title>Installation de Lynx</title>

    <!--
    <para>

      Apply a patch to build <application>Lynx</application> with openssl-1.1:
    </para>

<screen><userinput>patch -p1 -i ../lynx-&lynx-version;-openssl_1.1.0-1.patch</userinput></screen>

    <para>
      Apply a patch to build <application>Lynx</application> with ncurses-6.1:
    </para>

<screen><userinput>patch -p1 -i ../lynx-&lynx-version;-ncurses_6.1-1.patch</userinput></screen>
-->
<para>
      Installez <application>Lynx</application> en lançant les commandes
suivantes&nbsp;:
    </para>

<screen><userinput>./configure --prefix=/usr          \
            --sysconfdir=/etc/lynx \
            --datadir=/usr/share/doc/lynx-&lynx-version; \
            --with-zlib            \
            --with-bzlib           \
            --with-ssl             \
            --with-screen=ncursesw \
            --enable-locale-charset &amp;&amp;
make</userinput></screen>

    <para>
      Ce paquet n'est pas fourni avec une suite de tests.
    </para>

    <para>
      Maintenant, en tant qu'utilisateur <systemitem
class="username">root</systemitem>&nbsp;:
    </para>

<screen role='root'><userinput>make install-full &amp;&amp;
chgrp -v -R root /usr/share/doc/lynx-&lynx-version;/lynx_doc</userinput></screen>

  </sect2>

  <sect2 role="commands">
    <title>Explication des commandes</title>

    <para>
      <parameter>--sysconfdir=/etc/lynx</parameter>&nbsp;: TCe paramètre est
utilisé de façon à ce que les fichiers de configuration soient localisés
dans <filename class="directory">/etc/lynx</filename> au lieu de <filename
class="directory">/usr/etc</filename>.
    </para>

    <para>
      <parameter>--datadir=/usr/share/doc/lynx-&lynx-version;</parameter>&nbsp;:
Ce paramètre est utilisé de façon à ce que les fichiers de documentation
soient installés dans <filename
class="directory">/usr/share/doc/lynx-&lynx-version;</filename> au lieu de
<filename class="directory">/usr/share/lynx_{doc,help}</filename>.
    </para>

    <para>
      <parameter>--with-zlib</parameter>&nbsp;: Ceci permet de lier <filename
class="libraryfile">libz</filename> à <application>Lynx</application>.
    </para>

    <para>
      <parameter>--with-bzlib</parameter>&nbsp;: Ceci permet de lier <filename
class="libraryfile">libbz2</filename> à <application>Lynx</application>.
    </para>

    <para>
      <parameter>--with-ssl</parameter>&nbsp;: Ceci permet le support de la
liaison de SSL dans <application>Lynx</application>.
    </para>

    <para>
      <parameter>--with-screen=ncursesw</parameter>&nbsp;: Ceci permet
l'utilisation du support avancé pour les caractères larges présent dans la
bibliothèque système <application>NCurses</application>. Ceci est nécessaire
pour afficher correctement les groupes de caractères et lignes dans les
locales multi-octets.
    </para>

    <para>
      <parameter>--enable-locale-charset</parameter>&nbsp;: Ceci permet à
<application>Lynx</application> de déduire, à partir des paramètres
linguistiques en cours, le bon encodage des caractères pour le terminal de
sortie. Une étape de configuration reste nécessaire (voir ci-dessous), mais
contrairement à la situation sans ce réglage, l'étape de configuration
devient la même pour tous les utilisateurs (sans ce réglage, chaque
utilisateur doit le préciser de lui-même explicitement). Ceci est important
pour les environnements tels que les LiveCD pour lesquels les étapes de
configuration spécifique au système doivent être réduites au maximum.
    </para>

    <para>
      <option>--enable-ipv6</option>&nbsp;: Ce réglage permet à
<application>Lynx</application> d'utiliser IPv6 en plus d'IPv4. Utilisez
cette option si votre FAI fournit une configuration IPv6.
    </para>

    <para>
      <option>--enable-nls</option>&nbsp;: Ce réglage permet à
<application>Lynx</application> d'imprimer les messages traduits (tels que
les questions à propos des cookies et certificats SSL).
    </para>

    <para>
      <option>--with-gnutls</option>: Ceci permet le support expérimental de la
liaison <application>GnuTLS</application> dans
<application>Lynx</application>. Supprimez le paramètre
<parameter>--with-ssl</parameter> si vous voulez utiliser gnutls.
    </para>

    <para>
      <command>make install-full</command>&nbsp;: En supplément à l'installation
standard, ceci installe les fichiers de documentation et d'aide.
    </para>

    <para>
      <command>chgrp -v -R root
/usr/share/doc/lynx-&lynx-version;/lynx_doc</command>&nbsp;: cette commande
corrige la mauvaise attribution du groupe propriétaire des fichiers de
documentation.
    </para>

    

  <!-- This was fixed in the 2.8.6 release, though it still could
         be considered an issue by some
    <note>

      <para>
        There has been a security vulnerability identified if you enable
        support for CGI links by passing the <option>-enable-cgi-links</option>
        parameter to <command>configure</command>. See <ulink
        url="http://seclists.org/lists/vulnwatch/2005/Oct-Dec/0041.html"/> for
        details.
      </para>
    </note>
    -->
</sect2>

  <sect2 role="configuration">
    <title>Configuration de Lynx</title>

    <sect3 id="lynx-config">
      <title>Fichiers de configuration</title>

      <para>
        <filename>/etc/lynx/lynx.cfg</filename>
      </para>

      <indexterm zone="lynx lynx-config">
        <primary sortas="e-etc-lynx-lynx.cfg">/etc/lynx/lynx.cfg</primary>
      </indexterm>

    </sect3>

    <sect3>
      <title>Informations sur la configuration</title>

      <para>
        Il faut examiner la locale courante pour afficher correctement le jeu de
caractères. Cependant, <application>Lynx</application> ne le fait pas par
défaut. En tant qu'utilisateur <systemitem
class="username">root</systemitem>, changez ce réglage&nbsp;:
      </para>

<screen role="root"><userinput>sed -e '/#LOCALE/     a LOCALE_CHARSET:TRUE'     \
    -i /etc/lynx/lynx.cfg</userinput></screen>

      <para>
        L'éditeur interne de <application>Lynx</application> <xref
linkend="locale-wrong-multibyte-characters"/>. Ceci se manifeste dans les
locales multi-octets, comme la touche Effacement qui n'efface pas les
caractères non-ASCII proprement, et comme des données incorrectes qui sont
envoyées au réseau quand quelqu'un édite les contenus de zones textes. La
seule solution pour ce problème est de configurer
<application>Lynx</application> pour utiliser un éditeur externe (relié à la
combinaison de touches par défaut <quote>Ctrl+X e</quote>) Restez en
utilisateur <systemitem class="username">root</systemitem>&nbsp;:
      </para>

<screen role="root"><userinput>sed -e '/#DEFAULT_ED/ a DEFAULT_EDITOR:vi'       \
    -i /etc/lynx/lynx.cfg</userinput></screen>

      <para>
        <application>Lynx</application> gère les valeurs suivantes de l'option
DEFAULT_EDITOR spécialement en ajoutant les arguments de positionnement du
curseur&nbsp;: <quote>emacs</quote>, <quote>jed</quote>,
<quote>jmacs</quote>, <quote>joe</quote>, <quote>jove</quote>,
<quote>jpico</quote>, <quote>jstar</quote>, <quote>nano</quote>,
<quote>pico</quote>, <quote>rjoe</quote>, <quote>vi</quote> (mais pas
<quote>vim</quote>&nbsp;: pour positionner le curseur dans <xref
linkend="vim"/>, positionnez cette option à <quote>vi</quote>).
      </para>

      <para>
        Par défaut, <application>Lynx</application> ne sauvegarde pas les cookies
entre les sessions. Toujours en tant qu'utilisateur <systemitem
class="username">root</systemitem>, changez ce réglage&nbsp;:
      </para>
<screen role="root"><userinput>sed -e '/#PERSIST/    a PERSISTENT_COOKIES:TRUE' \
    -i /etc/lynx/lynx.cfg</userinput></screen>

      <para>
        Divers réglages tels que les proxies peuvent être réalisés dans le fichier
système global <filename>/etc/lynx/lynx.cfg</filename> file.
      </para>

    </sect3>

  </sect2>

  <sect2 role="content">
    <title>Contenu</title>

    <segmentedlist>
    <segtitle>Programme installé</segtitle>
    <segtitle>Bibliothèques installées</segtitle>
    <segtitle>Répertoires installés</segtitle>

    <seglistitem>
      <seg>lynx</seg>
      <seg>Aucune</seg>
      <seg>/etc/lynx et /usr/share/doc/lynx-&lynx-version;</seg>
    </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Descriptions courtes</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="lynx-prog">
        <term><command>lynx</command></term>
        <listitem>
          <para>
            est un navigateur pour le World Wide Web d'usage général, en mode texte, à
information distribuée
          </para>
          <indexterm zone="lynx lynx-prog">
            <primary sortas="b-lynx">lynx</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
