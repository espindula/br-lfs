<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

  <!ENTITY screen-download-http "&gnu-http;/screen/screen-&screen-version;.tar.gz">
  <!ENTITY screen-download-ftp  "&gnu-ftp;/screen/screen-&screen-version;.tar.gz">
  <!ENTITY screen-md5sum        "9a9bdc956bd93e4f0cb9e48678889e26">
  <!ENTITY screen-size          "1020&nbsp;Ko">
  <!ENTITY screen-buildsize     "9,5&nbsp;Mo">
  <!ENTITY screen-time          "0,1&nbsp;SBU">
]>

<sect1 id="screen" xreflabel="Screen-&screen-version;">
  <?dbhtml filename="screen.html"?>


  <title>Screen-&screen-version;</title>

  <indexterm zone="screen">
    <primary sortas="a-Screen">Screen</primary>
  </indexterm>

  <sect2 role="package">
    <title>Introduction à Screen</title>

    <para>
      <application>Screen</application> est un gestionnaire de terminaux qui lance
plusieurs processus séparés, en général des shells interactifs, sur un seul
terminal en mode texte. Chaque terminal virtuel émule un DEC VT100 et
plusieurs fonctions ANSI X3.64 et ISO 2022, et fournit une traduction
d'entrée et de sortie configurable, le support du port série, une
configuration du logging, le support multi-utilisateurs, et de nombreux
encodages, y compris l'UTF-8. Vous pouvez détacher des sessions screen et
les retrouver plus tard sur un terminal différent.
    </para>

    &lfs120_checked;

    <bridgehead renderas="sect3">Informations sur le paquet</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>
          Téléchargement (HTTP)&nbsp;: <ulink url="&screen-download-http;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Téléchargement (FTP)&nbsp;: <ulink url="&screen-download-ftp;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Somme de contrôle MD5&nbsp;: &screen-md5sum;
        </para>
      </listitem>
      <listitem>
        <para>
          Taille du téléchargement&nbsp;: &screen-size;
        </para>
      </listitem>
      <listitem>
        <para>
          Estimation de l'espace disque requis&nbsp;: &screen-buildsize;
        </para>
      </listitem>
      <listitem>
        <para>
          Estimation du temps de construction&nbsp;: &screen-time;
        </para>
      </listitem>
    </itemizedlist>

    <!--
    <bridgehead renderas="sect3">
Additional Downloads</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>
          Required patch:
          <ulink url="&patch-root;/screen-&screen-version;-upstream_fixes-1.patch"/>
        </para>
      </listitem>
    </itemizedlist>
-->
<bridgehead renderas="sect3">Dépendances de Screen</bridgehead>

    <bridgehead renderas="sect4">Facultatives</bridgehead>
    <para role="optional">
      <xref linkend="linux-pam"/>
    </para>

  </sect2>

  <sect2 role="installation">
    <title>Installation de Screen</title>

    <!--
    <para>

      First, apply a patch from upstream that fixes a security vulnerability:
    </para>

<screen><userinput remap="pre">patch -Np1 -i ../screen-&screen-version;-upstream_fixes-1.patch</userinput></screen>
-->
<para>
      Installez <application>Screen</application> en exécutant les commandes
suivantes&nbsp;:
    </para>

<screen><userinput>sh autogen.sh                                 &amp;&amp;
./configure --prefix=/usr                     \
            --infodir=/usr/share/info         \
            --mandir=/usr/share/man           \
            --with-socket-dir=/run/screen     \
            --with-pty-group=5                \
            --with-sys-screenrc=/etc/screenrc &amp;&amp;

sed -i -e "s%/usr/local/etc/screenrc%/etc/screenrc%" {etc,doc}/* &amp;&amp;
make</userinput></screen>

    <para>
      Ce paquet n'a pas de suite de tests.
    </para>

    <para>
      Maintenant, en tant qu'utilisateur <systemitem
class="username">root</systemitem>&nbsp;:
    </para>

<screen role="root"><userinput>make install &amp;&amp;
install -m 644 etc/etcscreenrc /etc/screenrc</userinput></screen>

  </sect2>

  <sect2 role="commands">
    <title>Explication des commandes</title>

    <para>
      <parameter>--with-socket-dir=/run/screen</parameter>&nbsp;: Cette option
place les sockets utilisateurs à un endroit standard.
    </para>

    <para>
      <parameter>--with-sys-screenrc=/etc/screenrc</parameter>&nbsp;: Cette option
place le fichier screenrc global dans <filename
class='directory'>/etc</filename>.
    </para>

    <para>
      <parameter>--with-pty-group=5 </parameter>&nbsp;: Cette option initialise le
gid à la valeur utilisée par LFS.
    </para>

    <para>
      <command>sed -i -e "s%/usr/local/etc/screenrc%/etc/screenrc%"
{etc,doc}/*</command>&nbsp;: Cette commande place les fichiers de
configuration et de documentation à l'endroit utilisé ici pour le fichier
screenrc global.
    </para>

  </sect2>

  <sect2 role="configuration">
    <title>Configuration de Screen</title>

    <sect3 id ="screen-config">
      <title>Fichiers de configuration</title>

      <para>
        <filename>/etc/screenrc</filename> et <filename>~/.screenrc</filename>
      </para>

      <indexterm zone="screen screen-config">
        <primary sortas="e-AA.screenrc">~/.screenrc</primary>
      </indexterm>

      <indexterm zone="screen screen-config">
        <primary sortas="e-etc-screenrc">/etc/screenrc</primary>
      </indexterm>

    </sect3>

    <sect3>
      <title>Informations de configuration</title>

      <para>
        Vous pourriez vouloir regarder le fichier de configuration d'exemple qui a
été installé pour le personnaliser selon vos besoins.
      </para>

    </sect3>

  </sect2>

  <sect2 role="content">
    <title>Contenu</title>

    <segmentedlist>
      <segtitle>Programme installé</segtitle>
      <segtitle>Bibliothèques installées</segtitle>
      <segtitle>Répertoire installé</segtitle>

      <seglistitem>
        <seg>screen (lien symbolique) et screen-&screen-version;</seg>
        <seg>Aucune</seg>
        <seg>/usr/share/screen et /run/screen</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Descriptions courtes</bridgehead>
      <?dbfo list-presentation="list"?> <?dbhtml list-presentation="table"?>

      <varlistentry id="screen-prog">
        <term><command>screen</command></term>
        <listitem>
          <para>
            est un multiplexeur de terminaux avec l'émulation de terminal VT100/ANSI
          </para>
          <indexterm zone="screen screen-prog">
            <primary sortas="b-screen">screen</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
