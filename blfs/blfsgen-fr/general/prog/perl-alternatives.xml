<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

  <!-- it seems at least one entity is needed -->
  <!ENTITY perl-alternatives-dummy      "42">
]>
  
  <!-- Begin perl alternatives -->
<sect2 id="perl-alternatives" xreflabel="Installation automatique des modules perl avec CPAN">

    <title>Installation automatique des modules perl avec CPAN</title>

    <indexterm zone="perl-alternatives">
      <primary sortas="a-cpan-install-of-perl-modules">Installation automatique des modules perl avec CPAN</primary>
    </indexterm>

    <sect3 role="installation" id="perl-auto-install"
    xreflabel="Installation automatique des modules perl">
      <title> Installation automatique des modules Perl.</title>

      <para>
        Il y a une autre manière d'installer les modules en utilisant la commande
<command>install</command> de <command>cpan</command>. La commande
télécharge automatiquement les dernières sources depuis l'archive CPAN pour
le module et tous les modules listés en dépendances par le
développeur. Ensuite, chaque module est extrait, la compilation et les tests
sont lancés et le module est installé.
      </para>

      <para>
        Vous devez toujours installer les dépendances non-perl avant de lancer la
méthode d'installation automatique. Vous pourriez vouloir nettoyer le
répertoire <filename class="directory">build/</filename> après
l'installation, pour gagner de la place. Si des actions post-installation
sont mentionnées, comme la création d'un lien symbolique, vous devriez
effectuer ces actions.
      </para>

      <para>
        La première fois que vous lancez <command>cpan</command>, on vous demandera
des informations sur l'emplacement des téléchargements et les méthodes à
utiliser. Ces informations sont enregistrées dans des fichiers situés dans
<filename class='directory'>~/.cpan</filename>.
      </para>

      <para>
        En particulier, vous pourriez configurer cpan pour qu'il utilise <xref
linkend="sudo"/> à l'installation, ce qui vous permet de construire et de
tester en tant qu'utilisateur normal. Les exemple suivants n'utilisent pas
cette approche.
      </para>

      <para>
        Démarrez le shell <command>cpan</command> en lançant
«&nbsp;<command>cpan</command>&nbsp;» en tant qu'utilisateur <systemitem
class="username">root</systemitem>. N'importe quel module peut maintenant
être installé depuis le prompt <emphasis
role='underlined'><prompt>cpan&gt;&nbsp;</prompt></emphasis> avec la
commande&nbsp;:
      </para>

<screen role="root"><userinput>install <replaceable>&lt;Module::Name&gt;</replaceable></userinput></screen>

      <para>
        Pour trouver des commandes supplémentaires et de l'aide, saisissez
«&nbsp;<command>help</command>&nbsp;» dans le prompt <emphasis
role='underlined'><prompt>cpan&gt;&nbsp;</prompt></emphasis>.
      </para>

      <para>
        Autrement, pour les installations scriptées ou non-interactives, utilisez la
syntaxe suivante en tant qu'utilisateur <systemitem
class="username">root</systemitem> pour installer un ou plusieurs
modules&nbsp;:
      </para>

<screen role="root"><userinput>cpan -i <replaceable>&lt;Module1::Name&gt; &lt;Module2::Name&gt;</replaceable></userinput></screen>

      <para>
        Regardez la page de manuel <filename>cpan.1</filename> pour trouver les
paramètres supplémentaires que vous pouvez passer à <command>cpan</command>
sur la ligne de commande.
      </para>

    </sect3>

  </sect2>
