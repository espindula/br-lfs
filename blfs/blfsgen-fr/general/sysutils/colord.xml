<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

  <!ENTITY colord-download-http "https://www.freedesktop.org/software/colord/releases/colord-&colord-version;.tar.xz">
  <!ENTITY colord-download-ftp  "">
  <!ENTITY colord-md5sum        "7dbdc807495890c13e8242385f4c641f">
  <!ENTITY colord-size          "1.8 Mo">
  <!ENTITY colord-buildsize     "32&nbsp;Mo (avec les tests)">
  <!ENTITY colord-time          "0,3&nbsp;SBU (avec les tests)">
]>

<sect1 id="colord" xreflabel="colord-&colord-version;">
  <?dbhtml filename="colord.html"?>

  <sect1info>
<date>$Date$</date></sect1info>

  <title>Colord-&colord-version;</title>

  <indexterm zone="colord">
    <primary sortas="a-colord">Colord</primary>
  </indexterm>

  <sect2 role="package">
    <title>Introduction à Colord</title>

    <para>
      <application>Colord</application> est un service système qui rend facile la
gestion, l'installation et la génération de profiles de couleurs. Il est
utilisé par <application>GNOME Color Manager</application> pour
l'intégration au système et est utilisé quand il n'y a pas d'utilisateurs
connectés.
    </para>

    &lfs112_checked;

    <bridgehead renderas="sect3">Informations sur le paquet</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>
          Téléchargement (HTTP)&nbsp;: <ulink url="&colord-download-http;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Téléchargement (FTP)&nbsp;: <ulink url="&colord-download-ftp;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Somme de contrôle MD5&nbsp;: &colord-md5sum;
        </para>
      </listitem>
      <listitem>
        <para>
          Taille du téléchargement&nbsp;: &colord-size;
        </para>
      </listitem>
      <listitem>
        <para>
          Estimation de l'espace disque requis&nbsp;: &colord-buildsize;
        </para>
      </listitem>
      <listitem>
        <para>
          Estimation du temps de construction&nbsp;: &colord-time;
        </para>
      </listitem>
    </itemizedlist>

    <bridgehead renderas="sect3">Dépendances de Colord</bridgehead>

    <bridgehead renderas="sect4">Requises</bridgehead>
    <para role="required">
      <!-- Polkit now needed, see #11481 in Trac -->
<xref linkend="dbus"/>, <xref linkend="glib2"/>, <xref linkend="lcms2"/>,
<xref linkend="polkit"/> et <xref linkend="sqlite"/>
    </para>

    <bridgehead renderas="sect4">Recommandées</bridgehead>
    <para role="recommended">
      <xref linkend="gobject-introspection"/>, <xref linkend="libgudev"/>, <xref
linkend="libgusb"/>, <phrase revision="sysv">and</phrase> <phrase
revision="systemd"><xref linkend="systemd"/> et </phrase> <xref
linkend="vala"/>
    </para>

    <bridgehead renderas="sect4">Facultatives</bridgehead>
    <para role="optional">
      <xref linkend="gnome-desktop"/> et <xref linkend="colord-gtk"/> (pour
construire les outils d'exemple), <xref linkend="docbook-utils"/>, <xref
linkend="gtk-doc"/>, <xref linkend="libxslt"/>, <xref linkend="sane"/>,
<ulink url="https://www.argyllcms.com/">ArgyLLCMS</ulink> et <ulink
url="https://github.com/scop/bash-completion/">Bash Completion</ulink>
    </para>

    <para condition="html" role="usernotes">
      Notes utilisateur&nbsp;: <ulink url="&blfs-wiki;/colord"/>
    </para>
  </sect2>

  <sect2 role="installation">
    <title>Installation de Colord</title>

    <para>
      Il devrait y avoir un utilisateur et un groupe dédié pour prendre le
contrôle du démon colord après son démarrage. Tapez les commandes suivantes
en tant qu'utilisateur <systemitem class="username">root</systemitem>&nbsp;:
    </para>

<screen role="root"><userinput>groupadd -g 71 colord &amp;&amp;
useradd -c "Color Daemon Owner" -d /var/lib/colord -u 71 \
        -g colord -s /bin/false colord</userinput></screen>

    <para>
      Installez <application>Colord</application> en exécutant les commandes
suivantes&nbsp;:
    </para>

<screen revision="sysv"><userinput>mkdir build &amp;&amp;
cd    build &amp;&amp;

meson --prefix=/usr            \
      --buildtype=release      \
      -Ddaemon_user=colord     \
      -Dvapi=true              \
      -Dsystemd=false          \
      -Dlibcolordcompat=true   \
      -Dargyllcms_sensor=false \
      -Dbash_completion=false  \
      -Ddocs=false             \
      -Dman=false ..           &amp;&amp;
ninja</userinput></screen>

<screen revision="systemd"><userinput>mkdir build &amp;&amp;
cd build &amp;&amp;

meson --prefix=/usr            \
      --buildtype=release      \
      -Ddaemon_user=colord     \
      -Dvapi=true              \
      -Dsystemd=true           \
      -Dlibcolordcompat=true   \
      -Dargyllcms_sensor=false \
      -Dbash_completion=false  \
      -Ddocs=false             \
      -Dman=false ..           &amp;&amp;
ninja</userinput></screen>

    <para>
      Maintenant, en tant qu'utilisateur <systemitem
class="username">root</systemitem>&nbsp;:
    </para>

<screen role="root"><userinput>ninja install</userinput></screen>

    <para>
      Pour tester les résultats, tapez&nbsp;: <command>ninja test</command>. Un
test, <filename>colord-self-test-daemon</filename> échouera si le paquet
n'est pas déjà installé. La suite de tests nécessite que le démon D-Bus du
système tourne pour être lancée.
    </para>

  </sect2>

  <sect2 role="commands">
    <title>Explication des commandes</title>

    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
      href="../../xincludes/meson-buildtype-release.xml"/>

    <para>
      <parameter>-Ddaemon_user=colord</parameter>&nbsp;: Ce paramètre est utilisé
pour que le démon colord puisse être lancé depuis un utilisateur sans
privilège au lieu de l'utilisateur <systemitem
class="username">root</systemitem>.
    </para>

    <para>
      <parameter>-Dvapi=true</parameter>&nbsp;: Ce paramètre permet de construire
les liaisons <application>Vala</application>. Enlevez-le si vous n'avez pas
installé <xref linkend="vala"/>.
    </para>

    <para revision="sysv">
      <parameter>-Dsystemd=false</parameter>&nbsp;: Ce paramètre désactive le
support pour la connexion <application>systemd</application> dans les
applications Colord.
    </para>

    <para revision="systemd">
      <parameter>-Dsystemd=true</parameter>&nbsp;: Ce paramètre active
l'installation du service <application>systemd</application>
    </para>

    <para>
      <parameter>-Dlibcolordcompat=true</parameter>&nbsp;: Ce paramètre active la
construction d'une bibliothèque de compatibilité pour les anciens paquets
qui utilisent <application>Colord</application>.
    </para>

    <para>
      <parameter>-Dargyllcms_sensor=false</parameter>&nbsp;: Ce paramètre
désactive le pilote de capteur ArgLLCMS. Ne le mettez pas si vous avez
installé <ulink url="https://www.argyllcms.com/">ArgyllCMS</ulink> et
souhaitez l'utiliser.
    </para>

    <para>
      <parameter>-Dbash_completion=false</parameter>&nbsp;: Ce paramètre désactive
le support de Bash Completion pour les applications de Colord.
    </para>

    <para>
      <parameter>-Ddocs=false</parameter>&nbsp;: Ce paramètre désactive la
construction de la documentation. Ne le mettez pas si <xref
linkend="gtk-doc"/> est disponible.
    </para>

    <para>
      <parameter>-Dman=false</parameter>&nbsp;: Ce paramètre désactive la
construction des pages de manuels. Enlevez-le si vous avez <xref
linkend="docbook-utils"/> est disponible. Les versions avec un espace de nom
des feuilles de style docbook-xsl sont aussi requises.
    </para>

  </sect2>

  <sect2 role="content">
    <title>Contenu</title>

    <segmentedlist>
      <segtitle>Programmes installés</segtitle>
      <segtitle>Bibliothèques installées</segtitle>
      <segtitle>Répertoires installés</segtitle>

      <seglistitem>
        <seg>
          cd-create-profile, cd-fix-profile, cd-iccdump, cd-it8 et colormgr
        </seg>
        <seg>
          libcolord.so, libcolordcompat.so, libcolordprivate.so et libcolorhug.so
        </seg>
        <seg>
          /usr/include/colord-1, /usr/lib/colord-{plugins,sensors},
/usr/share/color{d}, /usr/share/gtk-doc/html/colord et /var/lib/colord
        </seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Descriptions courtes</bridgehead>
      <!-- If the program or library name conflicts (is the same) as the
      package name, add -prog or -lib to the varlistentry entity id
      and the 2nd entry of the indexterm zone entity -->
<?dbfo list-presentation="list"?> <?dbhtml list-presentation="table"?>

      

      <varlistentry id="cd-create-profile">
        <term><command>cd-create-profile</command></term>
        <listitem>
          <para>
            est un outil de créations des profils de couleurs
          </para>
          <indexterm zone="colord cd-create-profile">
            <primary sortas="b-cd-create-profile">cd-create-profile</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="cd-fix-profile">
        <term><command>cd-fix-profile</command></term>
        <listitem>
          <para>
            est un outil utilisé pour corriger les métadonnées dans les profils ICC
          </para>
          <indexterm zone="colord cd-fix-profile">
            <primary sortas="b-cd-fix-profile">cd-fix-profile</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="cd-iccdump">
        <term><command>cd-iccdump</command></term>
        <listitem>
          <para>
            affiche le contenu d'un profil ICC en texte lisible par un humain
          </para>
          <indexterm zone="colord cd-iccdump">
            <primary sortas="b-cd-iccdump">cd-iccdump</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="cd-it8">
        <term><command>cd-it8</command></term>
        <listitem>
          <para>
            est un outil de tests de gestion de couleurs
          </para>
          <indexterm zone="colord cd-it8">
            <primary sortas="b-cd-it8">cd-it8</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="colormgr">
        <term><command>colormgr</command></term>
        <listitem>
          <para>
            est un programme en mode texte qui permet d'interagir avec colord en ligne
de commande
          </para>
          <indexterm zone="colord colormgr">
            <primary sortas="b-colormgr">colormgr</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libcolord.so">
        <term><filename class="libraryfile">libcolord.so</filename></term>
        <listitem>
          <para>
            contient les fonctions de l'API de <application>Colord</application>
          </para>
          <indexterm zone="colord libcolord.so">
            <primary sortas="c-libcolord.so">libcolord.so</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libcolordcompat.so">
        <term><filename class="libraryfile">libcolordcompat.so</filename></term>
        <listitem>
          <para>
            contient les fonctions de l'ancienne API pour la compatibilité avec les
anciennes applications
          </para>
          <indexterm zone="colord libcolordcompat.so">
            <primary sortas="c-libcolordcompat.so">libcolordcompat.so</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libcolordprivate.so">
        <term><filename class="libraryfile">libcolordprivate.so</filename></term>
        <listitem>
          <para>
            contient les fonctions de l'API interne pour les programmes inclus avec
<application>Colord</application>
          </para>
          <indexterm zone="colord libcolordprivate.so">
            <primary sortas="c-libcolordprivate.so">libcolordprivate.so</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libcolorhug.so">
        <term><filename class="libraryfile">libcolorhug.so</filename></term>
        <listitem>
          <para>
            contient un colorimètre simple pour les dispositifs d'affichage
          </para>
          <indexterm zone="colord libcolorhug.so">
            <primary sortas="c-libcolorhug.so">libcolorhug.so</primary>
          </indexterm>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect2>

</sect1>
