<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

  <!ENTITY fontconfig-download-http
           "https://www.freedesktop.org/software/fontconfig/release/fontconfig-&fontconfig-version;.tar.bz2">
  <!ENTITY fontconfig-download-ftp  "">
  <!ENTITY fontconfig-md5sum        "36cdea1058ef13cbbfdabe6cb019dc1c">
  <!ENTITY fontconfig-size          "1.6 Mo">
  <!ENTITY fontconfig-buildsize     "16 Mo (avec les tests)">
  <!ENTITY fontconfig-time          "0.3 SBU (avec les tests)">
]>

<sect1 id="fontconfig" xreflabel="Fontconfig-&fontconfig-version;">
  <?dbhtml filename="fontconfig.html"?>

  <sect1info>
<date>$Date$</date></sect1info>

  <title>Fontconfig-&fontconfig-version;</title>

  <indexterm zone="fontconfig">
    <primary sortas="a-Fontconfig">Fontconfig</primary>
  </indexterm>

  <sect2 role="package">
    <title>Introduction à Fontconfig</title>

    <para>
      Le paquet <application>Fontconfig</application> contient une bibliothèque et
des programmes support pour configurer et personnaliser l'accès aux polices.
    </para>

    &lfs110_checked;

    <bridgehead renderas="sect3">Informations sur le paquet</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>
          Téléchargement (HTTP)&nbsp;: <ulink url="&fontconfig-download-http;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Téléchargement (FTP)&nbsp;: <ulink url="&fontconfig-download-ftp;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Somme de contrôle MD5 du téléchargement&nbsp;: &fontconfig-md5sum;
        </para>
      </listitem>
      <listitem>
        <para>
          Taille du téléchargement&nbsp;: &fontconfig-size;
        </para>
      </listitem>
      <listitem>
        <para>
          Estimation de l'espace disque requis&nbsp;: &fontconfig-buildsize;
        </para>
      </listitem>
      <listitem>
        <para>
          Estimation du temps de construction&nbsp;: &fontconfig-time;
        </para>
      </listitem>
    </itemizedlist>

    <!--
    <bridgehead renderas="sect3">
Additional Downloads</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>
          Required patch:
          <ulink url="&patch-root;/fontconfig-&fontconfig-version;-gperf-3.1-1.patch"/>
        </para>
      </listitem>
    </itemizedlist>
-->
<bridgehead renderas="sect3">Dépendances de Fontconfig</bridgehead>

    <bridgehead renderas="sect4">Requises</bridgehead>
    <para role="required">
      <xref linkend="freetype2"/>
    </para>

    <bridgehead renderas="sect4">Facultatives</bridgehead>
    <para role="optional">
      <xref linkend="json-c"/>, <xref linkend="docbook-utils"/> et <xref
linkend="libxml2"/>, <xref linkend="texlive"/> (ou <xref
linkend="tl-installer"/>)
    </para>

    <note>
      <para>
        Si vous avez installé <application>DocBook-utils</application> et si vous
supprimez le paramètre <parameter>--disable-docs</parameter> de la commande
<command>configure</command> ci-dessous, vous devez aussi avoir installé
<xref linkend="perl-sgmlspm"/> et <xref linkend="texlive"/> sinon la
construction de <application>Fontconfig</application> échouera.
      </para>
    </note>

    <para condition="html" role="usernotes">Notes utilisateur&nbsp;: <ulink url='&blfs-wiki;/Fontconfig'/>
    </para>
  </sect2>

  <sect2 role="installation">
    <title>Installation de Fontconfig</title>

    <para>
      Installez <application>Fontconfig</application> en lançant les commandes
suivantes&nbsp;:
    </para>

<screen><userinput>./configure --prefix=/usr        \
            --sysconfdir=/etc    \
            --localstatedir=/var \
            --disable-docs       \
            --docdir=/usr/share/doc/fontconfig-&fontconfig-version; &amp;&amp;
make</userinput></screen>

    <para>
      Pour tester les résultats lancez&nbsp;: <command>make check</command>.
    </para>

    <para>
      Maintenant, en tant qu'utilisateur <systemitem
class="username">root</systemitem>&nbsp;:
    </para>

<screen role="root"><userinput>make install</userinput></screen>

    <para>
      Si vous n'avez pas enlevé le paramètre <parameter>--disable-docs</parameter>
de la commande <command>configure</command>, vous pouvez installer la
documentation pré-générée en utilisant les commandes suivantes en tant
qu'utilisateur <systemitem class="username">root</systemitem>&nbsp;:
    </para>

<screen role="root"><userinput>install -v -dm755 \
        /usr/share/{man/man{1,3,5},doc/fontconfig-&fontconfig-version;/fontconfig-devel} &amp;&amp;
install -v -m644 fc-*/*.1         /usr/share/man/man1 &amp;&amp;
install -v -m644 doc/*.3          /usr/share/man/man3 &amp;&amp;
install -v -m644 doc/fonts-conf.5 /usr/share/man/man5 &amp;&amp;
install -v -m644 doc/fontconfig-devel/* \
                                  /usr/share/doc/fontconfig-&fontconfig-version;/fontconfig-devel &amp;&amp;
install -v -m644 doc/*.{pdf,sgml,txt,html} \
                                  /usr/share/doc/fontconfig-&fontconfig-version;</userinput></screen>

  </sect2>

  <sect2 role="commands">
    <title>Explication des commandes</title>

    <para>
      <parameter>--disable-docs</parameter>&nbsp;: Ce paramètre évite de
construire la documentation (l'archive tar inclut la documentation
pré-générée).
    </para>

  </sect2>

  <sect2 role="configuration">
    <title>Configuration de Fontconfig</title>

    <sect3 id="fontconfig-config">
      <title>Fichiers de configuration</title>

      <para>
        <filename>/etc/fonts/*, /etc/fonts/conf.d/* et
/usr/share/fontconfig/conf.avail/* </filename>
      </para>

      <indexterm zone="fontconfig fontconfig-config">
        <primary sortas="e-etc-fonts">/etc/fonts/*</primary>
      </indexterm>

      <indexterm zone="fontconfig fontconfig-config">
        <primary sortas="e-etc-fonts-conf.d">/etc/fonts/conf.d/*</primary>
      </indexterm>

      <indexterm zone="fontconfig fontconfig-config">
        <primary sortas="e-usr-share-fontconfig-conf.avail">/usr/share/fontconfig/conf.avail/*</primary>
      </indexterm>

    </sect3>

    <sect3>
      <title>Informations sur la configuration</title>

      <para>
        Le fichier de configuration principal de
<application>Fontconfig</application> est
<filename>/etc/fonts/fonts.conf</filename>. En général vous ne voulez pas
éditer ce fichier. Il lira aussi <filename>/etc/fonts/local.conf</filename>
et tous les fichiers de <filename
class="directory">/etc/fonts/conf.d</filename>. Pour mettre un nouveau
répertoire de polices dans la configuration, créez (ou mettez à jour) le
fichier <filename>/etc/fonts/local.conf</filename> avec vos informations
locales ou ajoutez un nouveau fichier dans <filename
class="directory">/etc/fonts/conf.d</filename>. L'emplacement par défaut des
polices dans <application>Fontconfig</application> est&nbsp;:
      </para>

      <itemizedlist spacing="compact">
        <listitem>
          <para>
            /usr/share/fonts
          </para>
        </listitem>
        <listitem>
          <para>
            ~/.local/share/fonts
          </para>
        </listitem>
        <listitem>
          <para>
            ~/.fonts <emphasis>(c'est maintenant obsolète, mais pour le moment cela
fonctionne toujours)</emphasis>
          </para>
        </listitem>
      </itemizedlist>

      <para>
        <application>Fontconfig</application> offre aussi beaucoup d'exemples de
fichiers de configuration dans le répertoire <filename
class="directory">/usr/share/fontconfig/conf.avail</filename>. La création
de liens symboliques de fichiers spécifiques vers <filename
class="directory">/etc/fonts/conf.d</filename> les activera. Le paramétrage
par défaut convient généralement à la plupart des utilisateurs. Voir
<filename>/etc/fonts/conf.avail/README</filename> pour une description des
fichiers de configuration.
      </para>

      <indexterm zone="fontconfig fontconfig-config">
        <primary sortas="e-usr-share-fonts">/usr/share/fonts</primary>
      </indexterm>

      <indexterm zone="fontconfig fontconfig-config">
        <primary sortas="e-AA.fonts">~/.fonts</primary>
      </indexterm>

      <para>
        Vous pouvez trouver plus d'informations sur la configuration de
<application>Fontconfig</application> dans le manuel de l'utilisateur dans
<ulink
url="file:///usr/share/doc/fontconfig-&fontconfig-version;/fontconfig-user.html"/>.
      </para>

    </sect3>

  </sect2>

  <sect2 role="content">
    <title>Contenu</title>

    <segmentedlist>
      <segtitle>Programmes installés</segtitle>
      <segtitle>Bibliothèque installée</segtitle>
      <segtitle>Répertoires installés</segtitle>

      <seglistitem>
        <seg>
          fc-cache, fc-cat, fc-conflist, fc-list, fc-match, fc-pattern, fc-query,
fc-scan et fc-validate
        </seg>
        <seg>
          libfontconfig.so
        </seg>
        <seg>
          /etc/fonts, /usr/include/fontconfig,
/usr/share/doc/fontconfig-&fontconfig-version;, /usr/share/fontconfig,
/usr/share/xml/fontconfig et /var/cache/fontconfig
        </seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Descriptions courtes</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="fc-cache">
        <term><command>fc-cache</command></term>
        <listitem>
          <para>
            est utilisé pour créer des caches d'information de polices
          </para>
          <indexterm zone="fontconfig fc-cache">
            <primary sortas="b-fc-cache">fc-cache</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="fc-cat">
        <term><command>fc-cat</command></term>
        <listitem>
          <para>
            est utilisé pour lire des caches d'information de polices
          </para>
          <indexterm zone="fontconfig fc-cat">
            <primary sortas="b-fc-cat">fc-cat</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="fc-conflist">
        <term><command>fc-conflist</command></term>
        <listitem>
          <para>
            montre les informations des fichiers de règles sur le système
          </para>
          <indexterm zone="fontconfig fc-conflist">
            <primary sortas="b-fc-conflist">fc-conflist</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="fc-list">
        <term><command>fc-list</command></term>
        <listitem>
          <para>
            est utilisé pour créer des listes de polices
          </para>
          <indexterm zone="fontconfig fc-list">
            <primary sortas="b-fc-list">fc-list</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="fc-match">
        <term><command>fc-match</command></term>
        <listitem>
          <para>
            est utilisé pour associer des polices disponibles ou pour trouver des
polices correspondant à un modèle donné
          </para>
          <indexterm zone="fontconfig fc-match">
            <primary sortas="b-fc-match">fc-match</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="fc-pattern">
        <term><command>fc-pattern</command></term>
        <listitem>
          <para>
            est utilisé pour analyser un motif (motif vide par défaut) et montrer le
résultat de l'analyse
          </para>
          <indexterm zone="fontconfig fc-pattern">
            <primary sortas="b-fc-pattern">fc-pattern</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="fc-query">
        <term><command>fc-query</command></term>
        <listitem>
          <para>
            est utilisé pour chercher les fichiers de police et afficher les modèles qui
en résultent
          </para>
          <indexterm zone="fontconfig fc-query">
            <primary sortas="b-fc-query">fc-query</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="fc-scan">
        <term><command>fc-scan</command></term>
        <listitem>
          <para>
            est utilisé pour analyser les fichiers et les répertoires de police et
afficher les modèles qui en résultent
          </para>
          <indexterm zone="fontconfig fc-scan">
            <primary sortas="b-fc-scan">fc-scan</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="fc-validate">
        <term><command>fc-validate</command></term>
        <listitem>
          <para>
            est utilisé pour valider les fichiers de police
          </para>
          <indexterm zone="fontconfig fc-validate">
            <primary sortas="b-fc-validate">fc-validate</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libfontconfig">
        <term><filename class="libraryfile">libfontconfig.so</filename></term>
        <listitem>
          <para>
            contient des fonctions utilisées par les programmes
<application>Fontconfig</application> et par d'autres programmes pour
configurer ou personnaliser un accès aux polices
          </para>
          <indexterm zone="fontconfig libfontconfig">
            <primary sortas="c-libfontconfig">libfontconfig.so</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
