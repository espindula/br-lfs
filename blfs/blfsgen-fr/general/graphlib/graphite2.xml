<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

  <!ENTITY graphite2-download-http
           "https://github.com/silnrsi/graphite/releases/download/&graphite2-version;/graphite2-&graphite2-version;.tgz">
  <!ENTITY graphite2-download-ftp  "">
  <!ENTITY graphite2-md5sum        "1bccb985a7da01092bfb53bb5041e836">
  <!ENTITY graphite2-size          "6.3 Mo">
  <!ENTITY graphite2-buildsize     "28 Mo (avec les tests et les docs)">
  <!ENTITY graphite2-time          "0.2 SBU (avec les tests et la documentation)">
]>

<sect1 id="graphite2" xreflabel="Graphite2-&graphite2-version;">
  <?dbhtml filename="graphite2.html"?>

  <sect1info>
<date>$Date$</date></sect1info>

  <title>Graphite2-&graphite2-version;</title>

  <indexterm zone="graphite2">
    <primary sortas="a-Graphite2">Graphite2</primary>
  </indexterm>

  <sect2 role="package">
    <title>Introduction à Graphite2</title>

    <para>
      <application>Graphite2</application> est un moteur de rendu pour les polices
graphite. Ce sont des polices TrueType avec des tables supplémentaires
contenant des informations de rendu qui ont été à la base développées pour
supporter les systèmes d'écriture complexes non-Roman. Ils peuvent contenir
des règles par exemple de ligatures, de substitution de glyphe, crénage,
justification - ce qui peut les rendre utile sur des textes écrits dans un
système d'écriture Roman comme l'anglais. Notez que
<application>firefox</application> fournit une copie interne du moteur
graphite et ne peut pas utiliser une version du système (mais peut
maintenant être corrigé pour l'utiliser), mais c'est aussi des bénéfices
pour la disponibilité des polices graphiques.
    </para>

    &lfs101_checked;

    <bridgehead renderas="sect3">Informations sur le paquet</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>
          Téléchargement (HTTP)&nbsp;: <ulink url="&graphite2-download-http;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Téléchargement (FTP)&nbsp;: <ulink url="&graphite2-download-ftp;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Somme de contrôle MD5 du téléchargement&nbsp;: &graphite2-md5sum;
        </para>
      </listitem>
      <listitem>
        <para>
          Taille du téléchargement&nbsp;: &graphite2-size;
        </para>
      </listitem>
      <listitem>
        <para>
          Estimation de l'espace disque requis&nbsp;: &graphite2-buildsize;
        </para>
      </listitem>
      <listitem>
        <para>
          Estimation du temps de construction&nbsp;: &graphite2-time;
        </para>
      </listitem>
    </itemizedlist>

    <bridgehead renderas="sect3">Dépendances de Graphite2</bridgehead>

    <bridgehead renderas="sect4">Requises</bridgehead>
    <para role="required">
      <xref linkend="cmake"/>
    </para>

    <bridgehead renderas="sect4">Facultatives</bridgehead>
    <para role="optional">
      <xref linkend="freetype2"/>, <ulink
url="https://sourceforge.net/projects/silgraphite/files/silgraphite/2.3.1/">silgraphite</ulink>
pour construire les tests et les outils de bancs de tests de
<command>comparerender</command>, et s'ils sont présents, <xref
linkend="harfbuzz"/> pour leur ajouter plus de fonctionnalités (il s'agit
d'une dépendance circulaire, vous devriez d'abord construire
<application>graphite2</application> sans
<application>harfbuzz</application>).
    </para>

    <para role="optional">
      Pour construire la documentation&nbsp;: <xref linkend="asciidoc"/>, <xref
linkend="doxygen"/>, <xref linkend="texlive"/> (ou <xref
linkend="tl-installer"/>) et <ulink
url="http://dblatex.sourceforge.net/">dblatex</ulink> (pour la documentation
PDF)
    </para>

    <para role="optional">
      Pour lancer la suite de tests vous devrez avoir <ulink
url="https://pypi.python.org/pypi/FontTools">FontTools</ulink> (module
Python 3), autrement, les tests «&nbsp;cmp&nbsp;» échoueront.
    </para>

    <bridgehead renderas="sect4">Facultative (à l'exécution)</bridgehead>
    <para role="optional">
      Vous devez avoir au moins une <ulink role="runtime"
url="http://scripts.sil.org/cms/scripts/page.php?site_id=projects&amp;item_id=graphite_fonts">police
graphite</ulink> pour que le paquet soit utilisable.
    </para>

    <para condition="html" role="usernotes">
      Notes utilisateur&nbsp;: <ulink url="&blfs-wiki;/graphite2"/>
    </para>
  </sect2>

  <sect2 role="installation">
    <title>Installation de Graphite2</title>

    <para>
      Quelques tests échouent si <ulink
url="https://pypi.python.org/pypi/FontTools">FontTools</ulink> (module
Python 3) n'est pas installé. Ces tests peuvent être supprimés avec&nbsp;:
    </para>

<screen><userinput>sed -i '/cmptest/d' tests/CMakeLists.txt</userinput></screen>

    <para>
      Installez <application>Graphite2</application> en lançant les commandes
suivantes&nbsp;:
    </para>

<screen><userinput>mkdir build &amp;&amp;
cd    build &amp;&amp;

cmake -DCMAKE_INSTALL_PREFIX=/usr .. &amp;&amp;
make</userinput></screen>

    <para>
      Si vous construisez la documentation, lancez&nbsp;:
    </para>

<screen remap="doc"><userinput>make docs</userinput></screen>

    <para>
      Pour tester les résultats lancez&nbsp;: <command>make test</command>.
    </para>

    <para>
      Maintenant, en tant qu'utilisateur <systemitem
class="username">root</systemitem>&nbsp;:
    </para>

<screen role="root"><userinput>make install</userinput></screen>

    <para>
      Si vous construisez la documentation, installez la, en tant qu'utilisateur
<systemitem class="username">root</systemitem>&nbsp;:
    </para>

<screen role="root"
        remap="doc"><!-- doc/doxygen seems to have gone, so I removed the api dir, but now both html
and pdf for the GTF and the manual
cp      -v -r -f    doc/doxygen/{html,latex/refman.pdf} \
                    /usr/share/doc/graphite2-&graphite2-version;/api &amp;&amp;-->
<userinput>install -v -d -m755 /usr/share/doc/graphite2-&graphite2-version; &amp;&amp;

cp      -v -f    doc/{GTF,manual}.html \
                    /usr/share/doc/graphite2-&graphite2-version; &amp;&amp;
cp      -v -f    doc/{GTF,manual}.pdf \
                    /usr/share/doc/graphite2-&graphite2-version;</userinput></screen>

  </sect2>

  <sect2 role="commands">
    <title>Explication des commandes</title>

    <para>
      <option>-DCMAKE_VERBOSE_MAKEFILE=ON</option>&nbsp;: Ce paramètre active le
mode de construction verbeux.
    </para>

  </sect2>

  <sect2 role="content">
    <title>Contenu</title>

    <segmentedlist>
      <segtitle>Programmes installés</segtitle>
      <segtitle>Bibliothèques installées</segtitle>
      <segtitle>Répertoires installés</segtitle>

      <seglistitem>
        <seg>
          gr2fonttest et facultativement comparerender
        </seg>
        <seg>
          libgraphite2.so
        </seg>
        <seg>
          /usr/{include,share}/graphite2 et facultativement
/usr/share/doc/graphite2-&graphite2-version;
        </seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Descriptions courtes</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="comparerender">
        <term><command>comparerender</command></term>
        <listitem>
          <para>
            est un outil de test et de banc d'essai
          </para>
          <indexterm zone="graphite2 comparerender">
            <primary sortas="b-comparerender">comparerender</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="gr2fonttest">
        <term><command>gr2fonttest</command></term>
        <listitem>
          <para>
            est un outil console de diagnostic pour les polices graphiques
          </para>
          <indexterm zone="graphite2 gr2fonttest">
            <primary sortas="b-gr2fonttest">gr2fonttest</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libgraphite2">
        <term><filename class="libraryfile">libgraphite2.so</filename></term>
        <listitem>
          <para>
            est un moteur de rendu pour les polices graphite
          </para>
          <indexterm zone="graphite2 libgraphite2">
            <primary sortas="c-libgraphite2">libgraphite2.so</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
