<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

  <!ENTITY tracker3-download-http
           "&gnome-download-http;/tracker/3.5/tracker-&tracker3-version;.tar.xz">
  <!ENTITY tracker3-download-ftp
           "&gnome-download-ftp;/tracker/3.5/tracker-&tracker3-version;.tar.xz">
  <!ENTITY tracker3-md5sum        "f78a0d145007d9871174be21a49ce9ef">
  <!ENTITY tracker3-size          "2,5&nbsp;Mo">
  <!ENTITY tracker3-buildsize     "51&nbsp;Mo (avec les tests)">
  <!ENTITY tracker3-time          "0,3&nbsp;SBU (avec les tests)">
]>

<sect1 id="tracker3" xreflabel="Tracker-&tracker3-version;">
  <?dbhtml filename="tracker3.html"?>


  <title>Tracker-&tracker3-version;</title>

  <indexterm zone="tracker3">
    <primary sortas="a-Tracker3">Tracker3</primary>
  </indexterm>

  <sect2 role="package">
    <title>Introduction  Tracker</title>

    <para>
      <application>Tracker</application> est l'indexeur et le moteur de recherche
de fichiers utilisé dans l'environnement de bureau
<application>GNOME</application>.
    </para>

    &lfs120_checked;

    <bridgehead renderas="sect3">Informations sur le paquet</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>
          Téléchargement (HTTP)&nbsp;: <ulink url="&tracker3-download-http;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Téléchargement (FTP)&nbsp;: <ulink url="&tracker3-download-ftp;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Somme de contrôle MD5 du téléchargement&nbsp;: &tracker3-md5sum;
        </para>
      </listitem>
      <listitem>
        <para>
          Taille du téléchargement&nbsp;: &tracker3-size;
        </para>
      </listitem>
      <listitem>
        <para>
          Estimation de l'espace disque requis&nbsp;: &tracker3-buildsize;
        </para>
      </listitem>
      <listitem>
        <para>
          Estimation du temps de construction&nbsp;: &tracker3-time;
        </para>
      </listitem>
    </itemizedlist>



    <!-- Not needed with 3.0.3, but keep around just in case
    <bridgehead renderas="sect3">
Additional Downloads</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>
          Required patch:
          <ulink url="&patch-root;/tracker-&tracker3-version;-upstream_fixes-1.patch"/>
        </para>
      </listitem>
    </itemizedlist>
-->
<bridgehead renderas="sect3">Dépendances de Tracker</bridgehead>

    <bridgehead renderas="sect4">Requises</bridgehead>
    <para role="required">
      <xref linkend="json-glib"/>, <xref linkend="libseccomp"/> et <xref
linkend="vala"/>
    </para>

    <bridgehead renderas="sect4">Recommandées</bridgehead>
    <para role="recommended">
      <xref linkend="gobject-introspection"/>, <xref linkend="icu"/>, <xref
linkend="libsoup3"/>, <xref linkend="pygobject3"/>, <xref linkend="sqlite"/>
et <xref linkend="tracker3-miners"/> (exécution)
    </para>

    <bridgehead renderas="sect4">Facultatives</bridgehead>
    <para role="optional">
      <!--  It looks like not used even if docs=true,
      the pre-built doc is shipped in tarball and will be installed
      <xref linkend="gi-docgen"/>

-->
<!--<ulink url="https://pypi.python.org/pypi/tap.py/">
tap.py</ulink>
      (for tests)-->
<xref linkend="asciidoc"/>, <xref linkend="graphviz"/>, <xref
linkend="libsoup"/>, <ulink
url="https://github.com/scop/bash-completion/">bash-completion</ulink> et
<ulink url="https://github.com/snowballstem/snowball/">libstemmer</ulink>
      
    </para>

  </sect2>

  <sect2 role="installation">
    <title>Installation de Tracker</title>

    <para>
      Corrigez l'emplacement d'installation de la documentation&nbsp;:
    </para>

<screen><userinput>mv docs/reference/libtracker-sparql/doc/{Tracker-3.0,tracker-&tracker3-version;} &amp;&amp;
sed '/docs_name/s/Tracker-3.0/tracker-&tracker3-version;/' \
    -i docs/reference/libtracker-sparql/meson.build</userinput></screen>

    <para>
      Installez <application>Tracker</application> en lanant les commandes
suivantes&nbsp;:
    </para>

<screen revision="systemd"><userinput>mkdir build &amp;&amp;
cd    build &amp;&amp;

meson setup --prefix=/usr       \
            --buildtype=release \
            -Dman=false         \
            ..                  &amp;&amp;
ninja</userinput></screen>

<screen revision="sysv"><userinput>mkdir build &amp;&amp;
cd    build &amp;&amp;

meson setup --prefix=/usr                 \
            --buildtype=release           \
            -Dman=false                   \
            -Dsystemd_user_services=false \
            ..                            &amp;&amp;
ninja</userinput></screen>

    <para>
      Maintenant, en tant qu'utilisateur <systemitem
class="username">root</systemitem>&nbsp;:
    </para>

<screen role="root"><userinput>ninja install</userinput></screen>

    <para>
      Pour tester les résultats, lancez&nbsp;: <command>meson configure
-Ddebug=true &amp;&amp; ninja test</command>. La suite de tests devrait être
lancée à partir d'une session graphique. Un test, <filename>tracker: fts /
fts</filename>, est connu pour échouer à cause d'une incompatibilité avec
SQLite-3.42.
    </para>

  </sect2>


  <sect2 role="commands">
    <title>Explication des commandes</title>

    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
      href="../../xincludes/meson-buildtype-release.xml"/>

    <para>
      <parameter>-Dman=false</parameter>&nbsp;: ce paramètre évite que le
processus de construction ne génère la documentation de l'API. Supprimez-le
si vous avez installé <xref linkend="asciidoc" role="nodep"/> et souhaitez
générer et installer la documentation de l'API.
    </para>

    <para revision="sysv">
      <parameter>-Dsystemd_user_services=false</parameter>&nbsp;: ce paramètre
évite que le processus de construction n'installe des services utilisateurs
systemd puisqu'ils sont inutiles sur le systèmes SysV.
    </para>

    <para>
      <command>meson configure -Ddebug=true</command>&nbsp;: cette commande active
certaines vérifications de débogage pour la suite de tests. Nous ne voulons
pas les activer pour installer les bibliothèques et les programmes de
Tracker 3, donc nous lançons la suite de tests après l'installation.
    </para>

  </sect2>


  <sect2 role="content">
    <title>Contents</title>

    <segmentedlist>
      <segtitle>Programmes installs</segtitle>
      <segtitle>Bibliothèque installe</segtitle>
      <segtitle>Répertoires installs</segtitle>

      <seglistitem>
        <seg>
          tracker3
        </seg>
        <seg>
          libtracker-sparql-3.0.so
        </seg>
        <seg>
          <!-- Xi, when you change documentation, please change this path -->
/usr/{include,lib}/tracker-3.0, /usr/libexec/tracker3, /usr/share/tracker3
et /usr/share/doc/Tracker-3.0 (facultatif)
          
        </seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Descriptions courtes</bridgehead>
      <?dbfo list-presentation="list"?> <?dbhtml list-presentation="table"?>

      <varlistentry id="tracker3-prog">
        <term><command>tracker3</command></term>
        <listitem>
          <para>
            est un programme de contrôle pour l'indexeur
          </para>
          <indexterm zone="tracker3 tracker3-prog">
            <primary sortas="b-tracker3">tracker3</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libtracker3-sparql">
        <term><filename class="libraryfile">libtracker-sparql-3.0.so</filename></term>
        <listitem>
          <para>
            contient les fonction de gestion des ressources et des bases de données
          </para>
          <indexterm zone="tracker3 libtracker3-sparql">
            <primary sortas="c-libtracker3-sparql">libtracker-sparql-3.0.so</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
