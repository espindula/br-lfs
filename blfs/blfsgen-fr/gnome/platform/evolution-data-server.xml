<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

  <!ENTITY evolution-data-server-download-http
           "&gnome-download-http;/evolution-data-server/&gnome-minor-44;/evolution-data-server-&evolution-data-server-version;.tar.xz">
  <!ENTITY evolution-data-server-download-ftp
           "&gnome-download-ftp;/evolution-data-server/&gnome-minor-44;/evolution-data-server-&evolution-data-server-version;.tar.xz">
  <!ENTITY evolution-data-server-md5sum        "fe8f0b1b77594589d6897de4b160015e">
  <!ENTITY evolution-data-server-size          "4,6&nbsp;Mo">
  <!ENTITY evolution-data-server-buildsize     "231&nbsp;Mo (avec les tests)">
  <!ENTITY evolution-data-server-time          "1,0&nbsp;SBU (avec parallélisme = 4, avec les tests)">
]>

<sect1 id="evolution-data-server"
xreflabel="evolution-data-server-&evolution-data-server-version;">
  <?dbhtml filename="evolution-data-server.html"?>


  <title>evolution-data-server-&evolution-data-server-version;</title>

  <indexterm zone="evolution-data-server">
    <primary sortas="a-evolution-data-server">evolution-data-server</primary>
  </indexterm>

  <sect2 role="package">
    <title>Introduction à Evolution Data Server</title>

    <para>
      Le paquet <application>Evolution Data Server</application> fournit un moteur
unifié pour les programmes qui travaillent avec des informations de
contacts, de tâches et de calendriers. Il était à l'origine développé pour
<application>Evolution</application> (d'où le nom), mais il est maintenant
utilisé par d'autres paquets aussi.
    </para>

    &lfs112_checked;

    <bridgehead renderas="sect3">Informations sur le paquet</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>
          Téléchargement (HTTP)&nbsp;: <ulink
url="&evolution-data-server-download-http;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Téléchargement (FTP)&nbsp;: <ulink
url="&evolution-data-server-download-ftp;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Somme de contrôle MD5&nbsp;: &evolution-data-server-md5sum;
        </para>
      </listitem>
      <listitem>
        <para>
          Taille du téléchargement&nbsp;: &evolution-data-server-size;
        </para>
      </listitem>
      <listitem>
        <para>
          Estimation de l'espace disque requis&nbsp;:
&evolution-data-server-buildsize;
        </para>
      </listitem>
      <listitem>
        <para>
          Estimation du temps de construction&nbsp;: &evolution-data-server-time;
        </para>
      </listitem>
    </itemizedlist>

    <!--
    <bridgehead renderas="sect3">
Additional Downloads</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>
          Required patch:
          <ulink url="&patch-root;/evolution-data-server-&evolution-data-server-version;-cmake_fix-1.patch"/>
        </para>
      </listitem>
    </itemizedlist>
-->
<bridgehead renderas="sect3">Dépendances de Evolution Data Server</bridgehead>

    <bridgehead renderas="sect4">Requises</bridgehead>
    <para role="required">
      <xref linkend="gcr"/>, <xref linkend="libical"/>, <xref
linkend="libsecret"/>, <xref linkend="nss"/> et <xref linkend="sqlite"/>
    </para>

    <bridgehead renderas="sect4">Recommandées</bridgehead>
    <para role="recommended">
      <xref linkend="gnome-online-accounts"/>, <xref
linkend="gobject-introspection"/>, <xref linkend="gtk3"/>, <xref
linkend="icu"/>, <xref linkend="libcanberra"/>, <xref linkend="libgdata"/>,
<xref linkend="libgweather"/> et <xref linkend="vala"/>
    </para>

    <bridgehead renderas="sect4"
                revision="sysv">Recommandées (à l'exécution)</bridgehead>
    <para role="recommended" revision="sysv">
      <xref linkend="blocaled" role="runtime"/>
    </para>

    <bridgehead renderas="sect4">Facultatives</bridgehead>
    <para role="optional">
      <xref linkend="db"/>, <xref linkend="gtk-doc"/>, <xref linkend="mitkrb"/>,
un <xref linkend="server-mail"/> (qui fournit une commande
<command>sendmail</command>), <xref linkend="openldap"/> et <ulink
url="https://github.com/googlei18n/libphonenumber/">libphonenumber</ulink>
    </para>

    <para condition="html" role="usernotes">Notes utilisateur&nbsp;: <ulink url="&blfs-wiki;/evolution-data-server"/>
    </para>
  </sect2>

  <sect2 role="installation">
    <title>Installation de Evolution Data Server</title>


    <!--
    <para>

      <phrase revision="sysv">First,</phrase>
      <phrase revision="systemd">Then,</phrase> fix an issue with
      cmake-3.20.1:
    </para>

<screen><userinput>patch -Np1 -i ../evolution-data-server-&evolution-data-server-version;-cmake_fix-1.patch</userinput></screen>
-->
<para>
      Installez <application>Evolution Data Server</application> en exécutant les
commandes suivantes&nbsp;:
    </para>

<screen revision="sysv"><userinput>mkdir build &amp;&amp;
cd    build &amp;&amp;

cmake -DCMAKE_INSTALL_PREFIX=/usr   \
      -DSYSCONF_INSTALL_DIR=/etc    \
      -DENABLE_VALA_BINDINGS=ON     \
      -DENABLE_INSTALLED_TESTS=ON   \
      -DENABLE_GOOGLE=ON            \
      -DWITH_OPENLDAP=OFF           \
      -DWITH_KRB5=OFF               \
      -DENABLE_INTROSPECTION=ON     \
      -DENABLE_GTK_DOC=OFF          \
      -DWITH_LIBDB=OFF              \
      -DWITH_GWEATHER4=ON           \
      -DWITH_SYSTEMDUSERUNITDIR=no  \
      .. &amp;&amp;
make</userinput></screen>

<screen revision="systemd"><userinput>mkdir build &amp;&amp;
cd    build &amp;&amp;

cmake -DCMAKE_INSTALL_PREFIX=/usr   \
      -DSYSCONF_INSTALL_DIR=/etc    \
      -DENABLE_VALA_BINDINGS=ON     \
      -DENABLE_INSTALLED_TESTS=ON   \
      -DENABLE_GOOGLE=ON            \
      -DWITH_OPENLDAP=OFF           \
      -DWITH_KRB5=OFF               \
      -DENABLE_INTROSPECTION=ON     \
      -DENABLE_GTK_DOC=OFF          \
      -DWITH_LIBDB=OFF              \
      -DWITH_GWEATHER4=ON           \
      .. &amp;&amp;
make</userinput></screen>

    <para>
      <!--
      TODO: Bruce had no failure for 3.44.0. I have two:
         71 - test-book-meta-backend (Subprocess aborted)
         88 - test-cal-meta-backend (Subprocess aborted)
      No failure for 3.44.3 [pierre]-->
Pour tester les résultats lancez&nbsp;: <command>make test</command>. 
    </para>

    <para>
      Maintenant, en tant qu'utilisateur <systemitem
class="username">root</systemitem>&nbsp;:
    </para>

<screen role="root"><userinput>make install</userinput></screen>

  </sect2>

  <sect2 role="commands">
    <title>Explication des commandes</title>

    <para>
      <parameter>-DENABLE_GOOGLE=ON</parameter>&nbsp;: ce drapeau active l'accès
aux services de google via <xref linkend="libgdata"/> et active aussi
l'option Google Authentication.
    </para>

    <para>
      <parameter>-DENABLE_VALA_BINDINGS=ON</parameter>&nbsp;: Ce paramètre active
la construction des liaisons Vala. Supprimez-le si vous n'avez pas installé
<xref linkend="vala"/>.
    </para>

    <para>
      <parameter>-DENABLE_GTK_DOC=OFF</parameter>&nbsp;: Ce paramètre désactive la
construction de la documentation de l'API. Elle est cassée pour ce paquet à
cause de l'utilisation d'un programme gtk-doc déprécié depuis longtemps et
qui n'est plus disponible.
    </para>

    <para>
      <parameter>-DWITH_LIBDB=OFF</parameter>&nbsp;: ce paramètre permet de
construire ce paquet sans <xref linkend="db"/>. Ce paquet n'utilise que
<xref linkend="db"/> pour importer les données à partir de versions
obsolètes. <xref linkend="sqlite"/> est utilisé en temps normal.
    </para>

    <para>
      <parameter>-DWITH_GWEATHER4=ON</parameter>&nbsp;: ce paramètre permet de
construire le paquet avec <xref linkend="libgweather"/>.
    </para>

    <para revision="sysv">
      <parameter>-DWITHSYSTEMDUSERUNITDIR=no</parameter>&nbsp;: ce paramètre
désactive l'installation des unités systemd qui ne sont pas utilisées pour
une construction Sysv.
    </para>

    <note>
      <para>
        Pour activer beaucoup des dépendances facultative, revoyez les informations
de <command>cmake -L CMakeLists.txt</command> pour les paramètres
nécessaires que vous devez passer au script <command>cmake</command>.
      </para>
    </note>

  </sect2>

  <sect2 role="content">
    <title>Contents</title>

    <segmentedlist>
      <segtitle>Programmes installés</segtitle>
      <segtitle>Bibliothèques installées</segtitle>
      <segtitle>Répertoires installés</segtitle>

      <seglistitem>
        <seg>
          Aucun
        </seg>
        <seg>
          libcamel-1.2.so, libebackend-1.2.so, libebook-1.2.so,
libebook-contacts-1.2.so, libecal-2.0.so, libedata-book-1.2.so,
libedata-cal-2.0.so, libedataserver-1.2.so, libedataserverui-1.2.so et
libetestserverutils.so
        </seg>
        <seg>
          <!-- We explicitly disable gtk-doc generation, so comment these out
          /usr/share/gtk-doc/html/{camel,libebackend,libebook},
          /usr/share/gtk-doc/html/{libecal,libedata-book,libedata-cal},
          /usr/share/gtk-doc/html/{libedataserver,libedataserverui} and
          -->
/usr/include/evolution-data-server, /usr/lib{,exec}/evolution-data-server,
/usr/share/evolution-data-server,
/usr/share/installed-tests/evolution-data-server et
/usr/share/pixmaps/evolution-data-server
        </seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Descriptions courtes</bridgehead>
      <?dbfo list-presentation="list"?> <?dbhtml list-presentation="table"?>

      <varlistentry id="libcamel-1">
        <term><filename class="libraryfile">libcamel-1.2.so</filename></term>
        <listitem>
          <para>
            est la bibliothèque de gestion des messages MIME
d'<application>Evolution</application>
          </para>
          <indexterm zone="evolution-data-server libcamel-1">
            <primary sortas="c-libcamel-1">libcamel-1.2.so</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libebackend-1">
        <term><filename class="libraryfile">libebackend-1.2.so</filename></term>
        <listitem>
          <para>
            est la bibliothèque utilitaire pour les moteurs de <application>Evolution
Data Server</application>
          </para>
          <indexterm zone="evolution-data-server libebackend-1">
            <primary sortas="c-libebackend-1">libebackend-1.2.so</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libebook-1">
        <term><filename class="libraryfile">libebook-1.2.so</filename></term>
        <listitem>
          <para>
            est la bibliothèque cliente pour d'<application>Evolution</application> pour
les carnets d'adresses
          </para>
          <indexterm zone="evolution-data-server libebook-1">
            <primary sortas="c-libebook-1">libebook-1.2.so</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libebook-contacts-1">
        <term><filename class="libraryfile">libebook-contacts-1.2.so</filename></term>
        <listitem>
          <para>
            est la bibliothèque cliente pour les contacts
d'<application>Evolution</application>
          </para>
          <indexterm zone="evolution-data-server libebook-contacts-1">
            <primary sortas="c-libebook-contacts-1">libebook-contacts-1.2.so</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libecal-1">
        <term><filename class="libraryfile">libecal-1.2.so</filename></term>
        <listitem>
          <para>
            est la bibliothèque cliente pour d'<application>Evolution</application> pour
les calendriers
          </para>
          <indexterm zone="evolution-data-server libecal-1">
            <primary sortas="c-libecal-1">libecal-1.2.so</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libedata-book-1">
        <term><filename class="libraryfile">libedata-book-1.2.so</filename></term>
        <listitem>
          <para>
            est la bibliothèque de moteur pour d'<application>Evolution</application>
pour les carnets d'adresses
          </para>
          <indexterm zone="evolution-data-server libedata-book-1">
            <primary sortas="c-libedata-book-1">libedata-book-1.2.so</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libedata-cal-1">
        <term><filename class="libraryfile">libedata-cal-1.2.so</filename></term>
        <listitem>
          <para>
            est la bibliothèque de moteur pour d'<application>Evolution</application>
pour les calendriers
          </para>
          <indexterm zone="evolution-data-server libedata-cal-1">
            <primary sortas="c-libedata-cal-1">libedata-cal-1.2.so</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libedataserver-1">
        <term><filename class="libraryfile">libedataserver-1.2.so</filename></term>
        <listitem>
          <para>
            est la bibliothèque utilitaire pour <application>Evolution Data
Server</application>
          </para>
          <indexterm zone="evolution-data-server libedataserver-1">
            <primary sortas="c-libedataserver-1">libedataserver-1.2.so</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libedataserverui-3">
        <term><filename class="libraryfile">libedataserverui-3.0.so</filename></term>
        <listitem>
          <para>
            est la bibliothèque d'utilitaires graphiques pour <application>Evolution
Data Server</application>
          </para>
          <indexterm zone="evolution-data-server libedataserverui-3">
            <primary sortas="c-libedataserverui-3">libedataserverui-3.0.so</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libetestserverutils-1">
        <term><filename class="libraryfile">libetestserverutils.so</filename></term>
        <listitem>
          <para>
            est la bibliothèque utilitaire de test serveur pour <application>Evolution
Data Server</application>
          </para>
          <indexterm zone="evolution-data-server libetestserverutils-1">
            <primary sortas="c-libetestserverutils-1">libetestserverutils.so</primary>
          </indexterm>
        </listitem>
      </varlistentry>


    </variablelist>

  </sect2>

</sect1>
