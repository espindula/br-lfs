<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

  <!ENTITY xfsprogs-download-http "&kernel-dl;/linux/utils/fs/xfs/xfsprogs/xfsprogs-&xfsprogs-version;.tar.xz">
  <!ENTITY xfsprogs-download-ftp  "">
  <!ENTITY xfsprogs-md5sum        "86777a5762f2e524bb9acfdead5a9045">
  <!ENTITY xfsprogs-size          "1.2 Mo">
  <!ENTITY xfsprogs-buildsize     "50&nbsp;Mo">
  <!ENTITY xfsprogs-time          "0,3 SBU (Avec parallélisme = 4)">
]>

<sect1 id="xfsprogs" xreflabel="xfsprogs-&xfsprogs-version;">
  <?dbhtml filename="xfsprogs.html"?>

  <sect1info>
<date>$Date$</date></sect1info>

  <title>xfsprogs-&xfsprogs-version;</title>

  <indexterm zone="xfsprogs">
    <primary sortas="a-xfsprogs">xfsprogs</primary>
  </indexterm>

  <sect2 role="package">
    <title>Introduction à xfsprogs</title>

    <para>
      Le paquet <application>xfsprogs</application> contient des outils
d'administration et de débogage pour le système de fichier XFS.
    </para>

    &lfs110a_checked;

    <bridgehead renderas="sect3">Informations sur le paquet</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>
          Téléchargement (HTTP)&nbsp;: <ulink url="&xfsprogs-download-http;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Téléchargement (FTP)&nbsp;: <ulink url="&xfsprogs-download-ftp;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Somme de contrôle MD5 du téléchargement&nbsp;: &xfsprogs-md5sum;
        </para>
      </listitem>
      <listitem>
        <para>
          Taille du téléchargement&nbsp;: &xfsprogs-size;
        </para>
      </listitem>
      <listitem>
        <para>
          Estimation de l'espace disque requis&nbsp;: &xfsprogs-buildsize;
        </para>
      </listitem>
      <listitem>
        <para>
          Estimation du temps de construction&nbsp;: &xfsprogs-time;
        </para>
      </listitem>
    </itemizedlist>

    <bridgehead renderas="sect3">Dépendances de xfsprogs</bridgehead>

    <bridgehead renderas="sect4">Requises</bridgehead>
    <para role="required">
      <xref linkend="inih"/> 
    </para>

    <bridgehead renderas="sect4">Facultatives</bridgehead>
    <para role="optional">
      <xref linkend="icu"/> (pour scanner les noms unicode dans xfs_scrub)
    </para>

    <para condition="html" role="usernotes">Notes utilisateur&nbsp;: <ulink url="&blfs-wiki;/xfs"/></para>

  </sect2>

  <sect2 role="kernel" id="xfsprogs-kernel">
    <title>Configuration du noyau</title>

    <para>
      Activez les options suivantes dans la configuration du noyau et recompilez
le noyau&nbsp;:
    </para>

<screen><literal>File systems ---&gt;
  &lt;*/M&gt; XFS filesystem support [CONFIG_XFS_FS]</literal></screen>

    <indexterm zone="xfsprogs xfsprogs-kernel">
      <primary sortas="d-xfs">Programmes XFS</primary>
    </indexterm>

  </sect2>

  <sect2 role="installation">
    <title>Installation de xfsprogs</title>

    <para>
      Installez <application>xfsprogs</application> en lançant les commandes
suivantes&nbsp;:
    </para>

 <screen><userinput>make DEBUG=-DNDEBUG     \
     INSTALL_USER=root  \
     INSTALL_GROUP=root</userinput></screen>

    <para>
      Ce paquet n'est pas fourni avec une suite de tests.
    </para>

    <para>
      Maintenant, en tant qu'utilisateur <systemitem
class="username">root</systemitem>&nbsp;:
    </para>

<screen role="root"><userinput>make PKG_DOC_DIR=/usr/share/doc/xfsprogs-&xfsprogs-version; install     &amp;&amp;
make PKG_DOC_DIR=/usr/share/doc/xfsprogs-&xfsprogs-version; install-dev &amp;&amp;

rm -rfv /usr/lib/libhandle.{a,la}</userinput></screen>

  </sect2>

  <sect2 role="commands">
    <title>Explication des commandes</title>

    <para>
      <command>make DEBUG=-DNDEBUG</command>&nbsp;: Enlève les symboles de
débogage.
    </para>

    <para>
      <parameter>INSTALL_USER=root INSTALL_GROUP=root</parameter>&nbsp;: Cela
initialise le propriétaire et le groupe des fichiers installés.
    </para>

    <para>
      <option>OPTIMIZER="..."</option>&nbsp;:  Ajoutez ce paramètre à la fin de la
commande <command>make</command> pour substituer les optimisations par
défaut.
    </para>

  </sect2>

  <sect2 role="content">
    <title>Contenu</title>

    <segmentedlist>
      <segtitle>Programmes installés</segtitle>
      <segtitle>Bibliothèques installées</segtitle>
      <segtitle>Répertoires installés</segtitle>

      <seglistitem>
        <seg>fsck.xfs, mkfs.xfs, xfs_admin, xfs_bmap, xfs_copy, xfs_db, xfs_estimate,
xfs_freeze, xfs_fsr, xfs_growfs, xfs_info, xfs_io, xfs_logprint,
xfs_mdrestore, xfs_metadump, xfs_mkfile, xfs_ncheck, xfs_quota, xfs_repair,
xfs_rtcp, xfs_scrub, xfs_scrub_all et xfs_spaceman</seg>
        <seg>libhandle.so</seg>
        <seg>/usr/include/xfs, /usr/lib/xfsprogs et
/usr/share/doc/xfsprogs-&xfsprogs-version;</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Descriptions courtes</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="fsck.xfs">
        <term><command>fsck.xfs</command></term>
        <listitem>
          <para>
            quitte simplement avec un statut à zéro, depuis que les partitions XFS sont
vérifiées au moment du montage
          </para>
          <indexterm zone="xfsprogs fsck.xfs">
            <primary sortas="b-fsck.xfs">fsck.xfs</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="mkfs.xfs">
        <term><command>mkfs.xfs</command></term>
        <listitem>
          <para>
            construit un système de fichiers XFS
          </para>
          <indexterm zone="xfsprogs mkfs.xfs">
            <primary sortas="b-mkfs.xfs">mkfs.xfs</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="xfs_admin">
        <term><command>xfs_admin</command></term>
        <listitem>
          <para>
            change les paramètres d'un système de fichiers XFS
          </para>
          <indexterm zone="xfsprogs xfs_admin">
            <primary sortas="b-xfs_admin">xfs_admin</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="xfs_bmap">
        <term><command>xfs_bmap</command></term>
        <listitem>
          <para>
            affiche la cartographie des blocs d'un fichier XFS
          </para>
          <indexterm zone="xfsprogs xfs_bmap">
            <primary sortas="b-xfs_bmap">xfs_bmap</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="xfs_copy">
        <term><command>xfs_copy</command></term>
        <listitem>
          <para>
            copie le contenu d'un système de fichiers XFS vers une ou plusieurs cibles
en parallèle
          </para>
          <indexterm zone="xfsprogs xfs_copy">
            <primary sortas="b-xfs_copy">xfs_copy</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="xfs_estimate">
        <term><command>xfs_estimate</command></term>
        <listitem>
          <para>
            pour chaque argument répertoire, estime l'espace que le répertoire prendrait
s'il était copié sur un système de fichier XFS (n'utilise pas les points de
montage)
          </para>
          <indexterm zone="xfsprogs xfs_estimate">
            <primary sortas="b-xfs_estimate">xfs_estimate</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="xfs_db">
        <term><command>xfs_db</command></term>
        <listitem>
          <para>
            est utilisé pour déboguer un système de fichiers XFS
          </para>
          <indexterm zone="xfsprogs xfs_db">
            <primary sortas="b-xfs_db">xfs_db</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="xfs_freeze">
        <term><command>xfs_freeze</command></term>
        <listitem>
          <para>
            suspend l'accès à un système de fichiers XFS
          </para>
          <indexterm zone="xfsprogs xfs_freeze">
            <primary sortas="b-xfs_freeze">xfs_freeze</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="xfs_fsr">
        <term><command>xfs_fsr</command></term>
        <listitem>
          <para>
            applicable seulement sur un système de fichiers XFS, améliore l'organisation
des systèmes de fichiers montés, l'algorithme de réorganisation traite les
fichiers un par un, compactant ou sinon améliorant le niveau de l'extension
du fichier (blocs contigus de données)
          </para>
          <indexterm zone="xfsprogs xfs_fsr">
            <primary sortas="b-xfs_fsr">xfs_fsr</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="xfs_growfs">
        <term><command>xfs_growfs</command></term>
        <listitem>
          <para>
            étend un système de fichiers XFS
          </para>
          <indexterm zone="xfsprogs xfs_growfs">
            <primary sortas="b-xfs_growfs">xfs_growfs</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="xfs_info">
        <term><command>xfs_info</command></term>
        <listitem>
          <para>
            est équivalent à appeler <command>xfs_growfs</command>, mais en spécifiant
qu'aucun changement sur le système de fichiers n'est fait
          </para>
          <indexterm zone="xfsprogs xfs_info">
            <primary sortas="b-xfs_info">xfs_info</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="xfs_io">
        <term><command>xfs_io</command></term>
        <listitem>
          <para>
            est un outil de debogage comme <command>xfs_db</command>, mais il est
destiné à l'examen du chemin de I/O d'un fichier à la place du volume XFS
lui-même
          </para>
          <indexterm zone="xfsprogs xfs_io">
            <primary sortas="b-xfs_io">xfs_io</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="xfs_logprint">
        <term><command>xfs_logprint</command></term>
        <listitem>
          <para>
            affiche le journal d'un système de fichiers XFS
          </para>
          <indexterm zone="xfsprogs xfs_logprint">
            <primary sortas="b-xfs_logprint">xfs_logprint</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="xfs_mdrestore">
        <term><command>xfs_mdrestore</command></term>
        <listitem>
          <para>
            restaure une image XFS metadump dans une image du système de fichiers
          </para>
          <indexterm zone="xfsprogs xfs_mdrestore">
            <primary sortas="b-xfs_mdrestore">xfs_mdrestore</primary>
          </indexterm>
        </listitem>
      </varlistentry>

       <varlistentry id="xfs_metadump">
        <term><command>xfs_metadump</command></term>
        <listitem>
          <para>
            copie les méta-données du système de fichiers XFS dans un fichier
          </para>
          <indexterm zone="xfsprogs xfs_metadump">
            <primary sortas="b-xfs_metadump">xfs_metadump</primary>
          </indexterm>
        </listitem>
      </varlistentry>

     <varlistentry id="xfs_mkfile">
        <term><command>xfs_mkfile</command></term>
        <listitem>
          <para>
            crée un fichier XFS, rempli de zéros par défaut
          </para>
          <indexterm zone="xfsprogs xfs_mkfile">
            <primary sortas="b-xfs_mkfile">xfs_mkfile</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="xfs_ncheck">
        <term><command>xfs_ncheck</command></term>
        <listitem>
          <para>
            génère un chemin depuis un numéro d'inode d'un système de fichiers XFS
          </para>
          <indexterm zone="xfsprogs xfs_ncheck">
            <primary sortas="b-xfs_ncheck">xfs_ncheck</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="xfs_quota">
        <term><command>xfs_quota</command></term>
        <listitem>
          <para>
            est un utilitaire pour afficher et éditer de nombreux aspects des
limitations du système de fichiers
          </para>
          <indexterm zone="xfsprogs xfs_quota">
            <primary sortas="b-xfs_quota">xfs_quota</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="xfs_repair">
        <term><command>xfs_repair</command></term>
        <listitem>
          <para>
            répare les systèmes de fichiers XFS abîmés ou corrompus
          </para>
          <indexterm zone="xfsprogs xfs_repair">
            <primary sortas="b-xfs_repair">xfs_repair</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="xfs_rtcp">
        <term><command>xfs_rtcp</command></term>
        <listitem>
          <para>
            copie un fichier sur la partition d'un système de fichiers XFS en temps réel
          </para>
          <indexterm zone="xfsprogs xfs_rtcp">
            <primary sortas="b-xfs_rtcp">xfs_rtcp</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="xfs_scrub">
        <term><command>xfs_scrub</command></term>
        <listitem>
          <para>
            vérifie et répare le contenu d'un système de fichiers XFS monté
          </para>
          <indexterm zone="xfsprogs xfs_scrub">
            <primary sortas="b-xfs_scrub">xfs_scrub</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="xfs_scrub_all">
        <term><command>xfs_scrub_all</command></term>
        <listitem>
          <para>
            nettoie tous les systèmes de fichiers XFS montés
          </para>
          <indexterm zone="xfsprogs xfs_scrub_all">
            <primary sortas="b-xfs_scrub_all">xfs_scrub_all</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="xfs_spaceman">
        <term><command>xfs_spaceman</command></term>
        <listitem>
          <para>
            rapporte et contrôle l'utilisation de l'espace libre dans un système de
fichier XFS
          </para>
          <indexterm zone="xfsprogs xfs_spaceman">
            <primary sortas="b-xfs_spaceman">xfs_spaceman</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libhandle">
        <term><filename class="libraryfile">libhandle.so</filename></term>
        <listitem>
          <para>
            contient des fonctions spécifiques à XFS qui fournissent un moyen de faire
certaines opérations du système de fichiers sans utiliser un descripteur de
fichier pour accéder à des objets du système de fichiers
          </para>
          <indexterm zone="xfsprogs libhandle">
            <primary sortas="c-libhandle">libhandle.so</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
