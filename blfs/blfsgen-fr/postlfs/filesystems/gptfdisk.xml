<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

  <!ENTITY gptfdisk-download-http "&sourceforge-dl;/gptfdisk/gptfdisk-&gptfdisk-version;.tar.gz">
  <!ENTITY gptfdisk-download-ftp  "">
  <!ENTITY gptfdisk-md5sum        "01c11ecfa454096543562e3068530e01">
  <!ENTITY gptfdisk-size          "212&nbsp;Ko">
  <!ENTITY gptfdisk-buildsize     "2,3&nbsp;Mo">
  <!ENTITY gptfdisk-time          "moins de 0,1&nbsp;SBU (plus 0,2 SBU pour les tests)">
]>

<sect1 id="gptfdisk" xreflabel="gptfdisk-&gptfdisk-version;">
  <?dbhtml filename="gptfdisk.html"?>


  <title>gptfdisk-&gptfdisk-version;</title>

  <indexterm zone="gptfdisk">
    <primary sortas="a-gptfdisk">gptfdisk</primary>
  </indexterm>

  <sect2 role="package">
    <title>Introduction à gptfdisk</title>

    <para>
      Le paquet <application>gptfdisk</application> est un ensemble de programmes
pour la création et la maintenance des tables de partitions GUID (GPT) des
disques. Un disque partitionné en GPT est requis pour les disques de plus de
2 To et est un remplaçant moderne aux partitions PC-BIOS avec un Master Boot
Record (MBR). Le programme principal, <command>gdisk</command>, a une
interface similaire au programme classique <command>fdisk</command>.
    </para>

    &lfs112_checked;

    <bridgehead renderas="sect3">Informations sur le paquet</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>
          Téléchargement (HTTP)&nbsp;: <ulink url="&gptfdisk-download-http;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Téléchargement (FTP)&nbsp;: <ulink url="&gptfdisk-download-ftp;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Somme de contrôle MD5&nbsp;: &gptfdisk-md5sum;
        </para>
      </listitem>
      <listitem>
        <para>
          Taille du téléchargement&nbsp;: &gptfdisk-size;
        </para>
      </listitem>
      <listitem>
        <para>
          Estimation de l'espace disque requis&nbsp;: &gptfdisk-buildsize;
        </para>
      </listitem>
      <listitem>
        <para>
          Estimation du temps de construction&nbsp;: &gptfdisk-time;
        </para>
      </listitem>
    </itemizedlist>

    <bridgehead renderas="sect3">Téléchargements supplémentaires</bridgehead>
    <itemizedlist spacing='compact'>
      <listitem>
        <para>
          Correctif recommandé&nbsp;: <ulink url=
"&patch-root;/gptfdisk-&gptfdisk-version;-convenience-1.patch"/>
        </para>
      </listitem>
    </itemizedlist>

    <bridgehead renderas="sect3">Dépendances de gptfdisk</bridgehead>

    <bridgehead renderas="sect4">Requises</bridgehead>
    <para role="required">
      <xref linkend="popt"/>
    </para>

    <bridgehead renderas="sect4">Facultatives</bridgehead>
    <para role="optional">
      <xref linkend="icu"/>
    </para>

    <para condition="html" role="usernotes">
      Notes utilisateur&nbsp;: <ulink url="&blfs-wiki;/gptdisk"/>
    </para>
  </sect2>

  <sect2 role="installation">
    <title>Installation de gptfdisk</title>

    <para>
      The <application>gptfdisk</application> package comes with a rudimentary
<filename>Makefile</filename>.  First we update it to provide a simple build
and install interface and fix the location of a header file as well fixing
an issue introduced by a recent version of <application>popt</application>.
Install <application>gptfdisk</application> by running the following
commands:
    </para>

<screen><userinput>patch -Np1 -i ../gptfdisk-&gptfdisk-version;-convenience-1.patch &amp;&amp;
sed -i 's|ncursesw/||' gptcurses.cc &amp;&amp;
sed -i 's|sbin|usr/sbin|' Makefile &amp;&amp;
sed -i '/UUID_H/s/^.*$/#if defined (_UUID_UUID_H) || defined (_UL_LIBUUID_UUID_H)/' guid.cc &amp;&amp;
sed -i "/device =/s/= \(.*\);/= strdup(\1);/" gptcl.cc &amp;&amp;

make</userinput></screen>

    <para>
      Pour tester les résultats lancez&nbsp;: <command>make test</command>.
    </para>

    <para>
      Maintenant, en tant qu'utilisateur <systemitem
class="username">root</systemitem>&nbsp;:
    </para>

<screen role="root"><userinput>make install</userinput></screen>
  </sect2>

  <sect2 role="commands">
    <title>Explication des commandes</title>

    <para>
      <command>patch -Np1 ...</command>&nbsp;: Ce correctif modifie le fichier
<filename>Makefile</filename> pour qu'il fournisse une cible
<quote>install</quote>.
    </para>

  </sect2>

  <sect2 role="content">
    <title>Contenu</title>

    <segmentedlist>
      <segtitle>Programmes installés</segtitle>

      <seglistitem>
        <seg>
          cgdisk, gdisk, fixparts et sgdisk
        </seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Descriptions courtes</bridgehead>
      <?dbfo list-presentation="list"?> <?dbhtml list-presentation="table"?>

      <varlistentry id="cgdisk">
        <term><command>cgdisk</command></term>
        <listitem>
          <para>
            est un outil basé sur ncurses pour la manipulation des partitions GPT
          </para>
          <indexterm zone="gptfdisk cgdisk">
            <primary sortas="b-cgdisk">cgdisk</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="gdisk">
        <term><command>gdisk</command></term>
        <listitem>
          <para>
            est un outil en mode texte interactif pour la manipulation des partitions
GPT
          </para>
          <indexterm zone="gptfdisk gdisk">
            <primary sortas="b-gdisk">gdisk</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="fixparts">
        <term><command>fixparts</command></term>
        <listitem>
          <para>
            répare les partitions MBR mal formatées
          </para>
          <indexterm zone="gptfdisk fixparts">
            <primary sortas="b-fixparts">fixparts</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="sgdisk">
        <term><command>sgdisk</command></term>
        <listitem>
          <para>
            est un programme de manipulation de partitions pour les partitions GPT
similaire à <command>sfdisk</command>
          </para>
          <indexterm zone="gptfdisk sgdisk">
            <primary sortas="b-sgdisk">sgdisk</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>
  </sect2>

</sect1>
