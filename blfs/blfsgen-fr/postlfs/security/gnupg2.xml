<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

  <!ENTITY gnupg2-download-http "&gnupg-http;/gnupg/gnupg-&gnupg2-version;.tar.bz2">
  <!ENTITY gnupg2-download-ftp  "&gnupg-ftp;/gnupg/gnupg-&gnupg2-version;.tar.bz2">
  <!ENTITY gnupg2-md5sum        "bb89ad7b0738d35f570f10a704a59cd4">
  <!ENTITY gnupg2-size          "6.9&nbsp;Mo">
  <!ENTITY gnupg2-buildsize     "143 Mo (avec tous les tests, plus 25 Mo pour la documentation)">
  <!ENTITY gnupg2-time          "0.6 SBU (using parallelism=4; add 2.9 SBU for tests)">
]>

<sect1 id="gnupg2" xreflabel="GnuPG-&gnupg2-version;">
  <?dbhtml filename="gnupg.html"?>

  <sect1info>
<date>$Date$</date></sect1info>

  <title>GnuPG-&gnupg2-version;</title>

  <indexterm zone="gnupg2">
    <primary sortas="a-GnuPG">GnuPG</primary>
  </indexterm>

  <sect2 role="package">
    <title>Introduction à GnuPG</title>

    <para>
      Le paquet <application>GnuPG</application> est un outil GNU pour effectuer
de la communication et du stockage sécurisés. On peut l'utiliser pour
chiffrer des données et créer des signatures numériques. Il comprend une
fonction de gestion avancée des clés et il respecte le standard Internet
OpenPGP proposé comme décrit dans la RFC2440 et le standard S/MIME décrit
dans plusieurs RFCs. GnuPG 2 est la version stable du support d'intégration
de GnuPG d'OpenPGP et de S/MIME.
    </para>

    &lfs111_checked;

    <bridgehead renderas="sect3">Informations sur le paquet</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>
          Téléchargement (HTTP)&nbsp;: <ulink url="&gnupg2-download-http;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Téléchargement (FTP)&nbsp;: <ulink url="&gnupg2-download-ftp;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Somme de contrôle MD5&nbsp;: &gnupg2-md5sum;
        </para>
      </listitem>
      <listitem>
        <para>
          Taille du téléchargement&nbsp;: &gnupg2-size;
        </para>
      </listitem>
      <listitem>
        <para>
          Estimation de l'espace disque requis&nbsp;: &gnupg2-buildsize;
        </para>
      </listitem>
      <listitem>
        <para>
          Estimation du temps de construction&nbsp;: &gnupg2-time;
        </para>
      </listitem>
    </itemizedlist>

    <bridgehead renderas="sect3">Dépendances de GnuPG 2</bridgehead>

    <bridgehead renderas="sect4">Requises</bridgehead>
    <para role="required">
      <xref linkend="libassuan"/>, <xref linkend="libgcrypt"/>, <xref
linkend="libksba"/> et <xref linkend="npth"/>
    </para>

    <bridgehead renderas="sect4">Recommandées</bridgehead>
    <para role="recommended">
      <xref linkend="gnutls"/> (requis pour communiquer avec les serveurs de clés
avec les protocoles https et hkps) et <xref linkend="pinentry"/> (Exigence
au moment de l'exécution pour la plupart des fonctionnalités du paquet)
    </para>

    <bridgehead renderas="sect4">Facultatives</bridgehead>
    <para role="optional">
      <xref linkend="curl"/>, <xref linkend="fuse3"/>, <xref
linkend="imagemagick"/> (pour l'utilitaire <command>convert</command>,
utilisé pour la génération de la documentation), <xref linkend="libusb"/>,
an <xref linkend="server-mail"/>, <xref linkend="openldap"/>, <xref
linkend="sqlite"/>, <xref linkend="texlive"/> (or <xref
linkend="tl-installer"/>), <ulink
url="http://mcj.sourceforge.net/">fig2dev</ulink> (pour la génération de la
documentation) et <ulink
url="http://www.chiark.greenend.org.uk/~ian/adns/">GNU adns</ulink>
    </para>

    <para condition="html" role="usernotes">Notes utilisateur&nbsp;: <ulink url="&blfs-wiki;/gnupg2"/></para>

  </sect2>

  <sect2 role="installation">
    <title>Installation de GnuPG</title>

    <para>
      Par défaut GnuPG n'installe pas le script gpg-zip obsolète, mais il est
toujours requis par certains programmes. Faîtes en sorte que GnuPG
l'installe avec&nbsp;:
    </para>

<!-- Seems to be resolved in 2.2.29
    <para>

      Fix a issue causing build failure if
      <application>OpenLDAP</application> is not installed:
    </para>

<screen><userinput>sed -e '737a #if USE_LDAP' \
    -e '760a #endif' \
    -i dirmngr/dirmngr.c</userinput></screen>
-->
<screen><userinput>sed -e '/noinst_SCRIPTS = gpg-zip/c sbin_SCRIPTS += gpg-zip' \
    -i tools/Makefile.in</userinput></screen>



    <para>
      Installez <application>GnuPG</application> en exécutant les commandes
suivantes&nbsp;:
    </para>

<screen><userinput>./configure --prefix=/usr            \
            --localstatedir=/var     \
            --sysconfdir=/etc        \
            --docdir=/usr/share/doc/gnupg-&gnupg2-version; &amp;&amp;
make &amp;&amp;

makeinfo --html --no-split -o doc/gnupg_nochunks.html doc/gnupg.texi &amp;&amp;
makeinfo --plaintext       -o doc/gnupg.txt           doc/gnupg.texi &amp;&amp;
make -C doc html</userinput></screen>

    <para>
      Si vous avez installé <xref linkend="texlive"/> et souhaitez créer la
documentation dans des formats alternatifs, tapez la commande suivante
(<ulink url="http://mcj.sourceforge.net/">fig2dev</ulink> est requis pour le
format ps)&nbsp;:
    </para>

<screen remap="doc"><userinput>make -C doc pdf ps</userinput></screen>

    <para>
      Pour tester les résultats lancez&nbsp;: <command>make check</command>.
    </para>

    <para>
      Notez que si vous avez déjà installé <application>GnuPG</application>, les
instructions ci-dessous écraseront
<filename>/usr/share/man/man1/gpg-zip.1</filename>. Maintenant, en tant
qu'utilisateur <systemitem class="username">root</systemitem>&nbsp;:
    </para>

<screen role="root"><userinput>make install &amp;&amp;

install -v -m755 -d /usr/share/doc/gnupg-&gnupg2-version;/html            &amp;&amp;
install -v -m644    doc/gnupg_nochunks.html \
                    /usr/share/doc/gnupg-&gnupg2-version;/html/gnupg.html &amp;&amp;
install -v -m644    doc/*.texi doc/gnupg.txt \
                    /usr/share/doc/gnupg-&gnupg2-version; &amp;&amp;
install -v -m644    doc/gnupg.html/* \
                    /usr/share/doc/gnupg-&gnupg2-version;/html</userinput></screen>
    <para>
      Si vous avez créé des formats alternatifs de la documentation, installez-les
en utilisant la commande suivante en tant qu'utilisateur <systemitem
class="username">root</systemitem>&nbsp;:
    </para>

<screen role="root"
        remap="doc"><userinput>install -v -m644 doc/gnupg.{pdf,dvi,ps} \
                 /usr/share/doc/gnupg-&gnupg2-version;</userinput></screen>

  </sect2>

  <sect2 role="commands">
    <title>Explication des commandes</title>

    <para>
      <command>sed ... tools/Makefile.in</command>&nbsp;: Cette commande est
requise pour construire le programme gpg-zip.
    </para>

    <para>
      <parameter>--docdir=/usr/share/doc/gnupg-&gnupg2-version;</parameter>&nbsp;:
Ce paramètre change le répertoire par défaut de la documentation en
<filename
class="directory">/usr/share/doc/gnupg-&gnupg2-version;</filename>.
    </para>


    <!-- Unrecognized in 2.2.26, seems to get built automatically now.
    <para>

      <parameter>- -enable-symcryptrun</parameter>: This switch enables
      building the symcryptrun program.
    </para>
-->
<para>
      <option>--enable-all-tests</option>&nbsp;: ce paramètre permet de lancer
plus de tests avec <command>make check</command>.
    </para>

    <para>
      <option>--enable-g13</option>&nbsp;: Ce paramètre active la construction du
programme g13.
    </para>

  </sect2>

  <sect2 role="content">
    <title>Contenu</title>

    <segmentedlist>
      <segtitle>Programmes installés</segtitle>
      <segtitle>Bibliothèques installées</segtitle>
      <segtitle>Répertoires installés</segtitle>

      <seglistitem>
        <seg><!--symcryptrun,-->
addgnupghome, applygnupgdefaults, dirmngr, dirmngr-client, g13 (facultatif),
gpg-agent, gpg-connect-agent, gpg, gpgconf, gpgparsemail, gpgscm, gpgsm,
gpgsplit, gpgtar, gpgv, gpg-wks-server, gpg-zip, kbxutil et watchgnupg</seg>
        <seg>Aucune</seg>
        <seg>/usr/share/doc/gnupg-&gnupg2-version; et /usr/share/gnupg</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Descriptions courtes</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="addgnupghome">
        <term><command>addgnupghome</command></term>
        <listitem>
          <para>
            est utilisé pour créer et remplir les répertoires <filename
class='directory'>~/.gnupg</filename> de l'utilisateur
          </para>
          <indexterm zone="gnupg2 addgnupghome">
            <primary sortas="b-addgnupghome">addgnupghome</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="applygnupgdefaults">
        <term><command>applygnupgdefaults</command></term>
        <listitem>
          <para>
            est un script enveloppe utilisé pour lancer <command>gpgconf</command> avec
le paramètre <parameter>--apply-defaults</parameter> sur tous les
répertoires home GnuPG de l'utilisateur
          </para>
          <indexterm zone="gnupg2 applygnupgdefaults">
            <primary sortas="b-applygnupgdefaults">applygnupgdefaults</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="dirmngr">
        <term><command>dirmngr</command></term>
        <listitem>
          <para>
            est un outil qui prend soin d'accéder aux serveurs de clés OpenPGP
          </para>
          <indexterm zone="gnupg2 dirmngr">
            <primary sortas="b-dirmngr">dirmngr</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="dirmngr-client">
        <term><command>dirmngr-client</command></term>
        <listitem>
          <para>
            est un outil pour contacter un dirmngr lancé et tester si un certificat a
été révoqué
          </para>
          <indexterm zone="gnupg2 dirmngr-client">
            <primary sortas="b-dirmngr-client">dirmngr-client</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="g13">
        <term><command>g13</command></term>
        <listitem>
          <para>
            est un outil pour créer, monter ou démonter un conteneur de système de
fichiers chiffré (facultatif)
          </para>
          <indexterm zone="gnupg2 g13">
            <primary sortas="b-g13">g13</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="gpg-agent">
        <term><command>gpg-agent</command></term>
        <listitem>
          <para>
            est un démon utilisé pour gérer des clés secrètes (privées) indépendamment
du protocole. Il est utilisé en tant que fondation de <command>gpg</command>
et de <command>gpgsm</command> ainsi que pour deux autres outils
          </para>
          <indexterm zone="gnupg2 gpg-agent">
            <primary sortas="b-gpg-agent">gpg-agent</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="gpg-connect-agent">
        <term><command>gpg-connect-agent</command></term>
        <listitem>
          <para>
            est un outil utilisé pour communiquer avec un <command>gpg-agent</command>
en fonction
          </para>
          <indexterm zone="gnupg2 gpg-connect-agent">
            <primary sortas="b-gpg-connect-agent">gpg-connect-agent</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="gpg">
        <term><command>gpg</command></term>
        <listitem>
          <para>
            est la partie OpenPGP de GNU Privacy Guard (GnuPG, sauvegarde de la vie
privée). C'est un outil utilisé pour fournir le chiffrement numérique et les
services de signature en utilisant le standard OpenPGP
          </para>
          <indexterm zone="gnupg2 gpg">
            <primary sortas="b-gpg">gpg</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="gpgconf">
        <term><command>gpgconf</command></term>
        <listitem>
          <para>
            est un outil utilisé pour interroger et modifier automatiquement et de
manière raisonnablement sécurisée des fichiers de configuration dans le
répertoire <filename class='directory'>~/.gnupg</filename> du home de
l'utilisateur. Il est conçu pour ne pas être appelé à la main par
l'utilisateur mais automatiquement par les interfaces graphiques
          </para>
          <indexterm zone="gnupg2 gpgconf">
            <primary sortas="b-gpgconf">gpgconf</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="gpgparsemail">
        <term><command>gpgparsemail</command></term>
        <listitem>
          <para>
            est un outil qui n'est aujourd'hui utile que pour du débogage.  Lancez-le
avec <parameter>--help</parameter> pour les informations d'utilisation
          </para>
          <indexterm zone="gnupg2 gpgparsemail">
            <primary sortas="b-gpgparsemail">gpgparsemail</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="gpgscm">
        <term><command>gpgscm</command></term>
        <listitem>
          <para>
            exécute le programme scheme donné et crée un shell interactif
          </para>
          <indexterm zone="gnupg2 gpgscm">
            <primary sortas="b-gpgscm">gpgscm</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="gpgsm">
        <term><command>gpgsm</command></term>
        <listitem>
          <para>
            est un outil similaire à <command>gpg</command> utilisé pour fournir des
services de chiffrement et de signature numériques sur les certificats X.509
et le protocole CMS. Il est principalement utilisé en tant que fondation
pour le traitement de messages électroniques S/MIME
          </para>
          <indexterm zone="gnupg2 gpgsm">
            <primary sortas="b-gpgsm">gpgsm</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="gpgsplit">
        <term><command>gpgsplit</command></term>
        <listitem>
          <para>
            sépare un message OpenPGP en paquets
          </para>
          <indexterm zone="gnupg2 gpgsplit">
            <primary sortas="b-gpgsplit">gpgsplit</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="gpgtar">
        <term><command>gpgtar</command></term>
        <listitem>
          <para>
            est un outil pour chiffrer ou signer les fichiers dans une archive
          </para>
          <indexterm zone="gnupg2 gpgtar">
            <primary sortas="b-gpgtar">gpgtar</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="gpgv">
        <term><command>gpgv</command></term>
        <listitem>
          <para>
            est un vérificateur qu'il n'y a qu'une version de <command>gpg</command>
          </para>
          <indexterm zone="gnupg2 gpgv">
            <primary sortas="b-gpgv">gpgv</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="gpg-wks-server">
        <term><command>gpg-wks-server</command></term>
        <listitem>
          <para>
            fournit un serveur pour le protocole <application>Web Key
Service</application>
          </para>
          <indexterm zone="gnupg2 gpg-wks-server">
            <primary sortas="b-gpg-wks-server">gpg-wks-server</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="gpg-zip">
        <term><command>gpg-zip</command></term>
        <listitem>
          <para>
            chiffre ou signe des fichiers dans une archive
          </para>
          <indexterm zone="gnupg2 gpg-zip">
            <primary sortas="b-gpg-zip">gpg-zip</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="kbxutil">
        <term><command>kbxutil</command></term>
        <listitem>
          <para>
            est utilisé pour lister, exporter et importer des données Keybox
          </para>
          <indexterm zone="gnupg2 kbxutil">
            <primary sortas="b-kbxutil">kbxutil</primary>
          </indexterm>
        </listitem>
      </varlistentry>

 
      <!--
      <varlistentry id="symcryptrun">

        <term><command>symcryptrun</command></term>
        <listitem>
          <para>
            is a simple symmetric encryption tool.
          </para>
          <indexterm zone="gnupg2 symcryptrun">
            <primary sortas="b-symcryptrun">symcryptrun</primary>
          </indexterm>
        </listitem>
      </varlistentry>
-->
<varlistentry id="watchgnupg">
        <term><command>watchgnupg</command></term>
        <listitem>
          <para>
            est utilisé pour écouter un socket de domaine UNIX créé par un des outils
GnuPG
          </para>
          <indexterm zone="gnupg2 watchgnupg">
            <primary sortas="b-watchgnupg">watchgnupg</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
