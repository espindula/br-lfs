<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

  <!ENTITY gnutls-download-http "&gnupg-http;/gnutls/v3.8/gnutls-&gnutls-version;.tar.xz">
  <!ENTITY gnutls-download-ftp  "&gnupg-ftp;/gnutls/v3.8/gnutls-&gnutls-version;.tar.xz">
  <!ENTITY gnutls-download-ftp  "">
  <!ENTITY gnutls-md5sum        "31a4b85586522c527b044597e86870a4">
  <!ENTITY gnutls-size          "6,1&nbsp;Mo">
  <!ENTITY gnutls-buildsize     "146&nbsp;Mo (plus 113&nbsp;Mo pour les tests)">
  <!ENTITY gnutls-time          "0,7&nbsp;SBU (plus 1,4&nbsp;SBU pour les tests&nbsp;; les deux avec
parallélisme = 8)">
]>

<sect1 id="gnutls" xreflabel="GnuTLS-&gnutls-version;">
  <?dbhtml filename="gnutls.html"?>


  <title>GnuTLS-&gnutls-version;</title>

  <indexterm zone="gnutls">
    <primary sortas="a-GnuTLS">GnuTLS</primary>
  </indexterm>

  <sect2 role="package">
    <title>Introduction à GnuTLS</title>

    <para>
      Le paquet <application>GnuTLS</application> contient des bibliothèques et
des outils utilisateur qui offrent une couche sécurisée pour une couche de
transport fiable. La bibliothèque <application>GnuTLS</application>
implémente actuellement les standards proposés par le groupe de travail TLS
de l'IETF. Pour citer <ulink
url="https://datatracker.ietf.org/doc/rfc8446/">la spécification du
protocole TLS 1.3</ulink>&nbsp;:
    </para>

    <para>
      <quote>TLS permet aux applications client/serveur de communiquer sur
Internet d'une manière conçue pour empêcher les indiscrétions (écoutes), la
falsification ou la contrefaçon de messages.</quote>
    </para>

    <para>
      <application>GnuTLS</application> fournit un support pour les protocoles TLS
1.3, TLS 1.2, TLS 1.1,TLS 1.0 et (éventuellement) SSL 3.0, les extensions
TLS, y compris les noms de serveur et la taille d'enregistrement
maximale. En outre, la bibliothèque supporte l'authentification en utilisant
le protocole SRP, les certificats X.509 et les clés OpenPGP, tout en
supportant l'extension TLS Pre-Shared-Keys (PSK, clés pré-partagées TLS),
l'extension d'application Inner (TLS/IA) et la gestion des certificats X.509
et OpenPGP.
    </para>

    &lfs113_checked;

    <bridgehead renderas="sect3">Informations sur le paquet</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>
          Téléchargement (HTTP)&nbsp;: <ulink url="&gnutls-download-http;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Téléchargement (FTP)&nbsp;: <ulink url="&gnutls-download-ftp;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Somme de contrôle MD5&nbsp;: &gnutls-md5sum;
        </para>
      </listitem>
      <listitem>
        <para>
          Taille du téléchargement&nbsp;: &gnutls-size;
        </para>
      </listitem>
      <listitem>
        <para>
          Estimation de l'espace disque requis&nbsp;: &gnutls-buildsize;
        </para>
      </listitem>
      <listitem>
        <para>
          Estimation du temps de construction&nbsp;: &gnutls-time;
        </para>
      </listitem>
    </itemizedlist>

    <bridgehead renderas="sect3">Dépendances de GnuTLS</bridgehead>

    <bridgehead renderas="sect4">Requises</bridgehead>
    <para role="required">
      <xref linkend="nettle"/>
    </para>

    <bridgehead renderas="sect4">Recommandées</bridgehead>
    <para role="recommended">
      <xref linkend="make-ca"/>, <xref linkend="libunistring"/>, <xref
linkend="libtasn1"/> et <xref linkend="p11-kit"/>
    </para>

    <bridgehead renderas="sect4">Facultatives</bridgehead>
    <para role="optional">
      <xref linkend="brotli"/>, <xref linkend="doxygen"/>, <xref
linkend="gtk-doc"/>, <xref linkend="libidn"/> ou <xref linkend="libidn2"/>,
<xref linkend="libseccomp"/>, <xref linkend="net-tools"/> (utilisé par la
suite de tests), <xref linkend="texlive"/> ou <xref
linkend="tl-installer"/>, <xref linkend="unbound"/> (pour construire la
bibliothèque DANE), <xref linkend="valgrind"/> (utilisé par la suite de
tests), <ulink url="&gnu-http;/autogen/">autogen</ulink>, <ulink
url="https://cmocka.org/">cmocka</ulink> et <ulink
url="https://ftp.debian.org/debian/pool/main/d/datefudge/">datefudge</ulink>
(utilisés pendant la suite de tests si la bibliothèque DANE est construite)
et <ulink url="&sourceforge-dl;/trousers/">Trousers</ulink> (prise en charge
des modules de plateforme de confiance, TPM)
    </para>

    <note><para>
 
      <!-- Note that if you do not install <xref linkend="libtasn1"/>
, an older
       3.8.0 includes minitasn1 4.19 which is currnet at the moment. ken -->
Remarquez que si vous n’avez pas installé <xref linkend="libtasn1"/>, une
ancienne version embarquée dans l'archive de
<application>GnuTLS</application> sera utilisée à la place.
    </para></note>

  </sect2>

  <sect2 role="installation">
    <title>Installation de GnuTLS</title>

    <para>
      Installez <application>GnuTLS</application> en exécutant les commandes
suivantes&nbsp;:
    </para>

<!-- - -disable-rpath \
     Old gnutls versions (around 3.5) had a problem with rpath, because
     libraries in the build tree were linked with rpath pointing to the
     system libraries, so that tests failed. Present versions don't have
     this problem, and do exactly what is expected without using the
     disable-rpath option: rpath pointing to the build tree when libraries
     are first linked, but rpath removed when libraries are relinked at
     install time. -->
<screen><userinput>./configure --prefix=/usr \
            --docdir=/usr/share/doc/gnutls-&gnutls-version; \
            --with-default-trust-store-pkcs11="pkcs11:" &amp;&amp;
make</userinput></screen>


    <para>
      Pour tester les résultats lancez&nbsp;: <command>make check</command>.
    </para>

    <para>
      Maintenant, en tant qu'utilisateur <systemitem
class="username">root</systemitem>&nbsp;:
    </para>

<screen role="root"><userinput>make install</userinput></screen>

  </sect2>

  <sect2 role="commands">
    <title>Explication des commandes</title>

    <para>
      <parameter>--with-default-trust-store-pkcs11="pkcs11:"</parameter>&nbsp;: Ce
paramètre dit à gnutls d'utiliser le magasin de confiance PKCS #11 par
défaut. N'utilisez pas ce paramètre si <xref linkend="p11-kit"/> n'est pas
installé.
    </para>
    
    <!-- see above
    <para>

      <parameter>- -disable-rpath</parameter>: This switch prevents building
      GnuTLS utilities and tests with hardcoded runtime library search path.
      Hardcoded rpath is unneeded for BLFS, and it causes test failures if
      an old version of GnuTLS is installed.
    </para>
    -->
<para>
      <option>--with-default-trust-store-file=/etc/pki/tls/certs/ca-bundle.crt</option>&nbsp;:
Ce paramètre indique à <command>configure</command> ou trouver le vieil
ensemble de certificats CA et de l'utiliser au lieu du module PKCS #11 par
défaut. Utilisez ce paramètre si <xref linkend="p11-kit"/> n'est pas
installé.
    </para>

    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
      href="../../xincludes/gtk-doc-rebuild.xml"/>

    <para>
      <option>--enable-openssl-compatibility</option>&nbsp;: Utilisez ce paramètre
si vous souhaitez construire la bibliothèque de compatibilité OpenSSL.
    </para>

    <para>
      <option>--without-p11-kit</option>&nbsp;: utilisez ce paramètre si vous
n'avez pas installé <application>p11-kit</application>.
    </para>

    <para>
      <option>--with-included-unistring</option>&nbsp;: utilise la version incluse
de libunistring plutôt que celle du système. Utilisez cette option si vous
n'avez pas installé <xref linkend="libunistring"/>.
    </para>

  </sect2>

  <sect2 role="content">
    <title>Contenu</title>

    <segmentedlist>
      <segtitle>Programmes installés</segtitle>
      <segtitle>Bibliothèques installées</segtitle>
      <segtitle>Répertoires installés</segtitle>

      <seglistitem>
        <seg>
          certtool, danetool, gnutls-cli, gnutls-cli-debug, gnutls-serv, ocsptool,
p11tool, psktool et srptool
        </seg>
        <seg>
          libgnutls.so, libgnutls-dane.so, libgnutlsxx.so, libgnutls-openssl.so
(facultatif) et /usr/lib/guile/3.0/extensions/guile-gnutls-v-2.so
        </seg>
        <seg>
          /usr/include/gnutls, /usr/lib/guile/3.0/site-ccache/gnutls,
/usr/share/guile/site/3.0/gnutls et /usr/share/doc/gnutls-&gnutls-version;
        </seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Descriptions courtes</bridgehead>
      <?dbfo list-presentation="list"?> <?dbhtml list-presentation="table"?>

      <varlistentry id="certtool">
        <term><command>certtool</command></term>
        <listitem>
          <para>
            est utilisé pour générer des certificats X.509, des requêtes de certificat
et des clés privées
          </para>
          <indexterm zone="gnutls certtool">
            <primary sortas="b-certtool">certtool</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="danetool">
        <term><command>danetool</command></term>
        <listitem>
          <para>
            est un outil utilisé pour générer et vérifier les enregistrements des
ressources DNS pour le protocole DANE
          </para>
          <indexterm zone="gnutls danetool">
            <primary sortas="b-danetool">danetool</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="gnutls-cli">
        <term><command>gnutls-cli</command></term>
        <listitem>
          <para>
            est un client simple pour paramétrer une connexion TLS vers un autre
ordinateur
          </para>
          <indexterm zone="gnutls gnutls-cli">
            <primary sortas="b-gnutls-cli">gnutls-cli</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="gnutls-cli-debug">
        <term><command>gnutls-cli-debug</command></term>
        <listitem>
          <para>
            est un client simple pour paramétrer une connexion TLS à un autre ordinateur
et produit des résultats de progression très verbeux
          </para>
          <indexterm zone="gnutls gnutls-cli-debug">
            <primary sortas="b-gnutls-cli-debug">gnutls-cli-debug</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="gnutls-serv">
        <term><command>gnutls-serv</command></term>
        <listitem>
          <para>
            est un serveur simple qui écoute les connexions TLS entrantes
          </para>
          <indexterm zone="gnutls gnutls-serv">
            <primary sortas="b-gnutls-serv">gnutls-serv</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="ocsptool">
        <term><command>ocsptool</command></term>
        <listitem>
          <para>
            est un programme qui peut analyser et afficher des informations sur les
requêtes/réponses OCSP, générer des requêtes et vérifier les réponses
          </para>
          <indexterm zone="gnutls ocsptool">
            <primary sortas="b-ocsptool">ocsptool</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="p11tool">
        <term><command>p11tool</command></term>
        <listitem>
          <para>
            est un programme qui permet de gérer les données des cartes smart PKCS #11
et des modules de sécurité
          </para>
          <indexterm zone="gnutls p11tool">
            <primary sortas="b-p11tool">p11tool</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="psktool">
        <term><command>psktool</command></term>
        <listitem>
          <para>
            est un programme simple générant des clés aléatoires pour une utilisation
avec TLS-PSK
          </para>
          <indexterm zone="gnutls psktool">
            <primary sortas="b-psktool">psktool</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="srptool">
        <term><command>srptool</command></term>
        <listitem>
          <para>
            est un programme simple qui émule les programmes dans les bibliothèques SRP
(Secure Remote Password, mot de passe distant sécurisé) de Stanford en
utilisant GNU TLS
          </para>
          <indexterm zone="gnutls srptool">
            <primary sortas="b-srptool">srptool</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libgnutls">
        <term><filename class="libraryfile">libgnutls.so</filename></term>
        <listitem>
          <para>
            contient les fonctions de l'API du cœur et les fonctions de l'API du
certificat X.509
          </para>
          <indexterm zone="gnutls libgnutls">
            <primary sortas="c-libgnutls">libgnutls.so</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
