<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="application/xhtml+xml; charset=utf-8" />
    <title>
      Vim-8.2.3337
    </title>
    <link rel="stylesheet" type="text/css" href="../stylesheets/lfs.css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.79.1" />
    <link rel="stylesheet" href="../stylesheets/lfs-print.css" type=
    "text/css" media="print" />
  </head>
  <body class="blfs" id="blfs-r10.1-1007+">
    <div class="navheader">
      <h4>
        Au-delà de Linux<sup>®</sup> From Scratch (édition <span class=
        "phrase">System V)</span> - Version r10.1-1007+
      </h4>
      <h3>
        Chapitre&nbsp;6.&nbsp;Éditeurs
      </h3>
      <ul>
        <li class="prev">
          <a accesskey="p" href="nano.html" title="Nano-5.8">Précédent</a>
          <p>
            Nano-5.8
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="shells.html" title="Shells">Suivant</a>
          <p>
            Shells
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="editors.html" title=
          "Chapitre&nbsp;6.&nbsp;Éditeurs">Niveau supérieur</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Au-delà de Linux® From Scratch (édition System V) - Version r10.1-1007+">
          Sommaire</a>
        </li>
      </ul>
    </div>
    <div class="sect1" lang="fr" xml:lang="fr">
      <h1 class="sect1">
        <a id="vim" name="vim"></a>Vim-8.2.3337
      </h1>
      <div class="package" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          Introduction à Vim
        </h2>
        <p>
          Le paquet <span class="application">Vim</span>, qui est
          l'abréviation de VI IMproved (amélioré), contient un clone de
          <span class="command"><strong>vi</strong></span> ayant des
          fonctionnalités supplémentaires par rapport au <span class=
          "command"><strong>vi</strong></span> d'origine.
        </p>
        <p>
          Les instructions par défaut de LFS installent <span class=
          "application">vim</span> comme composant du système de base. Si
          vous préférez lier <span class="application">vim</span> à
          <span class="application">X</span>, vous devriez recompiler
          <span class="application">vim</span> pour activer le mode GUI.
          Aucune instruction spéciale n'est nécessaire puisque le support de
          <span class="application">X</span> est détecté automatiquement.
        </p>
        <div class="admon note">
          <img alt="[Note]" src="../images/note.png" />
          <h3>
            Note
          </h3>
          <p>
            La version de vim change tous les jours. Pour récupérer la
            dernière version, visitez <a class="ulink" href=
            "https://github.com/vim/vim/releases">https://github.com/vim/vim/releases</a>.
          </p>
        </div>
        <p>
          This package is known to build and work properly using an LFS-11.0
          platform.
        </p>
        <h3>
          Informations sur le paquet
        </h3>
        <div class="itemizedlist">
          <ul class="compact">
            <li class="listitem">
              <p>
                Téléchargement (HTTP)&nbsp;: <a class="ulink" href=
                "https://anduin.linuxfromscratch.org/BLFS/vim/vim-8.2.3337.tar.gz">
                https://anduin.linuxfromscratch.org/BLFS/vim/vim-8.2.3337.tar.gz</a>
              </p>
            </li>
            <li class="listitem">
              <p>
                Téléchargement (FTP)&nbsp;: <a class="ulink" href=""></a>
              </p>
            </li>
            <li class="listitem">
              <p>
                Somme de contrôle MD5 du téléchargement&nbsp;:
                e0325a4988b1b99b9c2e46fa853c1980
              </p>
            </li>
            <li class="listitem">
              <p>
                Taille du téléchargement&nbsp;: 15&nbsp;Mo
              </p>
            </li>
            <li class="listitem">
              <p>
                Estimation de l'espace disque requis&nbsp;: 109&nbsp;Mo (plus
                61&nbsp;Mo pour les tests)
              </p>
            </li>
            <li class="listitem">
              <p>
                Estimation du temps de construction&nbsp;: 0,3 SBU (avec
                parallélisme = 4&nbsp;; plus 2,1 SBU pour les tests)
              </p>
            </li>
          </ul>
        </div>
        <h3>
          Dépendances de Vim
        </h3>
        <h4>
          Recommandées
        </h4>
        <p class="recommended">
          <a class="xref" href="../x/installing.html" title=
          "Chapitre&nbsp;24.&nbsp;Environnement X Window System">Système X
          Window</a> et <a class="xref" href="../x/gtk3.html" title=
          "GTK+-3.24.30">GTK+-3.24.30</a>
        </p>
        <h4>
          Facultatives
        </h4>
        <p class="optional">
          <a class="xref" href="../general/gpm.html" title=
          "GPM-1.20.7">GPM-1.20.7</a>, <a class="xref" href=
          "../general/lua.html" title="Lua-5.4.3">Lua-5.4.3</a>, <a class=
          "xref" href="../basicnet/rsync.html" title=
          "rsync-3.2.3">rsync-3.2.3</a> et <a class="xref" href=
          "../general/ruby.html" title="Ruby-3.0.2">Ruby-3.0.2</a>
        </p>
        <p class="usernotes">
          Notes utilisateur&nbsp;: <a class="ulink" href=
          "https://wiki.linuxfromscratch.org/blfs/wiki/vim">https://wiki.linuxfromscratch.org/blfs/wiki/vim</a>
        </p>
      </div>
      <div class="installation" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          Installation de Vim
        </h2>
        <div class="admon note">
          <img alt="[Note]" src="../images/note.png" />
          <h3>
            Note
          </h3>
          <p>
            Si vous recompilez <span class="application">Vim</span> pour le
            lier à <span class="application">X</span> et si vos bibliothèques
            <span class="application">X</span> ne sont pas sur la partition
            racine, vous n'aurez plus d'éditeur en cas d'utilisation en
            urgence. Vous pouvez choisir d'installer un éditeur
            supplémentaire, de ne pas lier <span class=
            "application">Vim</span> à <span class="application">X</span>, ou
            de déplacer l'exécutable <span class=
            "command"><strong>vim</strong></span> actuel vers le répertoire
            <code class="filename">/bin</code> sous un nom différent tel que
            <code class="filename">vi</code>.
          </p>
        </div>
        <p>
          Installez <span class="application">Vim</span> en lançant les
          commandes suivantes&nbsp;:
        </p>
        <div class="admon note">
          <img alt="[Note]" src="../images/note.png" />
          <h3>
            Note
          </h3>
          <p>
            Si vous voulez lancer les tests et n'avez pas installé Xorg dans
            /usr, ajoutez LDFLAGS='-L$XORG_PREFIX/lib' à la fin de la ligne
            configure ci-dessous.
          </p>
        </div>
        <pre class="userinput"><kbd class=
        "command">echo '#define SYS_VIMRC_FILE  "/etc/vimrc"' &gt;&gt;  src/feature.h &amp;&amp;
echo '#define SYS_GVIMRC_FILE "/etc/gvimrc"' &gt;&gt; src/feature.h &amp;&amp;

./configure --prefix=/usr        \
            --with-features=huge \
            --enable-gui=gtk3    \
            --with-tlib=ncursesw &amp;&amp;
make</kbd></pre>
        <div class="admon note">
          <img alt="[Note]" src="../images/note.png" />
          <h3>
            Note
          </h3>
          <p>
            Si le fichier de configuration global <code class=
            "filename">/etc/vimrc</code> utilise la variable d'environnement
            <code class="envar">VIMRUNTIME</code>, certains tests peuvent se
            plaindre de ne pas trouver le répertoire correspondant et
            attendre une saisie de l'utilisateur. Si c'est le cas, vous
            devriez sauvegarder et supprimer le fichier avant de lancer les
            tests.
          </p>
        </div>
        <p>
          Pour tester les résultats, lancez&nbsp;: <span class=
          "command"><strong>make -j1 test</strong></span>. Même si un des
          tests ne parvient pas à produire le fichier <code class=
          "filename">test.out</code> dans <code class=
          "filename">src/testdir</code>, le reste des tests sera quand même
          exécuté. Si tout se passe bien, le journal rapportera <code class=
          "literal">ALL DONE</code>. Certains tests marqués <span class=
          "quote">«&nbsp;<span class="quote">flaky</span>&nbsp;»</span>
          peuvent éventuellement échouer et peuvent être ignorés. Les tests
          sont connus pour échouer si la sortie est redirigée vers un
          fichier.
        </p>
        <div class="admon note">
          <img alt="[Note]" src="../images/note.png" />
          <h3>
            Note
          </h3>
          <p>
            Certains tests de couleurs s'attendent à être exécutés dans
            l'émulateur de terminal <span class=
            "command"><strong>xterm</strong></span>.
          </p>
        </div>
        <p>
          Maintenant, en tant qu'utilisateur <code class=
          "systemitem">root</code>&nbsp;:
        </p>
        <pre class="root"><kbd class="command">make install</kbd></pre>
        <p>
          Par défaut, la documentation de Vim est installée dans
          /<code class="filename">usr/share/vim</code>. Le lien symbolique
          suivant permet un accès à la documentation via <code class=
          "filename">/usr/share/doc/vim-8.2.3337</code>, ce qui est cohérent
          avec l'emplacement de la documentation d'autres paquets&nbsp;:
        </p>
        <pre class="root">
<kbd class=
"command">ln -snfv ../vim/vim82/doc /usr/share/doc/vim-8.2.3337</kbd></pre>
        <p>
          Si vous souhaitez mettre à jour les fichiers au moment de
          l'exécution, lancez la commande suivante (exige <a class="xref"
          href="../basicnet/rsync.html" title=
          "rsync-3.2.3">rsync-3.2.3</a>)&nbsp;:
        </p>
        <pre class="userinput"><kbd class=
        "command">rsync -avzcP --exclude="/dos/" --exclude="/spell/" \
    ftp.nluug.nl::Vim/runtime/ ./runtime/</kbd></pre>
        <p>
          Pour installer les fichiers au moment du lancement et régénérer le
          fichier <code class="filename">tags</code>, en tant qu'utilisateur
          <code class="systemitem">root</code>, lancez&nbsp;:
        </p>
        <pre class="root"><kbd class=
        "command">make -C src installruntime &amp;&amp;
vim -c ":helptags /usr/share/doc/vim-8.2.3337" -c ":q"</kbd></pre>
      </div>
      <div class="commands" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          Explication des commandes
        </h2>
        <p>
          <em class="parameter"><code>--with-features=huge</code></em>&nbsp;:
          Ce correctif active toutes les fonctionnalités supplémentaires
          disponibles dans <span class="application">Vim</span>, incluant le
          support pour les caractères multi-octets.
        </p>
        <p>
          <em class="parameter"><code>--with-tlib=ncursesw</code></em>&nbsp;:
          Ce paramètre force Vim à se lier avec la bibliothèque <code class=
          "filename">libncursesw</code>.
        </p>
        <p>
          <code class="option">--enable-gui=no</code>&nbsp;: Cela empêchera
          la compilation de l'interface graphique. <span class=
          "application">Vim</span> se liera toujours à <span class=
          "application">X</span>, pour que des fonctionnalités telles que le
          modèle client-serveur ou la sélection x11 (presse-papier) soient
          disponibles.
        </p>
        <p>
          <code class="option">--without-x</code>&nbsp;: Si vous préférez ne
          pas lier <span class="application">Vim</span> à <span class=
          "application">X</span>, utilisez ce paramètre.
        </p>
        <p>
          <code class="option">--enable-luainterp</code>, <code class=
          "option">--enable-perlinterp</code>, <code class=
          "option">--enable-python3interp=dynamic</code>, <code class=
          "option">--enable-tclinterp --with-tclsh=tclsh</code>, <code class=
          "option">--enable-rubyinterp</code>&nbsp;: Ces options incluent les
          interpréteurs Lua, Perl, Python, Tcl, ou Ruby qui permettent
          d'utiliser un autre code d'application dans des scripts
          <span class="application">vim</span>. Toutes les options
          <code class="option">--enable-…</code> acceptent l'argument
          <code class="option">=dynamic</code> pour charger l'interpréteur
          dynamiquement au besoin. C'est requis pour <span class=
          "application">Python 3</span>, pour éviter des erreurs de
          segmentation. Pour <span class="application">tcl</span>, il faut
          indiquer le nom de l'exécutable <span class=
          "command"><strong>tclsh</strong></span>, car <span class=
          "command"><strong>configure</strong></span> ne cherche que les noms
          versionnés avec d'anciennes versions.
        </p>
      </div>
      <div class="configuration" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          Configuration de Vim
        </h2>
        <div class="sect3">
          <h3 class="sect3">
            <a id="vim-config" name="vim-config"></a>Fichiers de
            configuration
          </h3>
          <p>
            <code class="filename">/etc/vimrc</code> et <code class=
            "filename">~/.vimrc</code>
          </p>
        </div>
        <div class="sect3">
          <h3 class="sect3">
            <a id="vim-init" name="vim-init"></a>Informations sur la
            configuration
          </h3>
          <p>
            <span class="application">Vim</span> a un vérificateur
            d'orthographe intégré que vous pouvez activer si vous lancez ce
            qui suit dans une fenêtre vim&nbsp;:
          </p>
          <pre class="screen"><code class=
          "literal">:setlocal spell spelllang=ru</code></pre>
          <p>
            Ce paramètre activera la vérification de l'orthographe pour le
            russe pour la session actuelle.
          </p>
          <p>
            Par défaut, <span class="application">Vim</span> n'installe que
            des dictionnaires pour l'anglais. Si aucun dictionnaire n'est
            disponible pour une langue, <span class="application">Vim</span>
            appellera le greffon <code class=
            "filename">$VIMRUNTIME/plugin/spellfile.vim</code> et essaiera
            d'obtenir les *.spl et éventuellement les *.sug depuis le serveur
            ftp de vim, en utilisant le greffon <code class=
            "filename">$VIMRUNTIME/plugin/netrwPlugin.vim</code>.
          </p>
          <p>
            Sinon, vous pouvez télécharger à la main les fichiers *.spl et
            *.sug à partir de&nbsp;: <a class="ulink" href=
            "ftp://ftp.vim.org/pub/vim/runtime/spell/">ftp://ftp.vim.org/pub/vim/runtime/spell/</a>
            et les enregistrer dans <code class=
            "filename">~/.vim/spell</code> ou dans <code class=
            "filename">/usr/share/vim/vim82/spell/</code>.
          </p>
          <p>
            Pour trouver les nouveautés dans <span class=
            "application">Vim-8.2.3337</span> lancez la commande
            suivante&nbsp;:
          </p>
          <pre class="screen"><code class=
          "literal">:help version-8.2.3337</code></pre>
          <p>
            Pour des informations supplémentaires sur le paramétrage des
            fichiers de configuration de <span class=
            "application">Vim</span>, voir <a class="xref" href="vimrc.html"
            title="Les fichiers /etc/vimrc et ~/.vimrc">Les fichiers
            vimrc</a> et <a class="ulink" href=
            "http://vim.wikia.com/wiki/Example_vimrc">http://vim.wikia.com/wiki/Example_vimrc</a>.
          </p>
        </div>
      </div>
      <div class="content" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          Contenu
        </h2>
        <p>
          Vous pouvez trouver une liste des fichiers réinstallés et de leurs
          descriptions courtes dans les <a class="ulink" href=
          "../../../../lfs/view/development/chapter08/vim.html#contents-vim">instructions
          de LFS d'installation de Vim</a>.
        </p>
        <div class="segmentedlist">
          <div class="seglistitem">
            <div class="seg">
              <strong class="segtitle">Programmes installés:</strong>
              <span class="segbody">gview, gvim, gvimdiff, gvimtutor, rgview
              et rgvim</span>
            </div>
            <div class="seg">
              <strong class="segtitle">Bibliothèques installées:</strong>
              <span class="segbody">Aucune</span>
            </div>
            <div class="seg">
              <strong class="segtitle">Répertoire installé:</strong>
              <span class="segbody">/usr/share/vim</span>
            </div>
          </div>
        </div>
        <div class="variablelist">
          <h3>
            Descriptions courtes
          </h3>
          <table border="0" class="variablelist">
            <colgroup>
              <col align="left" valign="top" />
              <col />
            </colgroup>
            <tbody>
              <tr>
                <td>
                  <p>
                    <a id="gview" name="gview"></a><span class=
                    "term"><span class=
                    "command"><strong>gview</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    lance <span class="command"><strong>gvim</strong></span>
                    en mode lecture seule
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="gvim" name="gvim"></a><span class=
                    "term"><span class=
                    "command"><strong>gvim</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    est l'éditeur fonctionnant sous <span class=
                    "application">X</span> et incluant une interface
                    graphique
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="gvimdiff" name="gvimdiff"></a><span class=
                    "term"><span class=
                    "command"><strong>gvimdiff</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    édite deux ou trois versions d'un fichier avec
                    <span class="command"><strong>gvim</strong></span> et
                    affiche les différences
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="gvimtutor" name="gvimtutor"></a><span class=
                    "term"><span class=
                    "command"><strong>gvimtutor</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    enseigne les touches et les commandes de base de
                    <span class="command"><strong>gvim</strong></span>
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="rgview" name="rgview"></a><span class=
                    "term"><span class=
                    "command"><strong>rgview</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    est une version restreinte de <span class=
                    "command"><strong>gview</strong></span>
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="rgvim" name="rgvim"></a><span class=
                    "term"><span class=
                    "command"><strong>rgvim</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    est une version restreinte de <span class=
                    "command"><strong>gvim</strong></span>
                  </p>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <p class="updated">
        Last updated on
      </p>
    </div>
    <div class="navfooter">
      <ul>
        <li class="prev">
          <a accesskey="p" href="nano.html" title="Nano-5.8">Précédent</a>
          <p>
            Nano-5.8
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="shells.html" title="Shells">Suivant</a>
          <p>
            Shells
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="editors.html" title=
          "Chapitre&nbsp;6.&nbsp;Éditeurs">Niveau supérieur</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Au-delà de Linux® From Scratch (édition System V) - Version r10.1-1007+">
          Sommaire</a>
        </li>
      </ul>
    </div>
  </body>
</html>
