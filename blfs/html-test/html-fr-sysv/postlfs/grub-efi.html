<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="application/xhtml+xml; charset=utf-8" />
    <title>
      GRUB-2.06 pour EFI
    </title>
    <link rel="stylesheet" type="text/css" href="../stylesheets/lfs.css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.79.1" />
    <link rel="stylesheet" href="../stylesheets/lfs-print.css" type=
    "text/css" media="print" />
  </head>
  <body class="blfs" id="blfs-r10.1-1007+">
    <div class="navheader">
      <h4>
        Au-delà de Linux<sup>®</sup> From Scratch (édition <span class=
        "phrase">System V)</span> - Version r10.1-1007+
      </h4>
      <h3>
        Chapitre&nbsp;5.&nbsp;Systèmes de fichiers et gestion de disque
      </h3>
      <ul>
        <li class="prev">
          <a accesskey="p" href="efibootmgr.html" title=
          "efibootmgr-17">Précédent</a>
          <p>
            efibootmgr-17
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="grub-setup.html" title=
          "Utiliser GRUB pour paramétrer le processus de démarrage avec UEFI">
          Suivant</a>
          <p>
            Utiliser GRUB pour paramétrer le processus de démarrage avec UEFI
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="filesystems.html" title=
          "Chapitre&nbsp;5.&nbsp;Systèmes de fichiers et gestion de disque">Niveau
          supérieur</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Au-delà de Linux® From Scratch (édition System V) - Version r10.1-1007+">
          Sommaire</a>
        </li>
      </ul>
    </div>
    <div class="sect1" lang="fr" xml:lang="fr">
      <h1 class="sect1">
        <a id="grub-efi" name="grub-efi"></a>GRUB-2.06 pour EFI
      </h1>
      <div class="package" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          Introduction à GRUB
        </h2>
        <p>
          Le paquet <span class="application">Grub</span> contient un
          chargeur de démarrage, le <span class="foreignphrase"><em class=
          "foreignphrase">GRand Unified Bootloader</em></span>. Dans cette
          page il sera construit avec la prise en charge d'UEFI, qui n'était
          pas activée dans le GRUB construit dans LFS.
        </p>
        <p>
          This package is known to build and work properly using an LFS-11.0
          platform.
        </p>
        <h3>
          Informations sur le paquet
        </h3>
        <div class="itemizedlist">
          <ul class="compact">
            <li class="listitem">
              <p>
                Téléchargement (HTTP)&nbsp;: <a class="ulink" href=
                "https://ftp.gnu.org/gnu/grub/grub-2.06.tar.xz">https://ftp.gnu.org/gnu/grub/grub-2.06.tar.xz</a>
              </p>
            </li>
            <li class="listitem">
              <p>
                Téléchargement (FTP)&nbsp;: <a class="ulink" href=""></a>
              </p>
            </li>
            <li class="listitem">
              <p>
                Somme de contrôle MD5 du téléchargement&nbsp;:
                cf0fd928b1e5479c8108ee52cb114363
              </p>
            </li>
            <li class="listitem">
              <p>
                Taille du téléchargement&nbsp;: 6.3&nbsp;Mo
              </p>
            </li>
            <li class="listitem">
              <p>
                Estimation de l'espace disque requis&nbsp;: 185&nbsp;Mo
              </p>
            </li>
            <li class="listitem">
              <p>
                Estimation du temps de construction&nbsp;: 0.9&nbsp;SBU
              </p>
            </li>
          </ul>
        </div>
        <h3>
          Téléchargements supplémentaires
        </h3>
        <div class="itemizedlist">
          <p class="title">
            <strong>Données de polices unicode utilisées pour afficher le
            menu de GRUB</strong>
          </p>
          <ul class="compact">
            <li class="listitem">
              <p>
                Téléchargement (HTTP)&nbsp;: <a class="ulink" href=
                "https://unifoundry.com/pub/unifont/unifont-13.0.06/font-builds/unifont-13.0.06.pcf.gz">
                https://unifoundry.com/pub/unifont/unifont-13.0.06/font-builds/unifont-13.0.06.pcf.gz</a>
              </p>
            </li>
            <li class="listitem">
              <p>
                Somme de contrôle MD5 du téléchargement&nbsp;:
                4fbc33c8d8d25985f1bcdd4d28bc2420
              </p>
            </li>
            <li class="listitem">
              <p>
                Taille du téléchargement&nbsp;: 1.3&nbsp;Mo
              </p>
            </li>
          </ul>
        </div>
        <h3>
          Dépendances de GRUB
        </h3>
        <h4>
          Requis (à l'exécution)
        </h4>
        <p class="runtime">
          <a class="xref" href="efibootmgr.html" title=
          "efibootmgr-17">efibootmgr-17</a>
        </p>
        <h4>
          Recommandées
        </h4>
        <p class="recommended">
          <a class="xref" href="../general/freetype2.html" title=
          "FreeType-2.11.0">FreeType-2.11.0</a>
        </p>
        <h4>
          Facultatives
        </h4>
        <p class="optional">
          <a class="xref" href="lvm2.html" title=
          "LVM2-2.03.13">LVM2-2.03.13</a>
        </p>
        <p class="usernotes">
          Notes utilisateur&nbsp;: <a class="ulink" href=
          "https://wiki.linuxfromscratch.org/blfs/wiki/grub-efi">https://wiki.linuxfromscratch.org/blfs/wiki/grub-efi</a>
        </p>
      </div>
      <div class="installation" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          Installation de GRUB
        </h2>
        <p>
          Tout d'abord, installez les données de police en tant
          qu'utilisateur <code class="systemitem">root</code>&nbsp;:
        </p>
        <pre class="root"><kbd class=
        "command">mkdir -pv /usr/share/fonts/unifont &amp;&amp;
gunzip -c ../unifont-13.0.06.pcf.gz &gt; /usr/share/fonts/unifont/unifont.pcf</kbd></pre>
        <div class="admon warning">
          <img alt="[Avertissement]" src="../images/warning.png" />
          <h3>
            Avertissement
          </h3>
          <p>
            Nettoyez les variables d'environnement qui peuvent affecter la
            construction&nbsp;:
          </p>
          <pre class="userinput"><kbd class=
          "command">unset {C,CPP,CXX,LD}FLAGS</kbd></pre>
          <p>
            N'essayez pas de <span class="quote">«&nbsp;<span class=
            "quote">régler</span>&nbsp;»</span> ce paquet avec des drapeaux
            de compilation personnalisés&nbsp;: ce paquet est un chargeur
            d'amorçage, avec des opérations de bas-niveau dans le code source
            qui seront sans doute cassées par certaines optimisations
            agressives.
          </p>
        </div>
        <p>
          Construisez <span class="application">GRUB</span> avec les
          commandes suivantes&nbsp;:
        </p>
        <pre class="userinput"><kbd class=
        "command">./configure --prefix=/usr        \
            --sysconfdir=/etc    \
            --disable-efiemu     \
            --enable-grub-mkfont \
            --with-platform=efi  \
            --disable-werror     &amp;&amp;
make</kbd></pre>
        <p>
          Ce paquet n'a pas de suite de tests qui fournisse des résultats
          intéressants.
        </p>
        <p>
          Maintenant, en tant qu'utilisateur <code class=
          "systemitem">root</code>&nbsp;:
        </p>
        <pre class="root"><kbd class="command">make install &amp;&amp;
mv -v /etc/bash_completion.d/grub /usr/share/bash-completion/completions</kbd></pre>
      </div>
      <div class="commands" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          Explication des commandes
        </h2>
        <p>
          <em class="parameter"><code>--enable-grub-mkfont</code></em>&nbsp;:
          construit l'outil <span class=
          "command"><strong>grub-mkfont</strong></span> pour générer le
          fichier de polices pour le chargeur d'amorçage à partir des données
          de police qu'on a installées.
        </p>
        <div class="admon warning">
          <img alt="[Avertissement]" src="../images/warning.png" />
          <h3>
            Avertissement
          </h3>
          <p>
            Si vous n'avez pas installé la dépendance recommandée <a class=
            "xref" href="../general/freetype2.html" title=
            "FreeType-2.11.0">FreeType-2.11.0</a>, il est possible d'omettre
            cette option et de construire GRUB. Cependant, si <span class=
            "command"><strong>grub-mkfont</strong></span> n'est pas construit
            ou que les données de police ne sont pas disponibles quand GRUB
            est construit, GRUB n'installera aucune police pour le chargeur
            d'amorçage. Le menu de démarrage de GRUB sera affiché avec une
            police grossière et les premières étapes d'initialisation du
            noyau se feront en <span class="quote">«&nbsp;<span class=
            "quote">mode aveugle</span>&nbsp;»</span> — vous ne pourrez pas
            voir les messages du noyau avant l'initialisation du pilote de
            carte graphique. Il sera compliqué de diagnostiquer certains
            problèmes de démarrage, surtout si le pilote graphique est
            construit en tant que module.
          </p>
        </div>
        <p>
          <em class="parameter"><code>--with-platform=efi</code></em>&nbsp;:
          s'assure de construire GRUB avec EFI activé.
        </p>
      </div>
      <div class="sect2" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          Configuration de GRUB
        </h2>
        <p>
          On discute de comment utiliser GRUB pour rendre le système LFS
          amorçable sur une plateforme UEFI sur <a class="xref" href=
          "grub-setup.html" title=
          "Utiliser GRUB pour paramétrer le processus de démarrage avec UEFI">
          Using GRUB to Set Up the Boot Process with UEFI</a>.
        </p>
      </div>
      <div class="content" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          Contents
        </h2>
        <p>
          Voir la page pour GRUB dans le livre LFS.
        </p>
      </div>
      <p class="updated">
        Last updated on
      </p>
    </div>
    <div class="navfooter">
      <ul>
        <li class="prev">
          <a accesskey="p" href="efibootmgr.html" title=
          "efibootmgr-17">Précédent</a>
          <p>
            efibootmgr-17
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="grub-setup.html" title=
          "Utiliser GRUB pour paramétrer le processus de démarrage avec UEFI">
          Suivant</a>
          <p>
            Utiliser GRUB pour paramétrer le processus de démarrage avec UEFI
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="filesystems.html" title=
          "Chapitre&nbsp;5.&nbsp;Systèmes de fichiers et gestion de disque">Niveau
          supérieur</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Au-delà de Linux® From Scratch (édition System V) - Version r10.1-1007+">
          Sommaire</a>
        </li>
      </ul>
    </div>
  </body>
</html>
