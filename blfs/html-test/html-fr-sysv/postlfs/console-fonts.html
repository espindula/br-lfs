<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="application/xhtml+xml; charset=utf-8" />
    <title>
      À propos des polices de console
    </title>
    <link rel="stylesheet" type="text/css" href="../stylesheets/lfs.css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.79.1" />
    <link rel="stylesheet" href="../stylesheets/lfs-print.css" type=
    "text/css" media="print" />
  </head>
  <body class="blfs" id="blfs-r10.1-1007+">
    <div class="navheader">
      <h4>
        Au-delà de Linux<sup>®</sup> From Scratch (édition <span class=
        "phrase">System V)</span> - Version r10.1-1007+
      </h4>
      <h3>
        Chapitre&nbsp;3.&nbsp;Questions de configuration après LFS
      </h3>
      <ul>
        <li class="prev">
          <a accesskey="p" href="bootdisk.html" title=
          "Créer un périphérique de démarrage personnalisé">Précédent</a>
          <p>
            Créer un périphérique de démarrage personnalisé
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="firmware.html" title=
          "À propos des Firmwares">Suivant</a>
          <p>
            À propos des Firmwares
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="config.html" title=
          "Chapitre&nbsp;3.&nbsp;Questions de configuration après LFS">Niveau
          supérieur</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Au-delà de Linux® From Scratch (édition System V) - Version r10.1-1007+">
          Sommaire</a>
        </li>
      </ul>
    </div>
    <div class="sect1" lang="fr" xml:lang="fr">
      <h1 class="sect1">
        <a id="postlfs-console-fonts" name="postlfs-console-fonts"></a>À
        propos des polices de console
      </h1>
      <p>
        Un système LFS peut être utilisé sans bureau graphique, et à moins ou
        jusqu'à avoir installé <a class="xref" href="../x/installing.html"
        title="Chapitre&nbsp;24.&nbsp;Environnement X Window System">Système
        X Window</a> vous devrez travailler dans la console. La plupart,
        sinon tous, des PC démarrent avec une police 8x16 - quelle que soit
        la taille de l'écran. Il y a plusieurs choses que vous pouvez faire
        pour modifier l'affichage en console. La plupart implique de changer
        la police, mais les premiers changent la ligne de commande utilisée
        par grub.
      </p>
      <p class="usernotes">
        Notes utilisateur&nbsp;: <a class="ulink" href=
        "https://wiki.linuxfromscratch.org/blfs/wiki/aboutconsolefonts">https://wiki.linuxfromscratch.org/blfs/wiki/aboutconsolefonts</a>
      </p>
      <div class="sect2" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          <a id="grub-video" name="grub-video"></a>Paramétrer une taille
          d'écran plus petite dans grub
        </h2>
        <p>
          Les écrans modernes ont souvent beaucoup plus de pixels que les
          écrans utilisés par le passé. Si votre écran fait 1600 pixels de
          largeur, un police 8x16 vous donnera 200 colonnes de texte - à
          moins que votre moniteur ne soit énorme, le texte sera petit. Une
          manière de contourner ceci est de dire à grub d'utiliser une taille
          plus petite, comme 1024x768 ou 800x600 ou même 640x480. Même si
          votre écran n'est pas en 4:3, cela devrait fonctionner.
        </p>
        <p>
          Pour tester cela, vous pouvez redémarrer et modifier la ligne de
          commande de grub pour insérer un paramètre «&nbsp;video=&nbsp;»
          entre «&nbsp;root=/dev/sdXn&nbsp;» et «&nbsp;ro&nbsp;», par exemple
          <code class="literal">root=/dev/sda2 video=1024x768 ro</code> en
          fonction des exemples dans LFS section 10.4.4&nbsp;: <span class=
          "phrase"><a class="ulink" href=
          "../../../../lfs/view/development/chapter10/grub.html">../../../../lfs/view/development/chapter10/grub.html</a></span>.
        </p>
        <p>
          Si vous décidez que vous souhaitez le faire, vous pouvez ensuite
          (en tant qu'utilisateur <code class="systemitem">root</code>)
          modifier <code class="filename">/boot/grub/grub.cfg</code>.
        </p>
      </div>
      <div class="sect2" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          <a id="psf-fonts" name="psf-fonts"></a>Utiliser les polices psf
          standard
        </h2>
        <p>
          Le paquet <span class="application">kbd</span> est utilisé dans
          LFS. Les polices qu'il fournit sont des polices d'écran PC,
          habituellement appelées PSF, et sont installées dans <code class=
          "filename">/usr/share/consolefonts</code>. Lorsque celles-ci ont
          une table de correspondance unicode, le suffixe du fichier est
          souvent changé en <code class="literal">.psfu</code> bien que les
          paquets comme <span class="application">terminus-font</span> (voir
          plus bas) n'ajoutent pas le 'u'. Ces polices sont généralement
          compressées avec gzip pour préserver l'espace, mais ce n'est pas
          nécessaire.
        </p>
        <p>
          Les premiers écrans textes des PC avaient 8 couleurs, ou 16
          couleurs si les versions claires des 8 couleurs originales étaient
          utilisées. Une police PSF peut inclure jusqu'à 256 caractères
          (techniquement, glyphes) en permettant 16 couleurs, ou jusqu'à 512
          caractères (auquel cas la versions claire des couleurs n'est plus
          disponible). Clairement ces polices ne peuvent pas être utilisées
          pour afficher des textes CJK - qui auraient besoin de milliers de
          glyphes.
        </p>
        <p>
          Certaines polices dans <span class="application">kbd</span> peuvent
          couvrir plus de 512 codes de points (caractères), avec différents
          degrés de fiabilité&nbsp;: unicode contient plusieurs codes de
          points pour des espaces qui peuvent tous être liés à un espace,
          différents tirets qui peuvent être liés à un signe moins, des
          guillemets qui peuvent tous être liés à des guillemets ASCII plutôt
          que ce qui est utilisé pour «&nbsp;le code de point n'est pas
          présent ou invalide&nbsp;», et les lettres grecques ou cyrilliques
          qui ressemblent à des lettres latines peuvent leur être liées, de
          sorte que 'A' ait aussi le rôle du A cyrillique et du Alpha grec,
          et 'P' peut avoir le rôle du ER cyrillique et du RHO grec.
          Malheureusement, lorsqu'une police a été créée depuis un fichier
          BDF (la méthode dans terminus et <a class="ulink" href=
          "https://packages.debian.org/jessie/utils/console-setup">console-setup</a>
          de debian), de tels liaisons de code de point supplémentaires sur
          des glyphes existants ne sont généralement pas effectuées, bien que
          les polices terminus ter-vXXn le fassent correctement.
        </p>
        <p>
          Il y a plus de 120 combinaisons de polices et de tailles dans
          <span class="application">kbd</span>&nbsp;: en général, une police
          est fournie avec plusieurs tailles, et parfois des variétés
          couvrent différents sous-ensembles de l'unicode. La plupart sont
          larges de 8 pixels, en hauteur de 8 à 16 pixels, mais il y en a un
          peu qui font 9 pixels de larges, certaines qui font 12x22 et même
          une (<code class="filename">latarcyrheb-sun32.psfu</code>) qui a
          été dimensionnée en 16x32. Utiliser une police plus grande est un
          autre moyen de rendre le texte plus facile à lire sur de grands
          écrans.
        </p>
      </div>
      <div class="sect2" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          <a id="testing-fonts" name="testing-fonts"></a>Tester différentes
          polices
        </h2>
        <p>
          Vous pouvez tester les polices en tant qu'utilisateur normal. Si
          vous avez une police qui n'a pas été installée, vous pouvez la
          charger avec&nbsp;:
        </p>
        <pre class="userinput"><kbd class=
        "command">setfont /path/to/yourfont.ext</kbd></pre>
        <p>
          Pour les polices déjà installées, vous n'avez besoin que du nom,
          donc pour <code class="filename">gr737a-9x16.psfu.gz</code> par
          exemple&nbsp;:
        </p>
        <pre class="userinput"><kbd class=
        "command">setfont gr737a-9x16</kbd></pre>
        <p>
          Pour voir les glyphes dans la police, utilisez&nbsp;:
        </p>
        <pre class="userinput"><kbd class=
        "command">showconsolefont</kbd></pre>
        <p>
          Si la police a l'air d'être utilisable, vous pouvez ensuite la
          tester plus complètement.
        </p>
        <p>
          Lorsque vous trouvez une police que vous souhaitez utiliser, en
          tant qu'utilisateur <code class="systemitem">root</code>, modifiez
          <span class="phrase"><code class=
          "filename">/etc/sysconfig/console</code> comme décrit dans LFS
          section 9.6.5 <a class="ulink" href=
          "../../../../lfs/view/development/chapter09/usage.html">../../../../lfs/view/development/chapter09/usage.html</a>.</span>
        </p>
        <p>
          Pour les polices qui ne sont pas fournies par le paquet
          <span class="application">kbd</span> vous devrez éventuellement la
          compresser avec <span class="command"><strong>gzip</strong></span>
          puis l'installer en tant qu'utilisateur <code class=
          "systemitem">root</code>.
        </p>
      </div>
      <div class="sect2" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          <a id="psf-tools" name="psf-tools"></a>Modification des polices
          avec psf-tools
        </h2>
        <p>
          Bien que certaines polices de console soient créées depuis des
          fichiers BDF, qui sont un format texte avec des valeurs
          hexadécimales pour les pixels dans chaque ligne du caractère, il y
          a des outils plus modernes utilisables pour éditer des polices psf.
          Le paquet <a class="ulink" href=
          "http://www.seasip.info/Unix/PSF/">psftools</a> vous permet de
          décharger une police en une représentation textuelle avec un tiret
          pour un pixel éteint (noir) et un dièse pour un pixel qui est
          allumé (blanc). Vous peuvez ensuite éditer le fichier texte et
          ajouter plus de caractères, changer leur forme ou leur lier plus de
          codes de points, puis créer une nouvelle police psf avec vos
          changements.
        </p>
      </div>
      <div class="sect2" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          <a id="terminus-font" name="terminus-font"></a>Utiliser des polices
          de Terminus-font
        </h2>
        <p>
          Le paquet <a class="ulink" href=
          "http://terminus-font.sourceforge.net/">Terminus Font</a> fournit
          des polices bitmap à largeur fixe destinées aux longs (8 heures ou
          plus par jour) travaux avec des ordinateurs. Dans 'Character
          variants' sur cette page se trouve une liste de correctifs (dans le
          répertoire <code class="filename">alt/</code>). Si vous utilisez un
          navigateur graphique pour regarder cette page, vous peuvez voir ce
          que les correctifs font, par exemple 'll2' rend 'l' visiblement
          différent de 'i' et '1'.
        </p>
        <p>
          Par défaut, <span class="application">terminus-font</span> essaiera
          de créer différents types de polices, et cela échouera si
          <span class="command"><strong>bdftopcf</strong></span> de <a class=
          "xref" href="../x/x7app.html" title=
          "Applications Xorg">Applications Xorg</a> n'est pas installé. Le
          script configure n'est seulement vraiment utile que si vous
          installez <span class="emphasis"><em>toutes</em></span> les polices
          (bitmaps console et X11) dans les bons répertoires, comme dans une
          distribution. Pour construire uniquement les polices PSF et leur
          dépendances, lancez&nbsp;:
        </p>
        <pre class="userinput"><kbd class="command">make psf</kbd></pre>
        <p>
          Cela créera plus de 240 polices ter-*.psf. Le suffixe 'b' indique
          clair, 'n' indique normal. Vous pouvez ensuite les tester pour voir
          si elles remplissent vos exigences. À moins de créer une
          distribution, il est peu utile de les installer toutes.
        </p>
        <p>
          Par exemple, pour installer la dernière de ces police, vous pouvez
          la gziper et ensuite l'installer en tant qu'utilisateur
          <code class="systemitem">root</code>&nbsp;:
        </p>
        <pre class="userinput"><kbd class=
        "command">install -v -m644 ter-v32n.psf.gz /usr/share/consolefonts</kbd></pre>
      </div>
      <p class="updated">
        Last updated on
      </p>
    </div>
    <div class="navfooter">
      <ul>
        <li class="prev">
          <a accesskey="p" href="bootdisk.html" title=
          "Créer un périphérique de démarrage personnalisé">Précédent</a>
          <p>
            Créer un périphérique de démarrage personnalisé
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="firmware.html" title=
          "À propos des Firmwares">Suivant</a>
          <p>
            À propos des Firmwares
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="config.html" title=
          "Chapitre&nbsp;3.&nbsp;Questions de configuration après LFS">Niveau
          supérieur</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Au-delà de Linux® From Scratch (édition System V) - Version r10.1-1007+">
          Sommaire</a>
        </li>
      </ul>
    </div>
  </body>
</html>
