<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="application/xhtml+xml; charset=utf-8" />
    <title>
      btrfs-progs-5.13.1
    </title>
    <link rel="stylesheet" type="text/css" href="../stylesheets/lfs.css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.79.1" />
    <link rel="stylesheet" href="../stylesheets/lfs-print.css" type=
    "text/css" media="print" />
  </head>
  <body class="blfs" id="blfs-r10.1-1007+">
    <div class="navheader">
      <h4>
        Au-delà de Linux<sup>®</sup> From Scratch (édition <span class=
        "phrase">System V)</span> - Version r10.1-1007+
      </h4>
      <h3>
        Chapitre&nbsp;5.&nbsp;Systèmes de fichiers et gestion de disque
      </h3>
      <ul>
        <li class="prev">
          <a accesskey="p" href="initramfs.html" title=
          "À propos de initramfs">Précédent</a>
          <p>
            À propos de initramfs
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="dosfstools.html" title=
          "dosfstools-4.2">Suivant</a>
          <p>
            dosfstools-4.2
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="filesystems.html" title=
          "Chapitre&nbsp;5.&nbsp;Systèmes de fichiers et gestion de disque">Niveau
          supérieur</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Au-delà de Linux® From Scratch (édition System V) - Version r10.1-1007+">
          Sommaire</a>
        </li>
      </ul>
    </div>
    <div class="sect1" lang="fr" xml:lang="fr">
      <h1 class="sect1">
        <a id="btrfs-progs" name="btrfs-progs"></a>btrfs-progs-5.13.1
      </h1>
      <div class="package" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          Introduction à btrfs-progs
        </h2>
        <p>
          Le paquet <span class="application">btrfs-progs</span> contient les
          outils d'administration et de débogage pour le système de fichier
          en B-arbre (btrfs).
        </p>
        <p>
          This package is known to build and work properly using an LFS-11.0
          platform.
        </p>
        <h3>
          Informations sur le paquet
        </h3>
        <div class="itemizedlist">
          <ul class="compact">
            <li class="listitem">
              <p>
                Téléchargement (HTTP)&nbsp;: <a class="ulink" href=
                "https://www.kernel.org/pub/linux/kernel/people/kdave/btrfs-progs/btrfs-progs-v5.13.1.tar.xz">
                https://www.kernel.org/pub/linux/kernel/people/kdave/btrfs-progs/btrfs-progs-v5.13.1.tar.xz</a>
              </p>
            </li>
            <li class="listitem">
              <p>
                Téléchargement (FTP)&nbsp;: <a class="ulink" href=""></a>
              </p>
            </li>
            <li class="listitem">
              <p>
                Somme de contrôle MD5 du téléchargement&nbsp;:
                8ca78d6e62179ef177597422e27a58fc
              </p>
            </li>
            <li class="listitem">
              <p>
                Taille du téléchargement&nbsp;: 2.1&nbsp;Mo
              </p>
            </li>
            <li class="listitem">
              <p>
                Estimation de l'espace disque requis&nbsp;: 54&nbsp;Mo (plus
                2,7&nbsp;Go pour les tests)
              </p>
            </li>
            <li class="listitem">
              <p>
                Estimation du temps de construction&nbsp;: 0,2&nbsp;SBU (plus
                5.9&nbsp;SBU pour les tests, mais ils seront plus longs sur
                un disque lent)
              </p>
            </li>
          </ul>
        </div>
        <h3>
          Dépendances de Btrfs-progs
        </h3>
        <h4>
          Requises
        </h4>
        <p class="required">
          <a class="xref" href="../general/lzo.html" title=
          "LZO-2.10">LZO-2.10</a>
        </p>
        <h4>
          Recommandées
        </h4>
        <p class="recommended">
          <a class="xref" href="../general/asciidoc.html" title=
          "Asciidoc-9.1.0">asciidoc-9.1.0</a> et <a class="xref" href=
          "../pst/xmlto.html" title="xmlto-0.0.28">xmlto-0.0.28</a> (les deux
          requièrent de générer les pages de manuel)
        </p>
        <h4>
          Facultatives
        </h4>
        <p class="optional">
          <a class="xref" href="lvm2.html" title=
          "LVM2-2.03.13">LVM2-2.03.13</a> (<span class=
          "command"><strong>dmsetup</strong></span> est utilisé dans les
          tests) et <a class="xref" href="reiserfs.html" title=
          "reiserfsprogs-3.6.27">reiserfsprogs-3.6.27</a> (pour les tests)
        </p>
        <p class="usernotes">
          Notes utilisateur&nbsp;: <a class="ulink" href=
          "https://wiki.linuxfromscratch.org/blfs/wiki/btrfs-progs">https://wiki.linuxfromscratch.org/blfs/wiki/btrfs-progs</a>
        </p>
      </div>
      <div class="kernel" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          <a id="btrfs-progs-kernel" name=
          "btrfs-progs-kernel"></a>Configuration du noyau
        </h2>
        <p>
          Activez les options suivantes dans la configuration du noyau et
          recompilez le noyau&nbsp;:
        </p>
        <pre class="screen"><code class="literal">File systems ---&gt;
  &lt;*/M&gt; Btrfs filesystem support [CONFIG_BTRFS_FS]</code></pre>
        <p>
          En plus de ce qui précède et des options requises pour <a class=
          "xref" href="lvm2.html" title="LVM2-2.03.13">LVM2-2.03.13</a> et
          <a class="xref" href="reiserfs.html" title=
          "reiserfsprogs-3.6.27">reiserfsprogs-3.6.27</a>, les options
          suivantes doivent être activées pour lancer les tests&nbsp;:
        </p>
        <pre class="screen"><code class="literal">File systems  ---&gt;
  [*]   Btrfs POSIX Access Control Lists      [CONFIG_BTRFS_FS_POSIX_ACL]
  [*]   ReiserFS extended attributes          [CONFIG_REISERFS_FS_XATTR]
  [*]     ReiserFS POSIX Access Control Lists [CONFIG_REISERFS_FS_POSIX_ACL]</code></pre>
      </div>
      <div class="installation" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          Installation de btrfs-progs
        </h2>
        <p>
          Installez <span class="application">btrfs-progs</span> en lançant
          les commandes suivantes&nbsp;:
        </p>
        <pre class="userinput"><kbd class=
        "command">./configure --prefix=/usr &amp;&amp;
make</kbd></pre>
        <div class="admon note">
          <img alt="[Note]" src="../images/note.png" />
          <h3>
            Note
          </h3>
          <p>
            Certains tests ont besoin de grep construit avec les expressions
            régulières de perl. Pour cela, reconstruisez grep avec les
            instruction du chapitre 8 de LFS après avoir installé <a class=
            "xref" href="../general/pcre.html" title=
            "PCRE-8.45">PCRE-8.45</a>.
          </p>
        </div>
        <p>
          Avant de lancer les tests, construisez un programme support&nbsp;:
        </p>
        <pre class="userinput"><kbd class="command">make fssum</kbd></pre>
        <p>
          Pour tester les résultats, lancez (en tant qu'utilisateur
          <code class="systemitem">root</code>)&nbsp;:
        </p>
        <pre class="root"><kbd class="command">pushd tests
   ./fsck-tests.sh
   ./mkfs-tests.sh
   ./cli-tests.sh
   ./convert-tests.sh
   ./misc-tests.sh
   ./fuzz-tests.sh
popd</kbd></pre>
        <div class="admon note">
          <img alt="[Note]" src="../images/note.png" />
          <h3>
            Note
          </h3>
          <p>
            Si les options du noyau mentionnées plus haut ne sont pas
            activées, certains tests échouent, et empêchent tous les autres
            tests de se lancer, parce que l'image disque de test n'est pas
            démontée proprement.
          </p>
        </div>
        <p>
          Installez le paquet en tant qu'utilisateur <code class=
          "systemitem">root</code>&nbsp;:
        </p>
        <pre class="root"><kbd class="command">make install</kbd></pre>
      </div>
      <div class="commands" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          Explication des commandes
        </h2>
        <p>
          <code class="option">--disable-documentation</code>&nbsp;: Cette
          option est requise si les dépendances recommandées ne sont pas
          installées.
        </p>
      </div>
      <div class="content" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          Contents
        </h2>
        <div class="segmentedlist">
          <div class="seglistitem">
            <div class="seg">
              <strong class="segtitle">Programmes installés:</strong>
              <span class="segbody">btrfs, btrfs-convert, btrfs-find-root,
              btrfs-image, btrfs-map-logical, btrfs-select-super, btrfsck
              (lien vers btrfs), btrfstune, fsck.btrfs et mkfs.btrfs</span>
            </div>
            <div class="seg">
              <strong class="segtitle">Bibliothèques installées:</strong>
              <span class="segbody">libbtrfs.so et libbtrfsutil.so</span>
            </div>
            <div class="seg">
              <strong class="segtitle">Répertoires installés:</strong>
              <span class="segbody">/usr/include/btrfs</span>
            </div>
          </div>
        </div>
        <div class="variablelist">
          <h3>
            Descriptions courtes
          </h3>
          <table border="0" class="variablelist">
            <colgroup>
              <col align="left" valign="top" />
              <col />
            </colgroup>
            <tbody>
              <tr>
                <td>
                  <p>
                    <a id="btrfs-prog" name="btrfs-prog"></a><span class=
                    "term"><span class=
                    "command"><strong>btrfs</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    est l'interface principale dans les opérations du système
                    de fichiers btrfs
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="btrfs-convert" name=
                    "btrfs-convert"></a><span class="term"><span class=
                    "command"><strong>btrfs-convert</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    convertit un système de fichier depuis ext2/3/4 ou
                    reiserfs vers btrfs
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="btrfs-find-root" name=
                    "btrfs-find-root"></a><span class="term"><span class=
                    "command"><strong>btrfs-find-root</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    est un filtre pour trouver la racine btrfs
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="btrfs-map-logical" name=
                    "btrfs-map-logical"></a><span class="term"><span class=
                    "command"><strong>btrfs-map-logical</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    relie les espaces logiques btrfs aux espaces physiques
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="btrfs-select-super" name=
                    "btrfs-select-super"></a><span class="term"><span class=
                    "command"><strong>btrfs-select-super</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    écrase les super-blocs principaux avec une copie de
                    sauvegarde
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="btrfstune" name="btrfstune"></a><span class=
                    "term"><span class=
                    "command"><strong>btrfstune</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    affine divers paramètres du système de fichier
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="fsck.btrfs" name="fsck.btrfs"></a><span class=
                    "term"><span class=
                    "command"><strong>fsck.btrfs</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    ne fait rien, mais est présent pour être cohérent avec
                    fstab
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="mkfs.btrfs" name="mkfs.btrfs"></a><span class=
                    "term"><span class=
                    "command"><strong>mkfs.btrfs</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    crée un système de fichier btrfs
                  </p>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <p class="updated">
        Last updated on
      </p>
    </div>
    <div class="navfooter">
      <ul>
        <li class="prev">
          <a accesskey="p" href="initramfs.html" title=
          "À propos de initramfs">Précédent</a>
          <p>
            À propos de initramfs
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="dosfstools.html" title=
          "dosfstools-4.2">Suivant</a>
          <p>
            dosfstools-4.2
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="filesystems.html" title=
          "Chapitre&nbsp;5.&nbsp;Systèmes de fichiers et gestion de disque">Niveau
          supérieur</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Au-delà de Linux® From Scratch (édition System V) - Version r10.1-1007+">
          Sommaire</a>
        </li>
      </ul>
    </div>
  </body>
</html>
