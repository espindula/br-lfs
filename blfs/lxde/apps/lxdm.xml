<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

  <!-- Place this in the general.ent file
  <!ENTITY TEMPLATE-version "">
  -->

  <!ENTITY lxdm-download-http "http://downloads.sourceforge.net/lxdm/lxdm-&lxdm-version;.tar.xz">
  <!ENTITY lxdm-download-ftp  " ">
  <!ENTITY lxdm-md5sum        "a51686720e606ca456d7f56ae4159d1f">
  <!ENTITY lxdm-size          "232 Ko">
  <!ENTITY lxdm-buildsize     "4.7 Mo">
  <!ENTITY lxdm-time          "less than 0.1 SBU ">
]>

<sect1 id="lxdm" xreflabel="LXDM-&lxdm-version;">
  <?dbhtml filename="lxdm.html"?>

  <sect1info>
    <othername>$LastChangedBy: fernando $</othername>
    <date>$Date: 2014-09-01 16:53:56 +0200 (lun. 01 sept. 2014) $</date>
  </sect1info>

  <title>LXDM-&lxdm-version;</title>

  <indexterm zone="lxdm">
    <primary sortas="a-LXDM">LXDM</primary>
  </indexterm>

  <sect2 role="package">
    <title>Introduction à LXDM</title>

    <para>
      The <application>LXDM</application> is a lightweight Display Manager for
      the <application>LXDE</application> desktop. It can also be used as an
      alternative to other Display Managers such as
      <application>GNOME's</application> <application>GDM</application> or
      <application>KDE's</application> <application>KDM</application>.
    </para>

    &lfs75_checked;

    <bridgehead renderas="sect3">Information sur le paquet </bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>
          Téléchargement (HTTP) : <ulink url="&lxdm-download-http;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Téléchargement (FTP) : <ulink url="&lxdm-download-ftp;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Somme de contrôle MD5 du téléchargement : &lxdm-md5sum;
        </para>
      </listitem>
      <listitem>
        <para>
          Taille du téléchargement : &lxdm-size;
        </para>
      </listitem>
      <listitem>
        <para>
          Estimation de l'espace disque requis : &lxdm-buildsize;
        </para>
      </listitem>
      <listitem>
        <para>
          Estimation du temps de construction : &lxdm-time;
        </para>
      </listitem>
    </itemizedlist>

    <bridgehead renderas="sect3">Dépendances de LXDM</bridgehead>

    <bridgehead renderas="sect4">Requises</bridgehead>
    <para role="required">
      <xref linkend="gtk2"/>,
      <xref linkend="iso-codes"/> et
      <xref linkend="librsvg"/> (runtime, for default theme background)
    </para>

    <bridgehead renderas="sect4">Recommandées</bridgehead>
    <para role="recommended">
     <xref linkend="linux-pam"/>
    </para>
    
    <bridgehead renderas="sect4">Facultative</bridgehead>
    <para role="optional">
      <xref linkend="gtk3"/>
    </para>

    <para condition="html" role="usernotes">
      Notes utilisateur : <ulink url="&blfs-wiki;/lxdm"/>
    </para>
  </sect2>

  <sect2 role="installation">
    <title>Installation de LXDM</title>

    <para>
      First, fix some files.
    </para>

<screen><userinput>mv -vi pam/lxdm{,.orig} &amp;&amp;

cat &gt; pam/lxdm &lt;&lt; "EOF" &amp;&amp;
<literal>#%PAM-1.0
auth        required    pam_unix.so
auth        requisite   pam_nologin.so
account     required    pam_unix.so
password    required    pam_unix.so
session     required    pam_unix.so</literal>
EOF

sed -i 's/^bg/#&amp;/' data/lxdm.conf.in</userinput></screen>

    <para>
      Installez <application>LXDM</application> en lançant les commandes suivantes :
       
    </para>

<screen><userinput>./configure --prefix=/usr     \
            --sysconfdir=/etc \
            --with-pam        \
            --with-systemdsystemunitdir=/lib/systemd/system &amp;&amp;
make</userinput></screen>

    <para>
      This package does not come with a test suite.
    </para>

    <para>
      Maintenant, en tant qu'utilisateur <systemitem class="username">root</systemitem> :
    </para>

<screen role="root"><userinput>make install</userinput></screen>
  </sect2>

  <!--Optional section-->
  <sect2 role="commands">
    <title>Explications des commandes</title>

    <para>
      <command>cat &gt; pam/lxdm &lt;&lt; "EOF" ...</command> : Replace default
      <filename>/etc/pam.d/lxdm</filename> by another one appropriate for BLFS.
    </para>

    <para>
      <command>sed -i ... lxdm.conf.in</command> : Fix the background to the
      default one.
    </para>

    <para>
      <option>--with-pam</option> : This option enables use of pam
      authentication.
    </para>

    <para>
      <option>--with-systemdsystemunitdir=no</option> : Main BLFS does not
      support systemd.
    </para>

  </sect2>

  <sect2 role="configuration">
    <title>Configuring LXDM</title>

   <sect3 id="lxdm-config">
      <title>Config Files</title>

      <para>
        <filename>/etc/lxdm/lxdm.conf</filename>
      </para>

      <indexterm zone="lxdm lxdm-config">
        <primary sortas="e-etc-lxdm-lxdm.conf">/etc/lxdm/lxdm.conf</primary>
      </indexterm>

    </sect3>

    <sect3>
      <title>Configuration Information</title>

      <para>
        The LXDM daemon configuration <filename>/etc/lxdm/lxdm.conf</filename>
        file options includes numlock on/off, backgraound image (bg), session,
        etc.  You can set a default session by uncommenting the line:
        session=/usr/bin/startlxde et replacing <command>startlxde</command>
        with your session of choice. For <application>GNOME</application>
        session=/usr/bin/gnome-session.  For <application>OPENBOX</application>
        session=/usr/bin/openbox-session et for
        <application>XFCE</application> session=/usr/bin/startxfce4.
      </para>

      <para>
        It is also possible to set the preferred session on a per-user basis by
        editing the ~/.dmrc file for each user et adding:
        <screen><literal>[Desktop]
        Session=xfce</literal></screen>
      </para>

      <para>
        You can replace the default dummy face in the greeting screen by other
        image representing your user. For that, copy or symlink the desired
        image to your home directory, with the name <filename>.face</filename>.
      </para>

    </sect3>

   <sect3 id="lxdm-init">
      <title>Boot Script</title>

      <para>
        Install the <filename>/etc/rc.d/init.d/lxdm</filename> init script from
        the <xref linkend="bootscripts"/> package.
      </para>

      <indexterm zone="lxdm lxdm-init">
        <primary sortas="f-lxdm">lxdm</primary>
      </indexterm>

<screen role="root"><userinput>make install-lxdm</userinput></screen>

    </sect3>
  
  </sect2>
  <!--Required section-->
  <sect2 role="content">
    <title>Contenu</title>

    <segmentedlist>
      <segtitle>Programmes installés</segtitle>
      <segtitle>Bibliothèques installées</segtitle>
      <segtitle>Répertoires installés</segtitle>

      <seglistitem>
        <seg>
          lxdm, lxdm-binary et lxdm-config
        </seg>
        <seg>
          Aucun
        </seg>
        <seg>
          /etc/lxdm et
          /usr/share/lxdm
        </seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Description courte</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <!-- If the program or library name conflicts (is the same) as the
      package name, add -prog or -lib to the varlistentry entity id
      et the 2nd entry of the indexterm zone entity -->

      <varlistentry id="lxdm-prog">
        <term><command>lxdm</command></term>
        <listitem>
          <para>
            is a script to execute <command>lxdm-binary</command>
          </para>
          <indexterm zone="lxdm lxdm-prog">
            <primary sortas="b-lxdm">lxdm</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="lxdm-bin">
        <term><command>lxdm-binary</command></term>
        <listitem>
          <para>
             is the actual Display Manager; needs to be executed with option
             <option>-d</option> to daemonize
          </para>
          <indexterm zone="lxdm lxdm-bin">
            <primary sortas="b-lxdm">lxdm</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="lxdm-config-prog">
        <term><command>lxdm-config</command></term>
        <listitem>
          <para>
            is a graphical customizing program
          </para>
          <indexterm zone="lxdm lxdm-config">
            <primary sortas="b-lxdm">lxdm</primary>
          </indexterm>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect2>
</sect1>
