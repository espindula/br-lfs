<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

  <!ENTITY gnome-menus-download-http "&gnome-download-http;/gnome-menus/&gnome-version;/gnome-menus-&gnome-menus-version;.tar.bz2">
  <!ENTITY gnome-menus-download-ftp  "&gnome-download-ftp;/gnome-menus/&gnome-version;/gnome-menus-&gnome-menus-version;.tar.bz2">
  <!ENTITY gnome-menus-md5sum        "e2b97b01b33b9744baf26982a8ad588a">
  <!ENTITY gnome-menus-size          "437 KB">
  <!ENTITY gnome-menus-buildsize     "8 MB">
  <!ENTITY gnome-menus-time          "0.2 SBU">
]>

<sect1 id="gnome-menus" xreflabel="gnome-menus-&gnome-menus-version;">
  <?dbhtml filename="gnome-menus.html"?>

  <sect1info>
    <othername>$LastChangedBy: randy $</othername>
    <date>$Date: 2008-11-16 21:28:01 $</date>
  </sect1info>

  <title>gnome-menus-&gnome-menus-version;</title>

  <indexterm zone="gnome-menus">
    <primary sortas="a-Gnome-menus">Gnome-menus</primary>
  </indexterm>

  <sect2 role="package">
    <title>Introduction to gnome-menus</title>

    <para>The <application>gnome-menus</application> package contains an
    implementation of the draft <quote>Desktop Menu Specification</quote>
    from freedesktop.org (<ulink
    url="http://www.freedesktop.org/Standards/menu-spec"/>). Also contained
    are the <application>GNOME</application> menu layout configuration files,
    <filename>.directory</filename> files and a menu related utility
    program.</para>

    <bridgehead renderas="sect3">Package Information</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>Download (HTTP): <ulink url="&gnome-menus-download-http;"/></para>
      </listitem>
      <listitem>
        <para>Download (FTP): <ulink url="&gnome-menus-download-ftp;"/></para>
      </listitem>
      <listitem>
        <para>Download MD5 sum: &gnome-menus-md5sum;</para>
      </listitem>
      <listitem>
        <para>Download size: &gnome-menus-size;</para>
      </listitem>
      <listitem>
        <para>Estimated disk space required: &gnome-menus-buildsize;</para>
      </listitem>
      <listitem>
        <para>Estimated build time: &gnome-menus-time;</para>
      </listitem>
    </itemizedlist>

    <bridgehead renderas="sect3">Dépendances de gnome-menus</bridgehead>

    <bridgehead renderas="sect4">Required</bridgehead>
    <para role="required"><xref linkend="glib2"/> and
    <xref linkend="perl-xml-parser"/></para>

    <bridgehead renderas="sect4">Optional</bridgehead>
    <para role="optional"><xref linkend="python"/>,
    <xref linkend="gamin"/>, and
    <xref linkend="intltool"/></para>

    <para condition="html" role="usernotes">User Notes:
    <ulink url="&blfs-wiki;/gnome-menus"/></para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of gnome-menus</title>

     <xi:include xmlns:xi="http://www.w3.org/2003/XInclude"
     href="../../xincludes/without-gnome.xml"/>

    <para>Install <application>gnome-menus</application> by running the
    following commands:</para>

<screen><userinput>./configure --prefix=$(pkg-config --variable=prefix ORBit-2.0) \
            --sysconfdir=&gnome-etc-dir; \
            --enable-inotify &amp;&amp;
make</userinput></screen>

    <para>This package does not come with a test suite.</para>

    <para>Now, as the <systemitem class="username">root</systemitem> user:</para>

<screen role="root"><userinput>make install</userinput></screen>

  </sect2>

  <sect2 role="commands">
    <title>Command Explanations</title>

    <xi:include xmlns:xi="http://www.w3.org/2003/XInclude"
    href="../../xincludes/gnome-prefix.xml"/>

    <xi:include xmlns:xi="http://www.w3.org/2003/XInclude"
    href="../../xincludes/gnome-sysconfdir.xml"/>

    <para><parameter>--enable-inotify</parameter>: This parameter is used so
    that file polling is accomplished using the kernel inotify calls, instead
    of using other polling methods. Remove this parameter if you wish to fall
    back to <application>Gamin</application> as the file polling method.</para>

  </sect2>

  <sect2 role="configuration">
    <title>Configuring gnome-menus</title>

    <sect3>
      <title>Configuration Information</title>

      <sect4>
        <title>XDG_CONFIG_DIRS Variable</title>

        <para>So that <application>GNOME</application> can find the desktop
        configuration files, ensure you set the <envar>XDG_CONFIG_DIRS</envar>
        environment variable in the system profile, or in individual user's
        profiles as shown below (you may add additional directories, separated
        with colons, if desired):</para>

<screen><literal>export XDG_CONFIG_DIRS=&gnome-etc-dir;/xdg:/etc/xdg</literal></screen>

      </sect4>

      <sect4>
        <title>XDG_DATA_DIRS Variable</title>

        <para>So that <application>GNOME</application> can find the data
        to populate the menus, ensure you set the <envar>XDG_DATA_DIRS</envar>
        environment variable in the system profile, or in individual user's
        profiles as shown below (you may add additional directories, separated
        with colons, if desired):</para>

<screen><literal>export XDG_DATA_DIRS=$GNOME_PREFIX/share:/usr/share</literal></screen>

      </sect4>

      <sect4>
        <title>PYTHONPATH Variable</title>

        <para>If your GNOME-2 installation prefix is anything other than
        <filename class='directory'>/usr</filename> and you have
        <application>Python</application> installed, you need to update the
        <envar>PYTHONPATH</envar> environment variable so that the
        <filename>gmenu</filename> module can be located by
        <application>Python</application>. Set the variable in the system
        profile, or in individual user's profiles as shown below:</para>

<screen><literal>export PYTHONPATH=$PYTHONPATH:$(pkg-config --variable=prefix \
       ORBit-2.0)/lib/python&python-majorver;/site-packages:$(pkg-config \
       --variable=prefix \
       ORBit-2.0)/lib/python&python-majorver;/site-packages/GMenuSimpleEditor</literal></screen>

      </sect4>

    </sect3>

  </sect2>

  <sect2 role="content">
    <title>Contents</title>

    <segmentedlist>
      <segtitle>Installed Programs</segtitle>
      <segtitle>Installed Library</segtitle>
      <segtitle>Installed Directories</segtitle>

      <seglistitem>
        <seg>gmenu-simple-editor and gnome-menu-spec-test</seg>
        <seg>libgnome-menu.{so,a}</seg>
        <seg>&gnome-etc-dir;/xdg and the following subdirectories of
        <envar>$GNOME_PREFIX</envar>/:
        include/gnome-menus,
        lib/python&python-majorver;/site-packages/GMenuSimpleEditor,
        share/{desktop-directories, gnome-menus}</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="gmenu-simple-editor">
        <term><command>gmenu-simple-editor</command></term>
        <listitem>
          <para>is a simple front-end script to the
          <application>Python</application> Gmenu Simple Editor module</para>
          <indexterm zone="gnome-menus gmenu-simple-editor">
            <primary sortas="b-gmenu-simple-editor">gmenu-simple-editor</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="gnome-menu-spec-test">
        <term><command>gnome-menu-spec-test</command></term>
        <listitem>
          <para>is used to test GNOME's implementation of
          the Desktop Menu Specification.</para>
          <indexterm zone="gnome-menus gnome-menu-spec-test">
            <primary sortas="b-gnome-menu-spec-test">gnome-menu-spec-test</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libgnome-menu">
        <term><filename class='libraryfile'>libgnome-menu.{so,a}</filename></term>
        <listitem>
          <para>contains functions required to support GNOME's implementation
          of the Desktop Menu Specification.</para>
          <indexterm zone="gnome-menus libgnome-menu">
            <primary sortas="c-libgnome-menu">libgnome-menu.{so,a}</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
