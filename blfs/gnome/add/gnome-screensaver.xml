<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

  <!ENTITY gnome-screensaver-download-http "&gnome-download-http;/gnome-screensaver/&gnome-version;/gnome-screensaver-&gnome-screensaver-version;.tar.bz2">
  <!ENTITY gnome-screensaver-download-ftp  "&gnome-download-ftp;/gnome-screensaver/&gnome-version;/gnome-screensaver-&gnome-screensaver-version;.tar.bz2">
  <!ENTITY gnome-screensaver-md5sum        "a18086bf2191795d87b7ea80b7b66daa">
  <!ENTITY gnome-screensaver-size          "4.6 Mio">
  <!ENTITY gnome-screensaver-buildsize     "26 Mio">
  <!ENTITY gnome-screensaver-time          "0.3 SBU">
]>

<sect1 id="gnome-screensaver" xreflabel="gnome-screensaver-&gnome-screensaver-version;">
  <?dbhtml filename="gnome-screensaver.html"?>

  <sect1info>
    <othername>$LastChangedBy: wblaszcz $</othername>
    <date>$Date: 2010-08-21 08:44:13 +0200 (sam 21 aoû 2010) $</date>
  </sect1info>

  <title>gnome-screensaver-&gnome-screensaver-version;</title>

  <indexterm zone="gnome-screensaver">
    <primary sortas="a-gnome-screensaver">gnome-screensaver</primary>
  </indexterm>

  <sect2 role="package">
    <title>Introduction à gnome-screensaver</title>

    <para>Le paquet <application>gnome-screensaver</application> contient un
    économiseur et un verrouilleur d'écran conçus pour avoir des paramètres par
    défaut simples, sains et sécurisés et pour bien s'intégrer au bureau. Il
    supporte le verrouillage des paramètres de configuration , il a des
    traductions dans plusieurs langues et entre lesquelles il est pratique pour 
    l'utilisateur de basculer.</para>
    
    &lfs65_checked;


    <bridgehead renderas="sect3">Informations sur le paquet</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>Téléchargement (HTTP)&nbsp;: <ulink url="&gnome-screensaver-download-http;"/></para>
      </listitem>
      <listitem>
        <para>Téléchargement (FTP)&nbsp;: <ulink url="&gnome-screensaver-download-ftp;"/></para>
      </listitem>
      <listitem>
        <para>Somme de contrôle MD5 du téléchargement&nbsp;: &gnome-screensaver-md5sum;</para>
      </listitem>
      <listitem>
        <para>Taille du téléchargement&nbsp;: &gnome-screensaver-size;</para>
      </listitem>
      <listitem>
        <para>Estimation de l'espace disque requis&nbsp;: &gnome-screensaver-buildsize;</para>
      </listitem>
      <listitem>
        <para>Estimation du temps de construction&nbsp;: &gnome-screensaver-time;</para>
      </listitem>
    </itemizedlist>

    <bridgehead renderas="sect3">Dépendances de gnome-screensaver</bridgehead>

    <bridgehead renderas="sect4">Requises</bridgehead>
    <para role="required"><xref linkend="gnome-desktop"/> et
    <xref linkend="gnome-menus"/></para>

    <bridgehead renderas="sect4">Facultatives</bridgehead>
    <para role="optional"><xref linkend="libgnomekbd"/>,
    <xref linkend="libnotify"/>,
    <xref linkend="xscreensaver"/>
    (et <xref linkend="libxslt"/>),
    <ulink url="http://www.mono-project.com/Main_Page">Mono</ulink>, et
    <xref linkend="xmlto"/></para>

    <para condition="html" role="usernotes">Notes utilisateur&nbsp;:
    <ulink url="&blfs-wiki;/gnome-screensaver"/></para>

  </sect2>

  <sect2 role="installation">
    <title>Installation de gnome-screensaver</title>

    <note>
      <para><emphasis>Fonctionnalités facultatives</emphasis></para>
      <para>Si vous avez installé
      <application>XScreenSaver</application> et si vous souhaitez importer un
      ou tous les <quote>hacks</quote> dans les thèmes de
      <application>gnome-screensaver</application>, paramétrez la variable
      d'environnement (modifiez-la si <application>XScreenSaver</application>
      est installée à un endroit non standard)&nbsp;:</para>

<screen><userinput>XSAVERDIR=/usr/share/xscreensaver/config</userinput></screen>

    <para>Ajoutez aussi le paramètre suivant au script <command>configure</command>
    ci-dessous&nbsp;:</para>

<screen><userinput>            --with-xscreensaverdir=$XSAVERDIR</userinput></screen>

    </note>

    <para>Installez <application>gnome-screensaver</application> en lançant
    les commandes suivantes&nbsp;:</para>

<screen><userinput>sed -i 's|etc/pam\.d"|etc"|' data/Makefile.in &amp;&amp;
./configure --prefix=$(pkg-config --variable=prefix ORBit-2.0) \
            --sysconfdir=&gnome-etc-dir; \
            --libexecdir=$(pkg-config \
                --variable=prefix ORBit-2.0)/lib/gnome-screensaver \
            --with-pam-prefix=/etc &amp;&amp;
make</userinput></screen>

    <para>Si vous avez installé <application>XScreenSaver</application> et
    que vous souhaitez importer un ou tous les <quote>hacks</quote> dans les
    thèmes de <application>gnome-screensaver</application>, vous devrez
    identifier les <quote>hacks</quote> que vous souhaitez importer. Les commandes
    ci-dessous les importeront tous. Si vous voulez en importer moins,
    modifiez le réglage de la variable  d'environnement <envar>XSAVERLIST</envar> 
    ci-dessous (en listant les hacks désirés par leur nom de fichier sans
    extension, délimités par des espaces) et lancez les commandes suivantes&nbsp;:</para>

<screen><userinput>mkdir xscreensavers &amp;&amp;
cd xscreensavers &amp;&amp;

XSAVERLIST="*" &amp;&amp;

for SAVERLIST in $(ls ${XSAVERDIR}/${XSAVERLIST}.xml); do
    ../data/migrate-xscreensaver-config.sh $SAVERLIST
done &amp;&amp;

unset XSAVERDIR
unset XSAVERLIST
unset SAVERLIST

cd ..</userinput></screen>

    <para>Ce paquet n'est pas fourni avec une suite de tests.</para>

    <para>Maintenant, en tant qu'utilisateur <systemitem class='username'>root</systemitem>&nbsp;:</para>

<screen role='root'><userinput>make install</userinput></screen>

    <para>Si vous avez installé <application>xmlto</application>, toujours en tant
    qu'utilisateur <systemitem class='username'>root</systemitem>, effectuez les commandes
    suivantes&nbsp;:</para>

<screen role='root'><userinput>GNOMEDOCDIR="$(pkg-config \
     --variable=prefix ORBit-2.0)/share/doc/gnome-screensaver-&gnome-screensaver-version;" &amp;&amp;

install -v -m644 -D doc/gnome-screensaver.html \
                    ${GNOMEDOCDIR}/gnome-screensaver.html &amp;&amp;
unset GNOMEDOCDIR</userinput></screen>

    <para>Si vous avez identifié des hacks
    <application>XScreenSaver</application> à importer dans
    <application>gnome-screensaver</application>, installez-les en lançant
    les commandes suivantes en tant qu'utilisateur <systemitem class='username'>root</systemitem>&nbsp;:</para>

<screen role='root'><userinput>install -v -m755 -d $(pkg-config --variable=prefix \
        ORBit-2.0)/share/applications/screensavers/xscreensaver &amp;&amp;
install -v -m644 xscreensavers/*.desktop \
        $(pkg-config --variable=prefix \
            ORBit-2.0)/share/gnome-screensaver/themes/xscreensaver</userinput></screen>

  </sect2>

  <sect2 role="commands">
    <title>Explication des commandes</title>

    <para><command>sed -i 's|etc/pam\.d"|etc|' data/Makefile.in</command>&nbsp;:
    Cette commande est utilisée pour qu'un erroné sur la copie du fichier de
    configuration PAM ne soit pas affiché.</para>

    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
    href="../../xincludes/gnome-prefix.xml"/>

    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
    href="../../xincludes/gnome-sysconfdir.xml"/>

    <para><parameter>--libexecdir=$(pkg-config --variable=prefix
    ORBit-2.0)/lib/gnome-screensaver</parameter>&nbsp;: Ce paramètre fait que
    les fichiers libexec s'installent à l'endroit préféré de
    <filename class="directory">$GNOME_PREFIX/lib/gnome-screensaver</filename>
    au lieu de
    <filename class="directory">$GNOME_PREFIX/libexec</filename>.</para>

    <para><parameter>--with-pam-prefix=/etc</parameter>&nbsp;: Ce paramètre est
    utilisé pour que le fichier de configuration de <application>Linux-PAM</application> 
    pour l'application <application>gnome-screensaver</application> soit
    installé au bon endroit. Vous pouvez enlever ce paramètre si vous n'avez pas
    installé <application>Linux-PAM</application> , bien que cela ne changera
    rien à la construction si vous ne le faites pas.</para>

    <para><option>--with-xscreensaverdir=$XSAVERDIR</option>&nbsp;: Ce paramètre
    utilisera les configs hack d'xscreensaver qui se trouvent dans
    <envar>$XSAVERDIR</envar>.</para>

  </sect2>

  <sect2 role="configuration">
    <title>Configuration de gnome-screensaver</title>

    <sect3 id="gnome-screensaver-config">
      <title>Fichiers de configuration</title>

      <para><filename>/etc/pam.d/gnome-screensaver</filename>,
      <filename>&gnome-etc-dir;/gdm/custom.conf</filename></para>

      <indexterm zone="gnome-screensaver gnome-screensaver-config">
        <primary sortas="e-etc-pam.d-gnome-screensaver">
        /etc/pam.d/gnome-screensaver</primary>
      </indexterm>
      <indexterm zone="gnome-screensaver gnome-screensaver-config">
        <primary sortas="etc-gnome-&gnome-version;&gnome-minor-version;gdm-custom.conf">
        &gnome-etc-dir;/gdm/custom.conf</primary>
      </indexterm>

    </sect3>

    <sect3>
      <title>Informations de configuration</title>

      <sect4>
        <title>Configuration générale</title>

        <para>La plupart des paramètres de configuration de
        <application>gnome-screensaver</application> peuvent être modifiés en 
        utilisant le menu <guimenuitem>Économiseur d'écran</guimenuitem> du menu
        déroulant <guimenu>Bureau</guimenu>&mdash;<guisubmenu>Préférences</guisubmenu>.
        Certains paramètres de peaufinement ne sont disponibles qu'en utilisant
        <xref linkend="gconf-editor"/>.</para>

      </sect4>

      <sect4>
        <title>Configuration Linux-PAM</title>

        <para>Si vous avez installé <application>Linux-PAM</application>, le
        fichier de configuration de <filename>gnome-screensaver</filename> qu'on
        vient d'installer ne fonctionne pas dans un système BLFS. Remplacez le fichier existant
        par un autre qui peut être utilisé dans un système BLFS en lançant la commande suivante
        en tant qu'utilisateur <systemitem class='username'>root</systemitem>&nbsp;:</para>

<screen role="root"><userinput>cat &gt; /etc/pam.d/gnome-screensaver &lt;&lt; "EOF"
<literal># Fichier&nbsp;: /etc/pam.d/gnome-screensaver

auth         required      pam_unix.so
account      required      pam_unix.so
session      required      pam_unix.so
password     required      pam_unix.so</literal>

EOF
chmod -v 644 /etc/pam.d/gnome-screensaver</userinput></screen>

      </sect4>

    </sect3>

  </sect2>

  <sect2 role="content">
    <title>Contenu</title>

    <segmentedlist>
      <segtitle>Programmes installés</segtitle>
      <segtitle>Bibliothèques installées</segtitle>
      <segtitle>Répertoires installés</segtitle>

      <seglistitem>
        <seg>gnome-screensaver, gnome-screensaver-command,
        gnome-screensaver-preferences, gnome-screensaver-dialog,
        gnome-screensaver-gl-helper, floaters, popsquares, et slideshow</seg>
        <seg>Aucune</seg>
        <seg><envar>$GNOME_PREFIX</envar>/{lib/gnome-screensaver/gnome-screensaver,
        share/{applications/screensavers,backgrounds/cosmos,
        gnome-screensaver}}</seg>

      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Descriptions courtes</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="gnome-screensaver-prog">
        <term><command>gnome-screensaver</command></term>
        <listitem>
          <para>est un programme de verrouillage et d'économiseur d'écran conçu
          pour fonctionner de manière seamless avec le bureau GNOME.</para>
          <indexterm zone="gnome-screensaver gnome-screensaver-prog">
            <primary sortas="b-gnome-screensaver">gnome-screensaver</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
