<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="application/xhtml+xml; charset=utf-8" />
    <title>
      xindy-2.5.1
    </title>
    <link rel="stylesheet" type="text/css" href="../stylesheets/lfs.css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.79.1" />
    <link rel="stylesheet" href="../stylesheets/lfs-print.css" type=
    "text/css" media="print" />
  </head>
  <body class="blfs" id="blfs-r10.1-1007+">
    <div class="navheader">
      <h4>
        Au-delà de Linux<sup>®</sup> From Scratch (édition <span class=
        "phrase">systemd)</span> - Version r10.1-1007+
      </h4>
      <h3>
        Chapitre&nbsp;51.&nbsp;Composition
      </h3>
      <ul>
        <li class="prev">
          <a accesskey="p" href="dvisvgm.html" title=
          "dvisvgm-2.12">Précédent</a>
          <p>
            dvisvgm-2.12
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="../appendices/creat-comm.html" title=
          "Creative Commons License">Suivant</a>
          <p>
            Creative Commons License
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="typesetting.html" title=
          "Chapitre&nbsp;51.&nbsp;Composition">Niveau supérieur</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Au-delà de Linux® From Scratch (édition systemd) - Version r10.1-1007+">
          Sommaire</a>
        </li>
      </ul>
    </div>
    <div class="sect1" lang="fr" xml:lang="fr">
      <h1 class="sect1">
        <a id="xindy" name="xindy"></a>xindy-2.5.1
      </h1>
      <div class="package" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          Introduction à xindy
        </h2>
        <p>
          <span class="application">Xindy</span> est un processeur d'index
          qui peut être utilisé pour générer des index comme ceux des livres
          pour des systèmes de préparation de documents arbitraires. Cela
          inclut les systèmes tel que TeX et LaTeX, la famille roff, les
          systèmes basés sur SGML/XML (par exemple HTML) qui manipulent
          différentes sortes de textes et génèrent des informations
          d'indexage.
        </p>
        <p>
          This package is known to build and work properly using an LFS-11.0
          platform.
        </p>
        <h3>
          Informations sur le paquet
        </h3>
        <div class="itemizedlist">
          <ul class="compact">
            <li class="listitem">
              <p>
                Téléchargement (HTTP)&nbsp;: <a class="ulink" href=
                "http://tug.ctan.org/support/xindy/base/xindy-2.5.1.tar.gz">http://tug.ctan.org/support/xindy/base/xindy-2.5.1.tar.gz</a>
              </p>
            </li>
            <li class="listitem">
              <p>
                Téléchargement (FTP)&nbsp;: <a class="ulink" href=""></a>
              </p>
            </li>
            <li class="listitem">
              <p>
                Somme de contrôle MD5 du téléchargement&nbsp;:
                221acfeeb0f6f8388f89a59c56491041
              </p>
            </li>
            <li class="listitem">
              <p>
                Taille du téléchargement&nbsp;: 506 Ko
              </p>
            </li>
            <li class="listitem">
              <p>
                Estimation de l'espace disque requis&nbsp;: 15 Mo
              </p>
            </li>
            <li class="listitem">
              <p>
                Estimation du temps de construction&nbsp;: moins de 0.1 SBU
              </p>
            </li>
          </ul>
        </div>
        <h3>
          Téléchargements supplémentaires requis
        </h3>
        <div class="itemizedlist">
          <ul class="compact">
            <li class="listitem">
              <p>
                Correctif requis&nbsp;: <a class="ulink" href=
                "https://www.linuxfromscratch.org/patches/blfs/svn/xindy-2.5.1-upstream_fixes-2.patch">
                https://www.linuxfromscratch.org/patches/blfs/svn/xindy-2.5.1-upstream_fixes-2.patch</a>
              </p>
            </li>
          </ul>
        </div>
        <h3>
          Dépendances de Xindy
        </h3>
        <h4>
          Requises
        </h4>
        <p class="required">
          <a class="xref" href="../general/clisp.html" title=
          "Clisp-2.49">Clisp-2.49</a> et <a class="xref" href="texlive.html"
          title="texlive-20210325-source">texlive-20210325</a>
        </p>
        <p class="usernotes">
          Notes utilisateur&nbsp;: <a class="ulink" href=
          "https://wiki.linuxfromscratch.org/blfs/wiki/xindy">https://wiki.linuxfromscratch.org/blfs/wiki/xindy</a>
        </p>
      </div>
      <div class="installation" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          Installation de xindy
        </h2>
        <p>
          Installez <span class="application">xindy</span> en lançant les
          commandes suivantes&nbsp;:
        </p>
        <pre class="userinput"><kbd class=
        "command">export TEXARCH=$(uname -m | sed -e 's/i.86/i386/' -e 's/$/-linux/') &amp;&amp;

sed -i "s/ grep -v '^;'/ awk NF/" make-rules/inputenc/Makefile.in &amp;&amp;

sed -i 's%\(indexentry\)%\1\\%' make-rules/inputenc/make-inp-rules.pl &amp;&amp;

patch -Np1 -i ../xindy-2.5.1-upstream_fixes-2.patch &amp;&amp;

./configure --prefix=/opt/texlive/2021              \
            --bindir=/opt/texlive/2021/bin/$TEXARCH \
            --datarootdir=/opt/texlive/2021         \
            --includedir=/usr/include               \
            --libdir=/opt/texlive/2021/texmf-dist   \
            --mandir=/opt/texlive/2021/texmf-dist/doc/man &amp;&amp;

make LC_ALL=POSIX</kbd></pre>
        <p>
          Ce paquet n'a pas de suite de tests.
        </p>
        <p>
          Maintenant, en tant qu'utilisateur <code class=
          "systemitem">root</code>&nbsp;:
        </p>
        <pre class="root"><kbd class="command">make install</kbd></pre>
      </div>
      <div class="commands" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          Explication des commandes
        </h2>
        <p>
          <span class="command"><strong>sed -i "s/ grep -v '^;'/ awk NF/"
          ...</strong></span>&nbsp;: La construction trie les fichiers dans
          les encodages latin{1..3} pour créer latin.xdy, et les versions
          unicode de ceux-ci pour créer utf8.xdy après avoir utilisé
          <span class="command"><strong>grep -v '^;'</strong></span> pour
          supprimer les lignes vides. Avec <span class=
          "application">grep-2.23</span>, toute donnée qui n'est pas dans
          l'encodage attendu est traité comme du binaire, ce qui résulte en
          un fichier inutilisable. Cette commande utilise une manière
          alternative pour supprimer les lignes vides.
        </p>
        <p>
          <span class="command"><strong>sed -i 's%\(indexentry\)%\1\\%'
          ...</strong></span>&nbsp;: Une expression régulière contient
          <code class="literal">indexentry{</code> — perl avertissait qu'il y
          avait une accolade ouvrant non échappée et traite maintenant ceci
          comme une erreur. Modifiez-la en <code class=
          "literal">indexentry\{</code>, en doublant les antislashs pour
          <span class="command"><strong>sed</strong></span>.
        </p>
        <p>
          <span class="command"><strong>patch -Np1 -i
          ../xindy-2.5.1-upstream_fixes-2.patch</strong></span>&nbsp;:
          <span class="application">Xindy</span> est maintenant maintenu sur
          CTAN. Ce correctif corrige la source pour correspondre aux
          changements qui y ont été fait (mais en ignorant les changements
          qui n'ont été faits que pour permettre les espaces dans les noms de
          fichiers et certains changement récents et triviaux).
        </p>
        <p>
          <em class="parameter"><code>--prefix=, --bindir=, --datarootdir=,
          --infodir=, --mandir= ...</code></em> &nbsp;: Ces paramètres
          assurent que les fichiers installés depuis les sources écraseront
          les fichiers correspondants installés précédemment par <span class=
          "application">install-tl-unx</span> afin que les méthodes
          d'installation alternatives de <span class=
          "application">texlive</span> soient cohérentes.
        </p>
        <p>
          <em class=
          "parameter"><code>--includedir=/usr/include</code></em>&nbsp;: Ce
          paramètre assure que les entêtes <code class=
          "filename">kpathsea</code> de <a class="xref" href="texlive.html"
          title="texlive-20210325-source">texlive-20210325</a> seront
          trouvées.
        </p>
        <p>
          <span class="command"><strong>make
          LC_ALL=POSIX</strong></span>&nbsp;: avec la version actuelle de
          <span class="application">coreutils</span>, il est essentiel de
          construire <span class="application">xindy</span> en locale POSIX
          (ou C) car dans une locale UTF-8 le fichier <code class=
          "filename">latin.xdy</code> contiendra seulement une entête et
          ensuite une ligne '<code class="literal">Binary file (standard
          input) matches</code>' à la place des nombreuses lignes de
          commandes <span class="application">lisp</span> merge-rule qu'il
          doit contenir.
        </p>
      </div>
      <div class="content" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          Contenu
        </h2>
        <div class="segmentedlist">
          <div class="seglistitem">
            <div class="seg">
              <strong class="segtitle">Programmes installés:</strong>
              <span class="segbody">tex2xindy, texindy, xindy</span>
            </div>
            <div class="seg">
              <strong class="segtitle">Bibliothèques installées:</strong>
              <span class="segbody">Aucune</span>
            </div>
            <div class="seg">
              <strong class="segtitle">Répertoire installé:</strong>
              <span class="segbody">/opt/texlive/2021/texmf-dist/xindy</span>
            </div>
          </div>
        </div>
        <div class="variablelist">
          <h3>
            Descriptions courtes
          </h3>
          <table border="0" class="variablelist">
            <colgroup>
              <col align="left" valign="top" />
              <col />
            </colgroup>
            <tbody>
              <tr>
                <td>
                  <p>
                    <a id="tex2xindy" name="tex2xindy"></a><span class=
                    "term"><span class=
                    "command"><strong>tex2xindy</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    transforme un fichier d'index LaTeX en un fichier d'index
                    brut xindy
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="texindy" name="texindy"></a><span class=
                    "term"><span class=
                    "command"><strong>texindy</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    est une enveloppe pour xindy qui utlise beaucoup des
                    conventions LaTeX par défaut
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="xindy-prog" name="xindy-prog"></a><span class=
                    "term"><span class=
                    "command"><strong>xindy</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    crée un index trié et tagué depuis un index LaTeX
                  </p>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <p class="updated">
        Last updated on
      </p>
    </div>
    <div class="navfooter">
      <ul>
        <li class="prev">
          <a accesskey="p" href="dvisvgm.html" title=
          "dvisvgm-2.12">Précédent</a>
          <p>
            dvisvgm-2.12
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="../appendices/creat-comm.html" title=
          "Creative Commons License">Suivant</a>
          <p>
            Creative Commons License
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="typesetting.html" title=
          "Chapitre&nbsp;51.&nbsp;Composition">Niveau supérieur</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Au-delà de Linux® From Scratch (édition systemd) - Version r10.1-1007+">
          Sommaire</a>
        </li>
      </ul>
    </div>
  </body>
</html>
