<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="application/xhtml+xml; charset=utf-8" />
    <title>
      Sysstat-12.5.4
    </title>
    <link rel="stylesheet" type="text/css" href="../stylesheets/lfs.css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.79.1" />
    <link rel="stylesheet" href="../stylesheets/lfs-print.css" type=
    "text/css" media="print" />
  </head>
  <body class="blfs" id="blfs-r10.1-914+">
    <div class="navheader">
      <h4>
        Au-delà de Linux<sup>®</sup> From Scratch (édition <span class=
        "phrase">systemd)</span> - Version r10.1-914+
      </h4>
      <h3>
        Chapitre&nbsp;12.&nbsp;Outils systèmes
      </h3>
      <ul>
        <li class="prev">
          <a accesskey="p" href="sg3_utils.html" title=
          "sg3_utils-1.46">Précédent</a>
          <p>
            sg3_utils-1.46
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="systemd.html" title=
          "Systemd-249">Suivant</a>
          <p>
            Systemd-249
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="sysutils.html" title=
          "Chapitre&nbsp;12.&nbsp;Outils systèmes">Niveau supérieur</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Au-delà de Linux® From Scratch (édition systemd) - Version r10.1-914+">
          Sommaire</a>
        </li>
      </ul>
    </div>
    <div class="sect1" lang="fr" xml:lang="fr">
      <h1 class="sect1">
        <a id="sysstat" name="sysstat"></a>Sysstat-12.5.4
      </h1>
      <div class="package" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          Introduction à Sysstat
        </h2>
        <p>
          Le paquet <span class="application">Sysstat</span> contient des
          outils pour surveiller les performances du système et son activité.
          <span class="application">Sysstat</span> contient l'outil
          <span class="command"><strong>sar</strong></span>, commun à
          beaucoup d'Unix commerciaux, et des outils que vous pouvez activer
          périodiquement pour récupérer et archiver des données d'activité et
          de performances.
        </p>
        <p>
          This package still needs to be checked.
        </p>
        <h3>
          Informations sur le paquet
        </h3>
        <div class="itemizedlist">
          <ul class="compact">
            <li class="listitem">
              <p>
                Téléchargement (HTTP)&nbsp;: <a class="ulink" href=
                "http://sebastien.godard.pagesperso-orange.fr/sysstat-12.5.4.tar.xz">
                http://sebastien.godard.pagesperso-orange.fr/sysstat-12.5.4.tar.xz</a>
              </p>
            </li>
            <li class="listitem">
              <p>
                Téléchargement (FTP)&nbsp;: <a class="ulink" href=""></a>
              </p>
            </li>
            <li class="listitem">
              <p>
                Somme de contrôle MD5 du téléchargement&nbsp;:
                697890a0fe72be4afe1dcdfff802bde1
              </p>
            </li>
            <li class="listitem">
              <p>
                Taille du téléchargement&nbsp;: 836&nbsp;Ko
              </p>
            </li>
            <li class="listitem">
              <p>
                Estimation de l'espace disque requis&nbsp;: 29&nbsp;Mo
              </p>
            </li>
            <li class="listitem">
              <p>
                Estimation du temps de construction&nbsp;: 0.1 SBU
              </p>
            </li>
          </ul>
        </div>
        <h3>
          Dépendances de Sysstat
        </h3>
        <p class="recommended">
          Il n'y a pas d'exigence au moment de la construction pour ce
          paquet&nbsp;; cependant, il est conçu pour être contrôlé par un
          démon cron comme <a class="xref" href="fcron.html" title=
          "Fcron-3.2.1">Fcron-3.2.1</a>.
        </p>
        <p class="usernotes">
          Notes utilisateur&nbsp;: <a class="ulink" href=
          "https://wiki.linuxfromscratch.org/blfs/wiki/sysstat">https://wiki.linuxfromscratch.org/blfs/wiki/sysstat</a>
        </p>
      </div>
      <div class="installation" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          Installation de Sysstat
        </h2>
        <p>
          Installez <span class="application">Sysstat</span> en lançant les
          commandes suivantes&nbsp;:
        </p>
        <pre class="userinput"><kbd class=
        "command">sa_lib_dir=/usr/lib/sa    \
sa_dir=/var/log/sa        \
conf_dir=/etc/sysconfig   \
./configure --prefix=/usr \
            --disable-file-attr &amp;&amp;
make</kbd></pre>
        <p>
          Ce paquet n'est pas fourni avec une suite de tests.
        </p>
        <p>
          Maintenant, en tant qu'utilisateur <code class=
          "systemitem">root</code>&nbsp;:
        </p>
        <pre class="root"><kbd class="command">make install</kbd></pre>
        <p>
          Installez l'unité systemd en lançant la commande suivante en tant
          qu'utilisateur <code class="systemitem">root</code>&nbsp;:
        </p>
        <pre class="root"><kbd class=
        "command">install -v -m644 sysstat.service /usr/lib/systemd/system/sysstat.service</kbd></pre>
        <p>
          Corrigez l'unité systemd en lançant la commande suivante en tant
          qu'utilisateur <code class="systemitem">root</code>&nbsp;:
        </p>
        <pre class="root"><kbd class=
        "command">sed -i "/^Also=/d" /usr/lib/systemd/system/sysstat.service</kbd></pre>
      </div>
      <div class="commands" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          Explication des commandes
        </h2>
        <p>
          <code class="envar">sa_lib_dir</code>&nbsp;: cette variable
          d'environnement spécifie l'endroit où se trouve le répertoire des
          bibliothèques spécifique à l'application.
        </p>
        <p>
          <code class="envar">sa_dir</code>&nbsp;: cette variable
          d'environnement spécifie l'endroit où se trouve le répertoire
          contenant les fichiers de données.
        </p>
        <p>
          <code class="envar">conf_dir</code>&nbsp;: Cette variable
          d'environnement spécifie le répertoire dans lequel se trouve la
          configuration du système.
        </p>
        <p>
          <em class="parameter"><code>--disable-file-attr</code></em>&nbsp;:
          N'initialise pas les attributs des fichiers installés. Ce paramètre
          fait que l'installation ignore la variable de groupe man dans les
          fichiers ayant <code class="systemitem">root</code>:<code class=
          "systemitem">root</code> en propriétaire.
        </p>
        <div class="admon note">
          <img alt="[Note]" src="../images/note.png" />
          <h3>
            Note
          </h3>
          <p>
            Lancez <span class="command"><strong>./configure
            --help</strong></span> pour voir les autres variables
            d'environnement influentes que vous pouvez passer à <span class=
            "command"><strong>configure</strong></span>. Il se peut que vous
            vouliez utiliser les variables <code class="envar">history</code>
            et <code class="envar">compressafter</code> pour personnaliser la
            quantité de fichiers de données récupérés sur le système.
          </p>
        </div>
      </div>
      <div class="configuration" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          Configuration de Sysstat
        </h2>
        <div class="sect3">
          <h3 class="sect3">
            <a id="sysstat-config" name="sysstat-config"></a>Fichiers de
            configuration
          </h3>
          <p>
            <code class="filename">/etc/sysconfig/sysstat</code> et
            <code class="filename">/etc/sysconfig/sysstat.ioconf</code>
          </p>
        </div>
        <div class="sect3">
          <h3 class="sect3">
            Information sur le Cron
          </h3>
          <p>
            Pour commencer à réunir des informations d'historiques de
            <span class="application">Sysstat</span>, vous devez ajouter ou
            créer le crontab d'un utilisateur privilégié. L'emplacement des
            données d'historique est <code class=
            "filename">/var/log/sa</code>. L'utilisateur qui exécute les
            outils <span class="application">Sysstat</span> via cron doit
            avoir un accès en écriture à cet emplacement.
          </p>
          <p>
            Voici ci-dessous un exemple de ce qu'il faut installer dans la
            crontab. Ajustez les paramètres pour qu'ils conviennent à vos
            besoins. Utilisez <span class="command"><strong>man
            sa1</strong></span> et <span class="command"><strong>man
            sa2</strong></span> pour des information sur les commandes.
          </p>
          <pre class="screen"><code class=
          "literal"># 8am-7pm activity reports every 10 minutes during weekdays
0 8-18 * * 1-5 /usr/lib/sa/sa1 600 6 &amp;

# 7pm-8am activity reports every hour during weekdays
0 19-7 * * 1-5 /usr/lib/sa/sa1 &amp;

# Activity reports every hour on Saturday and Sunday
0 * * * 0,6 /usr/lib/sa/sa1 &amp;

# Daily summary prepared at 19:05
5 19 * * * /usr/lib/sa/sa2 -A &amp;</code></pre>
          <p>
            Assurez-vous d'envoyer la crontab modifiée au démon cron.
          </p>
        </div>
        <div class="sect3">
          <h3 class="sect3">
            <a id="sysstat-init" name="sysstat-init"></a>Informations sur le
            démarrage du système
          </h3>
          <p>
            Au démarrage du système, il faut insérer un message LINUX RESTART
            dans le fichier de données quotidiennes pour réinitialiser les
            compteurs du noyau. On peut automatiser cela en activant l'unité
            systemd précédemment installée en utilisant la commande suivante
            en tant qu'utilisateur <code class=
            "systemitem">root</code>&nbsp;:
          </p>
          <pre class="root"><kbd class=
          "command">systemctl enable sysstat</kbd></pre>
        </div>
      </div>
      <div class="content" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          Contenu
        </h2>
        <div class="segmentedlist">
          <div class="seglistitem">
            <div class="seg">
              <strong class="segtitle">Programmes installés:</strong>
              <span class="segbody">cifsiostat, iostat, mpstat, pidstat,
              sadf, sar et tapestat</span>
            </div>
            <div class="seg">
              <strong class="segtitle">Bibliothèques installées:</strong>
              <span class="segbody">Aucune</span>
            </div>
            <div class="seg">
              <strong class="segtitle">Répertoires installés:</strong>
              <span class="segbody">/usr/lib/sa,
              /usr/share/doc/sysstat-12.5.4 et /var/log/sa</span>
            </div>
          </div>
        </div>
        <div class="variablelist">
          <h3>
            Descriptions courtes
          </h3>
          <table border="0" class="variablelist">
            <colgroup>
              <col align="left" valign="top" />
              <col />
            </colgroup>
            <tbody>
              <tr>
                <td>
                  <p>
                    <a id="cifsiostat" name="cifsiostat"></a><span class=
                    "term"><span class=
                    "command"><strong>cifsiostat</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    affiche des statiques des opérations de lecture et
                    d'écriture sur des systèmes de fichiers CIFS
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="iostat" name="iostat"></a><span class=
                    "term"><span class=
                    "command"><strong>iostat</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    rapporte les statistiques du processeur et les
                    statistiques d'entrée/sortie des périphériques et des
                    partitions
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="mpstat" name="mpstat"></a><span class=
                    "term"><span class=
                    "command"><strong>mpstat</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    écrit les activités de chaque processeur disponible
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="pidstat" name="pidstat"></a><span class=
                    "term"><span class=
                    "command"><strong>pidstat</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    est utilisé pour surveiller des tâches individuelles
                    gérées actuellement par le noyau Linux
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="sadf" name="sadf"></a><span class=
                    "term"><span class=
                    "command"><strong>sadf</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    est utilisé pour afficher le contenu de fichiers de
                    données créés par la commande <span class=
                    "command"><strong>sar</strong></span>. Mais contrairement
                    à <span class="command"><strong>sar</strong></span>,
                    <span class="command"><strong>sadf</strong></span> puisse
                    écrire ses données dans beaucoup de formats différents
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="sar" name="sar"></a><span class=
                    "term"><span class="command"><strong>sar</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    est utilisé pour afficher le contenu des compteurs
                    d'activité cumulée choisis du système d'exploitation
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="tapestat" name="tapestat"></a><span class=
                    "term"><span class=
                    "command"><strong>tapestat</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    est utilisé pour surveiller l'activité des lecteurs de
                    cassettes connectés au système
                  </p>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <p class="updated">
        Last updated on
      </p>
    </div>
    <div class="navfooter">
      <ul>
        <li class="prev">
          <a accesskey="p" href="sg3_utils.html" title=
          "sg3_utils-1.46">Précédent</a>
          <p>
            sg3_utils-1.46
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="systemd.html" title=
          "Systemd-249">Suivant</a>
          <p>
            Systemd-249
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="sysutils.html" title=
          "Chapitre&nbsp;12.&nbsp;Outils systèmes">Niveau supérieur</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Au-delà de Linux® From Scratch (édition systemd) - Version r10.1-914+">
          Sommaire</a>
        </li>
      </ul>
    </div>
  </body>
</html>
