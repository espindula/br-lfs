<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="application/xhtml+xml; charset=utf-8" />
    <title>
      Python-2.7.18
    </title>
    <link rel="stylesheet" type="text/css" href="../stylesheets/lfs.css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.79.1" />
    <link rel="stylesheet" href="../stylesheets/lfs-print.css" type=
    "text/css" media="print" />
  </head>
  <body class="blfs" id="blfs-r10.1-1007+">
    <div class="navheader">
      <h4>
        Au-delà de Linux<sup>®</sup> From Scratch (édition <span class=
        "phrase">systemd)</span> - Version r10.1-1007+
      </h4>
      <h3>
        Chapitre&nbsp;13.&nbsp;Programmation
      </h3>
      <ul>
        <li class="prev">
          <a accesskey="p" href="php.html" title="PHP-8.0.10">Précédent</a>
          <p>
            PHP-8.0.10
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="python3.html" title=
          "Python-3.9.6">Suivant</a>
          <p>
            Python-3.9.6
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="prog.html" title=
          "Chapitre&nbsp;13.&nbsp;Programmation">Niveau supérieur</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Au-delà de Linux® From Scratch (édition systemd) - Version r10.1-1007+">
          Sommaire</a>
        </li>
      </ul>
    </div>
    <div class="sect1" lang="fr" xml:lang="fr">
      <h1 class="sect1">
        <a id="python2" name="python2"></a>Python-2.7.18
      </h1>
      <div class="package" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          Introduction à Python 2
        </h2>
        <p>
          Le paquet <span class="application">Python 2</span> contient
          l'environnement de développement <span class=
          "application">Python</span>. C'est utile pour faire de la
          programmation orientée objet, écrire des scripts, faire des
          prototypes de gros programmes, ou développer des applications
          entières. Cette version est là pour des questions de
          rétro-compatibilité avec d'autres paquets qui en dépendent.
        </p>
        <div class="admon note">
          <img alt="[Note]" src="../images/note.png" />
          <h3>
            Note
          </h3>
          <p>
            Python2 est obsolète pour les développeurs en amont. La prise en
            charge de Python2 est terminée depuis le 1er janvier 2020.
          </p>
          <p>
            BLFS essaye d'utiliser Python3 le plus possible, mais certains
            paquets n'ont pas jamais été mis à jour pour prendre en charge
            Python3.
          </p>
        </div>
        <p>
          This package is known to build and work properly using an LFS-11.0
          platform.
        </p>
        <h3>
          Informations sur le paquet
        </h3>
        <div class="itemizedlist">
          <ul class="compact">
            <li class="listitem">
              <p>
                Téléchargement (HTTP)&nbsp;: <a class="ulink" href=
                "https://www.python.org/ftp/python/2.7.18/Python-2.7.18.tar.xz">
                https://www.python.org/ftp/python/2.7.18/Python-2.7.18.tar.xz</a>
              </p>
            </li>
            <li class="listitem">
              <p>
                Téléchargement (FTP)&nbsp;: <a class="ulink" href=""></a>
              </p>
            </li>
            <li class="listitem">
              <p>
                Somme de contrôle MD5 du téléchargement&nbsp;:
                fd6cc8ec0a78c44036f825e739f36e5a
              </p>
            </li>
            <li class="listitem">
              <p>
                Taille du téléchargement&nbsp;: 12.2&nbsp;Mo
              </p>
            </li>
            <li class="listitem">
              <p>
                Estimation de l'espace disque requis&nbsp;: 228&nbsp;Mo (plus
                17&nbsp;Mo pour les tests)
              </p>
            </li>
            <li class="listitem">
              <p>
                Estimation du temps de construction&nbsp;: 0.5 SBU (avec
                parallélisme = 4&nbsp; plus 5,9 SBU pour les tests)
              </p>
            </li>
          </ul>
        </div>
        <h3>
          Téléchargements supplémentaires
        </h3>
        <div class="itemizedlist">
          <ul class="compact">
            <li class="listitem">
              <p>
                Correctif requis&nbsp;: <a class="ulink" href=
                "https://www.linuxfromscratch.org/patches/blfs/svn/Python-2.7.18-security_fixes-1.patch">
                https://www.linuxfromscratch.org/patches/blfs/svn/Python-2.7.18-security_fixes-1.patch</a>
              </p>
            </li>
            <li class="listitem">
              <p>
                Documentation HTML facultative&nbsp;: <a class="ulink" href=
                "https://docs.python.org/ftp/python/doc/2.7.18/python-2.7.18-docs-html.tar.bz2">
                https://docs.python.org/ftp/python/doc/2.7.18/python-2.7.18-docs-html.tar.bz2</a>
              </p>
            </li>
          </ul>
        </div>
        <h3>
          Dépendances de Python 2
        </h3>
        <h4>
          Facultatives
        </h4>
        <p class="optional">
          <a class="xref" href="bluez.html" title="BlueZ-5.61">BlueZ-5.61</a>
          et <a class="xref" href="valgrind.html" title=
          "Valgrind-3.17.0">Valgrind-3.17.0</a>
        </p>
        <h4>
          Facultatif (pour des modules supplémentaires)
        </h4>
        <p class="optional">
          <a class="xref" href="../server/sqlite.html" title=
          "SQLite-3.36.0">SQLite-3.36.0</a> et <a class="xref" href="tk.html"
          title="Tk-8.6.11.1">Tk-8.6.11.1</a>
        </p>
        <p class="usernotes">
          Notes utilisateur&nbsp;: <a class="ulink" href=
          "https://wiki.linuxfromscratch.org/blfs/wiki/Python">https://wiki.linuxfromscratch.org/blfs/wiki/Python</a>
        </p>
      </div>
      <div class="installation" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          Installation de Python 2
        </h2>
        <p>
          Tout d'abord, désactive l'installation d'un script qui remplace un
          script plus récent&nbsp;:
        </p>
        <pre class="userinput"><kbd class=
        "command">sed -i '/2to3/d' ./setup.py</kbd></pre>
        <p>
          Installez <span class="application">Python 2</span> en lançant les
          commandes suivantes&nbsp;:
        </p>
        <pre class="userinput"><kbd class=
        "command">patch -Np1 -i ../Python-2.7.18-security_fixes-1.patch &amp;&amp;
./configure --prefix=/usr                              \
            --enable-shared                            \
            --with-system-expat                        \
            --with-system-ffi                          \
            --enable-unicode=ucs4                     &amp;&amp;
make</kbd></pre>
        <p>
          Si vous invoquez les tests, ils seront lancés deux fois. Pour
          tester les résultats lancez&nbsp;: <span class=
          "command"><strong>make -k test</strong></span>.
        </p>
        <p>
          Maintenant, en tant qu'utilisateur <code class=
          "systemitem">root</code>&nbsp;:
        </p>
        <pre class="root"><kbd class=
        "command">make altinstall                                &amp;&amp;
ln -s python2.7        /usr/bin/python2        &amp;&amp;
ln -s python2.7-config /usr/bin/python2-config &amp;&amp;
chmod -v 755 /usr/lib/libpython2.7.so.1.0</kbd></pre>
        <p>
          Puisque <span class="application">Python 2</span> est en mode
          maintenance, et que <span class="application">Python 3</span> est
          recommandé en amont pour le développement, vous n'avez probablement
          pas besoin d'installer la documentation. Cependant, si vous voulez
          installer la documentation pour les deux versions de <span class=
          "application">Python</span>, soyez certain de définir la variable
          <code class="envar">PYTHONDOCS</code> pour la version que vous
          voulez utiliser, chaque fois que vous avez besoin de consulter la
          documentation. Si vous avez téléchargé la documentation depuis
          <a class="ulink" href=
          "http://docs.python.org/download.html">http://docs.python.org/download.html</a>,
          installez-la en tant qu'utilisateur <code class=
          "systemitem">root</code>&nbsp;:
        </p>
        <pre class="root"><kbd class=
        "command">install -v -dm755 /usr/share/doc/python-2.7.18 &amp;&amp;

tar --strip-components=1                     \
    --no-same-owner                          \
    --directory /usr/share/doc/python-2.7.18 \
    -xvf ../python-2.7.18-docs-html.tar.bz2 &amp;&amp;

find /usr/share/doc/python-2.7.18 -type d -exec chmod 0755 {} \; &amp;&amp;
find /usr/share/doc/python-2.7.18 -type f -exec chmod 0644 {} \;</kbd></pre>
      </div>
      <div class="commands" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          Explication des commandes
        </h2>
        <p>
          <em class="parameter"><code>--with-system-expat</code></em>&nbsp;:
          Ce paramètre active l'édition de liens contre la version système de
          <span class="application">Expat</span>.
        </p>
        <p>
          <em class="parameter"><code>--with-system-ffi</code></em>&nbsp;: Ce
          paramètre active l'édition de liens contre la version système de
          <span class="application">libffi</span>.
        </p>
        <p>
          <em class=
          "parameter"><code>--enable-unicode=ucs4</code></em>&nbsp;: Ce
          paramètre active le support de l'Unicode 32 bits dans <span class=
          "application">Python</span>.
        </p>
        <p>
          <code class="option">--with-ensurepip=yes</code>&nbsp;: Ce
          paramètre active la construction des programmes de gestion de
          paquets <span class="command"><strong>pip</strong></span> et
          <span class="command"><strong>setuptools</strong></span>.
          <span class="command"><strong>setuptools</strong></span> est requis
          pour construire certains modules Python. Ce paramètre n'est pas
          recommandé parce que cette version de Python n'est plus maintenue.
        </p>
        <p>
          <code class="option">--with-dbmliborder=bdb:gdbm:ndbm</code>&nbsp;:
          Utilisez ce paramètre si vous voulez lier le module <span class=
          "application">Python</span> DBM à <span class=
          "application">Berkeley DB</span> au lieu de <span class=
          "application">GDBM</span>.
        </p>
        <p>
          <span class="command"><strong>make
          altinstall</strong></span>&nbsp;: cette cible make omet certains
          liens symboliques par défaut qui pourraient interférer avec Python
          3.
        </p>
        <p>
          <span class="command"><strong>chmod ...</strong></span>&nbsp;:
          Corrige les permissions pour que les bibliothèques soient cohérent
          avec les autres bibliothèques.
        </p>
      </div>
      <div class="configuration" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          Configuration de Python 2
        </h2>
        <p>
          Pour que <span class="command"><strong>python</strong></span>
          trouve la documentation installée, vous devez ajouter la variable
          d'environnement suivante au profil individuel de l'utilisateur ou
          du système global&nbsp;:
        </p>
        <pre class="root"><kbd class=
        "command">export PYTHONDOCS=/usr/share/doc/python-2.7.18</kbd></pre>
      </div>
      <div class="content" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          Contenu
        </h2>
        <div class="segmentedlist">
          <div class="seglistitem">
            <div class="seg">
              <strong class="segtitle">Programmes installés:</strong>
              <span class="segbody">pydoc, python2 (lien symbolique),
              python2-config (lien symbolique), python2.7, python2.7-config,
              smtpd.py et idle</span>
            </div>
            <div class="seg">
              <strong class="segtitle">Bibliothèque installée:</strong>
              <span class="segbody">libpython2.7.so</span>
            </div>
            <div class="seg">
              <strong class="segtitle">Répertoires installés:</strong>
              <span class="segbody">/usr/{include,lib}/python2.7 et
              /usr/share/doc/python-2.7.18</span>
            </div>
          </div>
        </div>
        <div class="variablelist">
          <h3>
            Descriptions courtes
          </h3>
          <table border="0" class="variablelist">
            <colgroup>
              <col align="left" valign="top" />
              <col />
            </colgroup>
            <tbody>
              <tr>
                <td>
                  <p>
                    <a id="idle" name="idle"></a><span class=
                    "term"><span class=
                    "command"><strong>idle</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    est un script enveloppe ouvrant un éditeur graphique de
                    <span class="application">Python</span>. Pour que ce
                    script fonctionne, vous devez installer <span class=
                    "application">Tk</span> avant Python afin que le module
                    Python Tkinter soit construit
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="pydoc2" name="pydoc2"></a><span class=
                    "term"><span class=
                    "command"><strong>pydoc</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    est l'outil de documentation de <span class=
                    "application">Python</span>
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="python" name="python"></a><span class=
                    "term"><span class=
                    "command"><strong>python2</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    est un langage de programmation interprété, interactif et
                    orienté objet
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="python2-ver" name="python2-ver"></a><span class=
                    "term"><span class=
                    "command"><strong>python2.7</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    est un nom spécifique à la version du programme
                    <span class="command"><strong>python</strong></span>
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="smtpd.py" name="smtpd.py"></a><span class=
                    "term"><span class=
                    "command"><strong>smtpd.py</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    est une implémentation de proxy SMTP en <span class=
                    "application">Python</span>
                  </p>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <p class="updated">
        Last updated on
      </p>
    </div>
    <div class="navfooter">
      <ul>
        <li class="prev">
          <a accesskey="p" href="php.html" title="PHP-8.0.10">Précédent</a>
          <p>
            PHP-8.0.10
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="python3.html" title=
          "Python-3.9.6">Suivant</a>
          <p>
            Python-3.9.6
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="prog.html" title=
          "Chapitre&nbsp;13.&nbsp;Programmation">Niveau supérieur</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Au-delà de Linux® From Scratch (édition systemd) - Version r10.1-1007+">
          Sommaire</a>
        </li>
      </ul>
    </div>
  </body>
</html>
