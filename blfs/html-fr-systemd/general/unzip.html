<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="application/xhtml+xml; charset=utf-8" />
    <title>
      UnZip-6.0
    </title>
    <link rel="stylesheet" type="text/css" href="../stylesheets/lfs.css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.79.1" />
    <link rel="stylesheet" href="../stylesheets/lfs-print.css" type=
    "text/css" media="print" />
  </head>
  <body class="blfs" id="blfs-r10.1-914+">
    <div class="navheader">
      <h4>
        Au-delà de Linux<sup>®</sup> From Scratch (édition <span class=
        "phrase">systemd)</span> - Version r10.1-914+
      </h4>
      <h3>
        Chapitre&nbsp;12.&nbsp;Outils systèmes
      </h3>
      <ul>
        <li class="prev">
          <a accesskey="p" href="unrar.html" title=
          "UnRar-6.0.7">Précédent</a>
          <p>
            UnRar-6.0.7
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="upower.html" title=
          "UPower-0_99_13">Suivant</a>
          <p>
            UPower-0_99_13
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="sysutils.html" title=
          "Chapitre&nbsp;12.&nbsp;Outils systèmes">Niveau supérieur</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Au-delà de Linux® From Scratch (édition systemd) - Version r10.1-914+">
          Sommaire</a>
        </li>
      </ul>
    </div>
    <div class="sect1" lang="fr" xml:lang="fr">
      <h1 class="sect1">
        <a id="unzip" name="unzip"></a>UnZip-6.0
      </h1>
      <div class="package" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          Introduction à UnZip
        </h2>
        <p>
          Le paquet <span class="application">UnZip</span> contient des
          outils d'extraction <code class="filename">ZIP</code>. Ils sont
          utiles pour extraire des fichiers à partir d'archives <code class=
          "filename">ZIP</code>. Les archives <code class=
          "filename">ZIP</code> sont créées avec les outils <span class=
          "application">PKZIP</span> ou <span class=
          "application">Info-ZIP</span>, surtout dans un environnement DOS.
        </p>
        <p>
          This package is known to build and work properly using an LFS-11.0
          platform.
        </p>
        <div class="admon caution">
          <img alt="[Attention]" src="../images/caution.png" />
          <h3>
            Attention
          </h3>
          <p>
            La version précédente du paquet <span class=
            "application">UnZip</span> avait des problèmes liés aux
            paramètres régionaux. Aucun éditeur de BLFS n'est actuellement
            capable de tester ces problèmes. On a donc laissé sur cette page
            les informations liées aux paramètres régionaux mais elles n'ont
            pas été testées. Vous pouvez trouver une approche plus générale
            de ces problèmes dans la section <a class="xref" href=
            "../introduction/locale-issues.html#locale-assumed-encoding"
            title=
            "Le programme suppose l'encodage basé sur la locale de documents externes">
            Le programme suppose l'encodage</a> de la page <a class="xref"
            href="../introduction/locale-issues.html" title=
            "Problèmes liés aux locales">Problèmes liés aux locales</a>.
          </p>
        </div>
        <h3>
          Informations sur le paquet
        </h3>
        <div class="itemizedlist">
          <ul class="compact">
            <li class="listitem">
              <p>
                Téléchargement (HTTP)&nbsp;: <a class="ulink" href=
                "https://downloads.sourceforge.net/infozip/unzip60.tar.gz">https://downloads.sourceforge.net/infozip/unzip60.tar.gz</a>
              </p>
            </li>
            <li class="listitem">
              <p>
                Téléchargement (FTP)&nbsp;: <a class="ulink" href=
                "ftp://ftp.info-zip.org/pub/infozip/src/unzip60.tgz">ftp://ftp.info-zip.org/pub/infozip/src/unzip60.tgz</a>
              </p>
            </li>
            <li class="listitem">
              <p>
                Somme de contrôle MD5 du téléchargement&nbsp;:
                62b490407489521db863b523a7f86375
              </p>
            </li>
            <li class="listitem">
              <p>
                Taille du téléchargement&nbsp;: 1.3 Mo
              </p>
            </li>
            <li class="listitem">
              <p>
                Estimation de l'espace disque requis&nbsp;: 9 Mo
              </p>
            </li>
            <li class="listitem">
              <p>
                Estimation du temps de construction&nbsp;: moins de 0.1 SBU
              </p>
            </li>
          </ul>
        </div>
        <h3>
          Téléchargements supplémentaires
        </h3>
        <div class="itemizedlist">
          <ul class="compact">
            <li class="listitem">
              <p>
                Correctif requis&nbsp;: <a class="ulink" href=
                "https://www.linuxfromscratch.org/patches/blfs/svn/unzip-6.0-consolidated_fixes-1.patch">
                https://www.linuxfromscratch.org/patches/blfs/svn/unzip-6.0-consolidated_fixes-1.patch</a>
              </p>
            </li>
          </ul>
        </div>
        <p class="usernotes">
          Notes utilisateur&nbsp;: <a class="ulink" href=
          "https://wiki.linuxfromscratch.org/blfs/wiki/unzip">https://wiki.linuxfromscratch.org/blfs/wiki/unzip</a>
        </p>
      </div>
      <div class="sect2" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          <a id="unzip-locale-issues" name=
          "unzip-locale-issues"></a>Problèmes de locale d'UnZip
        </h2>
        <div class="admon note">
          <img alt="[Note]" src="../images/note.png" />
          <h3>
            Note
          </h3>
          <p>
            L'utilisation de <span class="application">UnZip</span> dans
            l'installation de <span class="application">JDK</span>,
            <span class="application">Mozilla</span>, <span class=
            "application">DocBook</span> ou tout autre paquet BLFS n'est pas
            un problème vu que les instructions de BLFS n'utilisent jamais
            <span class="application">UnZip</span> pour extraire un fichier
            ayant dans son nom des caractères non-ASCII.
          </p>
        </div>
        <p>
          Ces problèmes devraient être corrigés dans le correctif. Mais comme
          aucun éditeur n'a de données pour le tester, les contournements
          suivants sont gardés au cas où ils seraient nécessaires.
        </p>
        <p>
          Le paquet <span class="application">UnZip</span> suppose que les
          noms des fichiers stockés dans les archives ZIP créées sur des
          systèmes non Unix sont encodés en CP850, et qu'ils devraient être
          convertis en ISO-8859-1 lors de l'écriture des fichiers sur le
          système de fichiers. De telles suppositions ne sont pas toujours
          valides. En fait, dans l'archive ZIP, les noms de fichiers sont
          encodés en codepage du DOS utilisé dans le pays concerné et les
          noms de fichier sur le disque devraient être dans l'encodage de la
          locale. Dans MS Windows, la fonction C OemToChar() (de <code class=
          "filename">User32.DLL</code>) effectue la bonne conversion (qui est
          effectivement la conversion de CP850 vers une couche d'ISO-8859-1
          si MS Windows est paramétré pour utiliser la langue anglaise
          américaine), mais il n'y a pas d'équivalent sur Linux.
        </p>
        <p>
          Lors de l'utilisation de <span class=
          "command"><strong>unzip</strong></span> pour déballer une archive
          ZIP contenant des noms de fichiers non-ASCII, les noms de fichiers
          sont endommagés car <span class=
          "command"><strong>unzip</strong></span> utilise une mauvaise
          conversion quand une de ses suppositions d'encodage n'est pas
          bonne. Par exemple, dans la locale ru_RU.KOI8-R, la conversion des
          noms de fichiers de CP866 en KOI8-R est nécessaire, mais la
          conversion de CP850 en ISO-8859-1 se fait, ce qui donne des noms de
          fichiers composés de caractères indéchiffrables au lieu de mots
          (l'exemple équivalent le plus parlant pour des utilisateurs
          anglophones est rot13). Il y a plusieurs manières de contourner
          cette limitation&nbsp;:
        </p>
        <p>
          1) Pour déballer des archives ZIP ayant des noms de fichiers
          contenant des caractères non-ASCII, utilisez <a class="ulink" href=
          "http://www.winzip.com/">WinZip</a> en lançant l'émulateur Windows
          <a class="ulink" href="http://www.winehq.com/">Wine</a>.
        </p>
        <p>
          2) Utilisez <span class="command"><strong>bsdtar
          -xf</strong></span> de <a class="xref" href="libarchive.html"
          title="libarchive-3.5.2">libarchive-3.5.2</a> pour extraire
          l'archive ZIP. Ensuite, réparez les dommages sur les noms de
          fichiers en utilisant l'outil <span class=
          "command"><strong>convmv</strong></span> (<a class="ulink" href=
          "http://j3e.de/linux/convmv/">http://j3e.de/linux/convmv/</a>). Ce
          qui suit est un exemple pour le paramètre régional
          ru_RU.KOI8-R&nbsp;:
        </p>
        <pre class="userinput"><kbd class=
        "command">convmv -f cp936 -t utf-8 -r --nosmart --notest \
    <em class=
"replaceable"><code>&lt;/path/to/unzipped/files&gt;</code></em></kbd></pre>
      </div>
      <div class="installation" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          Installation de UnZip
        </h2>
        <p>
          Tout d'abord appliquez le correctif&nbsp;:
        </p>
        <pre class="userinput"><kbd class=
        "command">patch -Np1 -i ../unzip-6.0-consolidated_fixes-1.patch</kbd></pre>
        <p>
          Maintenant compilez le paquet&nbsp;:
        </p>
        <pre class="userinput"><kbd class=
        "command">make -f unix/Makefile generic</kbd></pre>
        <p>
          La suite de tests ne fonctionne pas avec la cible <span class=
          "quote">«&nbsp;<span class="quote">generic</span>&nbsp;»</span>.
        </p>
        <p>
          Maintenant, en tant qu'utilisateur <code class=
          "systemitem">root</code>&nbsp;:
        </p>
        <pre class="root"><kbd class=
        "command">make prefix=/usr MANDIR=/usr/share/man/man1 \
 -f unix/Makefile install</kbd></pre>
      </div>
      <div class="commands" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          Explication des commandes
        </h2>
        <p>
          <span class="command"><strong>make -f unix/Makefile
          generic</strong></span>&nbsp;: Cette cible commence par lancer un
          script de configuration (pas comme les anciennes cibles comme linux
          et linux_noasm) qui crée un fichier de drapeaux qui est ensuite
          utilisé dans la construction. Cela permet que les constructions x86
          32 bits reçoivent les bons drapeaux pour dézipper les fichiers qui
          sont plus gros que 2Go une fois extrait.
        </p>
      </div>
      <div class="content" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          Contenu
        </h2>
        <div class="segmentedlist">
          <div class="seglistitem">
            <div class="seg">
              <strong class="segtitle">Programmes installés:</strong>
              <span class="segbody">funzip, unzip, unzipfsx, zipgrep et
              zipinfo</span>
            </div>
            <div class="seg">
              <strong class="segtitle">Bibliothèques installées:</strong>
              <span class="segbody">Aucune</span>
            </div>
            <div class="seg">
              <strong class="segtitle">Répertoires installés:</strong>
              <span class="segbody">Aucune</span>
            </div>
          </div>
        </div>
        <div class="variablelist">
          <h3>
            Descriptions courtes
          </h3>
          <table border="0" class="variablelist">
            <colgroup>
              <col align="left" valign="top" />
              <col />
            </colgroup>
            <tbody>
              <tr>
                <td>
                  <p>
                    <a id="funzip" name="funzip"></a><span class=
                    "term"><span class=
                    "command"><strong>funzip</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    permet à la sortie des commandes <span class=
                    "command"><strong>unzip</strong></span> d'être redirigées
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="unzip-prog" name="unzip-prog"></a><span class=
                    "term"><span class=
                    "command"><strong>unzip</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    liste, teste ou extrait des fichiers d'une archive
                    <code class="filename">ZIP</code>
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="unzipfsx" name="unzipfsx"></a><span class=
                    "term"><span class=
                    "command"><strong>unzipfsx</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    est un stub auto-extrait qui peut être ajouté au début de
                    l'archive <code class="filename">ZIP</code>. Des fichiers
                    dans ce format permettent au destinataire de décompresser
                    l'archive sans installer <span class=
                    "application">UnZip</span>
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="zipgrep" name="zipgrep"></a><span class=
                    "term"><span class=
                    "command"><strong>zipgrep</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    cherche dans des fichiers d'une archive<code class=
                    "filename">ZIP</code> des lignes correspondant à un
                    modèle
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="zipinfo" name="zipinfo"></a><span class=
                    "term"><span class=
                    "command"><strong>zipinfo</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    produit des informations techniques sur des fichiers
                    d'une archive <code class="filename">ZIP</code>, dont les
                    droits d'accès au fichier, le statut du chiffrement, le
                    type de compression, etc
                  </p>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <p class="updated">
        Last updated on
      </p>
    </div>
    <div class="navfooter">
      <ul>
        <li class="prev">
          <a accesskey="p" href="unrar.html" title=
          "UnRar-6.0.7">Précédent</a>
          <p>
            UnRar-6.0.7
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="upower.html" title=
          "UPower-0_99_13">Suivant</a>
          <p>
            UPower-0_99_13
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="sysutils.html" title=
          "Chapitre&nbsp;12.&nbsp;Outils systèmes">Niveau supérieur</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Au-delà de Linux® From Scratch (édition systemd) - Version r10.1-914+">
          Sommaire</a>
        </li>
      </ul>
    </div>
  </body>
</html>
