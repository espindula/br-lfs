<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="application/xhtml+xml; charset=utf-8" />
    <title>
      acpid-2.0.32
    </title>
    <link rel="stylesheet" type="text/css" href="../stylesheets/lfs.css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.79.1" />
    <link rel="stylesheet" href="../stylesheets/lfs-print.css" type=
    "text/css" media="print" />
  </head>
  <body class="blfs" id="blfs-r10.1-914+">
    <div class="navheader">
      <h4>
        Au-delà de Linux<sup>®</sup> From Scratch (édition <span class=
        "phrase">systemd)</span> - Version r10.1-914+
      </h4>
      <h3>
        Chapitre&nbsp;12.&nbsp;Outils systèmes
      </h3>
      <ul>
        <li class="prev">
          <a accesskey="p" href="accountsservice.html" title=
          "AccountsService-0.6.55">Précédent</a>
          <p>
            AccountsService-0.6.55
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="at.html" title="at-3.2.2">Suivant</a>
          <p>
            at-3.2.2
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="sysutils.html" title=
          "Chapitre&nbsp;12.&nbsp;Outils systèmes">Niveau supérieur</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Au-delà de Linux® From Scratch (édition systemd) - Version r10.1-914+">
          Sommaire</a>
        </li>
      </ul>
    </div>
    <div class="sect1" lang="fr" xml:lang="fr">
      <h1 class="sect1">
        <a id="acpid" name="acpid"></a>acpid-2.0.32
      </h1>
      <div class="package" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          Introduction à acpid
        </h2>
        <p>
          Le paquet <span class="application">acpid</span> (Advanced
          Configuration and Power Interface event Daemon) est un démon
          complètement flexible, totalement extensible pour délivrer les
          événements ACPI. Il écoute sur les interfaces et quand un événement
          arrive, exécute des programmes pour gérer l'événement. Les
          programmes qui sont exécutés sont configurés au travers une
          collection de fichiers de configuration, ils peuvent être mis en
          place par les paquets ou par l'utilisateur.
        </p>
        <p>
          This package still needs to be checked.
        </p>
        <h3>
          Informations sur le paquet
        </h3>
        <div class="itemizedlist">
          <ul class="compact">
            <li class="listitem">
              <p>
                Téléchargement (HTTP)&nbsp;: <a class="ulink" href=
                "https://downloads.sourceforge.net/acpid2/acpid-2.0.32.tar.xz">
                https://downloads.sourceforge.net/acpid2/acpid-2.0.32.tar.xz</a>
              </p>
            </li>
            <li class="listitem">
              <p>
                Téléchargement (FTP)&nbsp;: <a class="ulink" href=""></a>
              </p>
            </li>
            <li class="listitem">
              <p>
                Somme de contrôle MD5 du téléchargement&nbsp;:
                248995264b9d1cd8bdb923d5b190fd44
              </p>
            </li>
            <li class="listitem">
              <p>
                Taille du téléchargement&nbsp;: 156&nbsp;Ko
              </p>
            </li>
            <li class="listitem">
              <p>
                Estimation de l'espace disque requis&nbsp;: 2.5&nbsp;Mo
              </p>
            </li>
            <li class="listitem">
              <p>
                Estimation du temps de construction&nbsp;: moins de 0.1 SBU
              </p>
            </li>
          </ul>
        </div>
        <p class="usernotes">
          Notes utilisateur&nbsp;: <a class="ulink" href=
          "https://wiki.linuxfromscratch.org/blfs/wiki/acpid">https://wiki.linuxfromscratch.org/blfs/wiki/acpid</a>
        </p>
      </div>
      <div class="installation" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          Installation de acpid
        </h2>
        <p>
          Installez <span class="application">acpid</span> en lançant les
          commandes suivantes&nbsp;:
        </p>
        <pre class="userinput"><kbd class=
        "command">./configure --prefix=/usr \
            --docdir=/usr/share/doc/acpid-2.0.32 &amp;&amp;
make</kbd></pre>
        <p>
          Ce paquet n'est pas fourni avec une suite de tests.
        </p>
        <p>
          Maintenant, en tant qu'utilisateur <code class=
          "systemitem">root</code>&nbsp;:
        </p>
        <pre class="root"><kbd class=
        "command">make install                         &amp;&amp;
install -v -m755 -d /etc/acpi/events &amp;&amp;
cp -r samples /usr/share/doc/acpid-2.0.32</kbd></pre>
      </div>
      <div class="configuration" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          Configurer acpid
        </h2>
        <p>
          <span class="application">acpid</span> est configuré par des
          événements définis par l'utilisateur. Placez les fichiers
          événements dans le répertoire <code class=
          "filename">/etc/acpi/events</code>. Si un événement arrive,
          <span class="command"><strong>acpid</strong></span> parcourt
          récursivement les fichiers d'événements dans l'ordre pour voir si
          la "regex" définie après "event" correspond. Si c'est le cas,
          l'action est exécutée.
        </p>
        <p>
          Le bref exemple suivant va suspendre le système quand l'écran d'un
          portable est fermé (il requiert <a class="xref" href=
          "pm-utils.html" title="pm-utils-1.4.1">pm-utils-1.4.1</a>)&nbsp;:
        </p>
        <pre class="root"><kbd class=
        "command">cat &gt; /etc/acpi/events/lid &lt;&lt; "EOF"
<code class="literal">event=button/lid
action=/etc/acpi/lid.sh</code>
EOF

cat &gt; /etc/acpi/lid.sh &lt;&lt; "EOF"
<code class="literal">#!/bin/sh
/bin/grep -q open /proc/acpi/button/lid/LID/state &amp;&amp; exit 0
/usr/sbin/pm-suspend</code>
EOF
chmod +x /etc/acpi/lid.sh</kbd></pre>
        <p>
          Malheureusement, tous les ordinateurs n'appellent pas les
          événements ACPI de la même façon. Pour déterminer comment votre
          bouton est reconnu, utilisez l'outil <span class=
          "command"><strong>acpi_listen</strong></span>. Vous pouvez
          également regarder dans le répertoire <code class=
          "filename">samples</code> dans <code class=
          "filename">/usr/share/doc/acpid-2.0.32</code> pour plus d'exemples.
        </p>
        <div class="sect3">
          <h3 class="sect3">
            <a id="acpid-init" name="acpid-init"></a> Socket Systemd
          </h3>
          <p>
            Pour démarrer le démon <span class=
            "command"><strong>acpid</strong></span> au démarrage, installez
            l'unité depuis le paquet <a class="xref" href=
            "../introduction/systemd-units.html" title=
            "Unités Systemd de BLFS">blfs-systemd-units-20210819</a> en
            lançant la commande suivante en tant qu'utilisateur <code class=
            "systemitem">root</code>&nbsp;:
          </p>
          <pre class="root"><kbd class=
          "command">make install-acpid</kbd></pre>
          <div class="admon note">
            <img alt="[Note]" src="../images/note.png" />
            <h3>
              Note
            </h3>
            <p>
              Ce paquet utilise l'activation par socket et sera démarré
              lorsque quelque chose en aura besoin. Aucun fichier d'unité
              seul n'est fournit avec ce paquet.
            </p>
          </div>
        </div>
      </div>
      <div class="content" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          Contenu
        </h2>
        <div class="segmentedlist">
          <div class="seglistitem">
            <div class="seg">
              <strong class="segtitle">Programmes installés:</strong>
              <span class="segbody">acpid, acpi_listen et kacpimon</span>
            </div>
            <div class="seg">
              <strong class="segtitle">Bibliothèques installées:</strong>
              <span class="segbody">Aucune</span>
            </div>
            <div class="seg">
              <strong class="segtitle">Répertoires installés:</strong>
              <span class="segbody">/etc/acpi et
              /usr/share/doc/acpid-2.0.32</span>
            </div>
          </div>
        </div>
        <div class="variablelist">
          <h3>
            Descriptions courtes
          </h3>
          <table border="0" class="variablelist">
            <colgroup>
              <col align="left" valign="top" />
              <col />
            </colgroup>
            <tbody>
              <tr>
                <td>
                  <p>
                    <a id="acpid-prog" name="acpid-prog"></a><span class=
                    "term"><span class=
                    "command"><strong>acpid</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    est un programme qui écoute les événements ACPI et
                    exécute les règles qui correspondent à l'événement reçu
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="acpi_listen" name="acpi_listen"></a><span class=
                    "term"><span class=
                    "command"><strong>acpi_listen</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    est un simple outil qui se connecte à <span class=
                    "command"><strong>acpid</strong></span> et écoute les
                    événements
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="kacpimon" name="kacpimon"></a><span class=
                    "term"><span class=
                    "command"><strong>kacpimon</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    est un programme de surveillance qui se connecte à 3
                    sources d'événements ACPI (fichiers événements, couche
                    réseau et d'entrée) et qui montre ce qu'il voit tant
                    qu'il est connecté
                  </p>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <p class="updated">
        Last updated on
      </p>
    </div>
    <div class="navfooter">
      <ul>
        <li class="prev">
          <a accesskey="p" href="accountsservice.html" title=
          "AccountsService-0.6.55">Précédent</a>
          <p>
            AccountsService-0.6.55
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="at.html" title="at-3.2.2">Suivant</a>
          <p>
            at-3.2.2
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="sysutils.html" title=
          "Chapitre&nbsp;12.&nbsp;Outils systèmes">Niveau supérieur</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Au-delà de Linux® From Scratch (édition systemd) - Version r10.1-914+">
          Sommaire</a>
        </li>
      </ul>
    </div>
  </body>
</html>
