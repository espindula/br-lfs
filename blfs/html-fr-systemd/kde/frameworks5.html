<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="application/xhtml+xml; charset=utf-8" />
    <title>
      Constructions de KDE Frameworks 5 (KF5)
    </title>
    <link rel="stylesheet" type="text/css" href="../stylesheets/lfs.css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.79.1" />
    <link rel="stylesheet" href="../stylesheets/lfs-print.css" type=
    "text/css" media="print" />
  </head>
  <body class="blfs" id="blfs-r10.1-1007+">
    <div class="navheader">
      <h4>
        Au-delà de Linux<sup>®</sup> From Scratch (édition <span class=
        "phrase">systemd)</span> - Version r10.1-1007+
      </h4>
      <h3>
        Chapitre&nbsp;30.&nbsp;KDE Frameworks 5
      </h3>
      <ul>
        <li class="prev">
          <a accesskey="p" href="kf5-intro.html" title=
          "Configuration de pré-installation de KDE Frameworks 5">Précédent</a>
          <p>
            Configuration de pré-installation de KDE Frameworks 5
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="kf5-apps.html" title=
          "Applications basées sur KDE Frameworks 5">Suivant</a>
          <p>
            Applications basées sur KDE Frameworks 5
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="kf5.html" title=
          "Chapitre&nbsp;30.&nbsp;KDE Frameworks 5">Niveau supérieur</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Au-delà de Linux® From Scratch (édition systemd) - Version r10.1-1007+">
          Sommaire</a>
        </li>
      </ul>
    </div>
    <div class="sect1" lang="fr" xml:lang="fr">
      <h1 class="sect1">
        <a id="kf5-frameworks" name="kf5-frameworks"></a>Constructions de KDE
        Frameworks 5 (KF5)
      </h1>
      <p>
        KDE Frameworks 5 est une collection de bibliothèques basée sur Qt5 et
        dérivée de QML depuis les bibliothèques monolithiques de KDE 4. Elles
        peuvent être utilisées indépendamment de l'environnement d'affichage
        KDE (Plasma 5).
      </p>
      <p>
        This package is known to build and work properly using an LFS-11.0
        platform.
      </p>
      <p>
        Les instructions suivantes construisent tous les paquets de KDE
        Frameworks en une étape en utilisant un script bash.
      </p>
      <h3>
        Informations sur le paquet
      </h3>
      <div class="itemizedlist">
        <ul class="compact">
          <li class="listitem">
            <p>
              Téléchargement (HTTP)&nbsp;: <a class="ulink" href=
              "https://download.kde.org/stable/frameworks/5.85">https://download.kde.org/stable/frameworks/5.85</a>
            </p>
          </li>
          <li class="listitem">
            <p>
              Téléchargement (FTP)&nbsp;: <a class="ulink" href=""></a>
            </p>
          </li>
          <li class="listitem">
            <p>
              Somme de contrôle MD5 du téléchargement&nbsp;: Voir ci-dessous
            </p>
          </li>
          <li class="listitem">
            <p>
              Taille du téléchargement&nbsp;: 266&nbsp;Mo
            </p>
          </li>
          <li class="listitem">
            <p>
              Estimation de l'espace disque requis&nbsp;: 1,3 Go (241 Mo
              installés)
            </p>
          </li>
          <li class="listitem">
            <p>
              Estimation du temps de construction&nbsp;: 14&nbsp;SBU (avec
              parallélisme = 4)
            </p>
          </li>
        </ul>
      </div>
      <h3>
        Dépendances de KF5
      </h3>
      <h4>
        Requises
      </h4>
      <p class="required">
        <a class="xref" href="../general/boost.html" title=
        "Boost-1.77.0">Boost-1.77.0</a>, <a class="xref" href=
        "extra-cmake-modules.html" title=
        "extra-cmake-modules-5.85.0">extra-cmake-modules-5.85.0</a>,
        <a class="xref" href="../pst/docbook.html" title=
        "docbook-xml-4.5">docbook-xml-4.5</a>, <a class="xref" href=
        "../pst/docbook-xsl.html" title=
        "docbook-xsl-nons-1.79.2">docbook-xsl-1.79.2</a>, <a class="xref"
        href="../general/giflib.html" title="giflib-5.2.1">giflib-5.2.1</a>,
        <a class="xref" href="../x/libepoxy.html" title=
        "libepoxy-1.5.9">libepoxy-1.5.9</a>, <a class="xref" href=
        "../general/libgcrypt.html" title=
        "libgcrypt-1.9.4">libgcrypt-1.9.4</a>, <a class="xref" href=
        "../general/libical.html" title="libical-3.0.10">libical-3.0.10</a>,
        <a class="xref" href="../general/libjpeg.html" title=
        "libjpeg-turbo-2.1.1">libjpeg-turbo-2.1.1</a>, <a class="xref" href=
        "../general/libpng.html" title="libpng-1.6.37">libpng-1.6.37</a>,
        <a class="xref" href="../general/libxslt.html" title=
        "libxslt-1.1.34">libxslt-1.1.34</a>, <a class="xref" href=
        "../server/lmdb.html" title="lmdb-0.9.29">lmdb-0.9.29</a>, <a class=
        "xref" href="../general/qrencode.html" title=
        "qrencode-4.1.1">qrencode-4.1.1</a>, <a class="xref" href=
        "phonon.html" title="Phonon-4.11.1">phonon-4.11.1</a>, <a class=
        "xref" href="plasma-wayland-protocols.html" title=
        "Plasma-wayland-protocols-1.3.0">plasma-wayland-protocols-1.3.0</a>,
        <a class="xref" href="../general/shared-mime-info.html" title=
        "shared-mime-info-2.1">shared-mime-info-2.1</a>, <a class="xref"
        href="../general/perl-modules.html#perl-uri" title=
        "URI-5.09">URI-5.09</a> et <a class="xref" href=
        "../basicnet/wget.html" title="Wget-1.21.1">Wget-1.21.1</a> (requis
        pour télécharger les packages)
      </p>
      <h4>
        Recommandées
      </h4>
      <p class="recommended">
        <a class="xref" href="../general/aspell.html" title=
        "Aspell-0.60.8">Aspell-0.60.8</a> (moteur de dictionnaire pour
        Sonnet), <a class="xref" href="../basicnet/avahi.html" title=
        "Avahi-0.8">Avahi-0.8</a> (moteur DNS-SD pour KDNSSD), <a class=
        "xref" href="libdbusmenu-qt.html" title=
        "libdbusmenu-qt-0.9.3+16.04.20160218">libdbusmenu-qt-0.9.3+16.04.20160218</a>
        (construit avec qt5), <a class="xref" href=
        "../basicnet/networkmanager.html" title=
        "NetworkManager-1.32.10">NetworkManager-1.32.10</a> (needed to build
        NetworkManager-Qt) et <a class="xref" href="polkit-qt.html" title=
        "Polkit-Qt-0.114.0">polkit-qt-0.114.0</a> (moteu d'authentication
        pour KAuth)
      </p>
      <p class="recommended">
        De plus, les instructions ci-dessous supposent que l'environnement a
        été mis en place comme décrit dans <a class="xref" href=
        "kf5-intro.html" title=
        "Configuration de pré-installation de KDE Frameworks 5">Introduction
        à KF5</a>.
      </p>
      <h4>
        Facultatives
      </h4>
      <p class="optional">
        <a class="xref" href="../general/bluez.html" title=
        "BlueZ-5.61">BlueZ-5.61</a> (requis pour construire Bluez-Qt),
        <a class="xref" href="../general/ModemManager.html" title=
        "ModemManager-1.16.10">ModemManager-1.16.10</a> (requis pour
        construire ModemManager-Qt), <a class="ulink" href=
        "http://libdmtx.sourceforge.net/">Datamatrix</a> (recommandé pour
        Prison par les développeurs en amont)
      </p>
      <h4>
        Dépendance à l'exécution de FrameworkIntegration
      </h4>
      <p class="optional">
        <a class="xref" href="../x/TTF-and-OTF-fonts.html#oxygen-fonts"
        title="Polices Oxygen">Oxygen fonts</a> et <a class="xref" href=
        "../x/TTF-and-OTF-fonts.html#noto-fonts" title="polices Noto">Noto
        fonts</a>
      </p>
      <h4>
        Dépendances recommandées supplémentaires pour kapidox
      </h4>
      <p class="recommended">
        <a class="xref" href="../general/doxygen.html" title=
        "Doxygen-1.9.2">Doxygen-1.9.2</a> (à l'exécution),<a class="xref"
        href="../general/python-modules.html#Jinja2" title=
        "Jinja2-3.0.1">Jinja2-3.0.1</a> et <a class="xref" href=
        "../general/python-modules.html#PyYAML" title=
        "PyYAML-5.3.1">PyYAML-5.3.1</a> (si ces modules python ne sont pas
        présents à la construction, ils seront téléchargés)
      </p>
      <h4>
        Autres modules python requis par kapidox
      </h4>
      <p class="optional">
        <a class="ulink" href=
        "https://pypi.org/simple/requests/">requests</a>, <a class="ulink"
        href="https://pypi.org/simple/doxyqml/">doxyqml</a>, <a class="ulink"
        href="https://pypi.org/simple/doxypypy/">doxypypy</a>, <a class=
        "ulink" href="https://pypi.org/simple/urllib3/">urllib3</a>,
        <a class="ulink" href="https://pypi.org/simple/idna/">idna</a>,
        <a class="ulink" href=
        "https://pypi.org/simple/charset-normalizer/">charset-normalizer</a>
        et <a class="ulink" href=
        "https://pypi.org/simple/certifi/">certifi</a> (ils seront tous
        installés automatiquement à la construction s'ils ne sont pas
        présents sur le système)
      </p>
      <h4>
        Support des formats d'images supplémentaires dans KImageFormats
      </h4>
      <p class="optional">
        <a class="xref" href="../general/jasper.html" title=
        "JasPer-2.0.33">JasPer-2.0.33</a> et <a class="ulink" href=
        "http://www.openexr.com/">OpenEXR</a>
      </p>
      <h4>
        Dépendances facultatives de KIO
      </h4>
      <p class="optional">
        <a class="xref" href="../postlfs/mitkrb.html" title=
        "MIT Kerberos V5-1.19.2">MIT Kerberos V5-1.19.2</a>
      </p>
      <h4>
        Dépendances facultatives pour Solid
      </h4>
      <p class="optional">
        <a class="xref" href="../general/udisks2.html" title=
        "UDisks-2.9.3">UDisks-2.9.3</a>, <a class="xref" href=
        "../general/upower.html" title="UPower-0_99_13">UPower-0_99_13</a> et
        <a class="ulink" href=
        "http://www.freedesktop.org/software/media-player-info/">media-player-info</a>
        (exécution)
      </p>
      <h4>
        Dépendance facultative pour KWallet
      </h4>
      <p class="optional">
        <a class="xref" href="../postlfs/gpgme.html" title=
        "GPGME-1.16.0">GPGME-1.16.0</a>, construit avec les liaisons C++ (ce
        qui est le cas par défaut).
      </p>
      <h4>
        Moteurs de dictionnaires facultatifs pour Sonnet
      </h4>
      <p class="optional">
        <a class="ulink" href="http://hspell.ivrix.org.il/">Hspell</a> et
        <a class="ulink" href="http://hunspell.sourceforge.net/">Hunspell</a>
      </p>
      <p class="usernotes">
        Notes utilisateur&nbsp;: <a class="ulink" href=
        "https://wiki.linuxfromscratch.org/blfs/wiki/kf5">https://wiki.linuxfromscratch.org/blfs/wiki/kf5</a>
      </p>
      <div class="sect2" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          Téléchargement de KDE Frameworks
        </h2>
        <p>
          La façon la plus facile d'obtenir les paquets de KDE Frameworks est
          d'utiliser <span class="command"><strong>wget</strong></span> pour
          les récupérer tous en une fois&nbsp;:
        </p>
        <pre class="userinput"><kbd class=
        "command">url=https://download.kde.org/stable/frameworks/5.85/
wget -r -nH -nd -A '*.xz' -np $url</kbd>
<code class="literal">
Les options utilisée ici sont :
  -r            récupère les répertoires enfants
  -nH           désactive la génération de répertoires commençant pour le nom d'hôte
  -nd           ne crée pas de hiérarchie de répertoires
  -A '*.xz'     récupère uniquement les fichiers *.xz
  -np           ne récupère pas les répertoires parents</code></pre>
      </div>
      <div class="sect2" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          Initialisation de l'ordre des paquets
        </h2>
        <p>
          L'ordre de constructions des fichiers est importants à cause de
          dépendances internes. Créez la liste des fichiers dans le bon ordre
          comme suit&nbsp;:
        </p>
        <pre class="userinput"><kbd class=
        "command">cat &gt; frameworks-5.85.0.md5 &lt;&lt; "EOF"
<code class="literal">06d286995319fd9565d43bf736576a82  attica-5.85.0.tar.xz
#e4d8d5d70334eb9f40feb14c0e5fa1c3  extra-cmake-modules-5.85.0.tar.xz
007581e41e7c13cc52f03c50f65c9826  kapidox-5.85.0.tar.xz
deee0085dbd22032a437106ba01ba7b2  karchive-5.85.0.tar.xz
3fb5aba8c68be4c384ee17a91798ddec  kcodecs-5.85.0.tar.xz
eef295c85781ddf9a3abbd95a4da5df3  kconfig-5.85.0.tar.xz
d7a2748aebb1206fc38cb00bb39bc0eb  kcoreaddons-5.85.0.tar.xz
c9b3062073d8fb0977aa63fab7582d1e  kdbusaddons-5.85.0.tar.xz
510b0e437a855592d3512faa94fcd4ba  kdnssd-5.85.0.tar.xz
7b5b4d7610c45895ac5138c1e762ef41  kguiaddons-5.85.0.tar.xz
e9463a50c2bc56a6cebc70c487b5a45d  ki18n-5.85.0.tar.xz
58a3e469ac54cb78469b27f216c87c0a  kidletime-5.85.0.tar.xz
5cb4de5a5215b8f9412bbff02ac59f11  kimageformats-5.85.0.tar.xz
3f00cbe1c9ded4b9f061f0dcc3c38071  kitemmodels-5.85.0.tar.xz
5ed293814f6ca4c37a9fef6963431db0  kitemviews-5.85.0.tar.xz
040eaecd9952dc73b11ab4570f7b93f8  kplotting-5.85.0.tar.xz
381c75cf800cfe1483ea3493e2de245c  kwidgetsaddons-5.85.0.tar.xz
4d9cca227b795280ee920156cdec4859  kwindowsystem-5.85.0.tar.xz
f530333f5635266765b9d998ddc51d33  networkmanager-qt-5.85.0.tar.xz
254a03e4914ad144126a615ebbcbc11c  solid-5.85.0.tar.xz
6883eeb4c62837d70c6d6cbd01ba4cb8  sonnet-5.85.0.tar.xz
ceb00c86052dd1c9e4bef970c19f46d4  threadweaver-5.85.0.tar.xz
7e097f4474c43e08b2540a8883dc1e00  kauth-5.85.0.tar.xz
dcf9b03389d733eac8ae930b26d5389a  kcompletion-5.85.0.tar.xz
cc72c9ac7cba7207ef1a170bb2e4719e  kcrash-5.85.0.tar.xz
2676c29e1d3a93bd42e4f84f86961c4d  kdoctools-5.85.0.tar.xz
f85fe1b8f7319ed6e69d562671a705d0  kpty-5.85.0.tar.xz
298c9df17377b26ccd76d34f54ffad6c  kunitconversion-5.85.0.tar.xz
530e29b6a5993c0f23adbe09c48a7f16  kconfigwidgets-5.85.0.tar.xz
3081cf3c1eae4121b9b1fb71a1aa7c64  kservice-5.85.0.tar.xz
c3a62eeaf5d94bf326cab38dd1380204  kglobalaccel-5.85.0.tar.xz
5203415a3948fb0c3c1937bcba5c5758  kpackage-5.85.0.tar.xz
f57850b50533be59335bdf2d76fcfc76  kdesu-5.85.0.tar.xz
c4c930b28e1c5bd4e2a1aad9e8c328b0  kemoticons-5.85.0.tar.xz
edf31862bd801304fdb578050b0326d2  kiconthemes-5.85.0.tar.xz
b73b00a29afcf70d964190219ee6ccbc  kjobwidgets-5.85.0.tar.xz
8b7c4520f6ffc7cfc1fbd22e0c9ffa18  knotifications-5.85.0.tar.xz
fd3490e92465f433a5576b40ac348cbd  ktextwidgets-5.85.0.tar.xz
5b2362e1d485d80c3111679ae4cad68b  kxmlgui-5.85.0.tar.xz
679bb7a808f2d51e43f9dc26ce3f62d1  kbookmarks-5.85.0.tar.xz
ceaebee871b3f792766377c1074216a3  kwallet-5.85.0.tar.xz
aa1168d883e43dc304bbd809c9aa2f3d  kded-5.85.0.tar.xz
30c8871003edb993afc385e16f8b1a64  kio-5.85.0.tar.xz
1da45e0185075d0c384100c17d8a789f  kdeclarative-5.85.0.tar.xz
2e11d1726375387f2942cf9f3845760a  kcmutils-5.85.0.tar.xz
975fa5fd7a1db023639eb26f0d5e6809  kirigami2-5.85.0.tar.xz
8de5ea8546df1d8a23a2eb1ce465dbc9  syndication-5.85.0.tar.xz
7b1926330878c8c9c8a28f2403ff2e81  knewstuff-5.85.0.tar.xz
f6178e5a138b0fe4260bb74bfabd2a5f  frameworkintegration-5.85.0.tar.xz
e86d84f9d34aa94e55d0ca177f49a57c  kinit-5.85.0.tar.xz
14c79ffe82f063ff67392f64005477d2  kparts-5.85.0.tar.xz
0fef80b90c110adfe7c775f93e1f3e1d  kactivities-5.85.0.tar.xz
#3557d248cdecb2bd03e0a00b0dab7ae2  kdewebkit-5.85.0.tar.xz
1ef1c6039a3e91ec533af11af19539ec  syntax-highlighting-5.85.0.tar.xz
535adfca5246321df0f69de579c5f29c  ktexteditor-5.85.0.tar.xz
6f09f3c76f6a698ede4fb67f6bb709cc  kdesignerplugin-5.85.0.tar.xz
5253a422ba21dcb9bf92ffb53c035f2a  kwayland-5.85.0.tar.xz
fa2e79613982549dca6e20ecd0907fa5  plasma-framework-5.85.0.tar.xz
#1ad46346789bc04b7ff10bb4bb257e84  modemmanager-qt-5.85.0.tar.xz
424f8cbccde63734ca9a41d2be38ce44  kpeople-5.85.0.tar.xz
148e239b5fd08a66e655116a7399c22d  kxmlrpcclient-5.85.0.tar.xz
0a90f655455ab7dcbe5e652a84a06a6e  bluez-qt-5.85.0.tar.xz
866ba6788b62d46011d6d23f4195230d  kfilemetadata-5.85.0.tar.xz
e4fa06ec978fece6eb13c2a9e6749fcc  baloo-5.85.0.tar.xz
#42665314255bdf88736973c28c8c0a65  breeze-icons-5.85.0.tar.xz
#b6cad03903a685db1b323db2165355eb  oxygen-icons5-5.85.0.tar.xz
65e8097e66204a7b8ae8fd616a9789a9  kactivities-stats-5.85.0.tar.xz
0da888b4320299c93b56259da68563a8  krunner-5.85.0.tar.xz
baf7228889d33913fffd26faedca61e5  prison-5.85.0.tar.xz
daf55ba893a81e851c42507cb7b99e48  qqc2-desktop-style-5.85.0.tar.xz
5c1a1d58b3ad5bb0d7fbbf427fc0dff1  kjs-5.85.0.tar.xz
f5e0ca6f84d143f216a38cfb0c083267  kdelibs4support-5.85.0.tar.xz
06c9c414894382a06a150967d2b1bbee  khtml-5.85.0.tar.xz
e8f677e831ec75d8894ab77b139b0d77  kjsembed-5.85.0.tar.xz
346789a75525372ac67d46c39834b150  kmediaplayer-5.85.0.tar.xz
2e92ff7e9cc04bd2a3e06dfa24cf0f1f  kross-5.85.0.tar.xz
75032ec4d4b432c7e3bb83b0bdbe0cac  kholidays-5.85.0.tar.xz
7921bd89698216109cde504e59e115c0  purpose-5.85.0.tar.xz
eaee772562d93a2752547c09427679cc  kcalendarcore-5.85.0.tar.xz
565639b8a34802e97efaeac520d894a3  kcontacts-5.85.0.tar.xz
07a1780a5e1cb8479232cf2244b69f7a  kquickcharts-5.85.0.tar.xz
345e20cbc8d815173ab5861a72b084bb  knotifyconfig-5.85.0.tar.xz
fc2b4c6df2f4f7c50955b31445774d3a  kdav-5.85.0.tar.xz</code>
EOF</kbd></pre>
        <p>
          Dans la liste précédente, remarquez que certains fichiers sont
          commentés avec un caractère dièse (#). L'entrée extra-cmake-modules
          est commentée car elle est construite plus tôt dans <a class="xref"
          href="introduction.html" title=
          "Chapitre&nbsp;29.&nbsp;Introduction à KDE">Introduction à KDE</a>.
          Les paquets d'icônes sont traités séparément dans <a class="xref"
          href="../x/breeze-icons.html" title=
          "breeze-icons-5.85.0">breeze-icons-5.85.0</a> et <a class="xref"
          href="../x/oxygen-icons5.html" title=
          "oxygen-icons5-5.85.0">oxygen-icons5-5.85.0</a>. Le paquet
          modemmanager-qt peut être construit si sa dépendance facultative
          est installée. Kdewebkit peut être construit si le paquet externe
          <a class="ulink" href=
          "https://download.qt.io/community_releases/5.9/5.9.0-final/">QtWebkit</a>
          a été construit.
        </p>
      </div>
      <div class="installation" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          Installation de KDE Frameworks
        </h2>
        <div class="admon note">
          <img alt="[Note]" src="../images/note.png" />
          <h3>
            Note
          </h3>
          <p>
            Pour l'installation de paquets multiples dans un script, les
            installations doivent être faites en tant qu'utilisateur root. Il
            y a trois options générales qui peuvent être utilisées pour faire
            cela&nbsp;:
          </p>
          <div class="orderedlist">
            <ol>
              <li class="listitem">
                <p>
                  Lancer le script entièrement en tant qu'utilisateur root
                  (pas recommandé).
                </p>
              </li>
              <li class="listitem">
                <p>
                  Use the <span class="command"><strong>sudo</strong></span>
                  command from the <a class="xref" href=
                  "../postlfs/sudo.html" title=
                  "Sudo-1.9.7p2">Sudo-1.9.7p2</a> package.
                </p>
              </li>
              <li class="listitem">
                <p>
                  Use <span class="command"><strong>su -c "command
                  arguments"</strong></span> (guillemet requis) qui demandera
                  le mot de passe root à chaque itération de la boucle.
                </p>
              </li>
            </ol>
          </div>
          <p>
            Une façon de gérer cette situation est de créer une petite
            fonction <span class="command"><strong>bash</strong></span> qui
            sélectionne automatiquement la méthode appropriée. Une fois que
            la commande est initialisée dans l'environnement, il n'est plus
            nécessaire de le refaire.
          </p>
          <pre class="userinput">
<kbd class="command">as_root()
{
  if   [ $EUID = 0 ];        then $*
  elif [ -x /usr/bin/sudo ]; then sudo $*
  else                            su -c \\"$*\\"
  fi
}
export -f as_root</kbd>
</pre>
        </div>
        <div class="admon caution">
          <img alt="[Attention]" src="../images/caution.png" />
          <h3>
            Attention
          </h3>
          <p>
            Si vous installez dans <code class="filename">/opt</code> et
            qu'il existe déjà un répertoire /opt/kf5 soit en tant que
            répertoire normal, soit en tant que lien symbolique, il devrait
            être supprimé (en tant que <code class=
            "systemitem">root</code>)&nbsp;:
          </p>
          <pre class="root"><kbd class=
          "command">mv -v /opt/kf5 /opt/kf5.old                         &amp;&amp;
install -v -dm755           $KF5_PREFIX/{etc,share} &amp;&amp;
ln -sfv /etc/dbus-1         $KF5_PREFIX/etc         &amp;&amp;
ln -sfv /usr/share/dbus-1   $KF5_PREFIX/share       &amp;&amp;
ln -sfv /usr/share/polkit-1 $KF5_PREFIX/share       &amp;&amp;
install -v -dm755           $KF5_PREFIX/lib         &amp;&amp;
ln -sfv /usr/lib/systemd    $KF5_PREFIX/lib</kbd></pre>
        </div>
        <p>
          Pour commencer, démarrez un sous-shell qui sortira en cas
          d'erreur&nbsp;:
        </p>
        <pre class="userinput"><kbd class="command">bash -e</kbd></pre>
        <p>
          Installez tous les paquets en lançant les commandes
          suivantes&nbsp;:
        </p>
        <pre class="userinput">
<kbd class="command">while read -r line; do

    # Get the file name, ignoring comments and blank lines
    if $(echo $line | grep -E -q '^ *$|^#' ); then continue; fi
    file=$(echo $line | cut -d" " -f2)

    pkg=$(echo $file|sed 's|^.*/||')          # Remove directory
    packagedir=$(echo $pkg|sed 's|\.tar.*||') # Package directory

    name=$(echo $pkg|sed 's|-5.*$||') # Isolate package name

    tar -xf $file
    pushd $packagedir
      case $name in
        plasma-framework*)
          sed -i 's/${EGL_TARGET}/GL EGL/' src/declarativeimports/core/CMakeLists.txt ;;
      esac

      mkdir build
      cd    build

      cmake -DCMAKE_INSTALL_PREFIX=$KF5_PREFIX \
            -DCMAKE_PREFIX_PATH=$QT5DIR        \
            -DCMAKE_BUILD_TYPE=Release         \
            -DBUILD_TESTING=OFF                \
            -Wno-dev ..
      make
      as_root make install
    popd

  as_root rm -rf $packagedir
  as_root /sbin/ldconfig

done &lt; frameworks-5.85.0.md5

exit</kbd></pre>
        <div class="admon note">
          <img alt="[Note]" src="../images/note.png" />
          <h3>
            Note
          </h3>
          <p>
            Tous les modules qui auront été oubliés peuvent être installés
            plus tard en utilisant la même procédure <span class=
            "command"><strong>mkdir build; cd build; cmake; make; make
            install</strong></span> qu'au dessus.
          </p>
        </div>
        <p>
          Parfois les chemins d'installation sont codés en dur dans les
          fichiers installés. Si le répertoire d'installation n'est pas /usr,
          renommez le répertoire et créez un lien symbolique&nbsp;:
        </p>
        <pre class="root"><kbd class="command">mv -v /opt/kf5 /opt/kf5-5.85.0
ln -sfvn kf5-5.85.0 /opt/kf5</kbd></pre>
      </div>
      <div class="commands" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          Explication des commandes
        </h2>
        <p>
          <em class=
          "parameter"><code>-DCMAKE_PREFIX_PATH=$QT5DIR</code></em>&nbsp;: Ce
          paramètre est utilisé pour permettre à cmake de trouver les bonnes
          bibliothèques Qt.
        </p>
        <p>
          <em class="parameter"><code>-DCMAKE_BUILD_TYPE=Release</code></em>:
          Ce paramètre est utilisé pour appliquer le plus haut niveau
          d'optimisation du compilateur.
        </p>
        <p>
          <em class="parameter"><code>-DBUILD_TESTING=OFF</code></em>&nbsp;:
          Ce paramètre est utilisé pour empêcher la construction des
          bibliothèques et des programmes de test qui ne sont pas utiles pour
          un utilisateur final.
        </p>
      </div>
      <div class="content" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          Contenu
        </h2>
        <div class="segmentedlist">
          <div class="seglistitem">
            <div class="seg">
              <strong class="segtitle">Programmes installés:</strong>
              <span class="segbody">balooctl, baloo_file,
              baloo_file_extractor, baloosearch, balooshow, checkXML5,
              depdiagram-generate, depdiagram-generate-all,
              depdiagram-prepare, desktoptojson, gentrigrams,
              kactivities-cli, kapidox_generate, kate-syntax-highlighter,
              kbuildsycoca5, kcookiejar5, kdebugdialog5, kded5, kdeinit5,
              kdeinit5_shutdown, kdeinit5_wrapper, kf5-config, kf5kross,
              kgendesignerplugin, kglobalaccel5, kiconfinder5, kjs5, kjscmd5,
              kjsconsole, knewstuff-dialog, kpackagelauncherqml,
              kpackagetool5, kquitapp5, kreadconfig5, kshell5,
              ktelnetservice5, ktrash5, kwalletd5, kwallet-query, kwrapper5,
              kwriteconfig5, meinproc5, parsetrigrams, plasmapkg2,
              preparetips5, protocoltojson et solid-hardware5</span>
            </div>
            <div class="seg">
              <strong class="segtitle">Bibliothèques installées:</strong>
              <span class="segbody">libkdeinit5_klauncher.so,
              libKF5Activities.so, libKF5ActivitiesStats.so,
              libKF5Archive.so, libKF5Attica.so, libKF5AuthCore.so,
              libKF5Auth.so, libKF5Baloo.so, libKF5BluezQt.so,
              libKF5Bookmarks.so, libKF5CalendarCore.so,
              libKF5CalendarEvents.so, libKF5Codecs.so, libKF5Completion.so,
              libKF5ConfigCore.so, libKF5ConfigGui.so,
              libKF5ConfigWidgets.so, libKF5Contacts.so, libKF5CoreAddons.so,
              libKF5Crash.so, libKF5DAV.so, libKF5DBusAddons.so,
              libKF5Declarative.so, libKF5DNSSD.so, libKF5DocTools.so,
              libKF5Emoticons.so, libKF5FileMetaData.so,
              libKF5GlobalAccel.so, libKF5GuiAddons.so, libKF5Holidays.so,
              libKF5I18n.so, libKF5IconThemes.so, libKF5IdleTime.so,
              libKF5ItemModels.so, libKF5ItemViews.so, libKF5JobWidgets.so,
              libKF5JSApi.so, libKF5JsEmbed.so, libKF5JS.so,
              libKF5KCMUtils.so, libKF5KDELibs4Support.so, libKF5KHtml.so,
              libKF5KIOCore.so, libKF5KIOFileWidgets.so, libKF5KIOGui.so,
              libKF5KIONTLM.so, libKF5KIOWidgets.so, libKF5Kirigami2.so,
              libKF5KrossCore.so, libKF5KrossUi.so, libKF5MediaPlayer.so,
              libKF5NetworkManagerQt.so, libKF5NewStuffCore.so,
              libKF5NewStuff.so, libKF5Notifications.so,
              libKF5NotifyConfig.so, libKF5Package.so, libKF5Parts.so,
              libKF5PeopleBackend.so, libKF5People.so,
              libKF5PeopleWidgets.so, libKF5PlasmaQuick.so, libKF5Plasma.so,
              libKF5Plotting.so, libKF5Prison.so, libKF5Pty.so,
              libKF5Purpose.so, libKF5PurposeWidgets.so,
              libKF5QuickAddons.so, libKF5Runner.so, libKF5Service.so,
              libKF5Solid.so, libKF5SonnetCore.so, libKF5SonnetUi.so,
              libKF5Style.so, libKF5Su.so, libKF5SyntaxHighlighting.so,
              libKF5TextEditor.so, libKF5TextWidgets.so,
              libKF5ThreadWeaver.so, libKF5UnitConversion.so,
              libKF5Wallet.so, libKF5WaylandClient.so,
              libKF5WaylandServer.so, libKF5WidgetsAddons.so,
              libKF5WindowSystem.so, libKF5XmlGui.so, libKF5XmlRpcClient.so
              et libkwalletbackend5.so</span>
            </div>
            <div class="seg">
              <strong class="segtitle">Répertoires installés:</strong>
              <span class="segbody">/opt/kf5 (lien symbolique vers
              /opt/kf5-5.85.0) si vous installez dans /opt</span>
            </div>
          </div>
        </div>
        <div class="variablelist">
          <h3>
            Descriptions courtes
          </h3>
          <table border="0" class="variablelist">
            <colgroup>
              <col align="left" valign="top" />
              <col />
            </colgroup>
            <tbody>
              <tr>
                <td>
                  <p>
                    <a id="checkXML5" name="checkXML5"></a><span class=
                    "term"><span class=
                    "command"><strong>checkXML5</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    est un outil pour vérifier les erreurs de syntaxe dans
                    les fichiers DocBook XML de KDE
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="depdiagram-generate" name=
                    "depdiagram-generate"></a><span class="term"><span class=
                    "command"><strong>depdiagram-generate</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    est un outil pour générer un diagramme de dépendances
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="depdiagram-generate-all" name=
                    "depdiagram-generate-all"></a><span class=
                    "term"><span class=
                    "command"><strong>depdiagram-generate-all</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    est un outil pour générer un diagramme de dépendance pour
                    tous les frameworks en même temps
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="depdiagram-prepare" name=
                    "depdiagram-prepare"></a><span class="term"><span class=
                    "command"><strong>depdiagram-prepare</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    est un outil pour préparer les fichiers dot
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="desktoptojson" name=
                    "desktoptojson"></a><span class="term"><span class=
                    "command"><strong>desktoptojson</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    est un outil pour convertir un fichier .desktop en
                    fichier .json
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="kbuildsycoca5" name=
                    "kbuildsycoca5"></a><span class="term"><span class=
                    "command"><strong>kbuildsycoca5</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    reconstruit le cache des fichiers de configuration
                    système de KService
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="kcookiejar5" name="kcookiejar5"></a><span class=
                    "term"><span class=
                    "command"><strong>kcookiejar5</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    est une interface en ligne de commandes pour enregistrer
                    les cookies HTTP utilisés par KDE, un service D-BUS pour
                    enregistrer, retrouver, nettoyer les cookies
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="kded5" name="kded5"></a><span class=
                    "term"><span class=
                    "command"><strong>kded5</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    consolide plusieurs petits services en un processus
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="kdeinit5" name="kdeinit5"></a><span class=
                    "term"><span class=
                    "command"><strong>kdeinit5</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    est un lanceur de processus similaire au fameux init
                    utilisé pour le démarrage d'UNIX
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="kf5-config" name="kf5-config"></a><span class=
                    "term"><span class=
                    "command"><strong>kf5-config</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    est un programme en ligne de commande utilisé pour
                    retrouver des informations sur l'installation de KDE ou
                    les chemins des utilisateurs
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="kf5kross" name="kf5kross"></a><span class=
                    "term"><span class=
                    "command"><strong>kf5kross</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    éxecute des scripts kross écrit en KDE Javascript,
                    Python, Ruby, Java et Falcon
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="kgendesignerplugin" name=
                    "kgendesignerplugin"></a><span class="term"><span class=
                    "command"><strong>kgendesignerplugin</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    génère des greffons pour Qt(TM) Designer
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="kglobalaccel5" name=
                    "kglobalaccel5"></a><span class="term"><span class=
                    "command"><strong>kglobalaccel5</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    est un démon utilisé pour enregistrer les raccourcis
                    clavier et pour obtenir une notification quand l'action
                    est réalisée
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="kjs5" name="kjs5"></a><span class=
                    "term"><span class=
                    "command"><strong>kjs5</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    est le moteur KDE ECMAScript/JavaScript
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="kjscmd5" name="kjscmd5"></a><span class=
                    "term"><span class=
                    "command"><strong>kjscmd5</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    est un outil pour lancer les scripts KJSEmbed depuis la
                    ligne de commandes
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="kjsconsole" name="kjsconsole"></a><span class=
                    "term"><span class=
                    "command"><strong>kjsconsole</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    est une console pour <span class=
                    "command"><strong>kjs5</strong></span>
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="kpackagelauncherqml" name=
                    "kpackagelauncherqml"></a><span class="term"><span class=
                    "command"><strong>kpackagelauncherqml</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    est un outil en ligne de commande pour le lancement des
                    applications kpackage QML.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="kpackagetool5" name=
                    "kpackagetool5"></a><span class="term"><span class=
                    "command"><strong>kpackagetool5</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    est un outil en ligne de commande pour kpackage
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="kreadconfig5" name="kreadconfig5"></a><span class=
                    "term"><span class=
                    "command"><strong>kreadconfig5</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    est un outil en ligne de commande pour retrouver les
                    valeurs des fichiers de configuration de KDE
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="kshell5" name="kshell5"></a><span class=
                    "term"><span class=
                    "command"><strong>kshell5</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    démarre des applications via kdeinit
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="ktelnetservice5" name=
                    "ktelnetservice5"></a><span class="term"><span class=
                    "command"><strong>ktelnetservice5</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    est un service telnet
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="ktrash5" name="ktrash5"></a><span class=
                    "term"><span class=
                    "command"><strong>ktrash5</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    est un programme d'aide pour gérer la poubelle de KDE
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="kwalletd5" name="kwalletd5"></a><span class=
                    "term"><span class=
                    "command"><strong>kwalletd5</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    est le démon de gestion de portefeuille
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="kwriteconfig5" name=
                    "kwriteconfig5"></a><span class="term"><span class=
                    "command"><strong>kwriteconfig5</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    est un outil en ligne de commande pour écrire des valeurs
                    dans les fichiers de configuration de KDE
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="meinproc5" name="meinproc5"></a><span class=
                    "term"><span class=
                    "command"><strong>meinproc5</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    convertit les fichiers DocBook en HTML
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="plasmapkg2" name="plasmapkg2"></a><span class=
                    "term"><span class=
                    "command"><strong>plasmapkg2</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    est un outil pour installer, lister et supprimer les
                    paquets Plasma.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="preparetips5" name="preparetips5"></a><span class=
                    "term"><span class=
                    "command"><strong>preparetips5</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    est un script pour extraire le texte depuis un fichier
                    d'astuces
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="solid-hardware5" name=
                    "solid-hardware5"></a><span class="term"><span class=
                    "command"><strong>solid-hardware5</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    est un outil en ligne de commande pour chercher les
                    périphériques disponibles
                  </p>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <p class="updated">
        Last updated on
      </p>
    </div>
    <div class="navfooter">
      <ul>
        <li class="prev">
          <a accesskey="p" href="kf5-intro.html" title=
          "Configuration de pré-installation de KDE Frameworks 5">Précédent</a>
          <p>
            Configuration de pré-installation de KDE Frameworks 5
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="kf5-apps.html" title=
          "Applications basées sur KDE Frameworks 5">Suivant</a>
          <p>
            Applications basées sur KDE Frameworks 5
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="kf5.html" title=
          "Chapitre&nbsp;30.&nbsp;KDE Frameworks 5">Niveau supérieur</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Au-delà de Linux® From Scratch (édition systemd) - Version r10.1-1007+">
          Sommaire</a>
        </li>
      </ul>
    </div>
  </body>
</html>
