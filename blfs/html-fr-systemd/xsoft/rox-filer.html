<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="application/xhtml+xml; charset=utf-8" />
    <title>
      Rox-Filer-2.11
    </title>
    <link rel="stylesheet" type="text/css" href="../stylesheets/lfs.css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.79.1" />
    <link rel="stylesheet" href="../stylesheets/lfs-print.css" type=
    "text/css" media="print" />
  </head>
  <body class="blfs" id="blfs-r10.1-1007+">
    <div class="navheader">
      <h4>
        Au-delà de Linux<sup>®</sup> From Scratch (édition <span class=
        "phrase">systemd)</span> - Version r10.1-1007+
      </h4>
      <h3>
        Chapitre&nbsp;41.&nbsp;Autres programmes basés sur X
      </h3>
      <ul>
        <li class="prev">
          <a accesskey="p" href="pidgin.html" title=
          "Pidgin-2.14.6">Précédent</a>
          <p>
            Pidgin-2.14.6
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="rxvt-unicode.html" title=
          "rxvt-unicode-9.26">Suivant</a>
          <p>
            rxvt-unicode-9.26
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="other.html" title=
          "Chapitre&nbsp;41.&nbsp;Autres programmes basés sur X">Niveau
          supérieur</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Au-delà de Linux® From Scratch (édition systemd) - Version r10.1-1007+">
          Sommaire</a>
        </li>
      </ul>
    </div>
    <div class="sect1" lang="fr" xml:lang="fr">
      <h1 class="sect1">
        <a id="rox-filer" name="rox-filer"></a>Rox-Filer-2.11
      </h1>
      <div class="package" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          Introduction à Rox-Filer
        </h2>
        <p>
          <span class="application">rox-filer</span> est un gestionnaire de
          fichier gtk2 rapide et léger.
        </p>
        <p>
          This package is known to build and work properly using an LFS-11.0
          platform.
        </p>
        <h3>
          Informations sur le paquet
        </h3>
        <div class="itemizedlist">
          <ul class="compact">
            <li class="listitem">
              <p>
                Téléchargement (HTTP)&nbsp;: <a class="ulink" href=
                "https://downloads.sourceforge.net/rox/rox-filer-2.11.tar.bz2">
                https://downloads.sourceforge.net/rox/rox-filer-2.11.tar.bz2</a>
              </p>
            </li>
            <li class="listitem">
              <p>
                Téléchargement (FTP)&nbsp;: <a class="ulink" href=""></a>
              </p>
            </li>
            <li class="listitem">
              <p>
                Somme de contrôle MD5 du téléchargement&nbsp;:
                0eebf05a67f7932367750ebf9faf215d
              </p>
            </li>
            <li class="listitem">
              <p>
                Taille du téléchargement&nbsp;: 1.8 Mo
              </p>
            </li>
            <li class="listitem">
              <p>
                Estimation de l'espace disque requis&nbsp;: 19 Mo
              </p>
            </li>
            <li class="listitem">
              <p>
                Estimation du temps de construction&nbsp;: 0.3 SBU
              </p>
            </li>
          </ul>
        </div>
        <h3>
          Dépendances de rox-filer
        </h3>
        <h4>
          Requises
        </h4>
        <p class="required">
          <a class="xref" href="../x/libglade.html" title=
          "libglade-2.6.4">libglade-2.6.4</a> et <a class="xref" href=
          "../general/shared-mime-info.html" title=
          "shared-mime-info-2.1">shared-mime-info-2.1</a>
        </p>
        <p class="usernotes">
          Notes utilisateur&nbsp;: <a class="ulink" href=
          "https://wiki.linuxfromscratch.org/blfs/wiki/rox-filer">https://wiki.linuxfromscratch.org/blfs/wiki/rox-filer</a>
        </p>
      </div>
      <div class="kernel" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          <a id="rox-filer-kernel" name="rox-filer-kernel"></a>Configuration
          du noyau
        </h2>
        <p>
          Si vous souhaitez que <span class="application">rox-filer</span>
          puisse mettre à jour le contenu d'un répertoire quand des
          changements sont faits dans les fichiers par d'autres applications
          (par exemple, si un script est lancé) vous devez activer le support
          dnotify dans votre noyau. Dans <span class="command"><strong>make
          menuconfig</strong></span>&nbsp;:
        </p>
        <pre class="screen"><code class="literal">File systems ---&gt;
  [*] Dnotify support   [CONFIG_DNOTIFY]</code></pre>
        <p>
          Sauvegardez le nouveau <code class="filename">.config</code> et
          ensuite compiler le noyau.
        </p>
      </div>
      <div class="installation" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          Installation de Rox-Filer
        </h2>
        <p>
          Compilez <span class="application">rox-filer</span> avec les
          commandes suivantes&nbsp;:
        </p>
        <pre class="userinput"><kbd class=
        "command">cd ROX-Filer                                                        &amp;&amp;
sed -i 's:g_strdup(getenv("APP_DIR")):"/usr/share/rox":' src/main.c &amp;&amp;
sed -i 's/gboolean/extern &amp;/' src/session.h                     &amp;&amp;

mkdir build                        &amp;&amp;
pushd build                        &amp;&amp;
  ../src/configure LIBS="-lm -ldl" &amp;&amp;
  make                             &amp;&amp;
popd</kbd></pre>
        <p>
          Maintenant installez-le en tant qu'utilisateur <code class=
          "systemitem">root</code>&nbsp;:
        </p>
        <pre class="root"><kbd class=
        "command">mkdir -p /usr/share/rox                              &amp;&amp;
cp -av Help Messages Options.xml ROX images style.css .DirIcon /usr/share/rox &amp;&amp;

cp -av ../rox.1 /usr/share/man/man1                  &amp;&amp;
cp -v  ROX-Filer /usr/bin/rox                        &amp;&amp;
chown -Rv root:root /usr/bin/rox /usr/share/rox      &amp;&amp;

cd /usr/share/rox/ROX/MIME                           &amp;&amp;
ln -sv text-x-{diff,patch}.png                       &amp;&amp;
ln -sv application-x-font-{afm,type1}.png            &amp;&amp;
ln -sv application-xml{,-dtd}.png                    &amp;&amp;
ln -sv application-xml{,-external-parsed-entity}.png &amp;&amp;
ln -sv application-{,rdf+}xml.png                    &amp;&amp;
ln -sv application-x{ml,-xbel}.png                   &amp;&amp;
ln -sv application-{x-shell,java}script.png          &amp;&amp;
ln -sv application-x-{bzip,xz}-compressed-tar.png    &amp;&amp;
ln -sv application-x-{bzip,lzma}-compressed-tar.png  &amp;&amp;
ln -sv application-x-{bzip-compressed-tar,lzo}.png   &amp;&amp;
ln -sv application-x-{bzip,xz}.png                   &amp;&amp;
ln -sv application-x-{gzip,lzma}.png                 &amp;&amp;
ln -sv application-{msword,rtf}.png</kbd></pre>
      </div>
      <div class="commands" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          Explication des commandes
        </h2>
        <p>
          <span class="command"><strong>sed -i
          's:g_strdup(getenv("APP_DIR")):"/usr/share/rox":'
          src/main.c</strong></span>&nbsp;: Cette commande code en dur
          /usr/share/rox comme répertoire pour les fichiers privés de
          <span class="application">rox-filer</span>. Sans ce sed, rox a
          besoin de la variable d'environnement ${APP_DIR}.
        </p>
        <p>
          <span class="command"><strong>sed -i 's/gboolean/extern &amp;/'
          src/session.h</strong></span>&nbsp;. cette commande corrige des
          définitions multiples trouvées par GCC 10 et supérieur et qui
          causent une erreur.
        </p>
        <p>
          <span class="command"><strong>ln -sv
          application-...</strong></span>&nbsp;: Ces commandes dupliquent les
          icônes pour certains types mime communs. Sans ces liens,
          <span class="application">rox-filer</span> afficherait seulement
          l'icône "blob binaire inconnu" par défaut.
        </p>
      </div>
      <div class="configuration" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          Configuration de RoxFiler
        </h2>
        <div class="sect3">
          <h3 class="sect3">
            Informations sur la configuration
          </h3>
          <p>
            La plus grande partie de la configuration de <span class=
            "application">rox-filer</span> est réalisée en faisant des clics
            droits sur une fenêtre <span class="application">rox-filer</span>
            et en choisissant "Options" dans le menu. Cela enregistrera les
            paramètres initialisés dans <code class=
            "filename">~/.config/rox.sourceforge.net</code>.
          </p>
          <p>
            Une fonctionnalité de <span class="application">rox-filer</span>
            est que s'il y a un fichier exécutable appelé <code class=
            "filename">AppRun</code> dans un répertoire, <span class=
            "application">rox-filer</span> lancera en premier <span class=
            "command"><strong>AppRun</strong></span> avant d'ouvrir le
            dossier.
          </p>
          <p>
            Par exemple, si vous avez un accès ssh vers un autre ordinateur
            (peut être un autre ordinateur de votre réseau local) avec ssh
            configuré pour un accès sans mot de passe et que vous avez
            installé <a class="xref" href="../postlfs/sshfs.html" title=
            "sshfs-3.7.2">sshfs-3.7.2</a>, vous pouvez utiliser AppRun pour
            monter l'ordinateur distant dans un dossier local en utilisant
            <span class="command"><strong>sshfs</strong></span>. Pour cet
            exemple, le script AppRun fonctionne si le dossier à le même nom
            que le nom d'hôte de l'ordinateur distant&nbsp;:
          </p>
          <pre class="userinput"><kbd class=
          "command">cat &gt; /path/to/hostname/AppRun &lt;&lt; "HERE_DOC"
#!/bin/bash

MOUNT_PATH="${0%/*}"
HOST=${MOUNT_PATH##*/}
export MOUNT_PATH HOST
sshfs -o nonempty ${HOST}:/ ${MOUNT_PATH}
rox -x ${MOUNT_PATH}
HERE_DOC

chmod 755 /path/to/hostname/AppRun</kbd></pre>
          <p>
            Cela fonctionne correctement pour le montage, mais pour le
            démontage la commande <span class="command"><strong>fusermount -u
            ${MOUNTPOINT}</strong></span> est lancée. Vous pouvez
            l'initialiser comme votre commande de démontage par défaut dans
            vos préférences de rox, mais vous ne pourrez plus démonter des
            points de montage normaux (qui utilisent umount). Un script est
            utilisé pour démonter les points de montage Fuse avec
            <span class="command"><strong>fusermount -u
            ${MOUNTPOINT}</strong></span> et le reste avec <span class=
            "command"><strong>umount</strong></span>. En tant qu'utilisateur
            <code class="systemitem">root</code>&nbsp;:
          </p>
          <pre class="root"><kbd class=
          "command">cat &gt; /usr/bin/myumount &lt;&lt; "HERE_DOC" &amp;&amp;
#!/bin/bash
sync
if mount | grep "${@}" | grep -q fuse
then fusermount -u "${@}"
else umount "${@}"
fi
HERE_DOC

chmod 755 /usr/bin/myumount</kbd></pre>
          <p>
            Maintenant, pour que Rox utilise ce script simple, ouvrez une
            fenêtre Rox, cliquez-droit desus et choisissez Options dans le
            menu. Dans la liste de choix prenez "Action windows" et ensuite
            dans le coté droit, où il est dit "Unmount command" changez
            <span class="command"><strong>umount</strong></span> par
            <span class="command"><strong>myumount</strong></span>.
          </p>
          <p>
            Si vous utilisez un environnement de bureau comme <span class=
            "application">Gnome</span> ou <span class=
            "application">KDE</span> vous devez créer un fichier <code class=
            "filename">rox.desktop</code> pour que <span class=
            "application">rox-filer</span> apparaissent dans les panneaux de
            menu. En tant qu'utilisateur <code class=
            "systemitem">root</code>&nbsp;:
          </p>
          <pre class="root"><kbd class=
          "command">ln -s ../rox/.DirIcon /usr/share/pixmaps/rox.png &amp;&amp;
mkdir -p /usr/share/applications &amp;&amp;

cat &gt; /usr/share/applications/rox.desktop &lt;&lt; "HERE_DOC"
[Desktop Entry]
Encoding=UTF-8
Type=Application
Name=Rox
Comment=The Rox File Manager
Icon=rox
Exec=rox
Categories=GTK;Utility;Application;System;Core;
StartupNotify=true
Terminal=false
HERE_DOC</kbd></pre>
        </div>
      </div>
      <div class="content" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          Contenu
        </h2>
        <div class="segmentedlist">
          <div class="seglistitem">
            <div class="seg">
              <strong class="segtitle">Programmes installés:</strong>
              <span class="segbody">rox</span>
            </div>
            <div class="seg">
              <strong class="segtitle">Bibliothèques installées:</strong>
              <span class="segbody">Aucune</span>
            </div>
            <div class="seg">
              <strong class="segtitle">Répertoires installés:</strong>
              <span class="segbody">/usr/share/rox</span>
            </div>
          </div>
        </div>
        <div class="variablelist">
          <h3>
            Descriptions courtes
          </h3>
          <table border="0" class="variablelist">
            <colgroup>
              <col align="left" valign="top" />
              <col />
            </colgroup>
            <tbody>
              <tr>
                <td>
                  <p>
                    <a id="rox-filer-prog" name=
                    "rox-filer-prog"></a><span class="term"><span class=
                    "command"><strong>rox</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    est le gestionnaire de fichiers rox
                  </p>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <p class="updated">
        Last updated on
      </p>
    </div>
    <div class="navfooter">
      <ul>
        <li class="prev">
          <a accesskey="p" href="pidgin.html" title=
          "Pidgin-2.14.6">Précédent</a>
          <p>
            Pidgin-2.14.6
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="rxvt-unicode.html" title=
          "rxvt-unicode-9.26">Suivant</a>
          <p>
            rxvt-unicode-9.26
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="other.html" title=
          "Chapitre&nbsp;41.&nbsp;Autres programmes basés sur X">Niveau
          supérieur</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Au-delà de Linux® From Scratch (édition systemd) - Version r10.1-1007+">
          Sommaire</a>
        </li>
      </ul>
    </div>
  </body>
</html>
