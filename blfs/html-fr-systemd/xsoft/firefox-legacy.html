<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="application/xhtml+xml; charset=utf-8" />
    <title>
      Firefox-78.13.0
    </title>
    <link rel="stylesheet" type="text/css" href="../stylesheets/lfs.css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.79.1" />
    <link rel="stylesheet" href="../stylesheets/lfs-print.css" type=
    "text/css" media="print" />
  </head>
  <body class="blfs" id="blfs-r10.1-1007+">
    <div class="navheader">
      <h4>
        Au-delà de Linux<sup>®</sup> From Scratch (édition <span class=
        "phrase">systemd)</span> - Version r10.1-1007+
      </h4>
      <h3>
        Chapitre&nbsp;40.&nbsp;Navigateurs Internet graphiques
      </h3>
      <ul>
        <li class="prev">
          <a accesskey="p" href="falkon.html" title=
          "Falkon-3.1.0">Précédent</a>
          <p>
            Falkon-3.1.0
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="firefox.html" title=
          "Firefox-91.0.1">Suivant</a>
          <p>
            Firefox-91.0.1
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="graphweb.html" title=
          "Chapitre&nbsp;40.&nbsp;Navigateurs Internet graphiques">Niveau
          supérieur</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Au-delà de Linux® From Scratch (édition systemd) - Version r10.1-1007+">
          Sommaire</a>
        </li>
      </ul>
    </div>
    <div class="sect1" lang="fr" xml:lang="fr">
      <h1 class="sect1">
        <a id="firefox-legacy" name="firefox-legacy"></a>Firefox-78.13.0
      </h1>
      <div class="package" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          Introduction à l'ancien Firefox
        </h2>
        <p>
          <span class="application">Firefox</span> est un navigateur autonome
          basé sur la base de code de <span class=
          "application">Mozilla</span>.
        </p>
        <p>
          Ce paquet est connu pour construire et fonctionner correctement
          avec la plateforme LFS-10.1 mais ne peut pas être construit sur les
          systèmes qui utilisent glibc-2.34.
        </p>
        <h3>
          Informations sur le paquet
        </h3>
        <div class="itemizedlist">
          <ul class="compact">
            <li class="listitem">
              <p>
                Tlchargement (HTTP)&nbsp;: <a class="ulink" href=
                "https://archive.mozilla.org/pub/firefox/releases/78.13.0esr/source/firefox-78.13.0esr.source.tar.xz">
                https://archive.mozilla.org/pub/firefox/releases/78.13.0esr/source/firefox-78.13.0esr.source.tar.xz</a>
              </p>
            </li>
            <li class="listitem">
              <p>
                Tlchargement (FTP)&nbsp;: <a class="ulink" href=""></a>
              </p>
            </li>
            <li class="listitem">
              <p>
                Somme de contrle MD5 du tlchargement&nbsp;:
                872623fc9f93ea8d3f3290024f0c0925
              </p>
            </li>
            <li class="listitem">
              <p>
                Taille du tlchargement&nbsp;: 319&nbsp;Mo
              </p>
            </li>
            <li class="listitem">
              <p>
                Estimation de l'espace disque requis&nbsp;: 5,2 Go (186 Mo
                installés) sans les tests
              </p>
            </li>
            <li class="listitem">
              <p>
                Estimation du temps de construction&nbsp;: 28 SBU (sur une
                machine à 4 cœurs) sans les tests
              </p>
            </li>
          </ul>
        </div>
        <div class="admon warning">
          <img alt="[Avertissement]" src="../images/warning.png" />
          <h3>
            Avertissement
          </h3>
          <p>
            Ceci est la vieille série des version ESR de firefox, la dernière
            publication est prévue pour être la 78.15.0 en octobre 2021.
            Cette page devrait être supprimée en novembre 2021 avec la
            publication de firefox-91.3.
          </p>
          <p>
            Si vous utilisez glibc-2.34 ou supérieur, cette vieille version
            de firefox ne sera pas utilisable et vous devrez utiliser
            <a class="xref" href="firefox.html" title=
            "Firefox-91.0.1">Firefox-91.0.1</a>.
          </p>
          <p>
            Il n'y a que deux raisons pour utiliser cette version : soit vous
            voulez utiliser ftp depuis votre navigateur et n'avez pas encore
            de solution alternative, soit vous avez un système qui ne compile
            pas le firefox actuel (il y a maintenant un correctif pour cela).
          </p>
        </div>
        <div class="admon note">
          <img alt="[Note]" src="../images/note.png" />
          <h3>
            Note
          </h3>
          <p>
            Le nom du répertoire est firefox-78.13.0
          </p>
          <p>
            L'extraction de l'archive réinitialisera les permissions du
            répertoire courant à 0755 si vous avez la permission de faire
            cela. Si vous le faites dans un répertoire où le droit sticky est
            activé, comme <code class="filename">/tmp</code> l'opération se
            terminera avec les messages d'erreur&nbsp;:
          </p>
          <div class="literallayout">
            <p>
              tar:&nbsp;.:&nbsp;Cannot&nbsp;utime:&nbsp;Operation&nbsp;not&nbsp;permitted<br />

              tar:&nbsp;.:&nbsp;Cannot&nbsp;change&nbsp;mode&nbsp;to&nbsp;rwxr-xr-t:&nbsp;Operation&nbsp;not&nbsp;permitted<br />

              tar:&nbsp;Exiting&nbsp;with&nbsp;failure&nbsp;status&nbsp;due&nbsp;to&nbsp;previous&nbsp;errors<br />
            </p>
          </div>
          <p>
            Elle termine avec un statut différent de zéro, mais cela ne
            signifie <span class="emphasis"><em>PAS</em></span> qu'il y a un
            vrai problème. Ne décompressez pas en tant que <code class=
            "systemitem">root</code> dans un répertoire où le droit sticky
            est activé - cela le désactiverait.
          </p>
          <p>
            Comme avec les autres gros paquets qui utilisent C++ (ou rust),
            le temps en SBU pour le construire peut varier plus grandement
            que vous ne vous y attendez. Le temps de construction peut
            augmenter significativement si la machine doit utiliser l'espace
            d'échange pour cela.
          </p>
          <p>
            Bien qu'en amont on préfère utiliser <span class=
            "application">PulseAudio</span>, pour le moment <span class=
            "application">Alsa</span> peut toujours être utilisé. Les deux
            ont besoin de configuration à l'exécution pour que le son
            fonctionne.
          </p>
        </div>
        <h3>
          Dépendances de l'ancien Firefox
        </h3>
        <h4>
          Requises
        </h4>
        <p class="required">
          <a class="xref" href="../general/autoconf213.html" title=
          "Autoconf2.13">Autoconf-2.13</a>, <a class="xref" href=
          "../general/cbindgen.html" title=
          "Cbindgen-0.20.0">Cbindgen-0.20.0</a>, <a class="xref" href=
          "../general/dbus-glib.html" title=
          "dbus-glib-0.112">dbus-glib-0.112</a>, à la fois <a class="xref"
          href="../x/gtk3.html" title="GTK+-3.24.30">GTK+-3.24.30</a> et
          <a class="xref" href="../x/gtk2.html" title=
          "GTK+-2.24.33">GTK+-2.24.33</a>, <a class="xref" href=
          "../x/libnotify.html" title="libnotify-0.7.9">libnotify-0.7.9</a>,
          <a class="xref" href="../general/llvm.html" title=
          "LLVM-12.0.1">LLVM-12.0.1</a> (clang, utilisé pour bindgen même si
          vous utilisez gcc), <a class="xref" href="../general/nodejs.html"
          title="Node.js-14.17.5">nodejs-14.17.5</a>, <a class="xref" href=
          "../postlfs/nss.html" title="NSS-3.69">NSS-3.69</a>, <a class=
          "xref" href="../multimedia/pulseaudio.html" title=
          "PulseAudio-15.0">PulseAudio-15.0</a> (ou <a class="xref" href=
          "../multimedia/alsa-lib.html" title=
          "alsa-lib-1.2.5.1">alsa-lib-1.2.5.1</a> si vous modifiez le
          mozconfig&nbsp;; maintenant rendu obsolète par mozilla), dans tous
          les cas lisez les informations de configuration, <a class="xref"
          href="../general/python3.html" title=
          "Python-3.9.6">Python-3.9.6</a> (reconstruit après l'installation
          de <a class="xref" href="../server/sqlite.html" title=
          "SQLite-3.36.0">SQLite-3.36.0</a>), <a class="xref" href=
          "../x/startup-notification.html" title=
          "startup-notification-0.12">startup-notification-0.12</a>,
          <a class="xref" href="../general/unzip.html" title=
          "UnZip-6.0">UnZip-6.0</a>, <a class="xref" href=
          "../general/yasm.html" title="yasm-1.3.0">yasm-1.3.0</a> et
          <a class="xref" href="../general/zip.html" title=
          "Zip-3.0">Zip-3.0</a>
        </p>
        <h4>
          Recommandes
        </h4>
        <p class="recommended">
          <a class="xref" href="../general/icu.html" title=
          "ICU-69.1">ICU-69.1</a>, <a class="xref" href=
          "../basicnet/libevent.html" title=
          "libevent-2.1.12">libevent-2.1.12</a>, <a class="xref" href=
          "../general/libwebp.html" title="libwebp-1.2.1">libwebp-1.2.1</a>,
          <a class="xref" href="../general/nasm.html" title=
          "NASM-2.15.05">NASM-2.15.05</a>
        </p>
        <div class="admon note">
          <img alt="[Note]" src="../images/note.png" />
          <h3>
            Note
          </h3>
          <p>
            Si vous n'installez pas les dépendances recommandées, alors les
            versions internes de ces paquets seront utilisés. Elles peuvent
            être testées pour fonctionner, mais elles peuvent être dépassées
            ou contenir des trous de sécurité.
          </p>
        </div>
        <h4>
          Facultatives
        </h4>
        <p class="optional">
          <a class="xref" href="../basicnet/curl.html" title=
          "cURL-7.78.0">cURL-7.78.0</a>, <a class="xref" href=
          "../general/doxygen.html" title="Doxygen-1.9.2">Doxygen-1.9.2</a>,
          <a class="xref" href="../multimedia/ffmpeg.html" title=
          "FFmpeg-4.4">FFmpeg-4.4</a> (à l'exécution, pour jouer des fichiers
          mov, mp3 ou mp4), <a class="xref" href="../postlfs/liboauth.html"
          title="liboauth-1.0.3">liboauth-1.0.3</a>, <a class="xref" href=
          "../general/openjdk.html" title=
          "OpenJDK-16.0.2">OpenJDK-16.0.2</a>, <a class="xref" href=
          "../general/valgrind.html" title=
          "Valgrind-3.17.0">Valgrind-3.17.0</a>, <a class="xref" href=
          "../basicnet/wget.html" title="Wget-1.21.1">Wget-1.21.1</a>,
          <a class="xref" href="../basicnet/wireless_tools.html" title=
          "Wireless Tools-29">Wireless Tools-29</a>, <a class="ulink" href=
          "https://github.com/libproxy/libproxy">libproxy</a>
        </p>
        <p class="usernotes">
          Notes utilisateur&nbsp;: <a class="ulink" href=
          "https://wiki.linuxfromscratch.org/blfs/wiki/firefox">https://wiki.linuxfromscratch.org/blfs/wiki/firefox</a>
        </p>
      </div>
      <div class="installation" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          Installation de Firefox Legacy
        </h2>
        <p>
          La configuration de <span class="application">Firefox</span> se
          fait en créant un fichier <code class="filename">mozconfig</code>
          contenant les options de configuration désirées. Un <code class=
          "filename">mozconfig</code> par défaut est créé ci-dessous. Pour
          voir toute la liste des options de configuration disponibles, (et
          une description abrégée de chacune), faites <span class=
          "command"><strong>./mach configure &amp;&amp; ./configure --help |
          less</strong></span>. Il se peut que vous vouliez aussi relire tout
          le fichier et dé-commenter les autres options souhaitées. Créez le
          fichier en tapant la commande suivante&nbsp;:
        </p>
        <pre class="userinput"><kbd class=
        "command">cat &gt; mozconfig &lt;&lt; "EOF"
<code class=
"literal"># If you have a multicore machine, all cores will be used by default.

# If you have installed (or will install) wireless-tools, and you wish
# to use geolocation web services, comment out this line
ac_add_options --disable-necko-wifi

# API Keys for geolocation APIs - necko-wifi (above) is required for MLS
# Uncomment the following line if you wish to use Mozilla Location Service
#ac_add_options --with-mozilla-api-keyfile=$PWD/mozilla-key

# Uncomment the following line if you wish to use Google's geolocaton API
# (needed for use with saved maps with Google Maps)
#ac_add_options --with-google-location-service-api-keyfile=$PWD/google-key

# startup-notification is required since firefox-78

# Uncomment the following option if you have not installed PulseAudio
#ac_add_options --disable-pulseaudio
# or uncomment this if you installed alsa-lib instead of PulseAudio
#ac_add_options --enable-alsa

# Comment out following options if you have not installed
# recommended dependencies:
ac_add_options --with-system-libevent
ac_add_options --with-system-webp
ac_add_options --with-system-nspr
ac_add_options --with-system-nss
ac_add_options --with-system-icu

# Do not specify the gold linker which is not the default. It will take
# longer and use more disk space when debug symbols are disabled.

# libdavid (av1 decoder) requires nasm. Uncomment this if nasm
# has not been installed.
#ac_add_options --disable-av1

# You cannot distribute the binary if you do this
ac_add_options --enable-official-branding

# Stripping is now enabled by default.
# Uncomment these lines if you need to run a debugger:
#ac_add_options --disable-strip
#ac_add_options --disable-install-strip

# Disabling debug symbols makes the build much smaller and a little
# faster. Comment this if you need to run a debugger. Note: This is
# required for compilation on i686.
ac_add_options --disable-debug-symbols

# The elf-hack is reported to cause failed installs (after successful builds)
# on some machines. It is supposed to improve startup time and it shrinks
# libxul.so by a few MB - comment this if you know your machine is not affected.
ac_add_options --disable-elf-hack

# The BLFS editors recommend not changing anything below this line:
ac_add_options --prefix=/usr
ac_add_options --enable-application=browser
ac_add_options --disable-crashreporter
ac_add_options --disable-updater
# enabling the tests will use a lot more space and significantly
# increase the build time, for no obvious benefit.
ac_add_options --disable-tests

# The default level of optimization again produces a working build with gcc.
ac_add_options --enable-optimize

ac_add_options --enable-system-ffi
ac_add_options --enable-system-pixman

# --with-system-bz2 was removed in firefox-78
ac_add_options --with-system-jpeg
ac_add_options --with-system-png
ac_add_options --with-system-zlib

# The following option unsets Telemetry Reporting. With the Addons Fiasco,
# Mozilla was found to be collecting user's data, including saved passwords and
# web form data, without users consent. Mozilla was also found shipping updates
# to systems without the user's knowledge or permission.
# As a result of this, use the following command to permanently disable
# telemetry reporting in Firefox.
unset MOZ_TELEMETRY_REPORTING

mk_add_options MOZ_OBJDIR=@TOPSRCDIR@/firefox-build-dir</code>
EOF</kbd></pre>
        <p>
          Compilez <span class="application">Firefox</span> en lançant les
          commandes suivantes&nbsp;:
        </p>
        <p>
          Dans la version esr de firefox-78, le code qui s'assure que les
          greffons sont signés par la racine de confiance a été désactivé,
          probablement pour les organisations qui ont besoin de leur propres
          greffons. Pour l'activer en tant que mesure de sécurité
          supplémentaire lancez la commande suivante&nbsp;:
        </p>
        <pre class="userinput"><kbd class=
        "command">sed -e 's/Disable/Enable/'            \
    -e '/^MOZ_REQUIRE_SIGNING/s/0/1/' \
    -i build/mozconfig.common</kbd></pre>
        <p>
          Si vous avez besoin des API de géolocalisation&nbsp;:
        </p>
        <div class="admon note">
          <img alt="[Note]" src="../images/note.png" />
          <h3>
            Note
          </h3>
          <p>
            Les clefs d'API de Google et Mozilla ci-dessous sont spécifiques
            à LFS. Si vous utilisez ces instructions pour une autre
            distribution, ou si vous avez l'intention de distribuer des
            copies logicielles en utilisant ces directives, obtenez vos
            propres clefs en suivant les instrictions définies respectivement
            <a class="ulink" href=
            "http://www.chromium.org/developers/how-tos/api-keys">http://www.chromium.org/developers/how-tos/api-keys</a>
            et <a class="ulink" href=
            "https://location.services.mozilla.com/api">https://location.services.mozilla.com/api</a>.
          </p>
        </div>
        <pre class="userinput"><kbd class=
        "command">echo "AIzaSyDxKL42zsPjbke5O8_rPVpVrLrJ8aeE9rQ" &gt; google-key
echo "613364a7-9418-4c86-bcee-57e32fd70c23" &gt; mozilla-key</kbd></pre>
        <div class="admon note">
          <img alt="[Note]" src="../images/note.png" />
          <h3>
            Note
          </h3>
          <p>
            Si vous compilez ce paquet dans un chroot vous devez faire deux
            choses. Tout d'abord, en tant qu'utilisateur <code class=
            "systemitem">root</code>, assurez-vous que <code class=
            "filename">/dev/shm</code> est monté. Si vous ne le faites pas,
            le configury en <span class="application">Python</span> échouera
            avec un trace évocant <code class=
            "filename">/usr/lib/pythonN.N/multiprocessing/synchronize.py</code>.
            Lancez&nbsp;:
          </p>
          <pre class="userinput"><kbd class=
          "command">mountpoint -q /dev/shm || mount -t tmpfs devshm /dev/shm</kbd></pre>
          <p>
            Deuxièmement, vous devez soit exporter en tant qu'utilisateur
            <code class="systemitem">root</code> la variable d'environnement
            <code class="envar">$SHELL</code> avec <span class=
            "command"><strong>export SHELL=/bin/sh</strong></span>, soit
            rajouter <code class="envar">SHELL=/bin/sh</code> devant
            l'invocation de la commande <span class=
            "command"><strong>configure</strong></span>.
          </p>
        </div>
        <p>
          Invoquez maintenant le script Python pour compiler le paquet.
        </p>
        <pre class="userinput"><kbd class=
        "command">export CC=gcc CXX=g++ &amp;&amp;
export MOZBUILD_STATE_PATH=${PWD}/mozbuild &amp;&amp;
./mach configure                           &amp;&amp;
./mach build</kbd></pre>
        <p>
          Le fichier <code class="filename">mozconfig</code> ci-dessus
          désactive les tests car ils prennent beaucoup plus de temps et
          d'espace disque sans bénéfice évident. Si vous les avez tout de
          même activés, vous pouvez lancer les tests en exécutant
          <span class="command"><strong>./mach gtest</strong></span>. Cela
          requiert une connexion internet et d'être lancé dans un
          environnement Xorg - il y a une boîte de dialogue lorsque la
          connexion à ALSA échoue (ce qui ne fait pas échouer le test). Un ou
          deux tests échoueront. Pour voir les détails des échecs, vous
          devrez enregistrer la sortie de la commande pour pouvoir la revoir.
        </p>
        <p>
          Maintenant, en tant qu'utilisateur <code class=
          "systemitem">root</code>&nbsp;:
        </p>
        <pre class="root"><kbd class="command">./mach install</kbd></pre>
        <p>
          Redéfinissez les variables d'environnement à leur valeur
          initiale&nbsp;:
        </p>
        <pre class="userinput"><kbd class=
        "command">unset CC CXX MOZBUILD_STATE_PATH</kbd></pre>
      </div>
      <div class="commands" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          Explication des commandes
        </h2>
        <p>
          <span class="command"><strong>export CC=gcc CXX=g++
          …</strong></span>&nbsp;: <span class="application">clang</span> est
          maintenant préféré en amont pour pouvoir utiliser le même
          compilateur partout. Sur les architectures X86 <span class=
          "application">clang</span> a maintenant l'air de prendre en charge
          la plupart des options de durcissement que <span class=
          "application">GCC</span>. Avec les versions actuelles des drapeaux
          par défaut, <span class="application">GCC</span> crée une
          construction légèrement plus grosse mais prend typiquement 2 SBU de
          moins sur une machine à 4 cœurs avec le mozconfig ci-dessus.
        </p>
        <p>
          <span class="command"><strong>export
          MOZBUILD_STATE_PATH=${PWD}/mowbuild</strong></span>&nbsp;: La
          construction est maintenant supposée vous dire qu'elle souhaite
          créer <code class="filename">~/.mozbuld</code> et vous offre
          l'option d'appuyer sur «&nbsp;ENTRÉE&nbsp;» pour accepter cela, ou
          Ctrl-C pour annuler et recommencer la construction après avoir
          spécifié le répertoire. En pratique, le message peut ne pas
          apparaître après avoir tapé «&nbsp;ENTRÉE&nbsp;», c.-à-d. que la
          construction échoue.
        </p>
        <p>
          Ce répertoire est utilisé pour un identifiant (probablement
          aléatoire) de télémétrie. Créez-le dans le répertoire de
          construction et supprimez-le après l'installation pour éviter qu'il
          ne soit utilisé. Si vous souhaitez participer à la télémétrie,
          exportez MOZBUILD_STATE_PATH et faites-le pointer vers le
          répertoire par défaut.
        </p>
        <p>
          <span class="command"><strong>./mach build</strong></span>&nbsp;:
          <span class="application">Firefox</span> utilise maintenant ce
          script <span class="application">python</span> pour lancer la
          construction et l'installation.
        </p>
        <p>
          <code class="option">./mach build --verbose</code>&nbsp;: utilisez
          cette alternative si vous avez besoin de détails sur les fichiers
          qui sont compilés avec les drapeaux C ou C++ utilisés. Mais
          n'ajoutez pas «&nbsp;--verbose&nbsp;» à la commande d'installation,
          elle n'est pas acceptée.
        </p>
        <p>
          <code class="option">./mach build -jN</code>&nbsp;: la construction
          devrait par défaut utiliser tous les cœurs de CPU en ligne. Si
          utiliser tous les cœurs fait que la construction utilise la mémoire
          d'échange parce que vous n'avez pas assez de RAM, utiliser moins de
          cœurs peut être plus rapide.
        </p>
      </div>
      <div class="configuration" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          Configuration de Firefox
        </h2>
        <p>
          Si vous utilisez un environnement de bureau comme <span class=
          "application">Gnome</span> ou <span class="application">KDE</span>
          vous pourriez souhaiter créer un fichier <code class=
          "filename">firefox.desktop</code> pour que <span class=
          "application">Firefox</span> apparaisse dans les menus du bureau.
          En tant qu'utilisateur <code class="systemitem">root</code>&nbsp;:
        </p>
        <pre class="root"><kbd class=
        "command">mkdir -pv /usr/share/applications &amp;&amp;
mkdir -pv /usr/share/pixmaps &amp;&amp;

MIMETYPE="text/xml;text/mml;text/html;"                                    &amp;&amp;
MIMETYPE="$MIMETYPE;application/xhtml+xml;application/vnd.mozilla.xul+xml" &amp;&amp;
MIMETYPE="$MIMETYPE;x-scheme-handler/http;x-scheme-handler/https;          &amp;&amp;

cat &gt; /usr/share/applications/firefox.desktop &lt;&lt; EOF &amp;&amp;
<code class="literal">[Desktop Entry]
Encoding=UTF-8
Name=Firefox Web Browser
Comment=Browse the World Wide Web
GenericName=Web Browser
Exec=firefox %u
Terminal=false
Type=Application
Icon=firefox
Categories=GNOME;GTK;Network;WebBrowser;
MimeType=$MIMETYPE
StartupNotify=true</code>
EOF

unset MIMETYPE &amp;&amp;

ln -sfv /usr/lib/firefox/browser/chrome/icons/default/default128.png \
        /usr/share/pixmaps/firefox.png</kbd></pre>
        <div class="sect3">
          <h3 class="sect3">
            Informations sur la configuration
          </h3>
          <p>
            Les paramètres applicatifs pour firefox sont accessibles en
            entrant <span class=
            "command"><strong>about:config</strong></span> dans la barre
            d'adresse.
          </p>
          <p>
            Parfois, avoir du son qui fonctionne dans <span class=
            "application">firefox</span> peut être difficile. Bien qu'en
            amont pulseaudio soit préféré, utiliser <span class=
            "application">Alsa</span> peut être plus facile.
          </p>
          <p>
            Si vous avez activé <span class="application">Alsa</span> pour le
            son, vous pourriez avoir besoin de modifier une variable pour
            qu'il fonctionne. Si vous lancez <span class=
            "command"><strong>firefox</strong></span> depuis un terminal et
            essayez de jouer quelque chose avec du son, vous pouvez trouver
            des messages d'erreur tels que&nbsp;:
          </p>
          <p>
            <code class="literal">Sandbox: seccomp sandbox violation: pid
            3941, tid 4030, syscall 16, args 48 2147767296 139909894784796 0
            0 0.</code>
          </p>
          <p>
            C'était sur x86_64, sur i686 le numéro d'appel système est 54.
            Pour permettre cet appel système, dans <span class=
            "command"><strong>about:config</strong></span>, modifiez
            <span class=
            "command"><strong>security.sandbox.content.syscall_whitelist</strong></span>
            à 16 (ou 54 en i686).
          </p>
          <p>
            Si vous utilisez <span class=
            "command"><strong>pulseaudio</strong></span> dans un
            environnement de bureau, il est peut-être déjà démarré par
            celui-ci. Mais si ce n'est pas le cas, bien que firefox-57
            arrivait à le démarrer, firefox-58 n'y arrive pas. Si vous lancez
            <span class="command"><strong>firefox</strong></span> depuis un
            terminal et que ce problème est présent, essayer de jouer un son
            produira des avertissements <code class="literal">Impossible de
            trouver le contexte cubeb !</code>
          </p>
          <p>
            La solution est de fermer firefox, démarrer pluseaudio pour
            vérifier qu'il démarre (sinon voir les information de
            configuration dans <a class="xref" href=
            "../multimedia/pulseaudio.html" title=
            "PulseAudio-15.0">PulseAudio-15.0</a>) et redémarrez firefox pour
            vérifier que ça fonctionne. Si maintenant ça fonctionne, ajoutez
            ce qui suit à voutr <code class=
            "filename">~/.xinitrc</code>&nbsp;: <span class=
            "phrase"><code class="literal">pulseaudio --verbose
            --log-target=journald&amp;</code></span> (malheureusement, sur
            certains systèmes cela ne fonctionne pas).
          </p>
          <p>
            Vous pouvez souhaiter utiliser plusieurs profils dans firefox.
            Pour cela, invoquez firefox avec <span class=
            "command"><strong>firefox --ProfileManager</strong></span>. Vous
            pouvez aussi vérifier le profil actuellement utilisé avec
            <span class="command"><strong>about:profiles</strong></span>.
          </p>
          <p>
            Bien que WebRender (avec le GPU pour la composition) ne soit pas
            utilisé par défaut, il a maintenant l'air de bien marcher sur les
            matériels pris en charge (les GPU ATI, Nvidia et Intel avec
            Mesa-18 et supérieur). Pour une explication, regardez <a class=
            "ulink" href=
            "https://hacks.mozilla.org/2017/10/the-whole-web-at-maximum-fps-how-webrender-gets-rid-of-jank/">
            hacks.mozilla.org</a>. Le seul inconvénient semble être une
            utilisation plus élevée de la RAM sur les machines avec peu de
            RAM.
          </p>
          <p>
            Pour vérifier si WebRender est utilisé, regardez dans
            about:support. Dans la section Graphique, Composition montrera
            soit «&nbsp;Basic&nbsp;» (inutilisé) soit
            «&nbsp;WebRender&nbsp;». Pour l'activer, allez dans about:config
            et changez gfx.webrender.all à True. Vous devrez redémarrer
            firefox.
          </p>
          <p>
            Il peut être utile de mentionner les processus de firefox qui
            peuvent apparaître dans <span class=
            "command"><strong>top</strong></span> — en plus de firefox
            lui-même, il y a plusieurs processus Web Content, et maintenant
            un processus RDD (Remote Data Decoder) qui apparaît lors de la
            lecture de vidéos web encodées avec av1 (libdav1d). Si WebRender
            est activé, un processus GPU apparaîtra aussi lorsque firefox
            doit rafraîchir l'écran (p. ex. pendant le défilement,
            l'ouverture d'un nouvel onglet, ou à la lecture d'une vidéo).
          </p>
        </div>
      </div>
      <div class="content" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          Contenu
        </h2>
        <div class="segmentedlist">
          <div class="seglistitem">
            <div class="seg">
              <strong class="segtitle">Programmes installs:</strong>
              <span class="segbody">firefox</span>
            </div>
            <div class="seg">
              <strong class="segtitle">Bibliothques installes:</strong>
              <span class="segbody">De nombreuses bibliothèques, composants
              du navigateur, greffons, extensions et modules d'aide dans
              /usr/lib/firefox</span>
            </div>
            <div class="seg">
              <strong class="segtitle">Rpertoire install:</strong>
              <span class="segbody">/usr/lib/firefox et
              /usr/lib/mozilla</span>
            </div>
          </div>
        </div>
        <div class="variablelist">
          <h3>
            Descriptions courtes
          </h3>
          <table border="0" class="variablelist">
            <colgroup>
              <col align="left" valign="top" />
              <col />
            </colgroup>
            <tbody>
              <tr>
                <td>
                  <p>
                    <a id="firefox-legacy-prog" name=
                    "firefox-legacy-prog"></a><span class="term"><span class=
                    "command"><strong>firefox</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    est un navigateur internet <span class=
                    "application">GTK+-3</span> qui utilise le moteur de
                    rendu Mozilla Gecko
                  </p>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <p class="updated">
        Last updated on
      </p>
    </div>
    <div class="navfooter">
      <ul>
        <li class="prev">
          <a accesskey="p" href="falkon.html" title=
          "Falkon-3.1.0">Précédent</a>
          <p>
            Falkon-3.1.0
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="firefox.html" title=
          "Firefox-91.0.1">Suivant</a>
          <p>
            Firefox-91.0.1
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="graphweb.html" title=
          "Chapitre&nbsp;40.&nbsp;Navigateurs Internet graphiques">Niveau
          supérieur</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Au-delà de Linux® From Scratch (édition systemd) - Version r10.1-1007+">
          Sommaire</a>
        </li>
      </ul>
    </div>
  </body>
</html>
