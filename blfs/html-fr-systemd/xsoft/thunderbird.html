<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="application/xhtml+xml; charset=utf-8" />
    <title>
      Thunderbird-91.0.3
    </title>
    <link rel="stylesheet" type="text/css" href="../stylesheets/lfs.css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.79.1" />
    <link rel="stylesheet" href="../stylesheets/lfs-print.css" type=
    "text/css" media="print" />
  </head>
  <body class="blfs" id="blfs-r10.1-914+">
    <div class="navheader">
      <h4>
        Au-delà de Linux<sup>®</sup> From Scratch (édition <span class=
        "phrase">systemd)</span> - Version r10.1-914+
      </h4>
      <h3>
        Chapitre&nbsp;41.&nbsp;Autres programmes basés sur X
      </h3>
      <ul>
        <li class="prev">
          <a accesskey="p" href="rxvt-unicode.html" title=
          "rxvt-unicode-9.26">Précédent</a>
          <p>
            rxvt-unicode-9.26
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="tigervnc.html" title=
          "Tigervnc-1.11.0">Suivant</a>
          <p>
            Tigervnc-1.11.0
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="other.html" title=
          "Chapitre&nbsp;41.&nbsp;Autres programmes basés sur X">Niveau
          supérieur</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Au-delà de Linux® From Scratch (édition systemd) - Version r10.1-914+">
          Sommaire</a>
        </li>
      </ul>
    </div>
    <div class="sect1" lang="fr" xml:lang="fr">
      <h1 class="sect1">
        <a id="thunderbird" name="thunderbird"></a>Thunderbird-91.0.3
      </h1>
      <div class="package" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          Introduction à Thunderbird
        </h2>
        <p>
          <span class="application">Thunderbird</span> est un client autonome
          de mail/news basé sur le code source de <span class=
          "application">Mozilla</span>. Il utilise le moteur de rendement
          Gecko afin d'afficher et d'écrire des courriels HTML
        </p>
        <p>
          This package is known to build and work properly using an LFS-10.1
          platform.
        </p>
        <h3>
          Informations sur le paquet
        </h3>
        <div class="itemizedlist">
          <ul class="compact">
            <li class="listitem">
              <p>
                Téléchargement (HTTP)&nbsp;: <a class="ulink" href=
                "https://archive.mozilla.org/pub/thunderbird/releases/91.0.3/source/thunderbird-91.0.3.source.tar.xz">
                https://archive.mozilla.org/pub/thunderbird/releases/91.0.3/source/thunderbird-91.0.3.source.tar.xz</a>
              </p>
            </li>
            <li class="listitem">
              <p>
                Téléchargement (FTP)&nbsp;: <a class="ulink" href=""></a>
              </p>
            </li>
            <li class="listitem">
              <p>
                Somme de contrôle MD5 du téléchargement&nbsp;:
                f08dd55b8b1b0baf2c38a88aa3734cf8
              </p>
            </li>
            <li class="listitem">
              <p>
                Taille du téléchargement&nbsp;: 390&nbsp;Mo
              </p>
            </li>
            <li class="listitem">
              <p>
                Estimation de l'espace disque requis&nbsp;: 6.9 GB (201 MB
                installed)
              </p>
            </li>
            <li class="listitem">
              <p>
                Estimation du temps de construction&nbsp;: 29 SBU (sur une
                machine à 4 cœurs)
              </p>
            </li>
          </ul>
        </div>
        <h3>
          Téléchargements supplémentaires
        </h3>
        <div class="itemizedlist">
          <ul class="compact">
            <li class="listitem">
              <p>
                Correctif requis&nbsp;: <a class="ulink" href=
                "https://www.linuxfromscratch.org/patches/blfs/svn/thunderbird-91.0.3-glibc234-1.patch">
                https://www.linuxfromscratch.org/patches/blfs/svn/thunderbird-91.0.3-glibc234-1.patch</a>
              </p>
            </li>
          </ul>
        </div>
        <h3>
          Dépendances de Thunderbird
        </h3>
        <h4>
          Requises
        </h4>
        <p class="required">
          <a class="xref" href="../general/autoconf213.html" title=
          "Autoconf2.13">Autoconf-2.13</a>, <a class="xref" href=
          "../general/cbindgen.html" title=
          "Cbindgen-0.20.0">Cbindgen-0.20.0</a>, <a class="xref" href=
          "../general/dbus-glib.html" title=
          "dbus-glib-0.112">dbus-glib-0.112</a>, à la fois <a class="xref"
          href="../x/gtk3.html" title="GTK+-3.24.30">GTK+-3.24.30</a> et
          <a class="xref" href="../x/gtk2.html" title=
          "GTK+-2.24.33">GTK+-2.24.33</a>, <a class="xref" href=
          "../general/llvm.html" title="LLVM-12.0.1">LLVM-12.0.1</a> avec
          clang, <a class="xref" href="../general/nodejs.html" title=
          "Node.js-14.17.5">nodejs-14.17.5</a>, <a class="xref" href=
          "../multimedia/pulseaudio.html" title=
          "PulseAudio-15.0">PulseAudio-15.0</a> (ou <a class="xref" href=
          "../multimedia/alsa-lib.html" title=
          "alsa-lib-1.2.5.1">alsa-lib-1.2.5.1</a> si vous modifiez le
          mozconfig&nbsp;; mais mozilla a rendu alsa-lib obsolète), <a class=
          "xref" href="../general/python3.html" title=
          "Python-3.9.6">Python-3.9.6</a> (reconstruit avec le module
          sqlite), <a class="xref" href="../x/startup-notification.html"
          title="startup-notification-0.12">startup-notification-0.12</a>,
          <a class="xref" href="../general/zip.html" title=
          "Zip-3.0">Zip-3.0</a>, <a class="xref" href="../general/unzip.html"
          title="UnZip-6.0">UnZip-6.0</a> et <a class="xref" href=
          "../general/yasm.html" title="yasm-1.3.0">yasm-1.3.0</a>
        </p>
        <h4>
          Recommandées
        </h4>
        <p class="recommended">
          <a class="xref" href="../general/icu.html" title=
          "ICU-69.1">ICU-69.1</a>, <a class="xref" href=
          "../basicnet/libevent.html" title=
          "libevent-2.1.12">libevent-2.1.12</a>, <a class="xref" href=
          "../general/nasm.html" title="NASM-2.15.05">NASM-2.15.05</a>,
          <a class="xref" href="../general/nspr.html" title=
          "NSPR-4.32">NSPR-4.32</a> et <a class="xref" href=
          "../postlfs/nss.html" title="NSS-3.69">NSS-3.69</a>
        </p>
        <div class="admon note">
          <img alt="[Note]" src="../images/note.png" />
          <h3>
            Note
          </h3>
          <p>
            Si vous n'installez pas les dépendances recommandées, alors des
            copies internes de ces paquets seront utilisés. Elles sont certes
            testées pour fonctionner, mais elles peuvent être dépassées et
            contenir des trous de sécurité.
          </p>
        </div>
        <h4>
          Facultatives
        </h4>
        <p class="optional">
          <a class="xref" href="../postlfs/cyrus-sasl.html" title=
          "Cyrus SASL-2.1.27">Cyrus SASL-2.1.27</a>, <a class="xref" href=
          "../general/doxygen.html" title="Doxygen-1.9.1">Doxygen-1.9.1</a>,
          <a class="xref" href="../gnome/GConf.html" title=
          "GConf-3.2.6">GConf-3.2.6</a>, <a class="xref" href=
          "../basicnet/wget.html" title="Wget-1.21.1">Wget-1.21.1</a>,
          <a class="xref" href="../basicnet/wireless_tools.html" title=
          "Wireless Tools-29">Wireless Tools-29</a> et <a class="ulink" href=
          "https://facebook.github.io/watchman/">watchman</a>
        </p>
        <p class="usernotes">
          Notes utilisateur&nbsp;: <a class="ulink" href=
          "https://wiki.linuxfromscratch.org/blfs/wiki/Thunderbird">https://wiki.linuxfromscratch.org/blfs/wiki/Thunderbird</a>
        </p>
      </div>
      <div class="installation" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          Installation de Thunderbird
        </h2>
        <div class="admon note">
          <img alt="[Note]" src="../images/note.png" />
          <h3>
            Note
          </h3>
          <p>
            Le processus de construction pour Thunderbird peut utiliser plus
            de 8 Go de RAM lors de l'édition des liens. Assurez-vous que vous
            avez assez de swap ou de RAM avant de continuer.
          </p>
        </div>
        <p>
          La configuration de <span class="application">Thunderbird</span>
          est réalisée en créant un fichier <code class=
          "filename">mozconfig</code> contenant les options de configuration
          désirées. Un <code class="filename">mozconfig</code> par défaut est
          créé plus bas. Pour voir la liste complète des options de
          configuration disponibles (et une brève description de chacune),
          lancez <span class="command"><strong>mozilla/configure
          --help</strong></span>. Créez le fichier avec la commande
          suivante&nbsp;:
        </p>
        <pre class="userinput">
<kbd class="command">cat &gt; mozconfig &lt;&lt; "EOF"
<code class=
"literal"># If you have a multicore machine, all cores will be used.

# If you have installed wireless-tools comment out this line:
ac_add_options --disable-necko-wifi

# Uncomment the following option if you have not installed PulseAudio
#ac_add_options --disable-pulseaudio
# and uncomment this if you installed alsa-lib instead of PulseAudio
#ac_add_options --enable-alsa

# Comment out following options if you have not installed
# recommended dependencies:
ac_add_options --with-system-libevent
ac_add_options --with-system-nspr
ac_add_options --with-system-nss
ac_add_options --with-system-icu
# The elf-hack causes failed installs on some machines.
# It is supposed to improve startup time and it shrinks libxul.so
# by a few MB - comment this if you know your machine is not affected.
ac_add_options --disable-elf-hack

# The BLFS editors recommend not changing anything below this line:
ac_add_options --prefix=/usr
ac_add_options --enable-application=comm/mail

ac_add_options --disable-crashreporter
ac_add_options --disable-updater
ac_add_options --disable-debug
ac_add_options --disable-debug-symbols
ac_add_options --disable-tests

ac_add_options --enable-optimize=-O2
ac_add_options --enable-linker=gold
ac_add_options --enable-strip
ac_add_options --enable-install-strip

ac_add_options --enable-official-branding

ac_add_options --enable-system-ffi
ac_add_options --enable-system-pixman

ac_add_options --with-system-jpeg
ac_add_options --with-system-png
ac_add_options --with-system-zlib</code>
EOF</kbd></pre>
        <p>
          Appliquez un correctif qui permet la compilation sur les systèmes
          qui tournent avec glibc-2.34&nbsp;:
        </p>
        <pre class="userinput"><kbd class=
        "command">patch -p1 -i ../thunderbird-91.0.3-glibc234-1.patch</kbd></pre>
        <p>
          Maintenant invoquez le script Python <span class=
          "command"><strong>mach</strong></span> pour compiler <span class=
          "application">Thunderbird</span>&nbsp;:
        </p>
        <div class="admon note">
          <img alt="[Note]" src="../images/note.png" />
          <h3>
            Note
          </h3>
          <p>
            Si vous compilez ce paquet dans un chroot vous devez faire deux
            choses. Tout d'abord, en tant qu'utilisateur <code class=
            "systemitem">root</code>, assurez-vous que <code class=
            "filename">/dev/shm</code> est monté. Si vous ne le faites pas,
            le configury en <span class="application">Python</span> échouera
            avec un trace évocant <code class=
            "filename">/usr/lib/pythonN.N/multiprocessing/synchronize.py</code>.
            Lancez&nbsp;:
          </p>
          <pre class="userinput"><kbd class=
          "command">mountpoint -q /dev/shm || mount -t tmpfs devshm /dev/shm</kbd></pre>
          <p>
            Deuxièmement, vous devez soit exporter en tant qu'utilisateur
            <code class="systemitem">root</code> la variable d'environnement
            <code class="envar">$SHELL</code> avec <span class=
            "command"><strong>export SHELL=/bin/sh</strong></span>, soit
            rajouter <code class="envar">SHELL=/bin/sh</code> devant
            l'invocation de la commande <span class=
            "command"><strong>configure</strong></span>.
          </p>
        </div>
        <pre class="userinput"><kbd class=
        "command">export CC=gcc CXX=g++ &amp;&amp;
export MACH_USE_SYSTEM_PYTHON=1 &amp;&amp;
./mach create-mach-environment &amp;&amp;
./mach configure      &amp;&amp;
./mach build</kbd></pre>
        <p>
          Ce paquet n'est pas fourni avec une suite de tests.
        </p>
        <p>
          Installez <span class="application">Thunderbird</span> en lançant
          les commandes suivantes en tant qu'utilisateur <code class=
          "systemitem">root</code>&nbsp;:
        </p>
        <pre class="root"><kbd class=
        "command">MACH_USE_SYSTEM_PYTHON=1 ./mach install</kbd></pre>
        <p>
          Videz les variables d'environnement qui ont été définies plus
          haut&nbsp;:
        </p>
        <pre class="userinput"><kbd class=
        "command">unset CC CXX MACH_USE_SYSTEM_PYTHON</kbd></pre>
      </div>
      <div class="commands" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          Explication des commandes
        </h2>
        <p>
          <span class="command"><strong>CC=gcc CXX=g++ ./mach
          configure</strong></span>&nbsp;: <span class=
          "application">Thunderbird</span> utilise maintenant ce script
          <span class="application">python3</span> pour lancer la
          construction et l'installation. Forcer GCC fait que la construction
          est plus petite et fini plus rapidement.
        </p>
        <p>
          <span class=
          "command"><strong>MACH_USE_SYSTEM_PYTHON=1</strong></span>&nbsp;:
          utilise le python du système pour créer un environnement virtuel
          pour <span class="command"><strong>mach</strong></span> sans
          télécharger de wheel python.
        </p>
        <p>
          <code class="option">./mach build --verbose</code>&nbsp;: utilisez
          cette alternative si vous voulez des détails sur les fichiers
          compilés, avec les drapeaux C ou C++ utilisés.
        </p>
      </div>
      <div class="configuration" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          Configuration de Thunderbird
        </h2>
        <div class="sect3">
          <h3 class="sect3">
            Informations sur la configuration
          </h3>
          <p>
            Si votre gestionnaire de bureau ou de fenêtre ne vous permet pas
            de configurer un navigateur par défaut, vous pouvez ajouter un
            paramètre de configuration à <span class=
            "application">Thunderbird</span> pour qu'un navigateur démarre
            lorsque vous cliquez sur une URL Internet/intranet/locale. La
            procédure pour vérifier ou modifier tout paramètre de
            configuration est plutôt simple et les instructions présentées
            ici peuvent être utilisées pour voir ou modifier n'importe quel
            paramètre.
          </p>
          <p>
            Commencez par ouvrir la fenêtre de configuration en ouvrant le
            menu déroulant <span class="quote">«&nbsp;<span class=
            "quote">Edit</span>&nbsp;»</span>. Choisissez <span class=
            "quote">«&nbsp;<span class=
            "quote">Préferences</span>&nbsp;»</span> puis défilez vers le bas
            de la page. Ensuite, cliquez sur le bouton <span class=
            "quote">«&nbsp;<span class="quote">Éditeur de
            configuration</span>&nbsp;»</span>. Cliquez sur le bouton
            <span class="quote">«&nbsp;<span class="quote">J'accepte le
            risque !</span>&nbsp;»</span>. Ceci affichera une liste des
            préférences de configuration et des informations liées à chacune.
            Vous pouvez utiliser la barre <span class=
            "quote">«&nbsp;<span class="quote">Filtrer :</span>&nbsp;»</span>
            pour saisir des critères de recherche et réduire le nombre
            d'entrées listées. Changer une préférence se fait de deux
            manières. La première, si la préférence est une valeur booléenne
            (Vrai/Faux), consiste à double-cliquer simplement sur la
            préférence pour inverser la valeur et la deuxième, pour les
            autres préférences consiste en un clic-droit sur la ligne voulue,
            à choisir <span class="quote">«&nbsp;<span class=
            "quote">Modifier</span>&nbsp;»</span> dans le menu et à changer
            la valeur. Créez une nouvelle entrée de préférence de la même
            manière, sauf que vous choisirez <span class=
            "quote">«&nbsp;<span class="quote">Nouveau</span>&nbsp;»</span>
            dans le menu et que vous fournirez les données désirées dans les
            champs quand demandé.
          </p>
          <p>
            L'entrée de préférence que vous devez vérifier pour que
            <span class="application">Thunderbird</span> utilise un
            navigateur spécifique est <em class=
            "parameter"><code>network.protocol-handler.app.http</code></em>
            qui devrait contenir le chemin du navigateur désiré, par exemple
            <code class="option">/usr/bin/firefox</code>.
          </p>
          <div class="admon tip">
            <img alt="[Astuce]" src="../images/tip.png" />
            <h3>
              Astuce
            </h3>
            <p>
              Il y a une multitude de paramètres de configuration que vous
              pouvez affiner pour personnaliser <span class=
              "application">Thunderbird</span>. Une vaste liste, mais pas
              tout à fait à jour, de ces paramètres se trouve sur <a class=
              "ulink" href=
              "http://preferential.mozdev.org/preferences.html">http://preferential.mozdev.org/preferences.html</a>.
            </p>
          </div>
          <p>
            Si vous utilisez un environnement de bureau comme <span class=
            "application">GNOME</span> ou <span class=
            "application">KDE</span>, un fichier desktop <code class=
            "filename">thunderbird.desktop</code> peut être créé pour inclure
            une entrée <span class="quote">«&nbsp;<span class=
            "quote"><span class=
            "application">Thunderbird</span></span>&nbsp;»</span> dans les
            menus. Lancez les commandes suivantes en tant qu'utilisateur
            <code class="systemitem">root</code>&nbsp;:
          </p>
          <pre class="root"><kbd class=
          "command">mkdir -pv /usr/share/{applications,pixmaps} &amp;&amp;

cat &gt; /usr/share/applications/thunderbird.desktop &lt;&lt; "EOF" &amp;&amp;
<code class="literal">[Desktop Entry]
Name=Thunderbird Mail
Comment=Send and receive mail with Thunderbird
GenericName=Mail Client
Exec=thunderbird %u
Terminal=false
Type=Application
Icon=thunderbird
Categories=Network;Email;
MimeType=application/xhtml+xml;text/xml;application/xhtml+xml;application/xml;application/rss+xml;x-scheme-handler/mailto;
StartupNotify=true</code>
EOF

ln -sfv /usr/lib/thunderbird/chrome/icons/default/default256.png \
        /usr/share/pixmaps/thunderbird.png</kbd></pre>
        </div>
      </div>
      <div class="content" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          Contenu
        </h2>
        <div class="segmentedlist">
          <div class="seglistitem">
            <div class="seg">
              <strong class="segtitle">Programme installé:</strong>
              <span class="segbody">thunderbird</span>
            </div>
            <div class="seg">
              <strong class="segtitle">Bibliothèques installées:</strong>
              <span class="segbody">libldap60.so, libldif60.so,
              liblgpllibs.so, libmozgtk.so, libmozsandbox.so,
              libmozsqlite3.so, libmozwayland.so, libprldap60.so, librnp.so
              et libxul.so, tous dans le répertoire
              /usr/lib/thunderbird</span>
            </div>
            <div class="seg">
              <strong class="segtitle">Répertoire installé:</strong>
              <span class="segbody">/usr/lib/thunderbird</span>
            </div>
          </div>
        </div>
        <div class="variablelist">
          <h3>
            Descriptions courtes
          </h3>
          <table border="0" class="variablelist">
            <colgroup>
              <col align="left" valign="top" />
              <col />
            </colgroup>
            <tbody>
              <tr>
                <td>
                  <p>
                    <a id="thunderbird-prog" name=
                    "thunderbird-prog"></a><span class="term"><span class=
                    "command"><strong>thunderbird</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    est le client de courriel et de nouvelles de <span class=
                    "application">Mozilla</span>
                  </p>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <p class="updated">
        Last updated on
      </p>
    </div>
    <div class="navfooter">
      <ul>
        <li class="prev">
          <a accesskey="p" href="rxvt-unicode.html" title=
          "rxvt-unicode-9.26">Précédent</a>
          <p>
            rxvt-unicode-9.26
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="tigervnc.html" title=
          "Tigervnc-1.11.0">Suivant</a>
          <p>
            Tigervnc-1.11.0
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="other.html" title=
          "Chapitre&nbsp;41.&nbsp;Autres programmes basés sur X">Niveau
          supérieur</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Au-delà de Linux® From Scratch (édition systemd) - Version r10.1-914+">
          Sommaire</a>
        </li>
      </ul>
    </div>
  </body>
</html>
