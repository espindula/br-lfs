<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="application/xhtml+xml; charset=utf-8" />
    <title>
      ProFTPD-1.3.7b
    </title>
    <link rel="stylesheet" type="text/css" href="../stylesheets/lfs.css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.79.1" />
    <link rel="stylesheet" href="../stylesheets/lfs-print.css" type=
    "text/css" media="print" />
  </head>
  <body class="blfs" id="blfs-r10.1-914+">
    <div class="navheader">
      <h4>
        Au-delà de Linux<sup>®</sup> From Scratch (édition <span class=
        "phrase">systemd)</span> - Version r10.1-914+
      </h4>
      <h3>
        Chapitre&nbsp;20.&nbsp;Serveurs principaux
      </h3>
      <ul>
        <li class="prev">
          <a accesskey="p" href="bind.html" title=
          "BIND-9.16.20">Précédent</a>
          <p>
            BIND-9.16.20
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="vsftpd.html" title=
          "vsftpd-3.0.5">Suivant</a>
          <p>
            vsftpd-3.0.5
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="majorservers.html" title=
          "Chapitre&nbsp;20.&nbsp;Serveurs principaux">Niveau supérieur</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Au-delà de Linux® From Scratch (édition systemd) - Version r10.1-914+">
          Sommaire</a>
        </li>
      </ul>
    </div>
    <div class="sect1" lang="fr" xml:lang="fr">
      <h1 class="sect1">
        <a id="proftpd" name="proftpd"></a>ProFTPD-1.3.7b
      </h1>
      <div class="package" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          Introduction à ProFTPD
        </h2>
        <p>
          Le paquet <span class="application">ProFTPD</span> contient un
          démon FTP sécurisé et hautement configurable. C'est utile pour
          donner de grosses archives de fichiers sur un réseau.
        </p>
        <p>
          This package still needs to be checked.
        </p>
        <h3>
          Informations sur le paquet
        </h3>
        <div class="itemizedlist">
          <ul class="compact">
            <li class="listitem">
              <p>
                Téléchargement (HTTP)&nbsp;: <a class="ulink" href=""></a>
              </p>
            </li>
            <li class="listitem">
              <p>
                Téléchargement (FTP)&nbsp;: <a class="ulink" href=
                "ftp://ftp.proftpd.org/distrib/source/proftpd-1.3.7b.tar.gz">ftp://ftp.proftpd.org/distrib/source/proftpd-1.3.7b.tar.gz</a>
              </p>
            </li>
            <li class="listitem">
              <p>
                Somme de contrôle MD5 du téléchargement&nbsp;:
                50f9d8abc44b4ef600d884ba9803bfba
              </p>
            </li>
            <li class="listitem">
              <p>
                Taille du téléchargement&nbsp;: 19 Mo
              </p>
            </li>
            <li class="listitem">
              <p>
                Estimation de l'espace disque requis&nbsp;: 76&nbsp;Mo
              </p>
            </li>
            <li class="listitem">
              <p>
                Estimation du temps de construction&nbsp;: 0.3 SBU
              </p>
            </li>
          </ul>
        </div>
        <h3>
          Dépendances de ProFTPD
        </h3>
        <h4>
          Facultatives
        </h4>
        <p class="optional">
          <a class="xref" href="../postlfs/libcap.html" title=
          "libcap-2.53 avec PAM">libcap-2.53 with PAM</a>, <a class="xref"
          href="../general/libssh2.html" title=
          "libssh2-1.9.0">libssh2-1.9.0</a>, <a class="xref" href=
          "../postlfs/linux-pam.html" title=
          "Linux-PAM-1.5.1">Linux-PAM-1.5.1</a>, <a class="xref" href=
          "mariadb.html" title="MariaDB-10.6.4">MariaDB-10.6.4</a> ou
          <a class="ulink" href="http://www.mysql.com/">MySQL</a>, <a class=
          "xref" href="../general/pcre.html" title="PCRE-8.45">PCRE-8.45</a>,
          <a class="xref" href="postgresql.html" title=
          "PostgreSQL-13.4">PostgreSQL-13.4</a> et <a class="ulink" href=
          "https://metacpan.org/pod/Net::SSH2">Net::SSH2</a>
        </p>
        <p class="usernotes">
          Notes utilisateur&nbsp;: <a class="ulink" href=
          "https://wiki.linuxfromscratch.org/blfs/wiki/proftpd">https://wiki.linuxfromscratch.org/blfs/wiki/proftpd</a>
        </p>
      </div>
      <div class="installation" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          Installation de ProFTPD
        </h2>
        <p>
          Pour des raisons de sécurité, vous devriez installer <span class=
          "application">ProFTPD</span> en utilisant un utilisateur et un
          groupe non privilégiés. En tant qu'utilisateur <code class=
          "systemitem">root</code>&nbsp;:
        </p>
        <pre class="root"><kbd class=
        "command">groupadd -g 46 proftpd                             &amp;&amp;
useradd -c proftpd -d /srv/ftp -g proftpd \
        -s /usr/bin/proftpdshell -u 46 proftpd     &amp;&amp;

install -v -d -m775 -o proftpd -g proftpd /srv/ftp &amp;&amp;
ln -v -s /bin/false /usr/bin/proftpdshell          &amp;&amp;
echo /usr/bin/proftpdshell &gt;&gt; /etc/shells</kbd></pre>
        <p>
          Installez <span class="application">ProFTPD</span> as an
          unprivileged user en lançant les commandes suivantes&nbsp;:
        </p>
        <pre class="userinput"><kbd class=
        "command">./configure --prefix=/usr --sysconfdir=/etc --localstatedir=/var/run &amp;&amp;
make</kbd></pre>
        <p>
          Ce paquet ne contient pas de suite de tests utilisable.
        </p>
        <p>
          Maintenant, en tant qu'utilisateur <code class=
          "systemitem">root</code>&nbsp;:
        </p>
        <pre class="root"><kbd class=
        "command">make install                                   &amp;&amp;
install -d -m755 /usr/share/doc/proftpd-1.3.7b &amp;&amp;
cp -Rv doc/*     /usr/share/doc/proftpd-1.3.7b</kbd></pre>
      </div>
      <div class="commands" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          Explication des commandes
        </h2>
        <p>
          <span class="command"><strong>install -v -d -m775 -o proftpd -g
          proftpd /srv/ftp</strong></span>&nbsp;: Crée le répertoire home de
          <span class="application">ProFTPD</span>.
        </p>
        <p>
          <span class="command"><strong>ln -v -s /bin/false
          /usr/bin/proftpdshell</strong></span>&nbsp;: Règle le shell par
          défaut comme un lien vers un shell invalide.
        </p>
        <p>
          <span class="command"><strong>echo /usr/bin/proftpdshell &gt;&gt;
          /etc/shells</strong></span>&nbsp;: Fait croire à un shell valide
          pour des raisons de compatibilité.
        </p>
        <div class="admon note">
          <img alt="[Note]" src="../images/note.png" />
          <h3>
            Note
          </h3>
          <p>
            Vous pouvez vous passer des deux commandes ci-dessus si vous
            mettez la ligne suivante dans le fichier de configuration&nbsp;:
          </p>
          <pre class="screen"><code class=
          "literal">RequireValidShell off</code></pre>
          <p>
            Par défaut, proftpd exigera que les utilisateurs qui se
            connectent aient des shells valides. La ligne RequireValidShell
            désactive cette exigence. Ce n'est recommandé que si vous
            paramétrez votre serveur FTP exclusivement pour des
            téléchargements anonymes.
          </p>
        </div>
        <div class="admon note">
          <img alt="[Note]" src="../images/note.png" />
          <h3>
            Note
          </h3>
          <p>
            Le support de la plupart des paquets dont il dépend demande
            d'utiliser des options passées au script <span class=
            "command"><strong>configure</strong></span>. Regardez la sortie
            de <span class="command"><strong>./configure
            --help</strong></span> pour des informations complètes sur
            comment activer les paquets dont il dépend.
          </p>
        </div>
      </div>
      <div class="configuration" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          Configuration de ProFTPD
        </h2>
        <div class="sect3">
          <h3 class="sect3">
            <a id="proftpd-config" name="proftpd-config"></a>Fichiers de
            configuration
          </h3>
          <p>
            <code class="filename">/etc/proftpd.conf</code>
          </p>
        </div>
        <div class="sect3">
          <h3 class="sect3">
            Informations sur la configuration
          </h3>
          <p>
            Voici une configuration simple, un modèle seulement pour du
            téléchargement. Regardez la documentation de <span class=
            "application">ProFTPD</span> dans <code class=
            "filename">/usr/share/doc/proftpd</code> et consultez le site
            Internet sur <a class="ulink" href=
            "http://www.proftpd.org/">http://www.proftpd.org/</a> pour des
            exemples de configurations.
          </p>
          <pre class="root">
<kbd class="command">cat &gt; /etc/proftpd.conf &lt;&lt; "EOF"
<code class="literal"># This is a basic ProFTPD configuration file
# It establishes a single server and a single anonymous login.

ServerName                      "ProFTPD Default Installation"
ServerType                      standalone
DefaultServer                   on

# Port 21 is the standard FTP port.
Port                            21
# Umask 022 is a good standard umask to prevent new dirs and files
# from being group and world writable.
Umask                           022

# To prevent DoS attacks, set the maximum number of child processes
# to 30.  If you need to allow more than 30 concurrent connections
# at once, simply increase this value.  Note that this ONLY works
# in standalone mode, in inetd mode you should use an inetd server
# that allows you to limit maximum number of processes per service

MaxInstances                    30

# Set the user and group that the server normally runs at.
User                            proftpd
Group                           proftpd

# To cause every FTP user to be "jailed" (chrooted) into their home
# directory, uncomment this line.
#DefaultRoot ~


# Normally, files should be overwritable.
&lt;Directory /*&gt;
  AllowOverwrite                on
&lt;/Directory&gt;

# A basic anonymous configuration, no upload directories.
&lt;Anonymous ~proftpd&gt;
  User                          proftpd
  Group                         proftpd
  # Clients should be able to login with "anonymous" as well as "proftpd"
  UserAlias                     anonymous proftpd

  # Limit the maximum number of anonymous logins
  MaxClients                    10

  # 'welcome.msg' should be displayed at login, and '.message' displayed
  # in each newly chdired directory.
  DisplayLogin                  welcome.msg
  DisplayChdir                  .message

  # Limit WRITE everywhere in the anonymous chroot
  &lt;Limit WRITE&gt;
    DenyAll
  &lt;/Limit&gt;
&lt;/Anonymous&gt;</code>
EOF</kbd></pre>
        </div>
        <div class="sect3">
          <h3 class="sect3">
            <a id="proftpd-init" name="proftpd-init"></a> Unité Systemd
          </h3>
          <p>
            Installez <span class="phrase">l'unité <code class=
            "filename">proftpd.service</code> incluse</span> dans le paquet
            <a class="xref" href="../introduction/systemd-units.html" title=
            "Unités Systemd de BLFS">blfs-systemd-units-20210819</a>&nbsp;:
          </p>
          <pre class="root"><kbd class=
          "command">make install-proftpd</kbd></pre>
        </div>
      </div>
      <div class="content" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          Contenu
        </h2>
        <div class="segmentedlist">
          <div class="seglistitem">
            <div class="seg">
              <strong class="segtitle">Programmes installés:</strong>
              <span class="segbody">ftpasswd, ftpcount, ftpdctl, ftpmail,
              ftpquota, ftpscrub, ftpshut, ftptop, ftpwho, in.proftpd
              (symlink to proftpd), proftpd et prxs</span>
            </div>
            <div class="seg">
              <strong class="segtitle">Bibliothèques installées:</strong>
              <span class="segbody">Aucune</span>
            </div>
            <div class="seg">
              <strong class="segtitle">Répertoire installé:</strong>
              <span class="segbody">/usr/{include,lib}/proftpd,
              /usr/share/doc/proftpd-1.3.7b et /srv/ftp</span>
            </div>
          </div>
        </div>
        <div class="variablelist">
          <h3>
            Descriptions courtes
          </h3>
          <table border="0" class="variablelist">
            <colgroup>
              <col align="left" valign="top" />
              <col />
            </colgroup>
            <tbody>
              <tr>
                <td>
                  <p>
                    <a id="proftpd-prog" name="proftpd-prog"></a><span class=
                    "term"><span class=
                    "command"><strong>proftpd</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    est le démon FTP
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="ftpcount" name="ftpcount"></a><span class=
                    "term"><span class=
                    "command"><strong>ftpcount</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    affiche le nombre actuel de connexions
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="ftpdctl" name="ftpdctl"></a><span class=
                    "term"><span class=
                    "command"><strong>ftpdctl</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    est utilisé pour contrôler le démon proftpd pendant qu'il
                    est lancé
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="ftpasswd" name="ftpasswd"></a><span class=
                    "term"><span class=
                    "command"><strong>ftpasswd</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    est un script perl conçu pour créer et gérer les fichiers
                    AuthUserFiles et AuthGroupFiles dans le bon format pour
                    proftpd
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="ftpmail" name="ftpmail"></a><span class=
                    "term"><span class=
                    "command"><strong>ftpmail</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    est un script perl pour envoyer des messages
                    électroniques basés sur le TransferLog de proftpd
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="ftpquota" name="ftpquota"></a><span class=
                    "term"><span class=
                    "command"><strong>ftpquota</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    est un script Perl conçu pour créer et gérer
                    l'association des modules mod_quotatab +
                    mod_quotatab_file de proftpd des fichiers limits et tally
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="ftpscrub" name="ftpscrub"></a><span class=
                    "term"><span class=
                    "command"><strong>ftpscrub</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    fournit une manière de nettoyer le fichier tableau de
                    bord (scoreboard) à la demande
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="ftpshut" name="ftpshut"></a><span class=
                    "term"><span class=
                    "command"><strong>ftpshut</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    arrête tous les serveurs <span class=
                    "application">proftpd</span> à une heure donnée
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="ftptop" name="ftptop"></a><span class=
                    "term"><span class=
                    "command"><strong>ftptop</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    affiche le statut d'exécution des connexions
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="ftpwho" name="ftpwho"></a><span class=
                    "term"><span class=
                    "command"><strong>ftpwho</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    affiche des informations sur le processus actuel pour
                    chaque session
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="prxs" name="prxs"></a><span class=
                    "term"><span class=
                    "command"><strong>prxs</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    est un script Perl conçu pour compiler et installer les
                    modules tiers, depuis le code source, comme modules DSO
                    pour le proftpd installé
                  </p>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <p class="updated">
        Last updated on
      </p>
    </div>
    <div class="navfooter">
      <ul>
        <li class="prev">
          <a accesskey="p" href="bind.html" title=
          "BIND-9.16.20">Précédent</a>
          <p>
            BIND-9.16.20
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="vsftpd.html" title=
          "vsftpd-3.0.5">Suivant</a>
          <p>
            vsftpd-3.0.5
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="majorservers.html" title=
          "Chapitre&nbsp;20.&nbsp;Serveurs principaux">Niveau supérieur</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Au-delà de Linux® From Scratch (édition systemd) - Version r10.1-914+">
          Sommaire</a>
        </li>
      </ul>
    </div>
  </body>
</html>
