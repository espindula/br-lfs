<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;
  <!ENTITY sane-be-download-http "http://alioth.debian.org/frs/?group_id=30186">
  <!ENTITY sane-be-download-ftp  "ftp://ftp2.sane-project.org/pub/sane/">
  <!--<!ENTITY sane-be-download-ftp  "&gentoo-ftp-repo;/sane-backends-&sane-version;.tar.gz">-->
  <!ENTITY sane-be-md5sum        "e226a89c54173efea80e91e9a5eb6573">
  <!ENTITY sane-be-size          "5.1 Mo">
  <!ENTITY sane-be-buildsize     "120 Mo">
  <!ENTITY sane-be-time          "1.2 SBU">
  <!ENTITY sane-fe-download-http "http://alioth.debian.org/download.php/1140/sane-frontends-&sane-fe-version;.tar.gz">
  <!ENTITY sane-fe-download-ftp  "ftp://ftp2.sane-project.org/pub/sane/sane-frontends-&sane-fe-version;/sane-frontends-&sane-fe-version;.tar.gz">
  <!ENTITY sane-fe-md5sum        "c63bf7b0bb5f530cf3c08715db721cd3">
  <!ENTITY sane-fe-size          "231 Ko">
  <!ENTITY sane-fe-buildsize     "3.0 Mo">
  <!ENTITY sane-fe-time          "moins de 0.1 SBU">
]>

<sect1 id="sane" xreflabel="SANE-&sane-version;">
  <?dbhtml filename="sane.html"?>

  <sect1info>
    <othername>$LastChangedBy&nbsp;: krejzi $</othername>
    <date>$Date&nbsp;: 2012-08-01 14:04:22 +0200 (Wed, 01 Aug 2012) $</date>
  </sect1info>

  <title>SANE-&sane-version;</title>

  <indexterm zone="sane">
    <primary sortas="a-SANE">SANE</primary>
  </indexterm>

  <sect2 role="package">
    <title>Introduction à SANE</title>

    <para><application>SANE</application> est le nom court pour
    <foreignphrase>Scanner Access Now Easy</foreignphrase>. Cependant, l'accès
    au scanner est loin d'être facile, vu que chaque fabricant a ses propres
    protocoles. Le seul protocole connu qui devrait apporter un peu d'unité dans
    ce chaos est l'interface TWAIN, mais c'est trop imprécis pour permettre un
    environnement de numérisation stable. <application>SANE</application> est
    donc fourni avec son propre protocole et on ne peut pas utiliser les pilotes
    du fabricant.</para>

    <para><application>SANE</application> est divisé en fondations et en
    interfaces. Les fondations sont des pilotes des scanners et des appareils
    photo. Les interfaces sont des interfaces utilisateur pour accéder aux
    fondations.</para>

&lfs72_checked;

    <note><para>Le site web de développement utilise un certificat
       de sécurité auto-signé. Si vous utilisez <command>wget</command>,
       l'option --no-check-certificate doit être ajouté.</para>
   <para>La somme de contrôle md5 du fichier de backend ne correspond pas
      sans que les trois parties de l'archive divisée sane-backends-1.0.23.tar.gz.[1-3],
      soient réunies.  Une archive complète avec la somme de contrôle
      correcte est disponible à l'adresse <ulink
    url="http://anduin.linuxfromscratch.org/sources/other/sane-backends-1.0.23.tar.gz">http://anduin.linuxfromscratch.org/sources/other/sane-backends-1.0.23.tar.gz</ulink>.</para></note>

    <bridgehead renderas="sect3">Information sur le paquet des fondations</bridgehead>
    <itemizedlist spacing='compact'>
      <listitem>
        <para>Téléchargement (HTTP)&nbsp;: <ulink url="&sane-be-download-http;"/></para>
      </listitem>
      <listitem>
        <para>Téléchargement (FTP)&nbsp;: <ulink url="&sane-be-download-ftp;"/></para>
      </listitem>
      <listitem>
        <para>Somme de contrôle MD5 du téléchargement&nbsp;: &sane-be-md5sum;</para>
      </listitem>
      <listitem>
        <para>Taille du téléchargement&nbsp;: &sane-be-size;</para>
      </listitem>
      <listitem>
        <para>Estimation de l'espace disque requis&nbsp;: &sane-be-buildsize;</para>
      </listitem>
      <listitem>
        <para>Estimation du temps de construction&nbsp;: &sane-be-time;</para>
      </listitem>
    </itemizedlist>

    <bridgehead renderas="sect3">Informations sur le paquet d'interfaces</bridgehead>
    <itemizedlist spacing='compact'>
      <listitem>
        <para>Téléchargement (HTTP)&nbsp;: <ulink url="&sane-fe-download-http;"/></para>
      </listitem>
      <listitem>
        <para>Téléchargement (FTP)&nbsp;: <ulink url="&sane-fe-download-ftp;"/></para>
      </listitem>
      <listitem>
        <para>Downlaod MD5 sum: &sane-fe-md5sum;</para>
      </listitem>
      <listitem>
        <para>Taille du téléchargement&nbsp;: &sane-fe-size;</para>
      </listitem>
      <listitem>
        <para>Estimation de l'espace disque requis&nbsp;: &sane-fe-buildsize;</para>
      </listitem>
      <listitem>
        <para>Estimation du temps de construction&nbsp;: &sane-fe-time;</para>
      </listitem>
    </itemizedlist>

 <!--   <bridgehead renderas="sect3">Téléchargements supplémentaires</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>Correctif requis:
          <ulink url="&patch-root;/sane-backends-&sane-version;-v4l-1.patch"/>
        </para>
      </listitem>
    </itemizedlist>
    -->
    <bridgehead renderas="sect3">Dépendances de SANE</bridgehead>

    <bridgehead renderas="sect4">Facultatives (Back Ends)</bridgehead>
    <para role="optional">
      <xref linkend="libjpeg"/>,
      <xref linkend="libtiff"/>,
      <xref linkend="libusb-compat"/>,
      <ulink url="http://cyberelk.net/tim/libieee1284/">libieee1284</ulink>,
      <ulink url="http://www.gphoto.org/">libgphoto2</ulink>, et
      <xref linkend="texlive"/>
    </para>
    <bridgehead renderas="sect4">Facultatives (Front Ends)</bridgehead>
    <para role="optional">
      <xref linkend="x-window-system"/>,
      <xref linkend="gtk2"/>, et
      <xref linkend="gimp"/>
    </para>
    <para condition="html" role="usernotes">Notes utilisateur&nbsp;:
    <ulink url="&blfs-wiki;/sane"/></para>

  </sect2>

  <sect2 role="kernel" id='sane-kernel'>
    <title>Configuration du noyau</title>

    <indexterm zone="sane sane-kernel">
      <primary sortas="d-Scanning-devices">Scanning devices</primary>
    </indexterm>

    <para>Pour accéder à votre scanner, vous aurez probablement besoin les
    pilotes associés du noyau et/ou les paquets de support supplémentaires. Un 
    scanner SCSI aura besoin des pilotes SCSI, un scanner en port parallèle a 
    besoin du support du port parallèle (vous devriez utiliser les modes
    EPP amélioré) et peut-être <ulink
    url="http://cyberelk.net/tim/libieee1284/">libieee1284</ulink> et un scanner
    USB aura besoin du paquet <xref linkend="libusb"/>. Assurez-vous d'avoir
    correctement configuré les pilotes nécessaires pour accéder aux
    périphériques.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation de SANE</title>

    <sect3>
      <title>Installation des fondations de SANE</title>

      <para>Le démon <application>SANE</application> devrait se lancer avec son 
      propre groupe. Créez ce groupe en exécutant les commandes suivantes en tant
      qu'utilisateur <systemitem class="username">root</systemitem>&nbsp;:</para>

<screen><userinput>groupadd -g 70 scanner</userinput></screen>

      <note><para>L'utilisateur de construction <application>SANE</application>-backends
      doit être membre du groupe scanner avant de commencer. La façon la plus simple pour s'assurer que
      le système sait que vous avez ajouté un nouveau groupe est de se déloguer et se reloguer de nouveau.
      Vous pouvez vérifier avec le résultat de la commande
      <userinput>groups</userinput> command.</para></note>

      <para>Installez les fondations de <application>SANE</application> en
      lançant les commandes suivantes&nbsp;:</para>

<screen><userinput>./configure --prefix=/usr        \
   --sysconfdir=/etc       \
   --with-group=scanner    \
   --localstatedir=/var    \
   --disable-latex &amp;&amp;
make</userinput></screen>

      <para>Ce paquet n'est pas fourni avec une suite de tests.</para>

      <para>Maintenant, en tant qu'utilisateur <systemitem class="username">root</systemitem>&nbsp;:</para>

<screen role="root"><userinput>make install &amp;&amp;
install -m 644 -v tools/udev/libsane.rules /etc/udev/rules.d/65-scanner.rules</userinput></screen>

    </sect3>

    <sect3>
      <title>Installation des interfaces de SANE</title>

      <para>Le paquet <application>SANE</application>-frontends inclue
      les interfaces graphiques <command>xscanimage</command> et
      <command>xcam</command> ainsi qu'une interface en ligne de commande
      <command>scanadf</command>. Vous n'avez pas besoin de ce paquet si vous
      souhaitez utiliser une des interfaces graphiques plus avancées comme
      <xref linkend="xsane"/>. FPour une liste des paquets d'interface, 
      voir <ulink url="http://www.sane-project.org/sane-frontends.html"/>.</para>

      <para>Pour installer <application>SANE</application>-frontends,
      utilisez les commandes suivantes&nbsp;:</para>

<screen><userinput>sed -i -e "/SANE_CAP_ALWAYS_SETTABLE/d" src/gtkglue.c &amp;&amp;
./configure --prefix=/usr &amp;&amp;
make</userinput></screen>

      <para>Ce paquet n'est pas fourni avec une suite de tests.</para>

      <para>Maintenant, en tant qu'utilisateur <systemitem class="username">root</systemitem>&nbsp;:</para>

<screen role="root"><userinput>make install &amp;&amp;
install -v -m644 doc/sane.png xscanimage-icon-48x48-2.png     /usr/share/sane</userinput></screen>

      <para>Si vous avez lié <application>GIMP</application> à la construction
      et si vous souhaitez que <application>GIMP</application> utilise
      <command>xscanimage</command> comme plugin de numérisation, exécutez les 
      commandes suivantes en tant qu'utilisateur <systemitem class="username">root</systemitem>&nbsp;:</para>

<screen role="root"><userinput>ln -v -s ../../../../bin/xscanimage /usr/lib/gimp/2.0/plug-ins</userinput></screen>

    </sect3>

  </sect2>

  <sect2 role="commands">
    <title>Explication des commandes</title>

    <para><parameter>--sysconfdir=/etc</parameter>&nbsp;: Ce paramètre installe
    les fichiers de configuration dans <filename class="directory">/etc/sane.d</filename>
    et non dans <filename class="directory">/usr/etc/sane.d</filename>.</para>

  </sect2>

  <sect2 role="configuration">
    <title>Configuration de SANE</title>

    <sect3 id="sane-config">
      <title>Fichiers de configuration</title>

      <para><filename>/etc/sane.d/*.conf</filename></para>

      <indexterm zone="sane sane-config">
        <primary sortas="e-etc-sane.d-conf">/etc/sane.d/*.conf</primary>
      </indexterm>

    </sect3>

    <sect3>
      <title>Informations de configuration</title>

      <sect4>
        <title>Configuration des fondations</title>

        <para>Les fichiers de configuration des fondations se trouvent dans
        <filename class='directory'>/etc/sane.d</filename>. Vous pouvez des
        informations sur la configuration des diverses fondations en utilisant
        la page de man(5) de la fondation désirée. Lancez
        <command>man sane-<replaceable>&lt;fondation&gt;</replaceable></command>,
        en remplaçant par la fondation désirée.</para>

        <para>Ajoutez les utilisateurs désirés au groupe <systemitem
        class="groupname">scanner</systemitem> group.</para>

      </sect4>

      <sect4>
        <title>Informations générales</title>

        <para>Pour des informations générales sur la configuration et l'utilisation
        de <application>SANE</application>, voir <command>man sane</command>.
        Linux-2.6.x apporte des problèmes spéciaux en matière d'image. Voir
        <ulink url="http://www.sane-project.org/README.linux"/> pour des
        informations sur l'utilisation de <application>SANE</application> avec
        le noyau Linux-2.6.x. Pour des informations sur les périphériques 
        scanner USB, lancez <command>man sane-usb</command>. Pour des
        informations sur les périphériques SCSI, lancez <command>man sane-scsi</command>.</para>

      </sect4>

      <sect4>
        <title>Configuration et paramétrage du démon 'saned'</title>

        <para>Le démon <command>saned</command> n'est pas conçu pour être
        utilisé pour des clients non fiables. Vous devriez fournir une protection
        <xref linkend="fw-firewall"/> 
        pour vous assurer que seuls des clients de confiance accèdent au démon.
        Vu la complexité des exigences de sécurité pour être sûr que seuls les 
        clients de confiance accèdent au démon, BLFS ne fournit pas 
        d'instructions pour configurer le démon <command>saned</command>. Si
        vous désirez rendre le démon disponible, assurez-vous de fournir la
        sécurité adaptée, de configurer votre fichier <filename>[x]inetd.conf</filename> 
        et d'envoyer un <userinput>SIGHUP</userinput> au démon [x]inetd. 
        Vous pouvez trouver de bonnes informations sur le paramétrage et la
        sécurisation du démon <command>saned</command> sur
        <ulink url="http://penguin-breeder.org/sane/saned/"/>.</para>

      </sect4>

    </sect3>

  </sect2>

  <sect2 role="content">
    <title>Contenu</title>

    <bridgehead renderas="sect4">Fondements&nbsp;:</bridgehead>
    <segmentedlist>
      <segtitle>Programmes installés</segtitle>
      <segtitle>Bibliothèques installées</segtitle>
      <segtitle>Répertoires installés</segtitle>

      <seglistitem>
        <seg>gamma4scanimage, sane-config, saned, sane-find-scanner,
        et scanimage</seg>
        <seg>libsane.so et numerous scanner backend modules</seg>
        <seg>/etc/sane.d, /usr/include/sane, /usr/lib/sane, /usr/share/sane,
        et /usr/share/doc/sane-&sane-version;</seg>
      </seglistitem>
    </segmentedlist>

    <bridgehead renderas="sect4">Interfaces&nbsp;:</bridgehead>
    <segmentedlist>
      <segtitle>Programmes installés</segtitle>
      <segtitle>Bibliothèque installée</segtitle>
      <segtitle>Répertoires installés</segtitle>

      <seglistitem>
        <seg>scanadf, xcam, et xscanimage</seg>
        <seg><application>GIMP</application> plugin embedded in
        <command>xscanimage</command></seg>
        <seg>Aucun</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Descriptions courtes</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="gamma4scanimage">
        <term><command>gamma4scanimage</command></term>
        <listitem>
          <para>crée une table gamma au format attendu par
          <command>scanimage</command>.</para>
          <indexterm zone="sane gamma4scanimage">
            <primary sortas="b-gamma4scanimage">gamma4scanimage</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="sane-config-prog">
        <term><command>sane-config</command></term>
        <listitem>
          <para>est un outil utilisé pour déterminer les drapeaux du compilateur
          et de l'éditeur de liens qui devraient être utilisés pour compiler et
          lier <application>SANE</application>.</para>
          <indexterm zone="sane sane-config-prog">
            <primary sortas="b-sane-config">sane-config</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="saned">
        <term><command>saned</command></term>
        <listitem>
          <para>est le démon <application>SANE</application> qui permet à un
          client distant d'accéder aux périphériques d'acquisition d'images
          disponibles sur l'hôte local.</para>
          <indexterm zone="sane saned">
            <primary sortas="b-saned">saned</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="sane-find-scanner">
        <term><command>sane-find-scanner</command></term>
        <listitem>
          <para>est un outil en ligne de commande pour chercher des scanners
          SCSI et USB et pour déterminer leurs fichiers de périphérique. Son
          premier objectif est d'assurer que les scanners puissent être détectés
          par les fondations <application>SANE</application>.</para>
          <indexterm zone="sane sane-find-scanner">
            <primary sortas="b-sane-find-scanner">sane-find-scanner</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="scanadf">
        <term><command>scanadf</command></term>
        <listitem>
          <para>est une interface en ligne de commande pour contrôler des
          des périphériques d'acquisition d'image équipés d'un alimenteur
          automatique de document (<foreignphrase>automatic document feeder</foreignphrase>
          (ADF).</para>
          <indexterm zone="sane scanadf">
            <primary sortas="b-scanadf">scanadf</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="scanimage">
        <term><command>scanimage</command></term>
        <listitem>
          <para>est une interface en ligne de commande pour numériser à partir
          de périphériques d'acquisition d'image tels que des scanners à plat 
          ou des appareils photos. On l'utilise aussi pour lister les périphériques
          fondations disponibles.</para>
          <indexterm zone="sane scanimage">
            <primary sortas="b-scanimage">scanimage</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="xcam">
        <term><command>xcam</command></term>
        <listitem>
          <para>est une interface d'appareil photo graphique pour 
          <application>SANE</application>.</para>
          <indexterm zone="sane xcam">
            <primary sortas="b-xcam">xcam</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="xscanimage">
        <term><command>xscanimage</command></term>
        <listitem>
          <para>est une interface graphique pour la manipulation d'images.</para>
          <indexterm zone="sane xscanimage">
            <primary sortas="b-xscanimage">xscanimage</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libsane">
        <term><filename class='libraryfile'>libsane.so</filename></term>
        <listitem>
          <para>est l'interface de programmation de l'application utilisée pour
          communiquer entre des interfaces et des fondations.</para>
          <indexterm zone="sane libsane">
            <primary sortas="c-libsane">libsane.so</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libsane-module">
        <term><filename class='libraryfile'>libsane-*.so</filename></term>
        <listitem>
          <para>ces modules sont des plugins de bibliothèque de numérisation des
          fondations utilisées comme interface avec les périphériques de
          numérisation. See
          <ulink url="http://www.sane-project.org/sane-supported-devices.html"/>
          for a list of supported backends.</para>
          <indexterm zone="sane libsane-module">
            <primary sortas="c-libsane-module">libsane-*.so</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
