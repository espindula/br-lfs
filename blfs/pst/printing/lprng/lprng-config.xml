<sect2>
<title>Configurer LPRng</title>

<sect3><title>Fichiers de configuration</title>
<para><filename>/etc/printcap</filename></para>
</sect3>

<sect3><title>Informations de configuration</title>

<para>Il n'existe pas de <filename>printcap</filename> générique pour toutes les
imprimantes. Un simple printcap est chargé dans le répertoire
<filename>etc</filename>, ce qui sera d'une certaine aide. Les informations sont
aussi disponibles sur <ulink url="http://www.lprng.org"/> et sur <ulink
url="http://www.linuxprinting.org"/>.</para> 

<para>Le script d'initialisation installé par LPRng ne correspond pas aux
scripts BLFS; donc, nous en créons un nouveau avec la commande suivante:
</para>

<para><screen><userinput>mv /etc/rc.d/init.d/lpd /etc/rc.d/init.d/lpd.orig &amp;&amp;
cat &gt; /etc/rc.d/init.d/lpd &lt;&lt; "EOF"</userinput>
#!/bin/sh
# Début $rc_base/init.d/lpd

# Basé sur le script sysklogd de LFS-3.1 et précédents.
# Réécrit par Gerard Beekmans  - gerard@linuxfromscratch.org

source /etc/sysconfig/rc
source $rc_functions

case "$1" in
        start)
                echo "Starting lpd..."
                loadproc /usr/sbin/lpd
                ;;

        stop)
                echo "Stopping lpd..."
                killproc /usr/sbin/lpd
                ;;

        reload)
                echo "Reloading lpd..."
                reloadproc /usr/sbin/lpd
                ;;

        restart)
                $0 stop
                sleep 1
                $0 start
                ;;

        status)
                statusproc /usr/sbin/lpd
                ;;

        *)
                echo "Usage: $0 {start|stop|reload|restart|status}"
                exit 1
                ;;
esac

# End $rc_base/init.d/lpd
<userinput>EOF
chmod 755 /etc/rc.d/init.d/lpd</userinput></screen></para>

<para>Créez les liens symboliques pour le script d'initialisation dans les
répertoires appropriés avec les commandes suivantes:
<screen><userinput>cd /etc/rc.d/init.d &amp;&amp;
ln -sf ../init.d/lpd ../rc0.d/K00lprng &amp;&amp;
ln -sf ../init.d/lpd ../rc1.d/K00lprng &amp;&amp;
ln -sf ../init.d/lpd ../rc2.d/S99lprng &amp;&amp;
ln -sf ../init.d/lpd ../rc3.d/S99lprng &amp;&amp;
ln -sf ../init.d/lpd ../rc4.d/S99lprng &amp;&amp;
ln -sf ../init.d/lpd ../rc5.d/S99lprng &amp;&amp;
ln -sf ../init.d/lpd ../rc6.d/K00lprng</userinput></screen></para>

</sect3>

</sect2>

