<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN"
   "http://www.oasis-open.org/docbook/xml/4.3/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

  <!ENTITY docbook-xsl-download-http "http://prdownloads.sourceforge.net/docbook/docbook-xsl-&docbook-xsl-version;.tar.bz2">
  <!ENTITY docbook-xsl-download-ftp  " ">
  <!ENTITY docbook-xsl-md5sum        "deb1864e3e190465dcc26145d2667a84">
  <!ENTITY docbook-xsl-size          "975 KB">
  <!ENTITY docbook-xsl-buildsize     "25 MB">
  <!ENTITY docbook-xsl-time          "0.01 SBU">
]>

<sect1 id="docbook-xsl" 
xreflabel="DocBook XSL Stylesheets-&docbook-xsl-version;">

<sect1info>
  <othername>$LastChangedBy: bdubbs $</othername>
  <date>$Date: 2005-06-15 06:18:19 $</date>
</sect1info>

<?dbhtml filename="docbook-xsl.html"?>
<title>DocBook XSL Stylesheets-&docbook-xsl-version;</title>

<sect2>
<title>Introduction to <application>DocBook <acronym>XSL</acronym> 
Stylesheets</application></title>

<para>The <application>DocBook <acronym>XSL</acronym> Stylesheets</application> 
package contains <acronym>XSL</acronym> stylesheets. These are useful for 
performing transformations on <acronym>XML</acronym> DocBook files.</para>

<sect3><title>Package information</title>
<itemizedlist spacing='compact'>
  <listitem><para>Download (HTTP): <ulink url="&docbook-xsl-download-http;"/></para></listitem>
  <listitem><para>Download (FTP): <ulink url="&docbook-xsl-download-ftp;"/></para></listitem>
  <listitem><para>Download MD5 sum: &docbook-xsl-md5sum;</para></listitem>
  <listitem><para>Download size: &docbook-xsl-size;</para></listitem>
  <listitem><para>Estimated disk space required: &docbook-xsl-buildsize;</para></listitem>
  <listitem><para>Estimated build time: &docbook-xsl-time;</para></listitem>
</itemizedlist>
</sect3>

<sect3>
<title><application>DocBook <acronym>XSL</acronym> Stylesheets</application> dependencies</title>

<sect4>
<title>Required</title>
  <para><xref linkend="libxslt"/></para>
</sect4>
</sect3>

</sect2>

<sect2>
<title>Installation of <application>DocBook <acronym>XSL</acronym> Stylesheets</application></title>

<para>Install <application>DocBook <acronym>XSL</acronym> 
Stylesheets</application> by running the following commands:</para>

<screen><userinput><command>install -d /usr/share/xml/docbook/xsl-stylesheets-&docbook-xsl-version; &amp;&amp;
chown -R root:root . &amp;&amp;
cp -af INSTALL VERSION common eclipse extensions fo html htmlhelp \
    images javahelp lib manpages params profiling template xhtml \
    /usr/share/xml/docbook/xsl-stylesheets-&docbook-xsl-version; &amp;&amp;
install -d /usr/share/doc/xml &amp;&amp;
cp -af doc/* /usr/share/doc/xml &amp;&amp;
cd /usr/share/xml/docbook/xsl-stylesheets-&docbook-xsl-version; &amp;&amp;
sh INSTALL &amp;&amp;
if [ ! -f /etc/xml/catalog ]; then mkdir -p /etc/xml; xmlcatalog \
    --noout --create /etc/xml/catalog; fi &amp;&amp;
if [ ! -e /etc/xml/docbook ]; then xmlcatalog --noout --create \
    /etc/xml/docbook; fi &amp;&amp;
xmlcatalog --noout --add "rewriteSystem" \
    "http://docbook.sourceforge.net/release/xsl/&docbook-xsl-version;" \
    "/usr/share/xml/docbook/xsl-stylesheets-&docbook-xsl-version;" /etc/xml/catalog &amp;&amp;
xmlcatalog --noout --add "rewriteURI" \
    "http://docbook.sourceforge.net/release/xsl/&docbook-xsl-version;" \
    "/usr/share/xml/docbook/xsl-stylesheets-&docbook-xsl-version;" /etc/xml/catalog &amp;&amp;
xmlcatalog --noout --add "delegateSystem" \
    "http://docbook.sourceforge.net/release/xsl/" \
    "file:///etc/xml/docbook" /etc/xml/catalog &amp;&amp;
xmlcatalog --noout --add "delegateURI" \
    "http://docbook.sourceforge.net/release/xsl/" \
    "file:///etc/xml/docbook" /etc/xml/catalog</command></userinput></screen>

</sect2>

<sect2>
<title>Command explanations</title>

<para><command>sh INSTALL</command>: This command creates a local
catalog for the <acronym>XSL</acronym> files.</para>

</sect2>

<sect2>
<title>Configuring <application>DocBook <acronym>XSL</acronym> Stylesheets</application></title>

<sect3 id="docbook-xsl-config">
<title>Config files</title>

<para><filename>/etc/xml/catalog</filename></para>

<indexterm zone="docbook-xsl docbook-xsl-config">
  <primary sortas="e-etc-xml-catalog">/etc/xml/catalog</primary>
</indexterm>

</sect3>

<sect3>
<title>Configuration Information</title>

<para>The system profile needs to be updated to utilize the new
installed catalog. This can be done with the following command:</para>

<screen><userinput><command>cat &gt; /etc/profile.d/xsl.sh &lt;&lt; "EOF"</command>
# Set up Environment Variable for XSL Processing
export XML_CATALOG_FILES="/usr/share/xml/docbook/\
xsl-stylesheets-&docbook-xsl-version;/catalog.xml /etc/xml/catalog"
<command>EOF</command></userinput></screen>

<para>The above installation script creates the files and updates the
catalog. Some project stylesheets reference specific versions of
<acronym>XSL</acronym> stylesheets, like <acronym>BLFS</acronym>, which
needs the following additional commands.  These commands can also serve
as an example for using a single <acronym>XSL</acronym> version to support 
any hard coded versions, as needed.</para>

<screen><userinput><command>xmlcatalog --noout --add "rewriteSystem" \
    "http://docbook.sourceforge.net/release/xsl/1.65.1" \
    "/usr/share/xml/docbook/xsl-stylesheets-&docbook-xsl-version;" \
    /etc/xml/catalog &amp;&amp;
xmlcatalog --noout --add "rewriteURI" \
    "http://docbook.sourceforge.net/release/xsl/1.65.1" \
    "/usr/share/xml/docbook/xsl-stylesheets-&docbook-xsl-version;" \
    /etc/xml/catalog</command></userinput></screen>

<para>Alternatively, other versions can be installed in their own
versioned directories and catalog entries made in the following
form:</para>

<screen><userinput><command>xmlcatalog --noout --add "rewriteSystem" \
    "http://docbook.sourceforge.net/release/xsl/<replaceable>[version]</replaceable>" \
    "/usr/share/xml/docbook/xsl-stylesheets-<replaceable>[version]</replaceable>" \
    /etc/xml/catalog &amp;&amp;
xmlcatalog --noout --add "rewriteURI" \
    "http://docbook.sourceforge.net/release/xsl/<replaceable>[version]</replaceable>" \
    "/usr/share/xml/docbook/xsl-stylesheets-<replaceable>[version]</replaceable>" \
    /etc/xml/catalog</command></userinput></screen>

<note><para>To use XSL Stylesheets for GTK-Doc, and possibly other packages, a
"current" version is needed instead of a specific version number.  In this
case, use the following instructions:</para>

<literallayout><userinput><command>xmlcatalog --noout --add "rewriteSystem" \
    "http://docbook.sourceforge.net/release/xsl/current" \
    "/usr/share/xml/docbook/xsl-stylesheets-1.67.2" \
    /etc/xml/catalog   &amp;&amp;

xmlcatalog --noout --add "rewriteURI" \
    "http://docbook.sourceforge.net/release/xsl/current" \
    "/usr/share/xml/docbook/xsl-stylesheets-1.67.2" \
    /etc/xml/catalog</command></userinput></literallayout>

<para>This is a workaround that may or may not work for other packages that may
need a "current" catalog version.</para>
</note>

<!-- The following is very specific to LFS 6.0, the first sentence for
make and the remainder for 'make pdf', If it stays, it needs to be removed 
after BLFS 6.0-->

<para>For <acronym>LFS</acronym> 6.0, version 1.65.1 of this package should be
installed.  In addition, you need to make a symbolic link as described in the
<filename>INSTALL</filename> file of <acronym>LFS</acronym> 6.0.</para>
<screen><userinput><command>cd /usr/share/xml/docbook/ &amp;&amp;
ln -s xsl-stylesheets-1.65.1 xsl-stylesheets-current</command></userinput></screen>

</sect3>
</sect2>

<sect2>
<title>Contents</title>

<segmentedlist>
<segtitle>Installed Files</segtitle>
<segtitle>Installed Directories</segtitle>
<seglistitem><seg><acronym>XSL</acronym>
style sheets for <acronym>HTML</acronym> and <acronym>FO</acronym></seg>
<seg>/usr/share/xml/docbook/xsl-stylesheets-&docbook-xsl-version; and
/usr/share/doc/xml</seg>
</seglistitem>
</segmentedlist>

</sect2>
</sect1>
