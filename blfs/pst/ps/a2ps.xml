<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;
  <!ENTITY a2ps-download-http "http://ftp.gnu.org/gnu/a2ps/a2ps-&a2ps-version;.tar.gz">
  <!ENTITY a2ps-download-ftp  "ftp://ftp.gnu.org/gnu/a2ps/a2ps-&a2ps-version;.tar.gz">
  <!ENTITY a2ps-md5sum        "781ac3d9b213fa3e1ed0d79f986dc8c7">
  <!ENTITY a2ps-size          "2.6 Mo">
  <!ENTITY a2ps-buildsize     "22 Mo">
  <!ENTITY a2ps-time          "0.3 SBU">
  <!ENTITY i18n-fonts-version "0.1">
]>
<sect1 id="a2ps" xreflabel="a2ps-&a2ps-version;">
  <?dbhtml filename="a2ps.html"?>
  <sect1info>
    <othername>$LastChangedBy&nbsp;: bdubbs $</othername>
    <date>$Date&nbsp;: 2012-05-08 20:24:55 +0200 (Tue, 08 May 2012) $</date>
  </sect1info>
  <title>a2ps-&a2ps-version;</title>
  <indexterm zone="a2ps">
    <primary sortas="a-a2ps">a2ps</primary>
  </indexterm>
  <sect2 role="package">
    <title>Introduction à a2ps</title>
    <para><application>a2ps</application> est un filtre utilisé principalement
    en tâche de fond et d'abord par des scripts d'impression pour convertir
    presque tous les formats d'entrée en sortie PostScript. Le nom de
    l'application équivaut, lorsqu'on le développe, à <quote>all to PostScript</quote>
    (tout en PostScript.</para>
   &lfs75_checked;
    <caution>
      <para><application>a2ps</application> ne peut pas convertir de texte encodé
      en UTF-8 en PostScript. La chose est traitée en détails dans la section
      <xref linkend="locale-not-valid-option"/> de la page
      <xref linkend="locale-issues"/>. La solution est d'utiliser
      <xref linkend="paps"/> au lieu de 
      <application>a2ps</application> pour convertir du texte encodé en
      UTF-8 en PostScript.</para>
    </caution>
    <bridgehead renderas="sect3">Informations sur le paquet</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>Téléchargement (HTTP)&nbsp;: <ulink url="&a2ps-download-http;"/></para>
      </listitem>
      <listitem>
        <para>Téléchargement (FTP)&nbsp;: <ulink url="&a2ps-download-ftp;"/></para>
      </listitem>
      <listitem>
        <para>Somme de contrôle MD5 du téléchargement&nbsp;: &a2ps-md5sum;</para>
      </listitem>
      <listitem>
        <para>Taille du téléchargement&nbsp;: &a2ps-size;</para>
      </listitem>
      <listitem>
        <para>Estimation de l'espace disque requis&nbsp;: &a2ps-buildsize;</para>
      </listitem>
      <listitem>
        <para>Estimation du temps de construction&nbsp;: &a2ps-time;</para>
      </listitem>
    </itemizedlist>
    <bridgehead renderas="sect3">Téléchargements supplémentaires</bridgehead>
    <itemizedlist spacing='compact'>
      <listitem>
        <para>Polices internationales&nbsp;: <ulink
          url="http://anduin.linuxfromscratch.org/sources/BLFS/conglomeration/i18n-fonts/i18n-fonts-&i18n-fonts-version;.tar.bz2"/></para>
       </listitem>
    </itemizedlist>
    <bridgehead renderas="sect3">Dépendances d'a2ps</bridgehead>
    <bridgehead renderas="sect4">Recommandées</bridgehead>
    <para role="recommended"><xref linkend="psutils"/> et
    <xref linkend="cups"/>
    (sinon, <application>a2ps</application> utilisera la commande
    <command>cat &gt;/dev/lp0</command> instalée  de <command>lpr</command>
    pour envoyer sa sortie vers l'imprimante)</para>
    <bridgehead renderas="sect4">Facultatives</bridgehead>
    <para role="optional">
      <xref linkend="gs"/>,
      <xref linkend="libpaper"/>.
      <xref linkend="texlive"/>,
      <xref linkend="x-window-system"/>,
      <ulink url="http://www.adobe.com/products/acrobat/readstep2.html">Adobe Reader</ulink>, et
      <ulink url="http://www.gnu.org/software/ghostview/ghostview.html">Ghostview</ulink>
    </para>
    <para condition="html" role="usernotes">Notes utilisateur&nbsp;:
    <ulink url="&blfs-wiki;/A2PS"/></para>
  </sect2>
  <sect2 role="installation">
    <title>Installation d'a2ps</title>
    <para>Installez <application>a2ps</application> en lançant les commandes
    suivantes&nbsp;:</para>
<screen>
<userinput>autoconf &amp;&amp;
sed -i -e "s/GPERF --version |/&amp; head -n 1 |/" \
       -e "s|/usr/local/share|/usr/share|" configure &amp;&amp;
./configure --prefix=/usr  \
    --sysconfdir=/etc/a2ps \
    --enable-shared        \
    --with-medium=letter   &amp;&amp;
make                       &amp;&amp;
touch doc/*.info</userinput>
</screen>
    <para>Pour tester les résultats, lancez&nbsp;: <command>make check</command>.
    Le test <filename>printers.tst</filename> échouera, vu qu'il n'y a pas de
    d'imprimante de test par défaut. Il se peut que <filename>styles.tst</filename>
    échoue vu que tests signalent certaines incohérences entre le postscript 
    généré et les paramètres de référence. Ceci est dû à des différences de 
    numéros de versions entre les fichiers de test postscript et ceux générés 
    par les tests &mdash; cela ne touche pas le déooulement du programme et
    cela peut être ignoré.</para>
    <para>Maintenant, en tant qu'utilisateur <systemitem class="username">root</systemitem>&nbsp;:</para>
<screen role="root">
<userinput>make install</userinput>
</screen>
    <para>Si vous le désirez, installez les polices internationales en lançant 
    les commandes suivantes en tant qu'utilisateur <systemitem class="username">root</systemitem>&nbsp;:</para>
<screen role="root">
<userinput>tar -xf ../i18n-fonts-&i18n-fonts-version;.tar.bz2 &amp;&amp;
cp -v i18n-fonts-&i18n-fonts-version;/fonts/* /usr/share/a2ps/fonts               &amp;&amp;
cp -v i18n-fonts-&i18n-fonts-version;/afm/* /usr/share/a2ps/afm                   &amp;&amp;
pushd /usr/share/a2ps/afm    &amp;&amp;
  ./make_fonts_map.sh        &amp;&amp;
  mv fonts.map.new fonts.map &amp;&amp;
popd</userinput>
</screen>
  </sect2>
  <sect2 role="commands">
    <title>Explication des commandes</title>
    <para><command>autoconf</command>&nbsp;: Cette commande est utilisée pour
    recréer un script <command>configure</command>. C'est nécessaire car il y
    a un problème dans le test mktime qui aboutit à ce que le script
    <command>configure</command> se bloque pendant 60 secondes puis signale
    signale qu'il n'a trouvé aucun mktime.</para>
    <para><command>sed -i "s/GPERF --version |/&amp; head -n 1 |/" configure</command>&nbsp;: 
    Ceci corrige un bogue dans la gestion de la sortie de la version 
    de <command>gperf</command>.</para>
    <para><command>sed -i "s|/usr/local/share|/usr/share|" configure</command>&nbsp;:
    Cette commande modifie le script <command>configure</command> pour chercher
    des polices <application>Ghostscript</application> à l'endroit où
    ils sont installés par les instructions de BLFS.</para>
    <para><parameter>--sysconfdir=/etc/a2ps</parameter>&nbsp;: Les données
    de configuration sont installées dans <filename class="directory">/etc/a2ps</filename> 
    et non dans <filename class="directory">/usr/etc</filename>.</para>
    <para><parameter>--enable-shared</parameter>&nbsp;: Ce paramètre active
    la construction de la bibliothèque dynamique 
    <filename class='libraryfile'>liba2ps</filename>.</para>
    <para><parameter>--with-medium=letter</parameter>&nbsp;: Ce paramètre
    modifie le format du papier par défaut en lettre américaine. On peut
    soit le donner ici soit le paramétrer dans <filename>/etc/a2ps/a2ps-site.cfg</filename> 
    après l'installation. Par défaut, il est en A4, mais il existe plusieurs 
    autres options, en particulier&nbsp;: A4dj ou
    letterdj sont de bons réglages pour les HP Deskjet et d'autres imprimantes
    exigeant des marges de papier plus larges. Voir 
    <filename>/etc/a2ps/a2ps.cfg</filename>
    après l'installation.</para>
    <para><command>touch doc/*.info</command>: Cette commande évite d'essayer de régénérer
    les fichiers info. C'est un ancien paquet et les fichiers 
    .texi actuels produiront des erreurs empéchant <command>make install</command>
    de travailler correctement.</para>
  </sect2>
  <sect2 role="configuration">
    <title>Configuration d'a2ps</title>
    <sect3 id="a2ps-config">
      <title>Fichiers de configuration</title>
      <para><filename>/etc/a2ps/a2ps.cfg</filename>,
      <filename>/etc/a2ps/a2ps-site.cfg</filename></para>
      <indexterm zone="a2ps a2ps-config">
        <primary sortas="e-etc-a2ps-a2ps.cfg">/etc/a2ps/a2ps.cfg</primary>
      </indexterm>
      <indexterm zone="a2ps a2ps-config">
        <primary sortas="e-etc-a2ps-a2ps-site.cfg">/etc/a2ps/a2ps-site.cfg</primary>
      </indexterm>
    </sect3>
    <sect3>
      <title>Informations de configuration</title>
      <para>Vous pouvez trouver des informations sur la configuration 
      d'<application>a2ps</application> dans les commentaires contenus dans 
      dans les fichiers ci-dessous et en lançant <command>info a2ps</command>.</para>
    </sect3>
  </sect2>
  <sect2 role="content">
    <title>Contenu</title>
    <segmentedlist>
      <segtitle>Programmes installés</segtitle>
      <segtitle>Bibliothèques installées</segtitle>
      <segtitle>Répertoires installés</segtitle>
      <seglistitem>
        <seg>a2ps, card, composeglyphs, fixnt, fixps, ogonkify,
        pdiff, psmandup, psset, et texi2dvi4a2ps</seg>
        <seg>liba2ps.{so,a} et filter data</seg>
        <seg>/etc/a2ps et /usr/share/a2ps</seg>
      </seglistitem>
    </segmentedlist>
    <variablelist>
      <bridgehead renderas="sect3">Descriptions courtes</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>
      <varlistentry id="a2ps-prog">
        <term><command>a2ps</command></term>
        <listitem>
          <para>est un filtre, utilisé d'abord par des scripts d'impression,
          qui convertit l'entrée standard or des fichiers supportés en
          PostScript.</para>
          <indexterm zone="a2ps a2ps-prog">
            <primary sortas="b-a2ps">a2ps</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="card">
        <term><command>card</command></term>
        <listitem>
          <para>imprime une carte de référence des options d'un programme
          donné.</para>
          <indexterm zone="a2ps card">
            <primary sortas="b-card">card</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="composeglyphs">
        <term><command>composeglyphs</command></term>
        <listitem>
          <para>crée un programme de polices composites.</para>
          <indexterm zone="a2ps composeglyphs">
            <primary sortas="b-composeglyphs">composeglyphs</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="fixnt">
        <term><command>fixnt</command></term>
        <listitem>
          <para>est supposé corriger les problèmes dans les fichiers
          PostScript généré par le pilote Microsoft PostScript sous Windows NT
          (3.5 et 4.0).</para>
          <indexterm zone="a2ps fixnt">
            <primary sortas="b-fixnt">fixnt</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="fixps">
        <term><command>fixps</command></term>
        <listitem>
          <para>essaie de corriger des problèmes habituels PostScript qui
          casse le traitement a posteriori.</para>
          <indexterm zone="a2ps fixps">
            <primary sortas="b-fixps">fixps</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="ogonkify">
        <term><command>ogonkify</command></term>
        <listitem>
          <para>offre le support international pour Postscript en effectuant
          divers munging de fichiers PostScript liés à l'impression dans différentes
          langues.</para>
          <indexterm zone="a2ps ogonkify">
            <primary sortas="b-ogonkify">ogonkify</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="pdiff">
        <term><command>pdiff</command></term>
        <listitem>
          <para>offre une bonne comparaison entre des fichiers.</para>
          <indexterm zone="a2ps pdiff">
            <primary sortas="b-pdiff">pdiff</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="psmandup">
        <term><command>psmandup</command></term>
        <listitem>
          <para>essaie de produire une version d'un fichier PostScript donné
          pour une impression en duplex manuel.</para>
          <indexterm zone="a2ps psmandup">
            <primary sortas="b-psmandup">psmandup</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="psset">
        <term><command>psset</command></term>
        <listitem>
          <para>produit une version d'un fichier PostScript avec un appel
          protégé à l'opérateur PostScript 'setpagedevice'. L'utilisation
          classique est de faire une impression de fichiers en duplex, ou sur le
          plateau manuel, etc.</para>
          <indexterm zone="a2ps psset">
            <primary sortas="b-psset">psset</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="texi2dvi4a2ps">
        <term><command>texi2dvi4a2ps</command></term>
        <listitem>
          <para>compile des fichiers Texinfo et LaTeX en DVI ou PDF</para>
          <indexterm zone="a2ps texi2dvi4a2ps">
            <primary sortas="b-texi2dvi4a2ps">texi2dvi4a2ps</primary>
          </indexterm>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect2>
</sect1>
