<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;
  <!ENTITY texlive-download-http " ">
  <!ENTITY texlive-download-ftp  "ftp://tug.org/texlive/historic/&texlive-year;/texlive-&texlive-version;-source.tar.xz">
  <!ENTITY texlive-md5sum        "09ee265ff51637827559affc7304078c">
  <!ENTITY texlive-size          "40 Mo">
  <!ENTITY texlive-buildsize      "3.6 GB including the additional download">
  <!ENTITY texlive-time           "8.2 SBU including the additional download">
  <!ENTITY texlive-texmf-download-http " ">
  <!ENTITY texlive-texmf-download-ftp  "ftp://tug.org/texlive/historic/&texlive-year;/texlive-&texlive-version;-texmf.tar.xz">
  <!ENTITY texlive-texmf-md5sum        "645a6f1d3a0ef4a9c279dae02588eab7">
  <!ENTITY texlive-texmf-size          "1.7 GB">
]>
<sect1 id="texlive" xreflabel="texlive-&texlive-version;">
  <?dbhtml filename="texlive.html"?>
  <sect1info>
    <othername>$LastChangedBy: ken $</othername>
    <date>$Date: 2015-01-11 22:13:35 +0100 (dim. 11 janv. 2015) $</date>
  </sect1info>
  <title>texlive-&texlive-version;-source</title>
  <indexterm zone="texlive">
    <primary sortas="a-texlive">texlive</primary>
  </indexterm>
  <sect2 role="package">
    <title>Introduction à TeX Live from source</title>
    <para>La plupart de TeX Live peut être construit depuis les sources sans une installation
    pré-existante, mais
    <application>xindy</application> (pour l'indexage) demande des versions en fonctionnement de
    <command>latex</command> et <command>pdflatex</command>
    quand configure est lancé, et les suites de tests et l'installation de
    <command>asy</command> (pour les graphiques vectoriels) échoueront si TeX n'a pas déjà été installé.
    En supplément, <application>biber</application> n'est pas fournit dans les sources de
    <application>texlive</application>.</para>
    <para>L'ensemble de ses paquets sont expliqués dans leurs propres pages et peuvent être construit
    après l'installation de ce paquet et en ayant fait
    <xref linkend="tex-path"/>.</para>
    &lfs76lfs77_checked;
    <bridgehead renderas="sect3">Information sur le paquet </bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>Téléchargement (HTTP) : <ulink url="&texlive-download-http;"/></para>
      </listitem>
      <listitem>
        <para>Téléchargement (FTP) : <ulink url="&texlive-download-ftp;"/></para>
      </listitem>
      <listitem>
        <para>Somme de contrôle MD5 du téléchargement : &texlive-md5sum;</para>
      </listitem>
      <listitem>
        <para>Taille du téléchargement : &texlive-size;</para>
      </listitem>
      <listitem>
        <para>Estimation de l'espace disque requis : &texlive-buildsize;</para>
      </listitem>
      <listitem>
        <para>Estimation du temps de construction : &texlive-time;</para>
      </listitem>
    </itemizedlist>
    <bridgehead renderas="sect3">Téléchargement supplémentaire requis</bridgehead>
      <para>Beaucoup de l'environnement texlive (incluant scripts, documentation,
      polices et différents autres fichiers) ne sont pas dans l'archive des sources. Vous devez les
      télécharger séparément. Cela vous donnera tous les fichiers supplémentaires qui sont fournis
      par une isntallation complète de la version binaire, ce n'est pas réaliste de limiter
      les parties à installer.
      </para>
       <para>
        A cause de la taille de ce paquet, il n'est pas en mirroir sur les mirroirs BLFS. En cas de problème, 
        allez sur http://www.ctan.org/mirrors/ pour trouver un mirroir plus accessible.
      </para>
    <itemizedlist spacing="compact">
       <listitem>
        <para>Téléchargement (HTTP): <ulink url="&texlive-texmf-download-http;"/></para>
      </listitem>
      <listitem>
        <para>Téléchargement (FTP) : <ulink url="&texlive-texmf-download-ftp;"/></para>
      </listitem>
      <listitem>
        <para>Somme de contrôle MD5 du téléchargement : &texlive-texmf-md5sum;</para>
      </listitem>
      <listitem>
        <para>Taille du téléchargement : &texlive-texmf-size;</para>
      </listitem>
    </itemizedlist>
    <bridgehead renderas="sect3">Dépendances de TeX Live depuis les sources</bridgehead>
    <bridgehead renderas="sect4">Recommandées</bridgehead>
    <para role="recommended">
      <xref linkend="gs"/> (pour dvisvgm - utilisé par asymptote qui fournit une boite à outils basée sur
      les coordonnées mathématiques pour les déssins techniques),
      <xref linkend="x-window-system"/>
    </para>
    
    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
     href="../../xincludes/texrecommendlibs.xml"/>
    <bridgehead renderas="sect4">Facultative</bridgehead>
    
    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
     href="../../xincludes/texoptional.xml"/>
    <bridgehead renderas="sect4">Dépendances d'exécution</bridgehead>
    
    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
     href="../../xincludes/texruntime.xml"/>
    <para condition="html" role="usernotes">Notes utilisateur :
    <ulink url="&blfs-wiki;/texlive"/></para>
  </sect2>
  <sect2 role="installation">
    <title>Installation de TeX Live</title>
    <para>
      Installez TeX Live en lançant la suite  
    </para>
<screen>
<userinput>TEXARCH=$(uname -m | sed -e 's/i.86/i386/' -e 's/$/-linux/') &amp;&amp;
mkdir texlive-build &amp;&amp;
cd texlive-build    &amp;&amp;
../configure                                        \
    --prefix=/opt/texlive/&texlive-year;                      \
    --bindir=/opt/texlive/&texlive-year;/bin/$TEXARCH         \
    --datarootdir=/opt/texlive/&texlive-year;                 \
    --includedir=/usr/include                       \
    --infodir=/opt/texlive/&texlive-year;/texmf-dist/doc/info \
    --libdir=/usr/lib                               \
    --mandir=/opt/texlive/&texlive-year;/texmf-dist/doc/man   \
    --disable-native-texlive-build                  \
    --disable-static --enable-shared                \
    --with-system-cairo                             \
    --with-system-fontconfig                        \
    --with-system-freetype2                         \
    --with-system-graphite2                         \
    --with-system-harfbuzz                          \
    --with-system-icu                               \
    --with-system-libgs                             \
    --with-system-libpaper                          \
    --with-system-libpng                            \
    --with-system-pixman                            \
    --with-system-poppler                           \
    --with-system-xpdf                              \
    --with-system-zlib                              \
    --with-banner-add=" - BLFS" &amp;&amp;
unset TEXARCH &amp;&amp;
make</userinput>
</screen>
    <para>Pour tester le résultat, tapez : <command>make -k check</command>
    Un test de web2c, dvipng et ttf2pk2 seront passé ("SKIP") car kpathsea
    n'est pas encore installé.</para>
    <para>Maintenant, en tant qu'utilisateur <systemitem class="username">root</systemitem>:</para>
<screen role="root">
<userinput>make install &amp;&amp;
make texlinks</userinput>
</screen>
    <para>Et maintenant, installez les fichiers supplémentaires en tant qu'utilisateur
    <systemitem class="username">root</systemitem>:</para>
<screen role="root">
<userinput>mkdir -pv /opt/texlive/&texlive-year; &amp;&amp;
tar -xf ../../texlive-&texlive-version;-texmf.tar.xz -C /opt/texlive/&texlive-year; --strip-components=1</userinput>
</screen>
    <para>Maintenant effectuez <xref linkend="tex-path"/>.</para>
  </sect2>
  <sect2 role="commands">
    <title>Explications des commandes</title>
    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
     href="../../xincludes/tex-prefix.xml"/>
    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
     href="../../xincludes/tex-lib.xml"/>
    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
      href="../../xincludes/static-libraries.xml"/>
    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
      href="../../xincludes/tex-shared.xml"/>
    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
      href="../../xincludes/tex-system.xml"/>
    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
      href="../../xincludes/tex-xpdf.xml"/>
    <para>
      <option>--without-x</option> : utilisez cela si vous n'avez pas installé Xorg.
    </para>
    <para>
      <parameter>make texlinks</parameter> : cela lance le script texlinks.sh pour créer (ou recréer) les liens
      symboliques depuis les formats du moteur. En pratique, plusieurs des cibles comme
      <command>xetex</command> sont maintenant des binaires séparés et pour ceux la signalera "fichiers existants" ("file already exists").
    </para>
    <para>
      <parameter>tar -xf texlive-&texlive-version;-texmf.tar.xz -C /opt/texlive/&texlive-year; --strip-components=1</parameter> :
      L'archive contient les fichiers pour le répertoire texmf-dist, et à cause de sa taille nous ne voulons pas
      gaspiller de temps et d'espace à le déballer et ensuite copier les fichiers.
    </para>
  </sect2>
  <sect2 role="content">
    <title>Contenu</title>
    <segmentedlist>
      <segtitle>Programmes installés</segtitle>
      <segtitle>Bibliothèques installées</segtitle>
      <segtitle>Répertoires installés</segtitle>
      <seglistitem>
        <seg>Plus de 300 binaires et liens symboliques vers des scripts</seg>
        <seg>libkpathsea.so, libptexenc.so</seg>
        <seg>/opt/texlive/&texlive-year;/bin, /opt/texlive/&texlive-year;/texmf-dist,
        /usr/include/kpathsea, /usr/include/ptexenc</seg>
      </seglistitem>
    </segmentedlist>
    <variablelist>
      <bridgehead renderas="sect3">Description courte</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>
      <varlistentry id="texlive-programs">
        <term><command>Programmes de TeX&nbsp;</command></term>
        <listitem>
          <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
          href="../../xincludes/texprogs.xml"/>
          <indexterm zone="texlive texlive-programs">
            <primary sortas="b-texlive-programs">Programmes de TeX Live</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="libkpathsea">
        <term><filename class="libraryfile">libkpathsea.so</filename></term>
        <listitem>
          <para>
            (kpathsearch) existe pour rechercher un fichier dans une liste de répertoires.
          </para>
          <indexterm zone="texlive libkpathsea">
            <primary sortas="c-libkpathsea">libkpathsea.so</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="libptexenc">
        <term><filename class="libraryfile">libptexenc.so</filename></term>
        <listitem>
          <para>
            est une bibliothèque pour pTeX japonnais (publishing TeX).
          </para>
          <indexterm zone="texlive libptexenc">
            <primary sortas="c-libptexenc">libptexenc.so</primary>
          </indexterm>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect2>
</sect1>
