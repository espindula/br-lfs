<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

  <!ENTITY texlive-source-download-http " ">
  <!ENTITY texlive-source-download-ftp  "ftp://tug.org/texlive/historic/2011/texlive-&texlive-version;-source.tar.xz">
  <!ENTITY texlive-source-md5sum        "968d238949e8a34a1fd74c374ddfe6f1">
  <!ENTITY texlive-source-size          "126 MB">

  <!ENTITY texlive-texmf-download-http  " ">
  <!ENTITY texlive-texmf-download-ftp   "ftp://tug.org/texlive/historic/2011/texlive-&texlive-version;-texmf.tar.xz">
  <!ENTITY texlive-texmf-md5sum         "ed7b558be35adf00a6c2e69609cd679a">
  <!ENTITY texlive-texmf-size           "1.2 Gio">

  <!ENTITY texlive-buildsize            "~5 GB">
  <!ENTITY texlive-time                 "10 SBU">
]>

<sect1 id="texlive" xreflabel="TeX Live-&texlive-version;">
  <?dbhtml filename="texlive.html"?>

  <sect1info>
    <othername>$LastChangedBy: randy $</othername>
    <date>$Date: 2011-01-18 18:26:14 +0100 (mar. 18 janv. 2011) $</date>
  </sect1info>

  <title>TeX Live-&texlive-version;</title>

  <indexterm zone="texlive">
    <primary sortas="a-texlive">texlive</primary>
  </indexterm>

  <sect2 role="package">
    <title>Introduction à TeX Live</title>

    <para>Le paquet <application>TeX Live</application> est le fork du système 
	<application>teTeX</application> de production de documents Tex invénté par
	Donald Knuth. Les deux paquets ont été maintenu et supporté par 
	<ulink url="http://www.tug.org/">TeX Users Group</ulink>, bien que
	<application>teTeX</application> n'est plus maintenu depuis quelques années maintenant.</para>

    <bridgehead renderas="sect3">Informations sur le paquet</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>Téléchargement (HTTP)&nbsp;: <ulink url="&texlive-source-download-http;"/></para>
      </listitem>
      <listitem>
        <para>Téléchargement (FTP)&nbsp;: <ulink url="&texlive-source-download-ftp;"/></para>
      </listitem>
      <listitem>
        <para>Somme de contrôle MD5 du téléchargement&nbsp;: &texlive-source-md5sum;</para>
      </listitem>
      <listitem>
        <para>Taille du téléchargement&nbsp;: &texlive-source-size;</para>
      </listitem>
      <listitem>
        <para>Estimation de l'espace disque requis&nbsp;: &texlive-buildsize;</para>
      </listitem>
      <listitem>
        <para>Estimation du temps de construction&nbsp;: &texlive-time;</para>
      </listitem>
    </itemizedlist>

    <bridgehead renderas="sect3">Téléchargements supplémentaires</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>TeX MetaFonts requises et composants supplémentaires:
        <ulink url="&texlive-texmf-download-ftp;"/></para>
      </listitem>
      <listitem>
        <para>Somme de contrôle MD5 du téléchargement&nbsp;: &texlive-texmf-md5sum;</para>
      </listitem>
      <listitem>
        <para>Taille du téléchargement&nbsp;: &texlive-texmf-size;</para>
      </listitem>
    </itemizedlist>

    <bridgehead renderas="sect3">Dépendances de TeX Live</bridgehead>
<!--
    <bridgehead renderas="sect4">Requise</bridgehead>
-->
    <bridgehead renderas="sect4">Supplémentaire</bridgehead>
    <para role="optional"><xref linkend="gs"/>,
    <xref linkend="poppler"/>,
    <xref linkend="freetype2"/>,
    <xref linkend="fontconfig"/>,
    <xref linkend="libpng"/>,
    <xref linkend="x-window-system"/>,
    <xref linkend="recode"/>,
    <xref linkend="icu"/>,
    <ulink url="http://www.libgd.org/Main_Page">GD</ulink>,
    <ulink url="http://www.sfr-fresh.com/linux/misc/t1lib">t1lib</ulink>,
    <ulink url="http://sourceforge.net/projects/zziplib/">ZZIPlib</ulink>,
    <ulink url="http://www.gnu.org/software/clisp/">CLISP</ulink>,
    <ulink url="http://www.lua.org/">Lua</ulink>,
    <ulink url="http://scripts.sil.org/cms/scripts/page.php?site_id=nrsi&amp;id=TECkitDownloads">TECkit</ulink>,
    et
    <ulink url="http://scripts.sil.org/cms/scripts/page.php?site_id=nrsi&amp;cat_id=RenderingGraphite">
    Graphite</ulink></para>

    <para condition="html" role="usernotes">Notes utilisaeur:
    <ulink url="&blfs-wiki;/texlive"/></para>

  </sect2>

  <sect2 role="installation">
    <title>Installation de TeX Live</title>

<!--    <para>Avant la construction de <application>TeX Live</application>, les macros et paquet
    de fonts (archive <filename>texmf</filename>) doivent être installé et
    deux liens symboliques temporaires doivent être créés. Installer les macros, fonts
    and liens symboliques en utilisant les commandes suivantes en tant qu'utilisateur
    <systemitem class="username">root</systemitem> :</para>

<screen role="root"><userinput>tar xf ../texlive-&texlive-version;-texmf.tar.xz \
    -C /usr/share --strip-components=1 &amp;&amp;

ln -v -s share/texmf      /usr &amp;&amp;
ln -v -s share/texmf-dist /usr</userinput></screen>-->

    <para>Installer <application>TeX Live</application> en éxecutant les 
    commandes suivantes&nbsp;:</para>

    <note>
     <para>Si vous n'avez pas installé Xorg, ajoutez <userinput>--without-x</userinput> 
      à la commande configure.</para>

     <para>Si vous n'avez pas installé fontconfig, ajoutez 
      <userinput>--disable-xdvipdfmx</userinput> à la commande configure.</para>
    </note>

<screen><userinput>./configure --prefix=/usr                  \
            --disable-native-texlive-build \
            --enable-shared                \
            --without-luatex               \
            --enable-mktextex-default      \
            --with-banner-add=" - BLFS"    &amp;&amp;
make</userinput></screen>

   <para>Les instructions <userinput>make install</userinput> ne respectent pas
    les options de répertoire d'origine de l'installation de 
    <command>configure</command>.  Elles peuvent également écraser /usr/bin/man.
      Pour résoudre ce problème, installez le programme à un endroit temporaire
      et effectuez quelques nettoyages&nbsp;:</para>

<screen><userinput>
make DESTDIR=$PWD/livetex-tmp install &amp;&amp;
rm -v $PWD/livetex-tmp/usr/bin/man    &amp;&amp;
for FN in $PWD/livetex-tmp/usr/bin `find  -type l`; do
    if [ `readlink $FN | grep "\.\./texmf"` ]; then
        ln -svf `readlink $FN | sed 's|\.\./texmf|../share/texmf|'` $FN
    fi
done &amp;&amp;
unset FN</userinput></screen>

    <para>Maintenant, en tant qu'utilisateur <systemitem class="username">root</systemitem> :</para>

<screen><userinput>
cp -dRv livetex-tmp//usr/include/* /usr/include          &amp;&amp;
cp -dRv livetex-tmp/usr/lib/*      /usr/lib              &amp;&amp;
cp -dRv livetex-tmp/usr/bin/*      /usr/bin              &amp;&amp;
cp -dRv livetex-tmp/usr/doc/man/*  /usr/share/man        &amp;&amp;

tar -xf ../texlive-20110705-texmf.tar.xz -C /usr/share \
    --strip-components=1                                 &amp;&amp;

cp -dRv livetex-tmp/usr/texmf      /usr/share/texmf      &amp;&amp;
cp -dRv livetex-tmp/usr/texmf-dist /usr/share/texmf-dist &amp;&amp;

for INFO in livetex-tmp/usr/texmf/doc/info/*.info; do
  install -v -m0644 $INFO /usr/share/info
  intall-info --info-dir=/usr/share/info $INFO
done       &amp;&amp;
unset INFO &amp;&amp;

DOCDIR="/usr/share/doc/texlive-&texlive-version;" &amp;&amp;
install -v -m755  -d $DOCDIR             &amp;&amp;

for DOC in `find -name doc`; do
  DIR=`echo $DOC | cut -d/ -f2-`
  install -v -m755  -d $DOCDIR/$DIR
  cp -dRv $DOC/* $DOCDIR/$DIR
done          &amp;&amp;
unset DOC DIR &amp;&amp;

install -v -m1777 -d /var/lib/livetex/fonts                     &amp;&amp;
install -v -m755  -d /usr/share/texmf-{config,var,local}        &amp;&amp;

ln  -s  -v           ../../texmf/doc \
                     /usr/share/doc/texlive-&texlive-version;/texmf      &amp;&amp;
ln  -s  -v           ../../texmf-dist/doc \
                     /usr/share/doc/texlive-&texlive-version;/texmf-dist &amp;&amp;
                     /usr/share/doc/texlive-&texlive-version;/texmf-dist</userinput></screen>

  </sect2>

  <sect2 role="commands">
    <title>Explications des commandes</title>

    <para><command>sed -i -e '...' -e '...' texk/kpathsea/texmf.cnf</command>:
    Cette commande est utilisée pour modifier les valeurs par défaut pour que les objets locaux
	soient installés dans <filename class="directory">/usr/share/texmf-local</filename>
    à la place de <filename class="directory">/usr/texmf-local</filename>. Cela change également
	le chemin des fonts installées par l'utilisateur par le chemin de la variable d'éxécution
    <filename class="directory">/var/lib/livetex/fonts</filename>.</para>

    <para><parameter>--disable-native-texlive-build</parameter>: Ce paramètre est
    requis si la construction n'est pas pour une distribution binaire.</para>

    <para><parameter>--without-luatex</parameter>: ce paramètre est requis
    sile langage de programmation <application>Lua</application> n'est pas installé.
	Effacer ce paramètre si <application>Lua</application> est installé.</para>

    <para><parameter>--enable-mktextex-default</parameter>: Ce paramètre
    est utilisé pour que TeX automatiquement invoque mktextex si la source TeX est
    oubliée.</para>

    <para><parameter>--with-banner-add=" - BLFS"</parameter>: Ce paramètre est utilisé
    pour que la construction puisse facilement reconnaitre une construction binaire
	non-TUG.</para>

    <para><option>--with-system-...</option> &amp;
    <option>--with-libgs-includes=/usr/include/ghostscript</option>: Ces options
    sont requises pour utiliser toutes les bibliothèques installées sur le système. Exécuter
    <command>./configure --help</command> pour voir une liste complète des options
    disponibles.</para>

    <para><command>for FN in `...`; do ...; done</command>Cette commande est utilisée
    pour changer le lien symbolique installé pour pointer vers les scripts installés
    dans <filename class="directory">/usr/share/texmf</filename> au lieu de
    <filename class="directory">/usr/texmf</filename>.</para>

  </sect2>

  <sect2 role="configuration">
    <title>Configuration de TeX Live</title>

    <sect3 id="texlive-config">
      <title>Fichiers de configuration</title>
      <para>Plusieurs fichiers <filename class="extension">.cnf</filename> sont utilisés
      dansun système TeX complet. Typiquement ces fichiers ne sont pas directement modifiés
      (sauf si vous savez très bien  vous servir d'un système TeX), mais à la place des 
	  programmes TeX sont utilisés pour faire les modifications.</para>

    </sect3>

    <sect3><title>information de configuration</title>

      <para>Taper les commandes suivantes en tant qu'utilisateur
      <systemitem class="username">root</systemitem> pour configurer et finaliser
      l'installation de TeX:</para>

<screen role="root"><userinput>mktexlsr /usr/share/texmf        \
         /usr/share/texmf-config \
         /usr/share/texmf-dist   \
         /usr/share/texmf-var    \
         /usr/share/texmf-local  \
         /var/lib/livetex/fonts  &amp;&amp;

texconfig-sys font rw            &amp;&amp;
texconfig-sys paper letter       &amp;&amp;
fmtutil-sys --all                &amp;&amp;
updmap-sys                       &amp;&amp;

mktexlsr /usr/share/texmf        \
         /usr/share/texmf-config \
         /usr/share/texmf-dist   \
         /usr/share/texmf-var    \
         /usr/share/texmf-local  \
         /var/lib/livetex/fonts  &amp;&amp;

texlinks                         &amp;&amp;

mktexlsr /usr/share/texmf        \
         /usr/share/texmf-config \
         /usr/share/texmf-dist   \
         /usr/share/texmf-var    \
         /usr/share/texmf-local  \
         /var/lib/livetex/fonts</userinput></screen>

    </sect3>

  </sect2>

  <sect2 role="content">
    <title>Contenu</title>

    <segmentedlist>
      <segtitle>Programmes installés</segtitle>
      <segtitle>Bibliothèque installée</segtitle>
      <segtitle>Répertoires installés</segtitle>

      <seglistitem>
        <seg>plus de 300 binaires et liens symboliques vers des scripts</seg>
        <seg>libkpathsea.{so,a} and libptexenc.{so,a}</seg>
        <seg>/usr/include/kpathsea,
        /usr/include/ptexenc,
        /usr/share/doc/texlive-&texlive-version;,
        /usr/share/texmf-config,
        /usr/share/texmf-dist,
        /usr/share/texmf-local,
        /usr/share/texmf-var,
        /use/share/texmf, and
        /var/lib/livetex</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Descriptions courtes</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="texlive-programs">
        <term><command>Programmes TeX</command></term>
        <listitem>
          <para>ceux inclus dans le paquet <application>TeX Live</application> sont
          trop nombreux pour être listés individuellement. Merci de vous reporter
          aux pages de man individuelles de chaque programme et à
          <ulink url="file:///usr/share/texmf/doc/texlive/index.html"/> pour des détails,
		  ainsi qu'un ensemble de documentation <application>TeX Live</application>
		  coûteuse.</para>
          <indexterm zone="texlive texlive-programs">
            <primary sortas="b-texlive-programs">TeX Live programs</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libkpathseaTL">
        <term><filename class='libraryfile'>libkpathsea.{so,a}</filename></term>
        <listitem>
          <para>contient les fonctions utilisées par les programme TeXt pour chercher
		  et cataloguer des noms de chemin utilisés dans l'installation de Tex.</para>
          <indexterm zone="texlive libkpathseaTL">
            <primary sortas="c-libkpathseaTL">libkpathsea.{so,a}</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
