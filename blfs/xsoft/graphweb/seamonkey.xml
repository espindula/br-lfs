<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;
  <!ENTITY seamonkey-download-http
  "http://ftp.mozilla.org/pub/mozilla.org/seamonkey/releases/&seamonkey-version;/source/seamonkey-&seamonkey-version;.source.tar.bz2">
  <!ENTITY seamonkey-download-ftp
  "ftp://ftp.mozilla.org/pub/mozilla.org/seamonkey/releases/&seamonkey-version;/source/seamonkey-&seamonkey-version;.source.tar.bz2">
  <!ENTITY seamonkey-md5sum        "4bfa46b370b4d211eef56b90277a9517">
  <!ENTITY seamonkey-size          "158 Mo">
  <!ENTITY seamonkey-buildsize     "1.7 Go (67 Mo installé)">
  <!ENTITY seamonkey-time          "37 SBU">
]>
<sect1 id="seamonkey" xreflabel="SeaMonkey-&seamonkey-version;">
  <?dbhtml filename="seamonkey.html" ?>
  <sect1info>
    <othername>$LastChangedBy : bdubbs $</othername>
    <date>$Date : 2012-10-24 21:21:22 +0200 (Wed, 24 Oct 2012) $</date>
  </sect1info>
  <title>SeaMonkey-&seamonkey-version;</title>
  <indexterm zone="seamonkey">
    <primary sortas="a-SeaMonkey">SeaMonkey</primary>
  </indexterm>
  <sect2 role="package">
    <title>Introduction à SeaMonkey</title>
    <para><application>SeaMonkey</application> est une suite internet, le
    petit frère libre de <application>Netscape</application>. Elle
    inclut le navigateur, le compositeur, des clients de messagerie et de 
    nouvelles et un client IRC. C'est le poursuivant du navigateur de la suite 
    Mozilla.</para>
    <para>Le projet Mozilla héberge aussi deux sous-projets visant à satisfaire
    les besoins des utilisateurs qui n'ont pas besoin d'une suite navigateur 
    complète ou qui préfèrent avoir des applications distinctes pour la 
    navigation et la messagerie. Ces sous-projets sont <xref linkend="firefox"/>
    et <xref linkend="thunderbird"/>. Les deux sont basés
    sur le code source de <application>Mozilla</application>.
    </para>
   &lfs75_checked;
    <bridgehead renderas="sect3">Informations sur le paquet</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>Téléchargement (HTTP)&nbsp;: <ulink url="&seamonkey-download-http;"/></para>
      </listitem>
      <listitem>
        <para>Téléchargement (FTP)&nbsp;: <ulink url="&seamonkey-download-ftp;"/></para>
      </listitem>
      <listitem>
        <para>Somme de contrôle MD5 du téléchargement&nbsp;: &seamonkey-md5sum;</para>
      </listitem>
      <listitem>
        <para>Taille du téléchargement&nbsp;: &seamonkey-size;</para>
      </listitem>
      <listitem>
        <para>Estimation de l'espace disque requis&nbsp;: &seamonkey-buildsize;</para>
      </listitem>
      <listitem>
        <para>Estimation du temps de construction&nbsp;: &seamonkey-time;</para>
      </listitem>
    </itemizedlist>
    <bridgehead renderas="sect3">Dépendances de SeaMonkey</bridgehead>
    <bridgehead renderas="sect4">Requises</bridgehead>
    <para role="required">
      <xref linkend="alsa-lib"/>,
      <xref linkend="gtk2"/>,
      <xref linkend="zip"/> et
      <xref linkend="unzip"/>.
    </para>
    <bridgehead renderas="sect4">Recommandées</bridgehead>
    <para role="recommended">
      <xref linkend="yasm"/> ou
    <xref linkend="libvpx"/> (pour permettre à <application>Seamonkey</application> to
    de lire des vidéos webm).</para>
    <bridgehead renderas="sect4">Facultatives</bridgehead>
    <para role="optional">
      <xref linkend="dbus-glib"/>,
      <xref linkend="startup-notification"/>,
      <xref linkend="sqlite"/>,
      <ulink url="http://hunspell.sourceforge.net/">Hunspell</ulink>,
      <xref linkend="libevent"/>,
      <xref linkend="doxygen"/>,
      <xref linkend="gst-plugins-base"/> (avec
      <xref linkend="gst-plugins-good"/> et
      <xref linkend="gst-ffmpeg"/> à l'éxécution)

      <xref linkend="libnotify"/>,
      <xref linkend="nspr"/>,
      <xref linkend="nss"/>,
      <xref linkend="openjdk"/>,
      <xref linkend="pulseaudio"/>,
      <xref linkend="wireless_tools"/>,
      <xref linkend="valgrind"/> (seulement pour tester le code
      jemalloc) et
     <xref linkend="wget"/>
    </para>
    <para condition="html" role="usernotes">Notes utilisateur&nbsp;:
    <ulink url="&blfs-wiki;/seamonkey"/></para>
  </sect2>
  <sect2 role="installation">
    <title>Installation de SeaMonkey</title>
    <para>
       La configuration de <application>SeaMonkey</application> se fait en
    créant un fichier <filename>mozconfig</filename> contenant les options de
    configuration désirées. Un fichier <filename>mozconfig</filename> par défaut
    est créé ci-dessous. Pour voir toute la liste des options de configuration 
    disponibles (et une description abrégée de chacune), exécutez
    <command>./configure --help</command>. Il se peut que vous vouliez aussi 
    relire tout le fichier et
    décommenter d'autres options souhaitées. Créez le fichier en lançant la
    commande suivante&nbsp;:</para>
<screen>
<?dbfo keep-together="auto"?><userinput>cat &gt; mozconfig &lt;&lt; EOF
# If you have a multicore machine you can speed up the build by running
# several jobs at once, but if you have a single core, delete this line:
mk_add_options MOZ_MAKE_FLAGS="-j$(getconf _NPROCESSORS_ONLN)"
# If you have installed Yasm delete this option:
ac_add_options --disable-webm
# If you have installed DBus-Glib delete this option:
ac_add_options --disable-dbus
# If you have installed wireless-tools delete this option:
ac_add_options --disable-necko-wifi
# If you have installed libnotify delete this option:
ac_add_options --disable-libnotify
# Comment out following option if you have PulseAudio installed
ac_add_options --disable-pulseaudio
# GStreamer is necessary for H.264 video playback in HTML5 Video Player;
# to be enabled, also remember to set "media.gstreamer.enabled" to "true"
# in about:config. If you have installed GStreamer comment out this line:
ac_add_options --disable-gstreamer
# Uncomment this line if you compiled Cairo with --enable-tee switch and want
# to use it instead of the bundled one:
#ac_add_options --enable-system-cairo
# Uncomment these if you have installed them:
# ac_add_options --enable-startup-notification
# ac_add_options --enable-system-hunspell
# ac_add_options --enable-system-sqlite
# ac_add_options --with-system-libevent
# ac_add_options --with-system-libvpx
# ac_add_options --with-system-nspr
# ac_add_options --with-system-nss
mk_add_options MOZ_OBJDIR=@TOPSRCDIR@/moz-build-dir
ac_add_options --disable-crashreporter
ac_add_options --disable-debug
ac_add_options --disable-debug-symbols
ac_add_options --disable-installer
ac_add_options --disable-static
ac_add_options --disable-tests
ac_add_options --disable-updater
ac_add_options --enable-application=suite
ac_add_options --enable-shared
ac_add_options --enable-system-ffi
ac_add_options --prefix=/usr
ac_add_options --with-pthreads
ac_add_options --with-system-jpeg
ac_add_options --with-system-png
ac_add_options --with-system-zlib
EOF</userinput>
</screen>
     <para>
      En premier, deux bogues ont besoin d'être corrigé. Les deux commandes suivantes sont dans le
      même ordre que les problèmes apparaissent pendant la construction, mais l'ordre n'est pas
      essentiel. Notez que moz-build-dir doit correspondre à la valeur utilisée dans
      mozconfig (aprés) pour le répertoire des objets (MOZ_OBJDIR):
    </para>
<screen>
<userinput>mkdir -vp mozilla/moz-build-dir &amp;&amp;
sed -e 's/$(MOZ_ZLIB_CFLAGS)/$(MOZ_ZLIB_CFLAGS) $(MOZ_PIXMAN_CFLAGS)/'     -i config/config.mk</userinput>
</screen>
    <para>Compilez <application>SeaMonkey</application> en lançant la commande
    suivante&nbsp;:</para>
    <note><para>Si vous n'avez pas installé Xorg dans /usr,
       soyez certain de spécifier l'emplacement avec :</para>
    
<screen>
<userinput>export CPLUS_INCLUDE_PATH=$XORG_PREFIX/include
export C_INCLUDE_PATH=$XORG_PREFIX/include</userinput>
</screen>
    </note>
<screen>
<userinput>make -f client.mk &amp;&amp;
make -C moz-build-dir/suite/installer</userinput>
</screen>
    <para>Ce paquet n'est pas fourni avec une suite de tests. Néanmoins, si <application>X</application>
    est en cours d'exécution, on peut
    le lancer à partir du répertoire de construction avant de l'installer avec
    la ligne de commande&nbsp;:
    <userinput>moz-build-dir/mozilla/dist/seamonkey/seamonkey</userinput></para>
    <para>Installez <application>SeaMonkey</application> en lançant les
    commandes suivantes en tant qu'utilisateur <systemitem class="username">root</systemitem>&nbsp;:</para>
<screen role="root">
<userinput>rm -rf    /usr/lib/seamonkey-&seamonkey-version; &amp;&amp;
mkdir -pv /usr/lib/seamonkey-&seamonkey-version; &amp;&amp;
tar -xf moz-build-dir/mozilla/dist/seamonkey-&seamonkey-version;.en-US.linux-$(uname -m).tar.bz2   -C /usr/lib/seamonkey-&seamonkey-version; --strip-components=1  &amp;&amp;
ln -sfv ../lib/seamonkey-&seamonkey-version;/seamonkey /usr/bin   &amp;&amp;
mkdir -pv /usr/lib/mozilla/plugins                   &amp;&amp;
ln -sfv ../mozilla/plugins /usr/lib/seamonkey-&seamonkey-version; &amp;&amp;
cp -v moz-build-dir/mozilla/dist/man/man1/seamonkey.1 /usr/share/man/man1</userinput>
</screen>
 
    <bridgehead renderas="sect3" id="devel-seamonkey" xreflabel="Seamonkey">
      Toutes les bibliothèques et les entêtes de développement.
    </bridgehead>
    <para>
      Si vous souhaitez installer l'environnement complet de développement de
      <application>SeaMonkey</application>,
      en tant qu'utilisateur <systemitem class="username">root</systemitem>&nbsp;:
    </para>
<screen role="root">
<userinput>make -C moz-build-dir install</userinput>
</screen>
</sect2>
  <sect2 role="commands">
    <title>Explication des commandes</title>
     <para>
      <command>mkdir -vp mozilla/moz-build-dir</command>: corrige une erreur de construction
      du Makefile au début de la construction, ou un fichier ne peut pas être trouvé.
    </para>
    <para>
      <command>sed -e 's/$(MOZ_ZLIB_CFLAGS) ... $(MOZ_PIXMAN_CFLAGS
      ...</command>: corrige une erreur de construction des entêtes de pixman qui ne sont pas trouvées,
      fermant ensuite la construction.
    </para>
    <para><command>make -f client.mk</command>&nbsp;: Les produits Mozilla
    sont empaquetés pour permettre l'utilisation d'un fichier de configuration
    utilisable pour passer les paramètres de configuration à la commande
    <command>configure</command>. <command>make</command> utilise le
    fichier <filename>client.mk</filename> pour récupérer les paramètres de
    configuration de départ et régler les paramètres.</para>
  </sect2>
  <sect2 role="configuration">
    <title>Configuration de SeaMonkey</title>
    <para>Si vous avez enlevé l'option <option>--disable-webm</option> de
    votre <filename>mozconfig</filename>, votre <application>Seamonkey</application>
    peut lire la plupart des vidéos youtube sans plugin flash. Pour activer cela,
    allez sur <ulink url="http://www.youtube.com/html5"/>
    et cliquez sur &apos;Rejoindre le test HTML5&apos; (exige l'activation des
    cookies).</para>
    <para>Pour installer des plugins <application>SeaMonkey</application>,
    reportez-vous au <ulink url="http://plugindoc.mozdev.org/linux.html">Mozdev's
    PluginDoc Project</ulink>.</para>
    <para>Tout en utilisant le menu <quote>Préférences</quote> pour configurer
    les options et les préférences de <application>SeaMonkey</application> pour
    les adapter à vos propres goûts, un contrôle bien plus approfondi de
    nombreuses options n'est disponible qu'en utilisant un outil non disponible
    depuis le système de menu général. Pour accéder à cet outil, vous devrez
    ouvrir une fenêtre du navigateur et entrer
    <systemitem role='url'>about:config</systemitem> dans la barre d'adresse.
    Cela affichera une liste des préférences de configuration et des
    informations liées à chacune. Vous pouvez utiliser la barre de <quote>Filtre:</quote>
    pour entrer des critères de recherche et réduire les éléments listés. La
    modification d'une préférence se fait en utilisant deux méthodes. L'une,
    si la préférence a une valeur boléenne (True/False, Vrai/Faux), double-cliquez
    simplement sur la préférence pour basculer la valeur, et l'autre, pour les
    préférences, faites simplement un clic droit sur la ligne désirée, choisissez
    <quote>Modifier</quote> dans le menu et modifiez la valeur. La création
    de nouveaux éléments de préférence se fait de la même façon, sauf qu'il faut
    choisir <quote>Nouveau</quote> du menu et fournir les données désirées dans
    les champs quand on vous le demande.</para>
    <tip>
      <para>Il y a énormément de paramètres de configuration que vous pouvez
      bidouiller pour personnaliser <application>SeaMonkey</application>. Vous
      pouvez trouver une liste très complète de ces paramètres sur
      <ulink
     url="http://preferential.mozdev.org/preferences.html"/>.</para>
    </tip>
    <para>Si vous utilisez un environnement de bureau comme
    <application>Gnome</application>
    ou <application>KDE</application> vous pourriez souhaiter créer un fichier
    <filename>seamonkey.desktop</filename> pour que <application>Seamonkey</application> apparaisse dans les
    menus du bureau. Si vous n'avez pas activé <application>Startup-Notification</application>
    (notification de démarrage) dans votre mozconfig, modifiez la ligne StartupNotify en
    false. En tant qu'utilisateur
    <systemitem class="username">root</systemitem>&nbsp;:</para>
<screen role="root">
<userinput>mkdir -pv /usr/share/{applications,pixmaps}              &amp;&amp;
cat &gt; /usr/share/applications/seamonkey.desktop &lt;&lt; "EOF" &amp;&amp;
[Desktop Entry]
Encoding=UTF-8
Type=Application
Name=SeaMonkey
Comment=The Mozilla Suite
Icon=seamonkey
Exec=seamonkey
Categories=Network;GTK;Application;Email;Browser;WebBrowser;News;
StartupNotify=true
Terminal=false
EOF
ln -sfv /usr/lib/seamonkey-&seamonkey-version;/chrome/icons/default/seamonkey.png         /usr/share/pixmaps</userinput>
</screen>
  </sect2>
  <sect2 role="content">
    <title>Contenu</title>
    <segmentedlist>
      <segtitle>Programmes installés</segtitle>
      <segtitle>Bibliothèques installées</segtitle>
      <segtitle>Répertoire installé</segtitle>
      <seglistitem>
        <seg>seamonkey</seg>
        <seg>De nombreuses bibliothèques, le navigateur et les composants de
        messagerie/nouvelles email/newsgroup components,
        plugins, extensions, et modules d'aide installés dans <filename
       class="directory">/usr/lib/seamonkey-&seamonkey-version;</filename></seg>
        <seg>
          /usr/lib/seamonkey-&seamonkey-version;.
        </seg>
      </seglistitem>
    </segmentedlist>
    <variablelist>
      <bridgehead renderas="sect3">Descriptions courtes</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>
      <varlistentry id="seamonkey-prog">
        <term><command>seamonkey</command></term>
        <listitem>
          <para>
	    est une suite client de navigateur/messagerie/nouvelles/groupe/chat.
          </para>
          <indexterm zone="seamonkey seamonkey-prog">
            <primary sortas="b-seamonkey">seamonkey</primary>
          </indexterm>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect2>
</sect1>
  
