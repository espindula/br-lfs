<?xml version="1.0" encoding="ISO-8859-1"?>
<sect2>
<title>Installation de <application>Mozilla</application></title>

<!--
<note>
<para>D'après les institutions financières, le correctif suivant rend votre
navigateur non sécurisé. Vous avez été prévenu. Un grand nombre de sites utilise
un indicatif MS-IE spécifique (autocomplete=off) pour empêcher la complétion
automatique de fonctionner dans certaines formes. Cet indicatif est maintenant
supporté par <application>Mozilla</application> pour faire plaisir aux institutions financières. Quant aux
nécessités des institutions financières, ils n'accepteront même pas une solution
où ceci est une préférence, une option. Néanmoins, notre opinion est que ceci
est l'affaire de l'utilisateur. Pour activer la complétion automatique et passer
cette restriction, nous avons besoin de faire une légère modification dans le
code.</para>

<para>Ouvrez le fichier <filename>extensions/wallet/src/wallet.cpp</filename>
à partir des sources <application>Mozilla</application> et recherchez la ligne:
<screen>#define WALLET_DONT_CACHE_ALL_PASSWORDS</screen>
Alors supprimez ou mettez cette ligne en commentaire. Maintenant, si quelqu'un
vous dit que MS-IE est facile d'utilisation, donnez cet exemple!</para>
</note>
-->

<warning><para>N'installez pas Mozilla, Mozilla Firefox et Mozilla Thunderbird
avec un seul préfixe car ils installent des fichiers nommés de la même façon. Le
livre BLFS installe Mozilla dans <filename>/usr</filename> alors que Mozilla
Firefox et Mozilla Thunderbird sont installés dans <filename>/opt</filename>.</para></warning>

<para>Si vous pensez installer Enigmail, récupérez les archives tar d'ipc et
d'engimail dans le répertoire <filename class="directory">extensions</filename>.</para>

<para>Compilez <application>Mozilla</application> en lançant les commandes
suivantes:</para>

<screen><userinput><command>export MOZILLA_OFFICIAL="1" &amp;&amp;
export BUILD_OFFICIAL="1" &amp;&amp;
./configure --prefix=/usr \
            --with-default-mozilla-five-home=/usr/lib/mozilla \
            --enable-default-toolkit=gtk2 \
            --with-x --with-system-zlib \
            --with-system-jpeg --with-system-png --with-system-mng \
            --enable-xft --enable-crypto \
            --disable-accessibility \
            --disable-tests --disable-debug \
            --disable-logging --enable-reorder \
            --enable-strip --disable-pedantic \
            --enable-cpp-rtti --enable-extensions=all &amp;&amp;
make</command></userinput></screen>

<para>Si vous installez Enigmail, exécutez les étapes suivantes:</para>

<screen><userinput><command>build/autoconf/make-makefile extensions/ipc extensions/enigmail &amp;&amp;
make -C extensions/ipc &amp;&amp;
make -C extensions/enigmail</command></userinput></screen>

<para>Installez <application>Mozilla</application> de cette façon:</para>

<screen><userinput><command>make install &amp;&amp;
install -d /usr/include/mozilla-&mozilla-version;/nss &amp;&amp;
cp -Lf dist/private/nss/*.h dist/public/nss/*.h \
   /usr/include/mozilla-&mozilla-version;/nss &amp;&amp;
ln -nsf mozilla-&mozilla-version; /usr/include/mozilla &amp;&amp;
ln -nsf mozilla-&mozilla-version; /usr/lib/mozilla</command></userinput></screen>

<para>Quelques bibliothèques installées par mozilla sont aussi nécessaires pour
d'autres paquetages. Ces bibliothèques se trouvent dans
<filename>/usr/lib</filename> de faàon à ce que les autres paquetages puissent y
être liés. Déplacez-les ainsi&nbsp;:</para>

<screen><userinput><command>for i in lib{nspr4,plc4,plds4,nss3,smime3,softokn3,ssl3}.so libsoftokn3.chk
do
   mv /usr/lib/mozilla-&mozilla-version;/$i /usr/lib/
   ln -sf ../$i /usr/lib/mozilla-&mozilla-version;/
done</command></userinput></screen>

<para>Installez Enigmail ainsi&nbsp;:</para>

<screen><userinput><command>make -C extensions/ipc install &amp;&amp;
make -C extensions/enigmail install</command></userinput></screen>

<para>Pour activer les opérations multi-utilisateurs, exécutez ce qui suit:</para>

<screen><userinput><command>cd /usr/lib/mozilla-&mozilla-version; &amp;&amp;
export LD_LIBRARY_PATH="/usr/lib/mozilla-&mozilla-version;" &amp;&amp;
export MOZILLA_FIVE_HOME="/usr/lib/mozilla-&mozilla-version;" &amp;&amp;
./regxpcom &amp;&amp;
./regchrome &amp;&amp;
touch `find /usr/lib/mozilla-&mozilla-version; -name *.rdf`</command></userinput></screen>

</sect2>

<sect2>
<title>Options supplémentaires</title>

<para>Chacune de ses options peut être ajoutée à la ligne de configure pour
avoir l'effet décrit sur la compilation de <application>Mozilla</application>.</para>

<para><option>--enable-elf-dynstr-gc</option>: Supprime les chaînes non
référencées à partir d'objets partagés <acronym>ELF</acronym> générés lors de la
construction. Notez que cette option casse la construction sur les machines à
base de processeur alpha.</para>

<para><option>--disable-mailnews</option>: Désactive les clients mail et news.
</para>

<para><option>--disable-ldap</option>: Désactive le support de
<acronym>LDAP</acronym>, ce qui est recommendé si le mail est désactivé.
</para>

<para><option>--enable-calendar</option>: Construit le client pour le calendrier.</para>

<para><option>--enable-xterm-updates</option>: Cette option est nécessaire pour
activer le titre <command>xterm</command> avec la commande actuelle lors de la
compilation.</para>

<para><option>--enable-plaintext-editor-only</option>: Désactive le support de
l'édition <acronym>HTML</acronym>. N'utilisez pas cette option si vous
construisez le composant mail-news.</para>

</sect2>
