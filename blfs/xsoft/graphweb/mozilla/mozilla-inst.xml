<sect2>
<title>Installation of mozilla</title>

<para>Install mozilla by running the following commands (don't forget to
bunzip2 the patch file first):</para>

<para><screen><userinput>export MOZILLA_OFFICIAL="1" &amp;&amp;
export BUILD_OFFICIAL="1" &amp;&amp;
export MOZ_INTERNAL_LIBART_LGPL="1" &amp;&amp;
cd extensions &amp;&amp;
rm -rf spellcheck &amp;&amp;
tar -xjf ../../mozilla-&mozilla-version;-spellchecker.tar.bz2 &amp;&amp;
cd .. &amp;&amp;
patch -Np1 -i mozilla-&mozilla-version;.patch &amp;&amp;
./configure --prefix=&mozilla-prefix; \
            --enable-default-mozilla-five-home \
            --with-x --with-system-zlib \
            --with-system-jpeg --with-system-png --with-system-mng \
            --enable-xft --enable-crypto \
            --enable-java-supplement \
            --disable-jsd --disable-accessibility \
            --disable-tests --disable-debug \
            --enable-optimize=-O3 --disable-dtd-debug \
            --disable-logging --enable-reorder \
            --enable-strip --enable-elf-dynstr-gc \
            --enable-cpp-rtti --enable-extensions=all,spellcheck \
            --enable-svg
make &amp;&amp;
make install &amp;&amp;
install -d &mozilla-prefix;/include/mozilla-&mozilla-version;/security &amp;&amp;
cp -Lf dist/private/security/*.h dist/public/security/*.h \
   &mozilla-prefix;/include/mozilla-&mozilla-version;/security &amp;&amp;
install -d &mozilla-prefix;/lib/mozilla-&mozilla-version;/openoffice &amp;&amp;
cp -f dist/lib/libembed_base_s.a dist/lib/liblber50.a \
   dist/lib/libmozreg_s.a &mozilla-prefix;/lib/mozilla-&mozilla-version;/openoffice &amp;&amp;
ln -nsf mozilla-&mozilla-version; &mozilla-prefix;/include/mozilla &amp;&amp;
ln -nsf mozilla-&mozilla-version; &mozilla-prefix;/lib/mozilla &amp;&amp;
ln -sf &mozilla-prefix;/bin/mozilla /usr/bin/mozilla &amp;&amp;
ln -sf &mozilla-prefix;/bin/mozilla /usr/bin/netscape &amp;&amp;
cd &mozilla-prefix;/lib/mozilla-&mozilla-version; &amp;&amp;
export LD_LIBRARY_PATH="&mozilla-prefix;/lib/mozilla-&mozilla-version;" &amp;&amp;
export MOZILLA_FIVE_HOME="&mozilla-prefix;/lib/mozilla-&mozilla-version;" &amp;&amp;
./regxpcom &amp;&amp;
./regchrome &amp;&amp;
touch `find &mozilla-prefix;/lib/mozilla-&mozilla-version; -name *.rdf`</userinput></screen></para>

</sect2>

<sect2>
<title>Optional Extra Switches</title>

<para>Each of these switches can be added to the configure line in order to
have the described effect on the mozilla compile.</para>

<para><userinput>--disable-mailnews</userinput>: Disable the mail and news
clients.</para>

<para><userinput>--disable-ldap</userinput>: Disable LDAP Support,
recommended if mail is disabled.</para>

<para><userinput>--enable-calendar</userinput>: Build the calendar client.
You will need to download the calendar source via cvs since it is not included
with the release source.
(Warning, this option is not yet stable).</para>

<para><userinput>--enable-xterm-updates</userinput>: This option is
for enabling the xterm title with the current command when compiling.</para>

<para><userinput>--enable-plaintext-editor-only</userinput>: Disable support
for HTML editing.</para>

<para><userinput>--enable-default-toolkit=gtk2</userinput>: In theory
mozilla now supports both gtk 1.2 and gtk 2.0. To enable gtk2 support, use
this option.  People have however had problems getting a usable gtk2
built even with this and patches.  There is also support for other toolkits
available but this support is known to be unstable.  If you want to try one,
we suggest doing a normal build first and then only trying the other
toolkits when you know you can get a standard build to work.</para>

<para>According to the financial institutions, the following hack makes your
browser insecure. You have been warned. Many sites use an MS-IE specific tag 
(autocomplete=off) to prevent autocomplete from working in some forms. This 
tag is now supported in mozilla to appease the financial institutions. As per 
the requirements of the financial institutions, they will not even accept a 
solution where this a preference option. However our opinion is that it should 
be in the hands of the user. To enable autocomplete to bypass
this restriction, we need to make a slight modification in the code.</para>

<para>Open the file <filename>extensions/wallet/src/wallet.cpp</filename> in
the mozilla source tree and search for the line:
<screen>#define WALLET_DONT_CACHE_ALL_PASSWORDS</screen>
Then delete or comment out the line.  If anyone tells you MS-IE is user
friendly, give them this example!  Note that unlike the patch referred to in
the hint, the patch on the BLFS website does not contain this hack so you
will need to enable it manually if you want it use it or download it from the
hint site.</para>

</sect2>
