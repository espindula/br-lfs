<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;
  <!ENTITY tigervnc-download-http "http://anduin.linuxfromscratch.org/sources/BLFS/conglomeration/tigervnc/tigervnc-&tigervnc-version;.tar.gz">
  <!ENTITY tigervnc-download-ftp  " ">
  <!ENTITY tigervnc-md5sum        "b11cc4c4d5249b9b8e355ee6f47ec4fe">
  <!ENTITY tigervnc-size          "1.6 Mo">
  <!ENTITY tigervnc-buildsize     "167 Mo">
  <!ENTITY tigervnc-time          "1.6 SBU">
  <!ENTITY tigervnc-xorg-version  "1.17.2">
]>
<sect1 id="tigervnc" xreflabel="tigervnc-&tigervnc-version;">
  <?dbhtml filename="tigervnc.html"?>
  <sect1info>
    <othername>$LastChangedBy: bdubbs $</othername>
    <date>$Date: 2014-03-01 00:00:12 -0600 (Sat, 01 Mar 2014) $</date>
  </sect1info>
  <title>Tigervnc-&tigervnc-version;</title>
  <indexterm zone="tigervnc">
    <primary sortas="a-tigervnc">tigervnc</primary>
  </indexterm>
  <sect2 role="package">
    <title>Introduction à Tigervnc</title>
    <para><application>Tigervnc</application> est une implémentation avancée de VNC (Virtual 
    Network Computing). Il permet la création d'un serveur Xorg non lié à une console physique et fournit
     également un client pour la visualisation des bureaux graphiques distants.
    </para>
    &lfs77_checked;
    <bridgehead renderas="sect3">Information sur le paquet </bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>Téléchargement (HTTP) : <ulink url="&tigervnc-download-http;"/></para>
      </listitem>
      <listitem>
        <para>Téléchargement (FTP) : <ulink url="&tigervnc-download-ftp;"/></para>
      </listitem>
      <listitem>
        <para>Somme de contrôle MD5 du téléchargement : &tigervnc-md5sum;</para>
      </listitem>
      <listitem>
        <para>Taille du téléchargement : &tigervnc-size;</para>
      </listitem>
      <listitem>
        <para>Estimation de l'espace disque requis : &tigervnc-buildsize;</para>
      </listitem>
      <listitem>
        <para>Estimation du temps de construction : &tigervnc-time;</para>
      </listitem>
    </itemizedlist>
    <bridgehead renderas="sect3">Téléchargements supplémentaires</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>
          Fichier rquis:
          <ulink url="&xorg-download-http;/xserver/xorg-server-&tigervnc-xorg-version;.tar.bz2"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Correctif requis:
          <ulink url="&patch-root;/tigervnc-&tigervnc-version;-gethomedir-1.patch"/>
        </para>
      </listitem>
    </itemizedlist>
    <note><para>La version de <application>Xorg</application> est ancienne de quelques versions, mais est
    requise pour les personalisations nécessaire pour ce paquet.
   </para></note>
    <bridgehead renderas="sect3">Dépendances de Tigervnc</bridgehead>
    <bridgehead renderas="sect4">Requises</bridgehead>
    <para role="required">
      <xref linkend="cmake"/>,
      <xref linkend="fltk"/>,
      <xref linkend="gnutls"/>,
      <xref linkend="libgcrypt"/>,
      <xref linkend="libjpeg"/>,
      <xref linkend="pixman"/>, et
      <xref linkend="xorg7-app"/>
    </para>
    <bridgehead renderas="sect4">Recommandées</bridgehead>
    <para role="recommended">
      <xref linkend="imagemagick"/> et
      <xref linkend="linux-pam"/>
    </para>
    <para condition="html" role="usernotes">Notes utilisateur :
    <ulink url="&blfs-wiki;/tigervnc"/></para>
  </sect2>
  <sect2 role="installation">
    <title>Installation de Tigervnc</title>
    <para>Installez <application>tigervnc</application> en lançant les commandes suivantes :
    </para>
<screen>
<userinput>tar -xf ../xorg-server-&tigervnc-xorg-version;.tar.bz2 -C unix/xserver --strip-components=1 &amp;&amp;
patch -Np1 -i ../tigervnc-&tigervnc-version;-gethomedir-1.patch &amp;&amp;
sed -i 's/iconic/nowin/' unix/vncserver            &amp;&amp;
cmake -G "Unix Makefiles" -DCMAKE_INSTALL_PREFIX=/usr &amp;&amp;
make &amp;&amp;
pushd unix/xserver                  &amp;&amp;
  patch -Np1 -i ../xserver116.patch &amp;&amp;
  autoreconf -fiv                   &amp;&amp;
  ./configure $XORG_CONFIG \
      --disable-xwayland    --disable-dri        --disable-dmx         \
      --disable-xorg        --disable-xnest      --disable-xvfb        \
      --disable-xwin        --disable-xephyr     --disable-kdrive      \
      --disable-devel-docs  --disable-config-hal --disable-config-udev \
      --disable-unit-tests  --disable-selective-werror                 \
      --disable-static      --enable-dri3                              \
      --without-dtrace      --enable-dri2        --enable-glx          \
      --enable-glx-tls      --with-pic  &amp;&amp;
  make    &amp;&amp;
popd</userinput>
</screen>
    <para>Ce paquet n'a pas de suite de tests.</para>
    <para>Maintenant, en tant qu'utilisateur <systemitem class="username">root</systemitem> :</para>
<screen role="root">
<userinput>make install &amp;&amp;
cd unix/xserver/hw/vnc &amp;&amp;
make install           &amp;&amp;
[ -e /usr/bin/Xvnc ] || ln -svf $XORG_PREFIX/bin/Xvnc /usr/bin/Xvnc</userinput>
</screen>
    <para>Finallement, créez une entrée de menu. En tant qu'utilisateur
      <systemitem class="username">root</systemitem> :</para>
<screen role="root">
<userinput>cat &gt; /usr/share/applications/vncviewer.desktop &lt;&lt; "EOF"
<literal>[Desktop Entry]
Type=Application
Name=TigerVNC Viewer
Comment=VNC client
Exec=/usr/bin/vncviewer
Icon=tigervnc
Terminal=false
StartupNotify=false
Categories=Network;RemoteAccess;</literal>
EOF</userinput>
</screen>
  </sect2>
  <sect2 role="commands">
    <title>Explications des commandes</title>
    <para><command>tar -xf ... xorg-server...</command> : Cette commande extrait les paquets
    standard de Xorg dans une arborescence utilisée pour les modifications.
    </para>
    <para><command>patch ...</command> : Cet ensemble de correctif modifie le serveur Xorg Standard pour que
    la commande Xvnc puisse être construite.
    </para>
    <para><option>--disable ...</option> : La plupart des options que sont habituellement utilisées
    pour le serveur Xorg stanrd ne sont pas utile pour l'instance Xvnc qui est construite.
    </para>
    <para><command>[ -e /usr/bin/Xvnc ] || ln ... Xvnc</command> : Si le serveur Xvnc n'est pas installé dans le 
     répertoire <filename class='directory'>/usr/bin</filename>, ensuite créez un lien afin que
     le script <command>vncserver</command> puisse le trouver.</para>
  </sect2>
  <sect2 role="configuration">
    <title>Configuration de Tigervnc</title>
   <para>Les fichiers de configuration spécifique à l'utilisateur de vncserver sont dans le répertoire 
    <filename class='directory'>.vnc</filename> dans le répertoire home de l'utilisateur. Le fichier
    <filename>xstartup</filename> dasn ce répertoire est un script spécifiant quelle commande doit être lancée
    quand un bureau VNC est démarré. Si le fichier 
    <filename>xstartup</filename> existe, <command>vncserver</command> essayera de démarrer un xterm dans une session
    twm. Un exemple de <filename>xstartup</filename> peut être:</para>
<screen>
#!/bin/sh
 
[ -x /etc/vnc/xstartup ] &amp;&amp; exec /etc/vnc/xstartup
[ -r $HOME/.Xresources ] &amp;&amp; xrdb $HOME/.Xresources
startlxde &amp;
</screen>
  </sect2>
  <sect2 role="content">
    <title>Contenu</title>
    <segmentedlist>
      <segtitle>Programmes installés</segtitle>
      <segtitle>Bibliothèques installées</segtitle>
      <segtitle>Répertoires installés</segtitle>
      <seglistitem>
        <seg>Xvnc, 
             vncconfig,  
             vncpasswd,  
             vncserver,  
             vncviewer, et 
             x0vncserver</seg>
        
        <seg>libvnc.so</seg>
        <seg>Aucun</seg>
      </seglistitem>
    </segmentedlist>
    <variablelist>
      <bridgehead renderas="sect3">Description courte</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>
      <varlistentry id="xvnc">
        <term><command>Xvnc</command></term>
        <listitem>
          <para> est un serveur X VNC (Virtual Network Computing).
          Il est basé sur un serveur X standard, mais il a un écran "virtuel" plutot qu'un écran physique.
          </para>
          <indexterm zone="tigervnc xvnc">
            <primary sortas="b-xvnc">Xvnc</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="vncconfig">
        <term><command>vncconfig</command></term>
        <listitem>
          <para>est un programme pour configurer et contrôler un serveur VNC.</para>
          <indexterm zone="tigervnc vncconfig">
            <primary sortas="b-vncconfig">vncconfig</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="vncpasswd">
        <term><command>vncpasswd</command></term>
        <listitem>
          <para>
            vous permet d'initialiser le mot de passe utilisé pour accéder aux bureaux VNC.
          </para>
          <indexterm zone="tigervnc vncpasswd">
           <primary sortas="b-vncpasswd">vncpasswd</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="vncserver">
        <term><command>vncserver</command></term>
        <listitem>
          <para>est un script perl utilisé pour démarrer ou stopper un serveur VNC.</para>
          <indexterm zone="tigervnc vncserver">
            <primary sortas="b-vncserver">vncserver</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="vncviewer">
        <term><command>vncviewer</command></term>
        <listitem>
          <para>est un client utilisé pour accéder aux bureaux VNC.</para>
          <indexterm zone="tigervnc vncviewer">
            <primary sortas="b-vncviewer">vncviewer</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="x0vncserver">
        <term><command>x0vncserver</command></term>
        <listitem>
          <para>est un programme pour rendre accessible un affichage X sur un terminal physique via
          TigerVNC ou un visualisateur compatible.</para>
          <indexterm zone="tigervnc x0vncserver">
            <primary sortas="b-x0vncserver">x0vncserver</primary>
          </indexterm>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect2>
</sect1>
