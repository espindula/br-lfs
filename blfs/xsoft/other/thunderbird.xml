<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;
  <!ENTITY thunderbird-download-http " ">
  <!ENTITY thunderbird-download-ftp
           "&mozilla-ftp;/thunderbird/releases/&thunderbird-version;/source/thunderbird-&thunderbird-version;.source.tar.bz2">
  <!ENTITY thunderbird-md5sum            "53d457a8ff97a305d975c20d1bebff04">
  <!ENTITY thunderbird-size              "134 Mo">
  <!ENTITY thunderbird-buildsize         "4.2 Go (52 Mo installed)">
  <!ENTITY thunderbird-time              "51 SBU">
]>
<sect1 id="thunderbird" xreflabel="Thunderbird-&thunderbird-version;">
  <?dbhtml filename="thunderbird.html" ?>
  <sect1info>
    <othername>$LastChangedBy&nbsp;: krejzi $</othername>
    <date>$Date&nbsp;: 2013-03-16 13:11:58 +0100 (Sat, 16 Mar 2013) $</date>
  </sect1info>
  <title>Thunderbird-&thunderbird-version;</title>
  <indexterm zone="thunderbird">
    <primary sortas="a-Thunderbird">Thunderbird</primary>
  </indexterm>
  <sect2 role="package">
    <title>Introduction à Thunderbird</title>
    <para>
      <application>Thunderbird</application> est un client autonome de
      mail/news basé sur le code source de <application>Mozilla</application>. Il utilise le
      moteur de rendement Gecko afin d'afficher et d'écrire des courriels HTML.
    </para>
    &lfs74_checked;
    <bridgehead renderas="sect3">Information sur le paquet</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>Téléchargement (HTTP)&nbsp;: <ulink url="&thunderbird-download-http;"/></para>
      </listitem>
      <listitem>
        <para>Téléchargement (FTP)&nbsp;: <ulink url="&thunderbird-download-ftp;"/></para>
      </listitem>
      <listitem>
        <para>Somme de contrôle MD5 du téléchargement&nbsp;: &thunderbird-md5sum;</para>
      </listitem>
      <listitem>
        <para>Taille du téléchargement&nbsp;: &thunderbird-size;</para>
      </listitem>
      <listitem>
        <para>Estimation de l'espace disque requis&nbsp;: &thunderbird-buildsize;</para>
      </listitem>
      <listitem>
        <para>Estimation du temps de construction&nbsp;: &thunderbird-time;</para>
      </listitem>
    </itemizedlist>
    <bridgehead renderas="sect3">Téléchargements supplémentaires</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>
          Correctif requis:
          <ulink url="&patch-root;/thunderbird-&thunderbird-version;-freetype-1.patch"/>
        </para>
      </listitem>
    </itemizedlist>
     <bridgehead renderas="sect3">Dépendances de Thunderbird</bridgehead>
    <bridgehead renderas="sect4">Requises</bridgehead>
    <para role="required">
      <xref linkend="alsa-lib"/>,
      <xref linkend="gtk2"/>,
      <xref linkend="zip"/> et
      <xref linkend="unzip"/>
    </para>
    <bridgehead renderas="sect4">Recommendées</bridgehead>
    <para role="recommended">
      <xref linkend="libevent"/>,
      <xref linkend="libvpx"/>,
      <xref linkend="nspr"/>,
      <xref linkend="nss"/>,
      <xref linkend="sqlite"/> et
      <xref linkend="yasm"/>
    </para>
    <note>
      <para>
        Si vous n'installez pas les dépendances recommandées,
        alors les copies inclues dans le paquet seront 
        utilisées. Elles peuvent être testées pour fonctionner, mais
        elles peuvent être obsolètes ou contenir des failles de 
        sécurité.
      </para>
    </note>
    <bridgehead renderas="sect4">Facultatives</bridgehead>
    <para role="optional">
      <xref linkend="curl"/>,
       <xref linkend="cyrus-sasl"/>,
      <xref linkend="dbus-glib"/>,
      <xref linkend="doxygen"/>,
      <ulink url="http://hunspell.sourceforge.net/">Hunspell</ulink>,
	  <xref linkend="libnotify"/>,
      <xref linkend="startup-notification"/>,
      <xref linkend="wget"/> et
      <xref linkend="wireless_tools"/>
    </para>
    <para condition="html" role="usernotes">Notes utilisateur&nbsp;:
    <ulink url="&blfs-wiki;/Thunderbird"/></para>
  </sect2>
  <sect2 role="installation">
    <title>Installation de Thunderbird</title>
    <para>La configuration de <application>Thunderbird</application> est
    réalisée en créant un fichier <filename>mozconfig</filename> contenant
    les options de configurations désirées. Un <filename>mozconfig</filename> par défaut
    est créé çi-dessous. Pour voir la liste complète des options de configuration disponibles
    (et une brève description de chacune d'elles), taper
    <command>./configure --help</command>. Créez le fichier en lançant la
    commande suivante&nbsp;:</para>
<screen>
<userinput>cat &gt; mozconfig &lt;&lt; "EOF"
# If you have a multicore machine you can speed up the build by running
# several jobs at once by uncommenting the following line and setting the
# value to number of CPU cores:
#mk_add_options MOZ_MAKE_FLAGS="-j4"
# If you have installed DBus-Glib comment out this line:
ac_add_options --disable-dbus
# If you have installed wireless-tools comment out this line:
ac_add_options --disable-necko-wifi
# If you have installed libnotify comment out this line:
ac_add_options --disable-libnotify
# Uncomment these lines if you have installed optional dependencies:
#ac_add_options --enable-system-hunspell
#ac_add_options --enable-startup-notification
# Uncomment this line if you compiled Cairo with --enable-tee switch and want
# to use it instead of the bundled one:
#ac_add_options --enable-system-cairo
# If you have not installed Yasm then uncomment this line:
#ac_add_options --disable-webm
# If you want to compile the Mozilla Calendar, uncomment this line:
#ac_add_options --enable-calendar
# Comment out following options if you have not installed
# recommended dependencies:
ac_add_options --enable-system-sqlite
ac_add_options --with-system-libevent
ac_add_options --with-system-libvpx
ac_add_options --with-system-nspr
ac_add_options --with-system-nss
# It is recommended not to touch anything below this line
ac_add_options --prefix=/usr
ac_add_options --disable-crashreporter
ac_add_options --disable-installer
ac_add_options --disable-updater
ac_add_options --disable-debug
ac_add_options --disable-tests
ac_add_options --enable-optimize
ac_add_options --enable-strip
ac_add_options --enable-install-strip
ac_add_options --enable-gio
ac_add_options --enable-official-branding
ac_add_options --enable-safe-browsing
ac_add_options --enable-url-classifier
ac_add_options --enable-system-ffi
ac_add_options --enable-system-pixman
ac_add_options --with-pthreads
ac_add_options --with-system-bz2
ac_add_options --with-system-jpeg
ac_add_options --with-system-png
ac_add_options --with-system-zlib
mk_add_options MOZ_OBJDIR=@TOPSRCDIR@/thunderbuild
EOF</userinput>
</screen>
    <para>
  Compiler <application>Thunderbird</application> en tapant les commandes suivantes:</para>
<screen>
<userinput>patch -Np1 -i ../thunderbird-&thunderbird-version;-freetype-1.patch &amp;&amp;
make -f client.mk &amp;&amp;
make -C thunderbuild/mail/installer</userinput>
</screen>
    <para>Ce paquet n'est pas livré avec une suite de tests.</para>
    <para>Installez <application>Thunderbird</application> en exécutant les commantes
    suivantes en tant qu'utilisateur <systemitem class="username">root</systemitem>&nbsp;:</para>
<screen role="root">
<userinput>mkdir -pv /usr/lib/thunderbird-&thunderbird-version; &amp;&amp;
tar -xvf thunderbuild/mozilla/dist/thunderbird-&thunderbird-version;.en-US.linux-$(uname -m).tar.bz2     -C /usr/lib/thunderbird-&thunderbird-version; --strip-components=1 &amp;&amp;
ln -sfv ../lib/thunderbird-&thunderbird-version;/thunderbird /usr/bin</userinput>
</screen>
    <para>
      Les instructions ci dessus installent juste la partie dont vous avez besoin
      pour exécuter
      <application>Thunderbird</application>. Cependant, si vous voulez installer l'environnement
      de développement complet de <application>Thunderbird</application>, lancez les commandes suivantes en
      tant qu'utilisateur <systemitem class="username">root</systemitem>&nbsp;:</para>
    <note><para>
      Si vous compilez <application>Thunderbird</application> en chroot,
      passez <envar>SHELL=/bin/bash</envar> à la première commande make dessous.
    </para></note>
<screen role="root">
<userinput>make -C thunderbuild install</userinput>
</screen>
      </sect2>
  <sect2 role="commands">
    <title>Explication des commandes</title>
    <para><command>make -f client.mk</command>&nbsp;: Les produits Mozilla sont
    empaquetés pour permettre d'utiliser un fichier de configuration qui peut
    être utilisé pour passer les paramètres de configuration à la commande
    <command>configure</command>.
    <command>make</command> utilise le fichier <filename>client.mk</filename>
    pour récupérer la configuration de départ et régler les paramètres.</para>
    <para><command>make -C thunderbuild/mail/installer</command>&nbsp;: Ceci lance
    make dans le dossier <filename class="directory">thunderbuild/mail/installer</filename>.
    Ceci rassemble tous les composants de <application>Thunderbird</application>
    et les compresse dans une archive tar.</para>
   <para><command>tar -xfv thunderbuild/mozilla/dist ...</command>&nbsp;: Ceci
   déballe <application>Thunderbird</application>, l'option <option>-C</option>
    décompresse les fichiers dans <filename class="directory">/usr/lib/thunderbird-&thunderbird-version;</filename>.
    L'option <option>--strip-components=1</option> supprime le répertoire
    &apos;thunderbird&apos; demeurant dans les noms de fichiers, ce qui nous 
    permet de le déballer dans un répertoire versionné.</para>
  </sect2>
  <sect2 role="configuration">
    <title>Configuration de Thunderbird</title>
    <sect3><title>Information de configuration</title>
      <para>Si votre gestionnaire de fenètres ou de bureau n'autorise pas la configuration
      d'un navigateur par défaut, vous pouvez ajouter un paramètre de configuration à
      <application>Thunderbird</application> pour qu'un navigateur démarre quand
      vous cliquez sur une URL Internet/intranet/local. La procédure pour vérifier
      ou modifier tous les paramètres de configuration est simple et les
      instructions alors peuvent être utilisées pour voir ou modifier tout les
      parametres.</para>
      <para>En premier, ouvrir la fenètre de configuration en ouvrant le menu
      déroulant <quote>Edition</quote>. Choisir <quote>Préférences</quote>
      et ensuite cliquer sur l'icône <quote>Général</quote> dans la barre de menus
  supérieur. Choisissez l'onglet <quote>Avancé</quote> et cliquez sur le bouton
      <quote>Editeur de configuration</quote>. Cela affichera une liste des préférences de
      configuration et des informations relatives à chacunes d'elles. Vous pouvez
      utiliser la barre <quote>Filter:</quote> pour entrer un critère de recherche et restreindre
      la liste des objets. Le changement d'une préférence peut être fait en utilisant deux
      méthodes. La première, si la préférence est une valeur booléenne (True/False), simplement
      double-click sur la préférence pour basculer la valeur et la seconde, pour les autres
      préférences simplement faire un click droit sur la ligne désirée, choisir
      <quote>Modifier</quote> dans le menu et changer la valeur. La création de nouvelles préférences
      est réalisées de la même manière, excepté choisir
      <quote>Nouveau</quote> dans le menu et fournir les données désirées dans le champ sélectionné.</para>
      <para>L'objet des préférences de configuration que vous devez vérifier pour que
      <application>Thunderbird</application> utilise un navigateur spécifié est
      <parameter>network.protocol-handler.app.http</parameter> qui doit être initialisé
      avec le chemin du navigateur désiré, par exemple,
      <option>/usr/bin/firefox</option>.</para>
    <tip>
      <para>Il y a une multitude de paramètres de configuration parameters que vous pouvez modifier pour
      customiser <application>Thunderbird</application>. Une très vaste, mais pas à jour, liste de ces
      paramètres peut être trouvée à l'adresse <ulink
    url="http://preferential.mozdev.org/preferences.html"/>.</para>
    </tip>
    <para>Si vous utilisez un environnement de bureau comme
    <application>Gnome</application>
    ou <application>KDE</application> vous pourriez souhaiter créer un fichier
    <filename>thunderbird.desktop</filename> pour que <application>Firefox</application> apparaisse dans les
    menus du bureau. Si vous n'avez pas activé <application>startup-notification</application> (notification 
    de démarrage) dans votre mozconfig, modifiez la ligne StartupNotify en
    false. En tant qu'utilisateur
    <systemitem class="username">root</systemitem> lancez les commandes suivantes&nbsp;:</para>
<screen role="root">
<userinput>mkdir -pv /usr/share/applications &amp;&amp;
mkdir -pv /usr/share/pixmaps &amp;&amp;
cat &gt; /usr/share/applications/thunderbird.desktop &lt;&lt; "EOF" &amp;&amp;
<literal>[Desktop Entry]
Encoding=UTF-8
Name=Thunderbird Mail
Comment=Send and receive mail with Thunderbird
GenericName=Mail Client
Exec=thunderbird %u
Terminal=false
Type=Application
Icon=thunderbird
Categories=Application;Network;Email;
MimeType=text/html;text/xml;application/xhtml+xml;application/xml;application/rss+xml;x-scheme-handler/mailto;
StartupNotify=true</literal>
EOF
ln -sfv /usr/lib/thunderbird-&thunderbird-version;/chrome/icons/default/default256.png         /usr/share/pixmaps/thunderbird.png</userinput>
</screen>
    </sect3>
  </sect2>
  <sect2 role="content">
    <title>Contenu</title>
    <segmentedlist>
      <segtitle>Programmes installés</segtitle>
      <segtitle>Bibliothèques installées</segtitle>
      <segtitle>Répertoires installés</segtitle>
      <seglistitem>
        <seg>Thunderbird</seg>
        <seg>Aucune</seg>
        <seg>/usr/lib/thunderbird-&thunderbird-version;</seg>
      </seglistitem>
    </segmentedlist>
    <variablelist>
      <bridgehead renderas="sect3">Courtes descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>
      <varlistentry id="thunderbird-prog">
        <term><command>thunderbird</command></term>
        <listitem>
          <para>est le client emails et newsgroups de <application>Mozilla</application>.</para>
          <indexterm zone="thunderbird thunderbird-prog">
            <primary sortas="b-thunderbird">thunderbird</primary>
          </indexterm>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect2>
</sect1>
  
