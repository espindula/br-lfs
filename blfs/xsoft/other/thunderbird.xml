<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
  "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
 <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

  <!ENTITY thunderbird-download-http     "http://releases.mozilla.org/pub/mozilla.org/thunderbird/releases/&thunderbird-version;/source/thunderbird-&thunderbird-version;.source.tar.bz2">
  <!ENTITY thunderbird-download-ftp      "ftp://ftp.mozilla.org/pub/mozilla.org/thunderbird/releases/&thunderbird-version;/source/thunderbird-&thunderbird-version;.source.tar.bz2">
  <!ENTITY thunderbird-md5sum            "be64630152a2d5a824a76752594e7596">
  <!ENTITY thunderbird-size              "65 MB">
  <!ENTITY thunderbird-buildsize         "915 MB">
  <!ENTITY thunderbird-time              "21">

  <!ENTITY thunderbird-enigmail-version  "1.1.2">

  <!ENTITY thunderbird-enigmail-download "http://www.mozilla-enigmail.org/download/source/enigmail-&thunderbird-enigmail-version;.tar.gz">
  <!ENTITY thunderbird-enigmail-md5sum   "7d329d5e8afbbb28214ca1995beb09c9">
  <!ENTITY thunderbird-enigmail-size     "1.2 MB">
]>

<sect1 id="thunderbird" xreflabel="Thunderbird-&thunderbird-version;">
  <?dbhtml filename="thunderbird.html" ?>

  <sect1info>
    <othername>$LastChangedBy: randy $</othername>
    <date>$Date: 2011-01-10 03:09:11 +0100 (lun 10 jan 2011) $</date>
  </sect1info>

  <title>Thunderbird-&thunderbird-version;</title>

  <indexterm zone="thunderbird">
    <primary sortas="a-Thunderbird">Thunderbird</primary>
  </indexterm>

  <sect2 role="package">
    <title>Introduction à Thunderbird</title>

    <para><application>Thunderbird</application> est un client autonome de
    mail/news basésur le code source de <application>Mozilla</application>.</para>

    <bridgehead renderas="sect3">Information sur le paquet</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>Téléchargement (HTTP): <ulink url="&thunderbird-download-http;"/></para>
      </listitem>
      <listitem>
        <para>Téléchargement (FTP): <ulink url="&thunderbird-download-ftp;"/></para>
      </listitem>
      <listitem>
        <para>Somme de contrôle MD5 du téléchargement: &thunderbird-md5sum;</para>
      </listitem>
      <listitem>
        <para>Taille du téléchargement: &thunderbird-size;</para>
      </listitem>
      <listitem>
        <para>Estimation de l'espace disque requis: &thunderbird-buildsize;</para>
      </listitem>
      <listitem>
        <para>Estimation du temps de construction: &thunderbird-time;</para>
      </listitem>
    </itemizedlist>

    <para>Pour activer l'extension <application>Enigmail</application> dans le client mail
    <application>Thunderbird</application>, vous devrez télécharger l'archive montrée çi-dessous.
	L'extension <application>Enigmail</application> autorise les utilisateurs à acceder aux caractéristiques
    d'authentication et de chiffrage fournis par le paquet <application>GnuPG</application> package.
	L'extension Enigmail ne fonctionnera pas correctement si vous n'avez pas <xref linkend="gnupg"/> ou
    <xref linkend="gnupg2"/> d'installés.</para>

    <itemizedlist spacing='compact'>
      <listitem>
        <para><ulink url="&thunderbird-enigmail-download;"/></para>
      </listitem>
      <listitem>
        <para>Somme de contrôle MD5 du téléchargement: &thunderbird-enigmail-md5sum;</para>
      </listitem>
      <listitem>
        <para>Taille du téléchargement: &thunderbird-enigmail-size;</para>
      </listitem>
    </itemizedlist>

    <bridgehead renderas="sect3">Dépendances de Thunderbird</bridgehead>

    <bridgehead renderas="sect4">Requises</bridgehead>
    <para role="required"><xref linkend="alsa-lib"/>,
    <xref linkend="gtk2"/>,
    <xref linkend="libidl"/>,
    <xref linkend="pango"/>,
    <xref linkend="python"/>, et
    <xref linkend="zip"/></para>

    <para>Note: <application>libjpeg</application> doit avoir été installé avant
    <application>GTK+</application> et doit exister sur votre système. Si
    pour certaines raisons, vous n'avez par installé <application>libjpeg</application>,
    vous devez effacer l'option <option>--with-system-jpeg</option> du fichier
    <filename>mozconfig</filename> créé ci dessous.</para>

    <bridgehead renderas="sect4">Supplémentaire</bridgehead>
    <para role="optional"><xref linkend="dbus-glib"/>,
    <xref linkend="doxygen"/>,
    <xref linkend="curl"/> (seulement pour crash-reporter),
    <xref linkend="gnome-vfs"/> et <xref linkend="libgnomeui"/>
    (pour l'intégration dans gnome),
    <xref linkend="libnotify"/>,
    <xref linkend="libpng"/> (corrigé pour le support apng),
    <xref linkend="nss"/> (recommandé si vous construisez d'autres paquets Mozilla.org),
    <xref linkend="startup-notification"/>,
    <xref linkend="sqlite"/>,
    <xref linkend="unzip"/>,
    <ulink url="http://sourceforge.net/projects/hunspell/">Hunspell</ulink>,
    <ulink url="http://www.valgrind.org/">Valgrind</ulink> (seulement pour tester le code
    jemalloc), et
    <xref linkend="wget"/></para>

    <para condition="html" role="usernotes">Notes Utilisateur:
    <ulink url="&blfs-wiki;/Thunderbird"/></para>

  </sect2>

  <sect2 role="installation">
    <title>Installation de Thunderbird</title>

    <para>La configuration de <application>Thunderbird</application> est
    réalisée en créant un fichier <filename>mozconfig</filename> contenant
    les options de configurations désirées. Un <filename>mozconfig</filename> par défaut
    est créé çi-dessous. Pour voir la liste complète des options de configuration disponibles
    (un une brève description de chacune d'elles), taper
    <command>./configure --help</command>. Si vous préférez télécharger le fichier aulieu de le créer
	en le tapant ou en faisant un copier-coller, vous pouvez le trouver à l'adresse
    <ulink url="&files-anduin;/thunderbird-&thunderbird-version;-mozconfig"/>
    (le fichier doit être installé dans le répertoire <filename class='directory'>comm-1.9.2</filename>
	de l'arborescence des sources, et appelé
    <filename>mozconfig</filename> ou <filename>.mozconfig</filename>). Créer le fichier en tapant la commande
    suivante:</para>

<screen><?dbfo keep-together="auto"?><userinput>cat &gt; mozconfig &lt;&lt; "EOF"
<literal># Ce fichier contient les options utilisées dans la construction de Thunderbird. Vous pouvez
# avoir besoin de spécifier des options supplémentaires pour des besoins spécifiques de construction.
# L'utilisation les informations fournies en lançant './configure --help'  peut vous aider
# à déterminer si vous avez besoin d'ajouter des options supplémentaires. Vous pouvez
# ajouter des options supplémentaires en décommentant les exemples de ce
# fichier ou en ajoutant des options en insérant une ligne contenant
# 'ac_add_options --une-option-dont-vous-avez-besoin'. Faite attention que quelques options acceptées,
# comme '--with-system-bz2', ne change pas la construction

# Specifie que Thunderbird doit être construit.
ac_add_options --enable-application=mail

# Utiliser les paramètres par défaut spécifiés dans l'arborescence du source. Le
# --enable-application=mail est initialiser dans ce fichier. Ce fichier n'existe pas dans
# cette version de Thunderbird.
#. $topsrcdir/mailnews/config/mozconfig

# Specifie que l'extension Lightning calendar doit être construite selon le Mozilla 
# Thunderbird distribués.
ac_add_options --enable-calendar

# Créer un répertoire objet et spécifier de construire le paquet
# dans ce répertoire. Si désiré, modifiez l'emplacement du répertoire objet
# vers un répertoire dans l'arborescence des sources en supprimant
# '../' dans la ligne ci-dessous.
mk_add_options MOZ_OBJDIR=@TOPSRCDIR@/../thunderbird-build

# Spécifie le préfixe d'installation. Si vous préféreriez que Thunderbird
# s'installe dans un préfixe différent, modifiez la ligne ci-dessous
# pour l'adapter à vos besoins. 
ac_add_options --prefix=/usr

# Applique un niveau minimal d'optimisation
ac_add_options --enable-optimize

# Ces options sont utilisées pour que les binaires de Thunderbird soient liées à
# la copie installée sur le système des bibliothèques au lieu de celle de l'arborescence
# du code qui peuvent ne pas être les versions les plus récentes.
# Avec comme exceptions libsqlite3, les bibliothèques sont liées statiquement

# (Les options pour utiliser les bibliothèques installées sur le système)
# L'utilisation de la version livrée de libsqlite3 a été reportée à cuase de problèmes
# avec d'autres applications qui utilisent sqlite3.
# Commenter seulement cette ligne si vous savez exacteement ce que vous faites!
ac_add_options --enable-system-sqlite

# commentez seulement cela si vous voulez utiliser une autre version corrigée de cairo que
# celle incluse dans l'arborescence de mozilla et les en-têtes du système
ac_add_options --enable-system-cairo

# commentez cela si vous n'avez pas installé lcms
ac_add_options --enable-system-lcms

# décommentez cela si vous avez installé Hunspell
#ac_add_options --enable-system-hunspell

# Décommentez cela si vous avez installé startup-notification
#ac_add_options --enable-startup-notification

# commentez cela si vous n'avez pas construit libjpeg avant gtk+-2
ac_add_options --with-system-jpeg

# Ces deux options activent le support pour la construction de Xulrunner avec
# les versions installées sur le système des bibliothèques du
# Network Security Services (NSS) et Netscape Portable Runtime (NSPR).
# Commentez les si vous souhaitez utiliser les copies incluses (pas recommandé)
ac_add_options --with-system-nspr
ac_add_options --with-system-nss

# commentez cela si vous n'avez pas construit png avec le correctif apng
ac_add_options --with-system-png

# L'option pthreads n'est utilisé que lors de la construction de nspr
# décommentez cela si vous avez consttrui  le nspr inclus
#ac_add_options --with-pthreads

# zlib est inclus dans LFS. Ne pas commenter cette ligne
ac_add_options --with-system-zlib

# (Options pour désactiver des bouts du paquet)
# Cette option est utilisée pour désactiver le support d'accessibilité dans les
# binaires de Thunderbird. Commentez cette option si vous voulez le support 
# d'accessibilité.
ac_add_options --disable-accessibility

# Décommentez cela si vous n'avez pas construit curl
#ac_add_options --disable-crashreporter

# Commentez cela si vous n'avez pas construit Dbus-Glib
ac_add_options --disable-dbus

# commentez cela si vous avez Gnome-VFS et libgnomeui, et si vous souhaitez
# intégrer Thunderbird sur votre bureau Gnome
ac_add_options --disable-gnomevfs

# Commentez cela si vous avez installé wireless-tools installed et souhaitez utiliser le nouveau new
# scanner Necko WiFi.
ac_add_options --disable-necko-wifi

# Commentez cela si vous avez installé libnotify.
ac_add_options --disable-libnotify

# Cette option est ajoutée pour que le programme d'installation de Mozilla 
# ne soit pas construit ou installé. Le programme n'est pas nécessaire pour une
# installation BLFS de Thunderbird.
ac_add_options --disable-installer

# Si vous activez javaxpcom, vous devez avoir installé un compilateur java.
ac_add_options --disable-javaxpcom

# Active la construction des bibliothèques internes statiques (actuellement requis).
ac_add_options --enable-static

# Cette option est ajoutée pour que les bibliothèques et les programmes de test
# ne se construisent pas. Ils ne serviraient que pour du débogage.
ac_add_options --disable-tests

# Désactive le metteur à jour, qui n'est pas adapté si vous construisez à partir
# des sources 
ac_add_options --disable-updater

# Cette option fait que les bianires de Thunderbird installés ont le nom officiel Thunderbird
# embarqué en eux. A cause de restriction de la licence, vous ne 
# pouvez pas distribuer de binaires créés en utilisant cette option. Cela signifie
# que vous aurez un popup EULA quand vous lancerez la première fois une application
# fonctionnant sous Thunderbird.
ac_add_options --enable-official-branding

# Cette option est utilisé pour que les symboles de débogage soient supprimés
# des binaires installés lors du processus d'installation. Commentez cette
# option s'il se peut que vous ayez besoin de garder les symboles de débogage
# dans les binaires installés (les binaires qui en résultent seront alourdis
# d'environ 7Mio).
ac_add_options --enable-strip

# Décommentez cette option si vous désirez le support de l'affichage sur deux
# écrans en même temps en utilisant les bibliothèques Xinerama de X-Window.
#ac_add_options --enable-xinerama

# Active le chiffrage fort (c'est explicitement requis si vous prévoyez d'utiliser
# l'extension Enigmail pour Thunderbird).
ac_add_options --enable-crypto

# Pointe vers la bibliothèque Xulrunner - commenter cela pour un client autonome
# NE PAS DECOMMENTER CELA - Le systeme XULRunner est cassé jusqu'à ce que le developpement
# de Thunderbird rattrappe XULRunner-1.9.2.
#ac_add_options --with-system-libxul
#ac_add_options --with-default-mozilla-five-home=/usr/lib/xulrunner-devel-&xulrunner-version;</literal>

EOF</userinput></screen>

    <para>Compiler <application>Thunderbird</application> en tapant les commandes suivantes:</para>

<screen><userinput>make -f client.mk build</userinput></screen>

    <para>Ce paquet n'est pas livré avec une suite de tests.</para>

    <para>Si vous construisez l'extension <application>Enigmail</application>,
    tapper la commande suivante:</para>

<screen><userinput>tar -xf ../enigmail-&thunderbird-enigmail-version;.tar.gz -C mailnews/extensions &amp;&amp;
cp -v mozconfig .mozconfig &amp;&amp;
( cd mailnews/extensions/enigmail &amp;&amp; ./makemake -r ) &amp;&amp;

make -C ../thunderbird-build/mailnews/extensions/enigmail &amp;&amp;
make -C ../thunderbird-build/mailnews/extensions/enigmail \
        XPIFILE=enigmail-&thunderbird-enigmail-version;.xpi xpi</userinput></screen>

    <para>Installer <application>Thunderbird</application> en exécutant les commantes
    suivantes en tant qu'utilisateur <systemitem class="username">root</systemitem>:</para>

<screen role="root"><userinput>make -f client.mk install</userinput></screen>

    <para>Si vous construisez l'extension <application>Enigmail</application>,
    tapper la commande suivante en tant qu'utilisateur <systemitem
   class="username">root</systemitem> pour installer le fichier
    <filename>.xpi</filename> dans un endroit accessible:</para>

<screen role="root"><userinput>install -v -m644 -D \
    ../thunderbird-build/mozilla/dist/bin/enigmail-&thunderbird-enigmail-version;.xpi \
    /usr/lib/thunderbird-&thunderbird-version;/xpi_store/enigmail-&thunderbird-enigmail-version;.xpi</userinput></screen>

    <sect3 role="commands">
      <title>Installation global d'Enigmail</title>

      <para>Si vous voulez installer <application>Enigmail</application> globallement
      pour que tous les utilisateurs qui exécutent <application>Thunderbird</application>
	  puissent avoir accès à l'extension, tapper la commande montrée çi-dessous. Noter que
	  cette procédure démarre une instance de <application>Thunderbird</application> et que 
      vous devez avoir un serveur X de lancé. Tapper les commandes suivantes en tant qu'utilisateur
      <systemitem class="username">root</systemitem>:</para>

<screen role="root"><userinput>cp -v /usr/lib/thunderbird-&thunderbird-version;/xpi_store/enigmail-&thunderbird-enigmail-version;.xpi \
    /usr/lib/thunderbird-&thunderbird-version;/extensions &amp;&amp;

/usr/bin/thunderbird</userinput></screen>

      <para>Quand <application>Thunderbird</application> démarre il affichera un
      message d'installation, demandant <computeroutput>Les objets suivants ont été
      trouvé dans votre dossier. Voullez vous les installer ?</computeroutput>.
	  Suivez les instructions, et ensuite quitter
      <application>Thunderbird</application>.</para>

      <para>L'installation global des autres extensions peut être faite en utilisant la même
      méthode basique que pour l'extension <application>Enigmail</application>.</para>

    </sect3>

    <sect3 role="commands">
      <title>Installation d'Enigmail pour un seul utilisateur</title>

      <para>Pour installer l'extension <application>Enigmail</application> pour un seul
      utilisateur (et ne pas utiliser un accès <systemitem class="username">root</systemitem>), démarrer
      <application>Thunderbird</application> et cliquer sur <quote>Tools</quote>
      ===&gt; <quote>Add-ons</quote> ===&gt; <quote>Extensions</quote>, et
      ensuite cliquer sur <quote>Install</quote> à la fin de la boite de dialogue.
      Parcourir le système de fichiers et naviguer dans
      <filename class="directory">/usr/lib/thunderbird-&thunderbird-version;/xpi_store</filename>
      ou vous devriez trouver l'extension <filename>enigmail-&thunderbird-enigmail-version;.xpi</filename>.
	  Suviez les instructions pour installer l'extension.</para>

      <para>L'installation pour un seul utilisateur des autres extensions peut être faite en utilisant la même
      méthode basique que pour l'extension <application>Enigmail</application>.
      Vosu devez avoir téléchargé le fichier d'extension dans un dossier adapté avant de commencer
      l'installation.</para>

    </sect3>

  </sect2>

  <sect2 role="commands">
    <title>Explication des commandes</title>

    <para><command>make -f client.mk ...</command>: Les produits Mozilla sont
    packagés pour autoriser l'utilsation d'un fichier de configuration qui peut être utilisé
    pour passer la configuration à la commande <command>configure</command>.
	<command>make</command> utilise le fichier <filename>client.mk</filename>
    pour avoir la configuration initiale et les parametres de configuration, puis en fonction
	du parametre cible <parameter>build</parameter> ou
    <parameter>install</parameter>), soit exécute le script <command>configure</command>
	et compile le paquet ou installe le paquet.</para>

    <para><command>( cd mailnews/... &amp;&amp; ./makemake -r )</command>:
    Cette commande est utilisée pour créer récursivement les fichiers <filename>Makefile</filename>
    dans le repertoire <filename class='directory'>enigmail</filename>.</para>

    <para><command>make -C ... xpi</command>: Cette commande construit le fichier
    <application>Enigmail</application>
    <filename class='extension'>.xpi</filename> file qui est utilisé pour installer
    <application>Enigmail</application>.</para>

  </sect2>

  <sect2 role="configuration">
    <title>Configuration de Thunderbird</title>

    <sect3><title>Information de configuration</title>

      <para>Aucune configuration spécifique est requise tant que le script
      <command>thunderbird</command> est dans le user's path. Si
      <application>Thunderbird</application> est installé dans un endroit non-standard,
	  alors faire un lien symbolique vers le script <command>thunderbird</command>
      dans le répertoire <filename class="directory">/usr/bin</filename>.</para>

      <para>si votre gestionnaire de fenètres ou de bureau n'autorise pas la configuration
      d'un navigateur par défaut, vous pouvez ajouter un paramètre de configuration à
      <application>Thunderbird</application> pour qu'un navigateur démarre quand
      vous cliquez sur une URL Internet/intranet/local. La procédure pour vérifier
      ou modifier tous les paramètres de configuration est simple et les 
      instructions alors peuvent être utilisées pour voir ou modifier tout les
      parametres.</para>

      <para>En premier, ouvrir la fenètre de configuration en ouvrant le menu
      déroulant <quote>Edit</quote>. Choisir <quote>Preferences</quote>
      et ensuite cliquer sur l'icon <quote>Advanced</quote> dans la bar de menu
	  supérieur. Choisir l'onglet <quote>Advanced</quote> et cliquer sur le bouton
      <quote>Config Editor</quote>. Cela affichera une liste des préférences de
      configuration et des informations relatives à chacunes d'elles. Vous pouvez
      utiliser la barre <quote>Filter:</quote> pour entrer un critère de recherche et restreindre
      la liste des objets. Le changement d'une préférence peut être fait en utilisant deux
      méthodes. La première, si la préférence est une valeur booléenne (True/False), simplement
      double-click sur la préférence pour basculer la valeur et la seconde, pour les autres
      préférences simplement faire un click droit sur la ligne désirée, choisir
      <quote>Modify</quote> dans le menu et changer la valeur. La création de nouvelles préférences
      est réalisées de la même manière, excepté choisir
      <quote>New</quote> dans le menu et fournir les données désirées dans le champ sélectionné.</para>

      <para>L'objet des préférences de configuration que vous devez vérifier pour que
      <application>Thunderbird</application> utilise un navigateur spécifié est
      <parameter>network.protocol-handler.app.http</parameter> qui doit être initialisé
      avec le chemin du navigateur désiré, par exemple,
      <option>/usr/bin/firefox</option>.</para>

    <tip>
      <para>Il y a une multitude de paramètres de configuration parameters que vous pouvez modifier pour
      customiser <application>Thunderbird</application>. Une très vaste, mais pas à jour, liste de ces 
      paramètres peut être trouvée à l'adresse <ulink
     url="http://preferential.mozdev.org/preferences.html"/>.</para>
    </tip>

    </sect3>

  </sect2>

  <sect2 role="content">
    <title>Contenus</title>

    <segmentedlist>
      <segtitle>Programmes installés</segtitle>
      <segtitle>Bibliothèques installées</segtitle>
      <segtitle>Répertoires installés</segtitle>

      <seglistitem>
        <seg>thunderbird</seg>
        <seg>Numerous libraries, email/newsgroups components, plugins,
        extensions, et modules d'aide installé dans <filename
       class='directory'>/usr/lib/thunderbird-&thunderbird-version;</filename>
        </seg>
        <seg>/usr/include/thunderbird-&thunderbird-version;,
        /usr/lib/thunderbird-&thunderbird-version;, et
        /usr/share/idl/thunderbird-&thunderbird-version;, et optionnellement
        /usr/share/mozilla/extensions</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Courtes descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="thunderbird-prog">
        <term><command>thunderbird</command></term>
        <listitem>
          <para>est la prochaine génération du client emails et newsgroups de <application>Mozilla</application>.</para>
          <indexterm zone="thunderbird thunderbird-prog">
            <primary sortas="b-thunderbird">thunderbird</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
  