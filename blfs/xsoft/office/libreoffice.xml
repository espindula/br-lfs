<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;
  <!ENTITY libreoffice-dl "http://download.documentfoundation.org/libreoffice/src/&libreoffice-version;">
  <!ENTITY libreoffice-core-download-http "&libreoffice-dl;/libreoffice-&libreoffice-dlversion;.tar.xz">
  <!ENTITY libreoffice-core-md5sum        "5311656e1b54eadd4b93f948dfd5e68e">
  <!ENTITY libreoffice-core-size          "117 Mo">
  <!ENTITY libreoffice-dict-download-http "&libreoffice-dl;/libreoffice-dictionaries-&libreoffice-dlversion;.tar.xz">
  <!ENTITY libreoffice-dict-md5sum        "2bbe7adab2b9bc0042c72ba60c30acc4">
  <!ENTITY libreoffice-dict-size          "35 Mo">
  <!ENTITY libreoffice-help-download-http "&libreoffice-dl;/libreoffice-help-&libreoffice-dlversion;.tar.xz">
  <!ENTITY libreoffice-help-md5sum        "e2cd3b63e3050771a1330fc98e41a701">
  <!ENTITY libreoffice-help-size          "1.8 Mo">
  <!ENTITY libreoffice-translations-download-http "&libreoffice-dl;/libreoffice-translations-&libreoffice-dlversion;.tar.xz">
  <!ENTITY libreoffice-translations-md5sum        "1f4438828cbcf83c257742482dade3ef">
  <!ENTITY libreoffice-translations-size          "123 Mo">
  <!ENTITY libreoffice-buildsize          "6.1 Go (415 Mo installed)">
  <!ENTITY libreoffice-time               "80 SBU">
]>
<sect1 id="libreoffice" xreflabel="libreoffice-&libreoffice-version;">
  <?dbhtml filename="libreoffice.html"?>
  <sect1info>
    <othername>$LastChangedBy&nbsp;: krejzi $</othername>
    <date>$Date&nbsp;: 2013-04-06 00:01:58 +0200 (Sat, 06 Apr 2013) $</date>
  </sect1info>
  <title>libreoffice-&libreoffice-version;</title>
  <indexterm zone="libreoffice">
    <primary sortas="a-libreoffice">libreoffice</primary>
  </indexterm>
  <sect2 role="package">
    <title>Introduction à Libre Office</title>
    <para>
      <application>Libre Office</application> est une suite bureautique complète.
      Elle est largement compatible
      avec  <application>Microsoft Office</application> et c'est un héritier
      d'<application>Open Office</application>.
    </para>
   &lfs73_checked;
    <bridgehead renderas="sect3">Informations sur le paquet</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>
          Téléchargement du c&oelig;ur &nbsp;: <ulink url="&libreoffice-core-download-http;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Somme de contrôle MD5 du téléchargement du c&oelig;ur&nbsp;: &libreoffice-core-md5sum;
        </para>
      </listitem>
      <listitem>
        <para>
          Taille du téléchargement du c&oelig;ur&nbsp;: &libreoffice-core-size;
        </para>
      </listitem>
       <listitem>
        <para>
          Estimation de l'espace disque requis&nbsp;: &libreoffice-buildsize;
        </para>
      </listitem>
      <listitem>
        <para>
          Estimation du temps de construction&nbsp;: &libreoffice-time;
        </para>
      </listitem>
     </itemizedlist>
    <bridgehead renderas="sect3">Téléchargements supplémentaires</bridgehead>
    <itemizedlist spacing="compact">
       <listitem>
         <para>
          Téléchargement des dictionnaires (HTTP): <ulink url="&libreoffice-dict-download-http;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Somme de contrôle MD5 du téléchargement des dictionnaires: &libreoffice-dict-md5sum;
        </para>
      </listitem>
      <listitem>
        <para>
          Taille du téléchargement des dictionnaires: &libreoffice-dict-size;
        </para>
      </listitem>
      <listitem>
        <para>
          Téléchargement de l'aide (HTTP): <ulink url="&libreoffice-help-download-http;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Somme de contrôle MD5 du téléchargement de l'aide: &libreoffice-help-md5sum;
        </para>
      </listitem>
      <listitem>
        <para>
          Taille du téléchargement de l'aide: &libreoffice-help-size;
        </para>
      </listitem>
     <listitem>
        <para>
          Téléchargement des traductions (HTTP): <ulink url="&libreoffice-translations-download-http;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Somme de contrôle MD5 du téléchargement des traductions: &libreoffice-translations-md5sum;
        </para>
      </listitem>
      <listitem>
        <para>
          Taille du téléchargement des traductions: &libreoffice-translations-size;
        </para>
      </listitem>
    </itemizedlist>
    <bridgehead renderas="sect3">Téléchargements supplémentaires</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>
          Correctif requis :
          <ulink url="&patch-root;/libreoffice-&libreoffice-dlversion;-system_boost-1.patch"/>
        </para>
      </listitem>
    </itemizedlist>
    <bridgehead renderas="sect3">Dépendances de Libre Office</bridgehead>
    <bridgehead renderas="sect4">Requises</bridgehead>
    <para role="required">
      <xref linkend="gperf"/>,
      <xref linkend="gtk2"/> ou <xref linkend="gtk3"/>,
      <application>Perl Modules</application>
      <xref linkend="perl-archive-zip"/> et
      <xref linkend="perl-xml-parser"/>,
      <xref linkend="unzip"/>,
      <xref linkend="wget"/>,
      <xref linkend="which"/> et
      <xref linkend="zip"/>.
    </para>
    <bridgehead renderas="sect4">Recommandées</bridgehead>
    <note>
      <para>
        La plupart de ces paquets sont recommandés car s'ils ne sont pas installés, le
        processus de construction compilera et installera sa propre version
        (souvent ancienne). Si vous utilisez <application>GCC 4.7</application>
	quelques uns des ses anciens paquets feront échouer la compilation.
      </para>
    </note>
    <para role="recommended">
      <xref linkend="boost"/>,
      <xref linkend="cups"/>,
      <xref linkend="curl"/>,
      <xref linkend="dbus"/>,
      <xref linkend="expat"/>,
      <xref linkend="gst-plugins-base"/> or
      <xref linkend="gst10-plugins-base"/>,
      <xref linkend="icu"/>,
      <xref linkend="lcms2"/>,
      <xref linkend="librsvg"/>,
      <xref linkend="libxml2"/> et <xref linkend="libxslt"/>,
      <xref linkend="neon"/>,
      <xref linkend="nss"/>,
      <xref linkend="openldap"/> (le client seulement),
      <xref linkend="openssl"/>,
      <xref linkend="poppler"/>,
      <xref linkend="python3"/> (utilisé pour construire les traductions),
      <xref linkend="redland"/> et
      <xref linkend="unixodbc"/>
    </para>
    <bridgehead renderas="sect4">Facultatives</bridgehead>
    <para role="optional">
      <xref linkend="bluez"/>,
      <ulink url="http://sourceforge.net/projects/cppunit/">Cppunit</ulink>,
      <ulink url="http://sourceforge.net/projects/silgraphite/">Graphite2</ulink>,
      <xref linkend="gtk3"/>,
      <ulink url="http://hunspell.sourceforge.net/">Hunspell</ulink>,
      <ulink url="http://sourceforge.net/projects/hunspell/files/Hyphen/">Hyphen</ulink>,
      <xref linkend="kdelibs"/>,
      <ulink url="http://sourceforge.net/projects/libwpd/">libwpd</ulink>,
      <ulink url="http://sourceforge.net/projects/libwpg/">libwpg</ulink>,
      <ulink url="http://sourceforge.net/projects/libwps/">libwps</ulink>,
      <xref linkend="mysql"/>,
      <ulink url="http://sourceforge.net/projects/hunspell/files/MyThes/">MyThes</ulink>,
      <xref linkend="postgresql"/>,
      <xref linkend="sane"/> et
 <ulink url="&gnome-download-http;/zenity/">Zenity</ulink>
    </para>
    <para condition="html" role="usernotes">
      Notes utilisateur&nbsp;: <ulink url="&blfs-wiki;/libreoffice"/>
    </para>
  </sect2>
  <sect2 role="installation">
    <title>Installation de Libre Office</title>
    <warning>
      <para>
        Déballer l'archive tar de libreoffice-&libreoffice-dlversion; en tant qu'utilisateur
        <systemitem class="username">root</systemitem> a pour effet étrange de
        modifier l'appartenance du répertoire <emphasis>parent</emphasis> pour
        un utilisateur au numéro 11012 et ayant, lui seul, des droits lui 
	permettant de lire, écrire et exécuter. Si vous avez déballé
        en tant qu'utilisateur <systemitem class="username">root</systemitem>
        dans votre dossier home, vous pourriez être incapable de vous reconnecter
        Si vous l'avez déballée dans 
        <filename class="directory">/usr</filename>, votre compte utilisatekr
        serait incapable d'accéder à un fichier de
        <filename class="directory">/usr</filename>.
      </para>
      <para>
        Vous pouvez éviter cette mésaventure en 
        <emphasis>ne la déballant pas</emphasis> en tant qu'utilisateur
        <systemitem class="username">root</systemitem>. Si vous devez la déballer
        en tant que <systemitem class="username">root</systemitem>, passez 
        l'option <option>--no-overwrite-dir</option> à tar. C'est prévu par défaut
        quand vous déballez en tant qu'utilisateur, mais vous devez le passer en
        option lors d'un déballage en tant que
        <systemitem class="username">root</systemitem>&nbsp;:
      </para>
    </warning>
<screen role="root">
<userinput>tar -xf libreoffice-&libreoffice-dlversion;.tar.xz --no-overwrite-dir &amp;&amp;
cd libreoffice-&libreoffice-dlversion;</userinput>
</screen>
    <para>
      Déballez les fichiers de dictionnaires et d'aide et créez les liens symboliques
      des paquets depuis le répertoire des sources pour qu'ils ne soient pas
      téléchargé de nouveau:
     </para>
<screen>
<userinput>install -dm755 src &amp;&amp;
tar -xvf ../libreoffice-dictionaries-&libreoffice-dlversion;.tar.xz --no-overwrite-dir --strip-components=1 &amp;&amp;
tar -xvf ../libreoffice-help-&libreoffice-dlversion;.tar.xz --no-overwrite-dir --strip-components=1 &amp;&amp;
ln -sv ../../libreoffice-dictionaries-&libreoffice-dlversion;.tar.xz src/ &amp;&amp;
ln -sv ../../libreoffice-help-&libreoffice-dlversion;.tar.xz src/</userinput>
</screen>
    <para>
      Si vous avez téléchargé les paquets de traductions, déballez les:
    </para>
    
<screen>
<userinput>tar -xvf ../libreoffice-translations-&libreoffice-dlversion;.tar.xz --no-overwrite-dir --strip-components=1 &amp;&amp;
ln -sv ../../libreoffice-translations-&libreoffice-dlversion;.tar.xz src/</userinput>
</screen>
    <note>
      <para>
        Pendant le processus de construction, quelques paquets seront téléchargés
        (en incluant certains listés comme des dépendances recommandés ou facultatives)
        s'ils ne sont pas présent sur le système. En faisant cela, le temps
        de construction peut être différents pour chacun.
      </para>
    </note>
  <para>
       Preparez <application>LibreOffice</application> pour la compilation
       en lançant les commandes suivantes:
     </para>
<screen>
<userinput>sed -e "/gzip -f/d"       -e "s|.1.gz|.1|g"     -i bin/distro-install-desktop-integration &amp;&amp;
sed -e "/distro-install-file-lists/d" -i Makefile.top &amp;&amp;
patch -Np1 -i ../libreoffice-&libreoffice-dlversion;-system_boost-1.patch &amp;&amp;
./autogen.sh --prefix=/usr                           --sysconfdir=/etc                       --with-vendor="BLFS"                    --with-lang=""                          --with-alloc=system                     --without-java                          --disable-gconf                         --disable-odk                           --disable-postgresql-sdbc               --enable-python=system                  --with-system-boost                     --with-system-cairo                     --with-system-curl                      --with-system-expat                     --with-system-icu                       --with-system-jpeg                      --with-system-lcms2                     --with-system-libpng                    --with-system-libxml                    --with-system-mesa-headers              --with-system-neon                      --with-system-nss                       --with-system-odbc                      --with-system-openldap                  --with-system-openssl                   --with-system-poppler                   --with-system-redland                   --with-system-zlib                      --with-parallelism=$(getconf _NPROCESSORS_ONLN)</userinput>
</screen>
<para>
   Les instructions suivantes vont seulement construire le paquet sans lancer aucune
   tests unitaires. Si vous préférez lancer les tests unitaires, remplacez
    <command>make build</command> par <command>make</command>
</para>
<para>
   Construisez le paquet.
</para>
<screen>
<userinput>make build</userinput>
</screen>
  <para>
     Maintenant en tant qu'utilisateur <systemitem class="username">root</systemitem>&nbsp;:
     </para>
<screen role="root">
<userinput>make distro-pack-install</userinput>
</screen>
  </sect2>
  <sect2 role="commands">
    <title>Command Explanations</title>
    <para>
      <command>sed -e ...</command>&nbsp;: Le premier sed empêche la compression
      des pages de manuel et le second empêche un script qui fait que l'installation
      échouera.
    </para>
   <para>
      <parameter>--with-vendor=BLFS</parameter>&nbsp;: Ce paramètre initialise
      BLFS comme le vendeur qui est mentionné quad vous cliquez "a propos"
      dans la barre d'outils.
    </para>
    <para>
      <parameter>--with-lang="pt-BR"</parameter>&nbsp;: Cette option définit les langues
      à supporter. en-US est toujours inclu par défaut. Pour lister plusieurs langues,
      séparez les avec un espace. Pour toutes les langues, utilisez --with-lang=ALL
    </para>
    
    <para>
      Pour lister les langues disponibles,lancez&nbsp;:
      <command>ls translations/source</command> après avoir déballer l'archive de traduction.
    </para>
     <para>
      <parameter>--with-alloc=system</parameter>&nbsp;: Ce paramètre indique à
      <application>LibreOffice</application> d'utiliser l'allocateur du sytème
      au lieu de celui en interne.
    </para>
    <para>
      <option>--without-java</option>&nbsp;: Cette option compile
      <application>Libre Office</application> sans le support
      <application>Java</application>.
    </para>
    <para>
      <option>--disable-gconf</option>&nbsp;: Enlevez cette option si vous voulez
      compiler Libre Office avec le support GConf.
    </para>
     <para>
      <option>--disable-odk</option>&nbsp;: Ceci désactive l'installation du kit
      de développement de bureautique. Supprimez cette option si vous voulez
      développer une application basée sur <application>Libre Office</application>.
    </para>
<para>
      <option>--disable-postgresql-sdbc</option>&nbsp;: Cette option désactive la compilation
      de <application>LibreOffice</application> avec la capacité de se connecter à une base de données <application>PostgreSQL</application>. Si vous
      souhaitez que <application>LibreOffice</application> soit capable de se connecter à une base de données <application>PostgreSQL</application>
      supprimez cette option. Si vous avez installé <application>PostgreSQL</application> sur votre système et
      que vous souhaitez que <application>LibreOffice</application> l'utilise plutôt que sa propre version, ajoutez
      l'option <option>--with-system-postgresql</option>.
    </para>
     <para>
      <parameter>--enable-python=system</parameter>&nbsp;: Ce paramètre indique à
      <application>LibreOffice</application> d'utiliser
      <application>Python 3</application> installé pour construire
      les traductions à la place de celui livré.
      Si vous n'avez pas besoin de construire les traductions,
      vous pouvez utiliser <option>--disable-python</option>
      à la place.
    </para>
    <para>
      <option>--with-system- ...</option>&nbsp;: Ces options empêchent <application>Libre Office</application>
      d'essayer de compiler ses propres versions des dépendances. Si vous n'avez pas
      installé certaines dépendances, supprimez l'option correspondante.
    </para>
        <para>
      <option>--with-parallelism=$(getconf _NPROCESSORS_ONLN)</option>&nbsp;:  Cette
      option dit à <application>Libre Office</application> d'utiliser tous vos processeurs pour compiler en parallèle
      et accélérer la construction.
    </para>
      <para>
      <option>--disable-gstreamer</option>&nbsp;: ajoutez cette options si vous n'avez
      pas installé <xref linkend="gst-plugins-base"/>.
    </para>
     <para>
      <option>--disable-cups</option>&nbsp;: Utilisez ce paramètre si nous n'avez pas besoin du support
      de l'impression.
    </para>
     <para>
           <option>--disable-dbus</option>: Utilisez ce paramètre si vous n'avez
           pas installé <xref linkend="dbus"/>. Il désactive également
           le support Bluetooth et l'installation des polices via PackageKit.
    </para>
    <para>
   <option>--enable-gstreamer</option>&nbsp;: Utilisez ce paramètre si vous voulez
      utiliser <xref linkend="gst10-plugins-base"/> à la place de 
      <xref linkend="gst-plugins-base"/> pour le module avmedia.
    </para>
    
     <para>
       <option>--enable-gtk3</option>&nbsp;: ajoutez cette option si vous l'avez
      installé et si vous voulez utiliser <application>Gtk+-3</application>.
    </para>
      <para>
      <option>--enable-kde4</option>&nbsp;: Utilisez ce paramètre si vous voulez
      construire le module d'intégration à <application>KDE</application>.
      </para>
     </sect2>
     
  <sect2 role="content">
    <title>Contenu</title>
    <segmentedlist>
      <segtitle>Programmes installés</segtitle>
      <segtitle>Bibliothèques installées</segtitle>
      <segtitle>Répertoire installé</segtitle>
      <seglistitem>
        <seg>
          libreoffice, lobase, localc, lodraw, loffice, lofromtemplate,
          loimpress, lomath, loweb, lowriter, soffice et unopkg
        </seg>
        <seg>
          Aucune
        </seg>
        <seg>
          /usr/lib/libreoffice
        </seg>
      </seglistitem>
    </segmentedlist>
    <variablelist>
      <bridgehead renderas="sect3">Descriptions courtes</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>
      <varlistentry id="lobase">
        <term><command>lobase</command></term>
        <listitem>
          <para>
            est un gestionnaire de bases de données.
          </para>
          <indexterm zone="libreoffice lobase">
            <primary sortas="b-lobase">lobase</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="localc">
        <term><command>localc</command></term>
        <listitem>
          <para>
            est un programme de feuilles de calcul.
          </para>
          <indexterm zone="libreoffice localc">
            <primary sortas="b-localc">localc</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="lodraw">
        <term><command>lodraw</command></term>
        <listitem>
          <para>
            est un éditeur d'images vectorielles et un outil pour faire des
            diagrammes.
          </para>
          <indexterm zone="libreoffice lodraw">
            <primary sortas="b-lodraw">lodraw</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="loimpress">
        <term><command>loimpress</command></term>
        <listitem>
          <para>
            peut éditer et afficher des présentations powerpoint.
          </para>
          <indexterm zone="libreoffice loimpress">
            <primary sortas="b-loimpress">loimpress</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="lomath">
        <term><command>lomath</command></term>
        <listitem>
          <para>
            est un éditeur de formules mathématiques.
          </para>
          <indexterm zone="libreoffice lomath">
            <primary sortas="b-lomath">lomath</primary>
          </indexterm>
        </listitem>
      </varlistentry>
            <varlistentry id="lowriter">
        <term><command>writer</command></term>
        <listitem>
          <para>
            est un traitement de texte.
          </para>
          <indexterm zone="libreoffice lowriter">
            <primary sortas="b-lowriter">lowriter</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="unopkg">
        <term><command>unopkg</command></term>
        <listitem>
          <para>
            est un outil pour gérer les extensions <application>LibreOffice</application>
            depuis la ligne de commande.
          </para>
          <indexterm zone="libreoffice unopkg">
            <primary sortas="b-unopkg">unopkg</primary>
          </indexterm>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect2>
</sect1>
