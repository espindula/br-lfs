<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;
  <!ENTITY AbiWord-download-http
  "http://www.abisource.com/downloads/abiword/&AbiWord-version;/source/abiword-&AbiWord-version;.tar.gz">
  <!ENTITY AbiWord-download-ftp  " ">
  <!ENTITY AbiWord-md5sum        "cb9852ee7245eea41a290e8fe5e2dff2">
  <!ENTITY AbiWord-size          "10 Mo">
  <!ENTITY AbiWord-buildsize     "484 Mo">
  <!ENTITY AbiWord-time          "6.6 SBU">
  <!ENTITY AbiWordDocs-download-http
  "http://www.abisource.com/downloads/abiword/&AbiWord-version;/source/abiword-docs-&AbiWord-version;.tar.gz">
  <!ENTITY AbiWord-minor-version "2.9">
]>

<sect1 id="abiword" xreflabel="AbiWord-&AbiWord-version;">
  <?dbhtml filename="AbiWord.html" ?>

  <sect1info>
    <othername>$LastChangedBy&nbsp;: andy $</othername>
    <date>$Date&nbsp;: 2012-03-27 16:43:05 +0200 (Tue, 27 Mar 2012) $</date>
  </sect1info>

  <title>AbiWord-&AbiWord-version;</title>

  <indexterm zone="abiword">
    <primary sortas="a-AbiWord">AbiWord</primary>
  </indexterm>

  <sect2 role="package">
    <title>Introduction à AbiWord</title>

    <para><application>AbiWord</application> est une
    application de traitement de texte. C'est utile pour rédiger des rapports, 
    des lettres et d'autres documents formatés.</para>

&lfs72_checked;

    <bridgehead renderas="sect3">Informations sur le paquet</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>Téléchargement (HTTP)&nbsp;: <ulink url="&AbiWord-download-http;"/></para>
      </listitem>
      <listitem>
        <para>Téléchargement (FTP)&nbsp;: <ulink url="&AbiWord-download-ftp;"/></para>
      </listitem>
      <listitem>
        <para>Somme de contrôle MD5 du téléchargement&nbsp;: &AbiWord-md5sum;</para>
      </listitem>
      <listitem>
        <para>Taille du téléchargement&nbsp;: &AbiWord-size;</para>
      </listitem>
      <listitem>
        <para>Estimation de l'espace disque requis&nbsp;: &AbiWord-buildsize;</para>
      </listitem>
      <listitem>
        <para>Estimation du temps de construction&nbsp;: &AbiWord-time;</para>
      </listitem>
    </itemizedlist>

    <bridgehead renderas="sect3">Téléchargements supplémentaires</bridgehead>
    <itemizedlist spacing='compact'>
      <listitem>
        <para>Documentation optionnelle>&nbsp;: Si vous exécutez dans un bureau gnome, le menu
        d'aide ouvrira <application>epiphany</application> at <ulink
        url="http://www.abisource.com/help/en-US/index.html"/>.  Si vous souhaitez
        installer une copie de la documentation HTML en en-US, fr-FR et pl-PL sur
        votre machine, téléchargez <ulink url="&AbiWordDocs-download-http;"/>
        (size 1.4Mo md5sum 197df94c1d9ed287903cb5aa0b60bbc1). Les fichiers locaux
        ne seront pas automatiquement référencé si vous n'avez pas un bureau gnome assez
        complet (epiphany et yelp ne sont pas suffisant),
        mais vous pouvez choisir de les ouvrir dans votre navigateur préféré.</para>
      </listitem>
    </itemizedlist>

    <bridgehead renderas="sect3">Dépendances d'AbiWord</bridgehead>

    <bridgehead renderas="sect4">Requises</bridgehead>
    <para role="required">
      <xref linkend="fribidi"/>,
      <xref linkend="libjpeg"/>,
     <xref linkend="libpng"/>,
      <xref linkend="librsvg"/> et
      <xref linkend="wv"/>
    </para>

    <bridgehead renderas="sect4">Recommandées</bridgehead>
    <para role="recommended">
      <xref linkend="enchant"/> (pour la vérification orthographique)
    </para>

    <bridgehead renderas="sect4">Facultatives</bridgehead>
    <para role="optional">
      <ulink url="http://www.abisource.com/projects/link-grammar/">Link Grammar Parser</ulink>,
      <ulink url="http://aiksaurus.sourceforge.net/">Aiksaurus</ulink>,
      <xref linkend="boost"/> (requis pour les greffons collab et openxml/docx,
      mais cassé dans au moins LFS-7.2 avec erreurs de scope g++),
      <xref linkend="dbus-glib"/> (pour la fondation collab sugar),
      <xref linkend="goffice"/>),
      <ulink url="http://helm.cs.unibo.it/mml-widget/">GtkMathView</ulink>
      (exige
      <ulink url="http://www.gnome-db.org/">libgnomedb version &lt;1.3.0</ulink>*
      qui exige
      <ulink url="http://www.gnome-db.org/">libgda version &lt;1.3.0</ulink>),
      <ulink url="http://sourceforge.net/projects/mission-control/files/">libmissioncontrol</ulink>,
      <xref linkend="empathy"/> and
      <xref linkend="telepathy-glib"/> (pour la fondation de collab telepathy),
      <ulink url="http://ftp.imendio.com/pub/imendio/loudmouth/src/">loudmouth</ulink>
      (pour la fondation collab xmpp),
      <xref linkend="gnutls"/> et
      <xref linkend="libsoup"/> (pour le service collab),
      <ulink url="http://sourceforge.net/projects/wvware">libwmf</ulink>,
      <ulink url="http://helm.cs.unibo.it/mml-widget/">GtkMathView</ulink> (requispar les liaisons
      DOM de 
      <ulink url="http://sourceforge.net/projects/gmetadom/">Gnome</ulink>
      qui exige
      <ulink url="http://gdome2.cs.unibo.it/">gdome2</ulink>),
      <ulink url="http://libwpd.sourceforge.net/">libwpd</ulink>,
      <ulink url="http://libots.sourceforge.net/">OTS</ulink>, and
      <ulink url="http://software.frodo.looijaard.name/psiconv/">Psiconv</ulink>
      Certaines d'entre elles ne sont pas automatiquement détectées et doivent
      être spécifiées au script configure.
    </para>
 
    <para>* La pile
    <application>libgda</application>/<application>libgnomedb</application>
    exigée pour l'accès à la base de données <application>AbiWord</application> 
    peut être en conflit avec les versions utilisées par le plugin de base de
    données <xref linkend="gnumeric"/>. Bien que les bibliothèques elles-mêmes
    ne soient pas en conflit, les exécutables et les fichiers de support
    peuvent s'écraser entre eux. Remarquez que la pile actuelle (version 3.0.x) n'est
    en conflit avec aucune des versions précédemment installées (mais elle ne 
    supporte pas l'accès à la base de données d'
    <application>AbiWord</application>.
    <application>AbiWord</application> exige les versions
    &lt;1.3.0.</para>

    <para condition="html" role="usernotes">Notes utilisateur&nbsp;:
    <ulink url="&blfs-wiki;/abiword"/></para>

  </sect2>

  <sect2 role="installation">
    <title>Installation d'AbiWord</title>

    <para>Installez <application>AbiWord</application> en lançant les commandes
    suivantes&nbsp;:</para>

<screen><userinput>sed -i '/#include &lt;glib/gerror.h&gt;/d' src/af/util/xp/ut_go_file.h &amp;&amp;
sed -i 's/ptr->jmpbuf/jmpbuf(png_ptr)/' src/af/util/xp/ut_png.cpp &amp;&amp;
sed -i 's/(m_pPNG)->(jmpbuf)/png_2(1)/'     src/wp/impexp/gtk/ie_impGraphic_GdkPixbuf.cpp &amp;&amp;
sed -i 's/--no-undefined //' src/Makefile* &amp;&amp;
./configure --prefix=/usr --disable-static &amp;&amp;
make</userinput></screen>

    <para>Si vous souhaitez exécuter les tests, tapez>&nbsp;: <command>make check</command>.
    </para>

    <para>Maintenant, en tant qu'utilisateur <systemitem class="username">root</systemitem>&nbsp;:</para>

<screen role="root"><userinput>make install</userinput></screen>

    <para>Si vous souhaitez installer les fichiers d'aide locaux, désarchiver et les construire en premier</para>
<screen><userinput>tar -xf ../abiword-docs-&AbiWord-version;.tar.gz &amp;&amp;
cd abiword-docs-&AbiWord-version; &amp;&amp;
./configure --prefix=/usr &amp;&amp;
make</userinput></screen>

    <para>et alors, en tant qu'utilisateur <systemitem class="username">root</systemitem>&nbsp;:</para>

<screen role="root"><userinput>make install</userinput></screen>

  </sect2>

  <sect2 role="commands">
    <title>Explication des commandes</title>

    <para>
      <command>sed -i '/#include &lt;glib/gerror.h&gt;/d'
      src/af/util/xp/ut_go_file.h</command>&nbsp;: Ce sed corrige la compilation
      d'<application>Abiword</application> quand
      <application>Glib-2.32</application> est installé.
    </para>

    <para><command>sed -i 's/ptr->jmpbuf...</command> et
    <command>sed -i 's/(m_pPNG)...</command>&nbsp;: Ces seds corrigent
    la compilation d'Abiword avec libpng-1.5.</para>

    <para><command>sed -i 's/--no-undefined...</command>&nbsp;: Ce sed corrige
    la compilation d'Abiword-2.8.6 avec GCC-4.6.2.</para>

    <para><option>--without-inter7eps</option>&nbsp;: Certaines en-têtes
    du paquet <application>EPS</application> ne sont pas compatibles avec
    <application>GCC</application>-&gcc-version;. Ce paramètre empêche l'édition
    d'un lien vers le paquet et qui aboutit à un échec de construction.</para>

    <para><option>--disable-static</option>>&nbsp;:nbsp;: Ce paramètre empêche la construction des
	bibliothèques statiques. Sur x86_64 il économise beaucoup de time de construction.
    </para>

    <para><option>--enable-plugins=collab</option>>&nbsp;: Construit tout ou
    partie des greffons collab. Le greffon openxml permet à <application>Abiword</application> 
    d'ouvrir certains fichiers .docx (exige <xref linkend="boost"/>). Le 
    greffon grammar exige 
      <ulink url="http://www.abisource.com/projects/link-grammar/">Link Grammar
      Parser</ulink> (analyseur de grammaire)
    </para>

   </sect2>

  <sect2 role="configuration">
    <title>Configuration d'AbiWord</title>

    <sect3 id="abiword-config">
      <title>Config File</title>

      <para><filename>~/.AbiSuite/templates/normal.awt</filename></para>

      <indexterm zone="abiword abiword-config">
        <primary sortas="e-AA.AbiSuite-templates-normal">~/.AbiSuite/templates/normal.awt</primary>
      </indexterm>

    </sect3>

    <sect3>
      <title>Informations de configuration</title>

      <para>Choisissez le bon modèle pour votre langue et votre locale dans la
      liste qu'affiche la commande suivante&nbsp;:</para>

<screen><userinput>ls /usr/share/abiword-&AbiWord-minor-version;/templates</userinput></screen>

      <para>Créez le dossier
      <filename class='directory'>~/.AbiSuite/templates</filename> puis copiez
      dedans le <filename>normal.awt</filename> que vous voulez&nbsp;:</para>

<screen><userinput>install -v -m750 -d ~/.AbiSuite/templates &amp;&amp;
install -v -m640    /usr/share/abiword-&AbiWord-minor-version;/templates/normal.awt-<replaceable>&lt;lang&gt;</replaceable>                    ~/.AbiSuite/templates/normal.awt</userinput></screen>

      <para>Modifiez <replaceable>&lt;lang&gt;</replaceable> par la 
      commande ci-dessus pour mettre le nom du fichier que vous voulez.</para>

      <para>Si vous utilisez plusieurs lanques, vous pouvez avoir besoin d'éditer le modèle
      pour utiliser une font avec une plus grande couverture (par exemple une des fonts
      <ulink url="http://dejavu.sourceforge.net/">DejaVu fonts</ulink>),
      car <application>Abiword</application> n'utilise pas
      <application>fontconfig</application> et peut seulement afficher des glyphes qui
      proviennent d'une font choisie.</para>

      <para>Si vous avez installé <xref linkend="desktop-file-utils"/>, vous
      devriez lancer la commande <command>update-desktop-database</command> 
      pour mettre à jour le cache mimeinfo et permettre au système d'aide de
      fonctionner.</para>

    </sect3>

  </sect2>

  <sect2 role="content">
    <title>Contenu</title>

    <segmentedlist>
      <segtitle>Programmes installés</segtitle>
      <segtitle>Bibliothèques installées</segtitle>
      <segtitle>Répertoires installés</segtitle>

      <seglistitem>
        <seg>abiword</seg>
        <seg>libabiword-&AbiWord-minor-version; et un ou plusieurs modules plugin de 
		bibliothèque de support</seg>
        <seg>/usr/lib/abiword-&AbiWord-minor-version; et
        /usr/share/abiword-&AbiWord-minor-version;</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Descriptions courtes</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="abiword-prog">
        <term><command>abiword</command></term>
        <listitem>
          <para>est le traitement de texte, un emballage pour les fonctions dans
          libabiword-&AbiWord-minor-version; - peut aussi être utilisé dans la ligne
		  de commandes, voir <command>man 1 abiword</command>.</para>
          <indexterm zone="abiword abiword-prog">
            <primary sortas="b-abiword">abiword</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libabiword">
        <term><filename class='libraryfile'>libabiword-&AbiWord-minor-version;.so</filename></term>
        <listitem>
          <para>fourni les fonctions pour ouvrir les documents MS Word.</para>
          <indexterm zone="abiword libabiword">
            <primary sortas="c-libabiword">libabiword-&AbiWord-minor-version;.so</primary>
 
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
