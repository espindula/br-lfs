<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

  <!ENTITY AbiWord-download-http "http://www.abisource.com/downloads/abiword/&AbiWord-version;/source/abiword-&AbiWord-version;.tar.bz2">
  <!ENTITY AbiWord-download-ftp  " ">
  <!ENTITY AbiWord-md5sum        "8ed5fb282b9741aca75b9e47500d39a1">
  <!ENTITY AbiWord-size          "25 Mio">
  <!ENTITY AbiWord-buildsize     "262 Mio (additional 210 Mio to build et install the API docs)">
  <!ENTITY AbiWord-time          "4.5 SBU (to build et install the program, docs and all plugins)">
  <!ENTITY AbiWord-minor-version "2.4">
  <!ENTITY AbiWord-under-version "2_4">
]>

<sect1 id="abiword" xreflabel="AbiWord-&AbiWord-version;">
  <?dbhtml filename="AbiWord.html" ?>

  <sect1info>
    <othername>$LastChangedBy: gdalziel $</othername>
    <date>$Date: 2009-07-06 21:12:40 +0200 (lun 06 jui 2009) $</date>
  </sect1info>

  <title>AbiWord-&AbiWord-version;</title>

  <indexterm zone="abiword">
    <primary sortas="a-AbiWord">AbiWord</primary>
  </indexterm>

  <sect2 role="package">
    <title>Introduction à AbiWord</title>

    <para>Le paquet <application>AbiWord</application> contient une
    application de traitement de texte. C'est utile pour rédiger des rapports, 
    des lettres et d'autres documents formatés.</para>

    <bridgehead renderas="sect3">Informations sur le paquet</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>Téléchargement (HTTP)&nbsp;: <ulink url="&AbiWord-download-http;"/></para>
      </listitem>
      <listitem>
        <para>Téléchargement (FTP)&nbsp;: <ulink url="&AbiWord-download-ftp;"/></para>
      </listitem>
      <listitem>
        <para>Somme de contrôle MD5 du téléchargement&nbsp;: &AbiWord-md5sum;</para>
      </listitem>
      <listitem>
        <para>Taille du téléchargement&nbsp;: &AbiWord-size;</para>
      </listitem>
      <listitem>
        <para>Estimation de l'espace disque requis&nbsp;: &AbiWord-buildsize;</para>
      </listitem>
      <listitem>
        <para>Estimation du temps de construction&nbsp;: &AbiWord-time;</para>
      </listitem>
    </itemizedlist>

    <bridgehead renderas="sect3">Dépendances d'AbiWord</bridgehead>

    <bridgehead renderas="sect4">Requises</bridgehead>
    <para role="required"><xref linkend="fribidi"/> et
    <xref linkend="libgnomeprintui"/></para>

    <bridgehead renderas="sect4">Facultatives</bridgehead>
    <para role="optional"><xref linkend="libgnomeui"/> (for GNOME-2 support),
    <xref linkend="gucharmap"/>,
    <ulink url="http://www.abisource.com/enchant/">Enchant</ulink> (uses
    <xref linkend="aspell"/>),
    <ulink url="http://wvware.sourceforge.net/">wv</ulink> (with
    <ulink url="http://sourceforge.net/projects/wvware">libwmf</ulink> installed first), et
    <ulink url="http://valgrind.org/">Valgrind</ulink></para>

    <bridgehead renderas="sect4">Facultatives for Plugins</bridgehead>
    <para role="optional"><xref linkend="libgsf"/> (to build the OpenDocument/OpenOffice plugin),
    <xref linkend="poppler"/> (for the pdf plugin, requires installing with unsupported xpdf headers),
    <xref linkend="librsvg"/>,
    <!-- Currently Broken <xref linkend="html-tidy"/>, -->
    <!-- Currently Broken <ulink url="http://www.inter7.com/index.php?page=eps">EPS</ulink>, -->
    <xref linkend="nautilus"/> (for GNOME-2 support),
    <xref linkend="goffice"/> (you must use a version of
    <ulink url="&gnome-download-http;/goffice/0.2/">GOffice &lt;0.3.0</ulink>),
    <ulink url="http://www.abisource.com/projects/link-grammar/">Link Grammar</ulink>,
    <ulink url="http://aiksaurus.sourceforge.net/">Aiksaurus</ulink>,
    <ulink url="http://www.gnome-db.org/">libgnomedb version &lt;1.3.0</ulink>* (requires
    <ulink url="http://www.gnome-db.org/">libgda version &lt;1.3.0</ulink>),
    <ulink url="http://sourceforge.net/projects/wvware">libwmf</ulink>,
    <ulink url="http://helm.cs.unibo.it/mml-widget/">GtkMathView</ulink> (requires
    <ulink url="http://sourceforge.net/projects/gmetadom/">Gnome DOM Bindings</ulink> which requires
    <ulink url="http://gdome2.cs.unibo.it/">gdome2</ulink>),
    <ulink url="http://libwpd.sourceforge.net/">libwpd</ulink>,
    <ulink url="http://libots.sourceforge.net/">OTS</ulink> et
    <ulink url="http://software.frodo.looijaard.name/psiconv/">Psiconv</ulink></para>

    <para>* La pile
    <application>libgda</application>/<application>libgnomedb</application>
    exigée pour l'accès à la base de données <application>AbiWord</application> 
    peut être en conflit avec les versions utilisées par le plugin de base de
    données <xref linkend="gnumeric"/>. Bien que les bibliothèques elles-mêmes
    ne soient pas en conflit, les exécutables et les fichiers de support
    s'écraseront entre eux. Remarquez que la pile actuelle (version 3.0.x) n'est
    en conflit avec aucune des versions précédemment installées (mais elle ne 
    supporte pas l'accès à la base de données d'
    <application>AbiWord</application> ou <application>Gnumeric</application>.
    <application>AbiWord</application> exige des versions
    &lt;1.3.0 (1.2.2 est connue pour fonctionner).</para>

    <para condition="html" role="usernotes">Notes utilisateur&nbsp;:
    <ulink url="&blfs-wiki;/abiword"/></para>

  </sect2>

  <sect2 role="installation">
    <title>Installation d'AbiWord</title>

    <para>Installez <application>AbiWord</application> en lançant les commandes
    suivantes&nbsp;:</para>

<screen><userinput>cd abi &amp;&amp;
./configure --prefix=/usr &amp;&amp;
make &amp;&amp;

cd ../abiword-plugins &amp;&amp;
sed -i 's/dictionary_file)/reinterpret_cast&lt;const unsigned char *&gt;(&amp;)/' \
        tools/ots/xp/AbiOts.cpp &amp;&amp;

./configure --prefix=/usr --without-inter7eps &amp;&amp;
make &amp;&amp;

cd ..</userinput></screen>

    <para>Si vous souhaitez créer la documentation de l'API, 
    <xref linkend="doxygen"/> doit être installé et lancez les commandes
    suivantes&nbsp;:</para>

<screen><userinput>pushd abi &amp;&amp;
doxygen &amp;&amp;
popd</userinput></screen>

    <para>La suite de tests de ce paquet exige <ulink
    url="http://valgrind.org/">Valgrind</ulink>. Bien que le message final
    indique que les tests ont échoueé, beaucoup de tests exécutés se finiront
    en réalité bien. Lancez les tests en exécutant les commandes
    suivantes&nbsp;:</para>

<screen><userinput>pushd abi &amp;&amp;
make check &amp;&amp;
popd</userinput></screen>

    <para>Maintenant, en tant qu'utilisateur <systemitem class="username">root</systemitem>&nbsp;:</para>

<screen role="root"><userinput>cd abi &amp;&amp;
make install &amp;&amp;

install -v -m755 -d /usr/share/doc/abiword-&AbiWord-version; &amp;&amp;
install -v -m644    docs/*.* \
                    /usr/share/doc/abiword-&AbiWord-version; &amp;&amp;

cd ../abiword-plugins &amp;&amp;
make install &amp;&amp;

cd ..</userinput></screen>

    <para><application>AbiWord</application> est maintenant installé et doit 
    être utilisé pour construire les fichiers d'aide. Exécutez les commandes
    suivantes en tant qu'utilisateur non privilégié&nbsp;:</para>

<screen><userinput>pushd abiword-docs &amp;&amp;
./make-html.sh &amp;&amp;
cd ..</userinput></screen>

<!-- removing this as it does exactly the same thing as
     the make-html.sh does          ./make-gnome-html.sh &amp;&amp; -->

    <para>Puis, en tant qu'utilisateur <systemitem class="username">root</systemitem>,
    installez les fichiers d'aide&nbsp;:</para>

<screen role="root"><userinput>install -v -m644 man/abiword.1 /usr/share/man/man1 &amp;&amp;
install -v -m644 Manual/en/Abiword_Manual.abw \
                 /usr/share/doc/abiword-&AbiWord-version; &amp;&amp;
cp -v -Rf help   /usr/share/AbiSuite-&AbiWord-minor-version;/AbiWord &amp;&amp;
find             /usr/share/AbiSuite-&AbiWord-minor-version;/AbiWord/help \
                 -type d -exec chmod -v 755 {} \;</userinput></screen>

    <para>Si vous avez une installation de <application>GNOME</application>,
    lancez les commandes suivantes en tant qu'utilisateur <systemitem class="username">root</systemitem>
    pour installer le fichier de description du composant Bonobo 
    <application>AbiWord</application>&nbsp;:</para>

<screen role="root"><userinput>install -v -m644 abidistfiles/GNOME_AbiWord_Control_&AbiWord-under-version;.server \
        $(pkg-config --variable=prefix ORBit-2.0)/lib/bonobo/servers &amp;&amp;

if [ $(pkg-config --variable=prefix ORBit-2.0) != "/usr" ]; then
    rmdir -v /usr/lib/{bonobo/servers,bonobo}
fi</userinput></screen>

    <para>Si vous avez construit la documentation de l'API, installez-la en
    lançant les commandes suivantes en tant qu'utilisateur <systemitem class="username">root</systemitem>&nbsp;:</para>

<screen role="root"><userinput>install -v -m755 -d  /usr/share/doc/abiword-&AbiWord-version;/api &amp;&amp;

for FILENAME in $(ls abi/docs/dox/html); do
    install -v -m644 abi/docs/dox/html/${FILENAME} \
                     /usr/share/doc/abiword-&AbiWord-version;/api
done</userinput></screen>

  </sect2>

  <sect2 role="commands">
    <title>Explication des commandes</title>

    <para><parameter>--without-inter7eps</parameter>&nbsp;: Certaines en-têtes
    du paquet <application>EPS</application> ne sont pas compatibles avec
    <application>GCC</application>-&gcc-version;. Ce paramètre empêche l'édition
    d'un lien vers le paquet et qui aboutit à un échec de construction.</para>

    <para><command>sed -i '...' tools/ots/xp/AbiOts.cpp </command>&nbsp;:
    Cette commande est utilisée pour corriger une incompatibilité avec
    <application>GCC</application> et le paquet
    <application>libots</application>.</para>

    <para><command>if [ ... != "/usr" ]; then ...;fi</command>&nbsp;:
    Cette commande est utilisée pour supprimer des répertoires inutiles si
    l'installation de <application>GNOME</application> est dans un autre préfixe
    que <filename class='directory'>/usr</filename>.</para>

  </sect2>

  <sect2 role="configuration">
    <title>Configuration d'AbiWord</title>

    <sect3 id="abiword-config">
      <title>Config File</title>

      <para><filename>~/.AbiSuite/templates/normal.awt</filename></para>

      <indexterm zone="abiword abiword-config">
        <primary sortas="e-AA.AbiSuite-templates-normal">~/.AbiSuite/templates/normal.awt</primary>
      </indexterm>

    </sect3>

    <sect3>
      <title>Informations de configuration</title>

      <para>Choisissez le bon modèle pour votre langue et votre locale dans la
      liste qu'affiche la commande suivante&nbsp;:</para>

<screen><userinput>ls /usr/share/AbiSuite-&AbiWord-minor-version;/templates</userinput></screen>

      <para>Créez le dossier
      <filename class='directory'>~/.AbiSuite/templates</filename> puis copiez
      dedans le <filename>normal.awt</filename> que vous voulez&nbsp;:</para>

<screen><userinput>install -v -m750 -d ~/.AbiSuite/templates &amp;&amp;
install -v -m640    /usr/share/AbiSuite-&AbiWord-minor-version;/templates/normal.awt-<replaceable>&lt;lang&gt;</replaceable> \
                    ~/.AbiSuite/templates/normal.awt</userinput></screen>

      <para>Modifiez <replaceable>&lt;lang&gt;</replaceable> dans la 
      commande ci-dessus pour mettre le nom du fichier que vous voulez.</para>

      <para>Si vous avez installé <xref linkend="desktop-file-utils"/>, vous
      devriez lancer la commande <command>update-desktop-database</command> 
      pour mettre à jour le cache mimeinfo et permettre au système d'aide de
      fonctionner.</para>

    </sect3>

  </sect2>

  <sect2 role="content">
    <title>Contenu</title>

    <segmentedlist>
      <segtitle>Programmes installés</segtitle>
      <segtitle>Bibliothèques installées</segtitle>
      <segtitle>Répertoires installés</segtitle>

      <seglistitem>
        <seg>abiword, AbiWord-&AbiWord-minor-version;, ttfadmin.sh, et ttftool</seg>
        <seg>Numerous plugin library support modules</seg>
        <seg>/usr/lib/AbiWord-&AbiWord-minor-version; et
        /usr/share/AbiSuite-&AbiWord-minor-version;</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Descriptions courtes</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="abiword-prog">
        <term><command>abiword</command></term>
        <listitem>
          <para>est un lien symbolique vers l'exécutable principal
          <command>AbiWord-&AbiWord-minor-version;</command>.</para>
          <indexterm zone="abiword abiword-prog">
            <primary sortas="g-abiword">abiword</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="AbiWord-version-number">
        <term><command>AbiWord-&AbiWord-minor-version;</command></term>
        <listitem>
          <para>est l'exécutable du traitement de texte.</para>
          <indexterm zone="abiword AbiWord-version-number">
            <primary sortas="b-AbiWord-&AbiWord-minor-version;">AbiWord-&AbiWord-minor-version;</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="ttfadmin.sh">
        <term><command>ttfadmin.sh</command></term>
        <listitem>
          <para>génère des fichiers de support exigés par
          <application>AbiWord</application> pour chaque police TrueType d'un
          répertoire donné.</para>
          <indexterm zone="abiword ttfadmin.sh">
            <primary sortas="b-ttfadmin.sh">ttfadmin.sh</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="ttftool">
        <term><command>ttftool</command></term>
        <listitem>
          <para>est un outil de traitement des polices TrueType.</para>
          <indexterm zone="abiword ttftool">
            <primary sortas="b-ttftool">ttftool</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
