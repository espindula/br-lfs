<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

<!ENTITY gst-plugins-download-http "http://gstreamer.freedesktop.org/src/gst-plugins/gst-plugins-&gst-plugins-version;.tar.bz2">
<!ENTITY gst-plugins-download-ftp  "&gnome-download-ftp;/gst-plugins/0.8/gst-plugins-&gst-plugins-version;.tar.bz2">
<!ENTITY gst-plugins-md5sum        "ea787eeed3761ff03cb60ecebebe1c30">
<!ENTITY gst-plugins-size          "2.4 Mio">
<!ENTITY gst-plugins-buildsize     "up to 109 Mio (depends on what dependencies are installed)">
<!ENTITY gst-plugins-time          "up to 3.6 SBU">
]>

<sect1 id="gst-plugins" xreflabel="GStreamer Plug-ins-&gst-plugins-version;">
  <?dbhtml filename="gst-plugins.html"?>

  <sect1info>
    <othername>$LastChangedBy: dj $</othername>
    <date>$Date: 2011-03-08 05:45:56 +0100 (mar. 08 mars 2011) $</date>
  </sect1info>

  <title>GStreamer Plug-ins-&gst-plugins-version;</title>

  <indexterm zone="gst-plugins">
    <primary sortas="a-GStreamer-Plug-ins">GStreamer Plug-ins</primary>
  </indexterm>

  <sect2 role="package">
    <title>Introduction à GStreamer Plug-ins</title>

    <para>Le paquet <application>GStreamer Plug-ins</application> construit
    les modules d'interface graphiques et des codecs multimédia pour
    le paquet <application>GStreamer</application>. Il y a plus de 170 modules
    différents qu'on peut construire, fournissant à <application>GStreamer</application>
    la possibilité de créer un pipeline pour presque tout flux média connu. Dans
    les versions récentes de <application>GStreamer Plug-ins</application>,
    le plugin <application>FFmpeg</application> a été supprimé et il est 
    maintenant publié dans un module séparé. Vous pouvez trouver des
    informations sur ce module et la façon de le télécharger sur <ulink
    url="http://gstreamer.freedesktop.org/modules/gst-ffmpeg.html"/>.</para>

    <bridgehead renderas="sect3">Informations sur le paquet</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>Téléchargement (HTTP)&nbsp;: <ulink url="&gst-plugins-download-http;"/></para>
      </listitem>
      <listitem>
        <para>Téléchargement (FTP)&nbsp;: <ulink url="&gst-plugins-download-ftp;"/></para>
      </listitem>
      <listitem>
        <para>Somme de contrôle MD5 du téléchargement&nbsp;: &gst-plugins-md5sum;</para>
      </listitem>
      <listitem>
        <para>Taille du téléchargement&nbsp;: &gst-plugins-size;</para>
      </listitem>
      <listitem>
        <para>Estimation de l'espace disque requis&nbsp;: &gst-plugins-buildsize;</para>
      </listitem>
      <listitem>
        <para>Estimation du temps de construction&nbsp;: &gst-plugins-time;</para>
      </listitem>
    </itemizedlist>

    <bridgehead renderas="sect3">Dépendances de GStreamer Plug-ins</bridgehead>

    <bridgehead renderas="sect4">Requises</bridgehead>
    <para role="required"><xref linkend="gstreamer"/></para>

    <bridgehead renderas="sect4">Facultatives Utilities (Graphics, Compression, Misc.)</bridgehead>
    <para role="optional"><xref linkend="aalib"/>,
    <xref linkend="cairo"/>,
    <xref linkend="cdparanoia"/>,
    <xref linkend="freetype2"/>,
    <xref linkend="GConf"/>,
    <xref linkend="gtk2"/>,
    <xref linkend="gnome-vfs"/>,
    <ulink url="http://talinux.fi.tal.org/pub/talinux/sources/Hermes-1.3.3.tar.gz">Hermes</ulink>,
    <ulink url="http://sam.zoy.org/projects/libcaca/">libcaca</ulink>,
    <ulink url="http://www.gnu.org/software/libcdio/">libcdio</ulink>,
    <ulink url="http://cvs.sourceforge.net/viewcvs.py/codecs/libcolorspace-pre/">libcolorspace</ulink>,
    <xref linkend="libjpeg"/> or
    <ulink url="http://sourceforge.net/projects/mjpeg/">MMX Jpeg</ulink>,
    <ulink url="http://eetpc20.bd.psu.edu/~rfisher/Research/Libmmx/libmmx.html">libmmx</ulink>,
    <xref linkend="libmng"/>,
    <xref linkend="liboil"/>,
    <xref linkend="libpng"/>,
    <xref linkend="NASM"/>,
    <xref linkend="pango"/> et
    <xref linkend="x-window-system"/></para>

    <bridgehead renderas="sect4">Bibliothèques/pilotes/codecs audio facultatives</bridgehead>
    <para role="optional"><xref linkend="alsa"/>,
    <xref linkend="arts"/>,
    <xref linkend="audiofile"/>,
    <ulink url="http://www.comedi.org/cgi-bin/viewcvs.cgi/audioresample/">audioresample</ulink>,
    <xref linkend="esound"/>,
    <xref linkend="faac"/>,
    <xref linkend="faad2"/>,
    <xref linkend="flac"/>,
    <ulink url="http://kbs.cs.tu-berlin.de/~jutta/toast.html">GSM</ulink>,
    <ulink url="http://jackit.sourceforge.net/">JACK</ulink>,
    <xref linkend="lame"/>,
    <xref linkend="liba52"/>,
    <ulink url="http://ronald.bitfreak.net/priv/">libamrnb</ulink>,
    <ulink url="http://libcdaudio.sourceforge.net/">libcdaudio</ulink>,
    <ulink url="http://www.videolan.org/libdca.html">libdts</ulink>,
    <xref linkend="libmad"/> (and
    <ulink url="http://sourceforge.net/projects/mad/">libid3tag</ulink>),
    <xref linkend="libmikmod"/>,
    <ulink url="http://www.musepack.net/">libmpcdec</ulink>,
    <xref linkend="libmusicbrainz"/>,
    <xref linkend="libogg"/>,
    <ulink url="http://www.linux1394.org/">libraw1394</ulink> (and
    <ulink url="http://sourceforge.net/projects/libavc1394/">libavc1394</ulink>),
    <ulink url="http://www.icecast.org/">libshout</ulink>,
    <ulink url="http://www.geocities.com/SiliconValley/Lakes/5147/sidplay/">libsidplay</ulink>,
    <ulink url="http://www.mega-nerd.com/libsndfile/">libsndfile</ulink>,
    <xref linkend="libvorbis"/>,
    <ulink url="http://www.ladspa.org/">LADSPA</ulink>,
<!--    <xref linkend="nas"/>,-->
    <ulink url="http://0pointer.de/lennart/projects/polypaudio/">polypaudio</ulink>,
    <xref linkend="speex"/>,
    <xref linkend="libtheora"/>,
    <ulink url="http://www.xiph.org/vorbis/">Tremor</ulink>,
    <ulink url="http://www.wavpack.com/">WavPack</ulink> et
    <ulink url="http://developers.videolan.org/x264.html">x264</ulink></para>

    <bridgehead renderas="sect4">Bibliothèques/pilotes/codecs vidéo facultatives</bridgehead>
    <para role="optional"><ulink url="http://sourceforge.net/projects/dirac/">Dirac</ulink>,
    <ulink url="http://directfb.org/">DirectFB</ulink>,
<!-- Dead link
    <ulink url="http://www.divx.com/divx/linux/">DivX4Linux</ulink>,
-->
    <ulink url="http://dxr3.sourceforge.net/">DXR3</ulink>,
    <xref linkend="libdv"/>,
    <ulink url="http://sourceforge.net/projects/dvd/">libdvdnav</ulink>,
    <xref linkend="libdvdread"/>,
    <xref linkend="libfame"/>,
    <xref linkend="libmpeg2"/>,
    <!-- <ulink url="https://cvs.comedi.org/cgi-bin/viewcvs.cgi/librfb/">librfb</ulink>, -->
    <ulink url="http://mjpeg.sourceforge.net/">MJPEG Tools</ulink>,
    <ulink url="http://www.thedirks.org/v4l2/">V4L2</ulink> et
    <xref linkend="xvid"/></para>

    <bridgehead renderas="sect4">Outils multimédia facultatifs</bridgehead>
    <para role="optional"><ulink url="http://sourceforge.net/projects/libmms">libmms</ulink>,
    <ulink url="http://sourceforge.net/projects/libvisual/">libvisual</ulink>,
    <xref linkend="sdl"/>,
    <ulink url="http://swfdec.sourceforge.net/">swfdec</ulink> et
    <xref linkend="xine-lib"/></para>

    <para condition="html" role="usernotes">Notes utilisateur&nbsp;:
    <ulink url="&blfs-wiki;/gst-plugins"/></para>

  </sect2>

  <sect2 role="installation">
    <title>Installation de GStreamer Plug-ins</title>

    <para>Installez <application>GStreamer Plug-ins</application> en lançant les
    commandes suivantes&nbsp;:</para>

<screen><userinput>sed -i -e 's|LIBS="-lGLU|LIBS="-L/usr/X11R6/lib -lGLU|' \
       -e '/GST_DOC/d' \
       -e 's/lx264 -lm/&amp; -lpthread/' \
    configure &amp;&amp;
sed -i 's/X264_LIBS@/&amp; -lpthread/' ext{,/x264}/Makefile.in &amp;&amp;

./configure --prefix=/usr --sysconfdir=/etc &amp;&amp;
make</userinput></screen>

    <para>Pour vérifier les résultats, lancez&nbsp;:</para>

<screen><userinput>sed -i 's|:\$(GST_LIB_DIR)/..||' gst/audioconvert/Makefile &amp;&amp;
make -C gst/audioconvert check</userinput></screen>

    <para>Sur certaines plateformes dans certaines situations, il se peut
    que les tests échouent car un ou plusieurs plugins échoueront à 
    s'enregistrer. Cel sera affiché dans la sortie de la commande. Si cela se
    produit, vous êtes invité à renommer le plugin problématique et à répéter
    la commande <command>make -C gst/audioconvert check</command>. Les deux
    tests devraient passer avant que vous ne continuiez. Renommar simplement le
    plugin problématique en ajoutant <filename class='extension'>.BAD</filename>
    à la fin du nom de fichier devrait suffir. Voici un exemple&nbsp;:</para>

<screen><userinput>mv gst/audioconvert/../../ext/xine/.libs/libgstxine.so{,.BAD}</userinput></screen>

    <para>Après que les tests se sont terminés avec succès,, si vous avez dû
    renommer un plugin, assurez-vous de le renommer dans son nom d'origine, sinon
    l'étape d'installation échouera.</para>

    <para>Maintenant, en tant qu'utilisateur <systemitem class="username">root</systemitem>&nbsp;:</para>

<screen role="root"><userinput>make install &amp;&amp;
ldconfig</userinput></screen>

    <para>Si vous avez dû renommer un plugin pour les tests pour les terminer
    avec succès, vous devrez également les renommer (ou les supprimer) pour que
    la commande <command>gst-register</command> s'achève avec succès. Les
    plugins ont été installés dans le répertoire
    <filename class='directory'>/usr/lib/gstreamer-0.8</filename>.
    Terminez l'installation en lançant les commandes command as the
    <systemitem class="username">root</systemitem>&nbsp;:</para>

<screen role="root"><userinput>gst-register</userinput></screen>

    <caution>
      <para>Si vous <command>touch</command>, <command>strip</command> ou faites
      quoique ce soit qui met à jour l'horodatage (une modification de temps)
      des fichiers de plugin, assurez-vous de réexécuter à nouveau la commande
      <command>gst-register</command> en tant qu'utilisateur <systemitem class="username">root</systemitem> user pour
      que l'horodatage du fichier de registre global 
      (<filename>/var/cache/gstreamer-0.8/registry.xml</filename>) soit  daté
      plus tard que l'horodatage d'un des fichiers de plugin.</para>
    </caution>

    <sect3>
      <title>Tester l'installation</title>

      <para>Pour tester le fonctionnement de l'installation terminée de
      <application>GStreamer</application>, vous pouvez lancer deux tests.
      Effectuez les tests en tant qu'utilisateur non privilégié.</para>

      <para>Le premier test devrait se terminer sans affichage d'erreur à
      l'écran&nbsp;:</para>

<screen><userinput>gst-launch --iterations=10000 sinesrc ! fakesink</userinput></screen>

      <para>Pour le prochain test, vous devrez choisir une méthode de sortie 
      valide pour votre système telle que osssink/esdsink/artsdsink/alsasink/jacksink. 
      Remplacez <replaceable>&lt;canal_sortie&gt;</replaceable> dans la commande
      ci-dessous par une méthode de sortie valide. L'exécution de la commande
      devrait produire un son C pendant une courte durée.</para>

<screen><userinput>gst-launch --iterations=50 sinesrc ! <replaceable>&lt;canal_sortie&gt;</replaceable></userinput></screen>

    </sect3>

  </sect2>

  <sect2 role="commands">
    <title>Explication des commandes</title>

    <para><command>sed -i ... configure</command>&nbsp;: La vérification des
    bibliothèques d'OpenGL (Mesa) échouera si <application>X</application> est
    installé dans un répertoire différent de <filename class='directory'>/usr</filename>. 
    Ces commandes adds ajoute un chemin de recherche supplémentaire. En outre,
    la commande supprime une ligne mal placçe et corrige les vérifications de
    la bibliothèque <application>x264</application>.</para>

    <para><command>sed -i ... ext{,/x264}/Makefile.in</command>&nbsp;: Cette
    commande ajoute la bibliothèque
    <filename class='libraryfile'>libpthread.so</filename> à la liste de
    bibliothèques exigées pour compiler correctement la bibliothèque
    <application>x264</application>.</para>

    <para><option>--with-gconf-schema-file-dir=&gnome-etc-dir;/gconf/schemas</option>&nbsp;:
    Utilisez cette option Si vous avez installé le paquet
    <application>GConf</application> de <application>GNOME-2</application>.</para>

    <para><option>--enable-gdk-pixbuf-loader</option>&nbsp;: Utilisez cette 
    option pour construire le module du chargeur pixbuf de GDK si vous avez 
    installé <application>GTK+-2</application>.</para>

    <para><option>--enable-xine</option>&nbsp;: Utilisez cette option pour
    construire le module enveloppe de <application>Xine</application> si
    vous avez installé le paquet <application>Xine Libraries</application> 
    Sur certaines plateformes, le module aura des corruptions et provoquera un 
    échec des suites de tests et de la commande 
    <command>gst-register</command>.</para>

    <!--
    <para><option>-enable-xine</option>>:nbsp;: Using this option to build the
    <application>Xine</application> wrapper module will break the build if you
    have <application>xine-libs</application>-&xine-lib-version;
    installed.</para>
    -->

    <para>Remarque&nbsp;: tous les autres modules sont construits si le script
    <command>configure</command>trouve le paquet de dépendance requis. Pour
    empêcher un module de se construire, passez 
    <option>--disable-<replaceable>&lt;module&gt;</replaceable></option> à
    <command>configure</command>. Lancez <command>configure --help</command>
    pour tous les noms de modules disponibles.</para>

  </sect2>

  <sect2 role="content">
    <title>Contenu</title>

    <segmentedlist>
      <segtitle>Programmes installés</segtitle>
      <segtitle>Bibliothèques installées</segtitle>
      <segtitle>Répertoires installés</segtitle>

      <seglistitem>
        <seg>gst-launch-ext-0.8 et gst-visualise-0.8</seg>
        <seg>libgst*.{so,a}, numerous <application>GStreamer</application> plugins,
        et un module de chargeur pixbuf de GDK
        <application>Gstreamer</application></seg>
        <seg>&gnome-etc-dir;/gconf/gconf.xml.defaults/schemas/system/gstreamer,
        &gnome-etc-dir;/gconf/gconf.xml.defaults/system/gstreamer,
        et many subdirs of /usr/include/gstreamer-0.8/gst</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Descriptions courtes</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="gst-launch-ext">
        <term><command>gst-launch-ext-0.8</command></term>
        <listitem>
          <para>est utilisé pour exécuter un pipeline 
          <application>GStreamer</application> prédéfini de base en tant que 
          test rapide pour garantir un bon travail des codecs et de
          <application>GStreamer</application>.</para>
          <indexterm zone="gst-plugins gst-launch-ext">
            <primary sortas="b-gst-launch-ext">gst-launch-ext-0.8</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="xxgst-visualise">
        <term><command>gst-visualise-0.8</command></term>
        <listitem>
          <para>est utilisé pour exécuter un pipeline
          <application>GStreamer</application> de base pour afficher une
          visualisation graphique d'un flux audio.</para>
          <indexterm zone="gst-plugins xxgst-visualise">
            <primary sortas="b-gst-visualise">gst-visualise-0.8</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
