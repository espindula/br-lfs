<?xml version="1.0" encoding="ISO-8859-1"?>
<sect2>
<title>Installation du correctif pour le noyau</title>

<warning>
<para>Notez que ce correctif pourrait endommager de façon permanente votre
lecteur de CD s'il fait partie de
<ulink url="http://slashdot.org/article.pl?sid=03/10/25/1737244"/>. N'appliquez
pas ce correctif sans vérifier en premier lieu cet article.</para>
</warning>

<para>Installez le correctif du noyau en lançant les commandes suivantes à
partir du répertoire des sources du noyau:</para>

<screen><userinput><command>patch -Np1 -i ../linux-2.4.26-packet.patch</command></userinput></screen>

<para>Dans la configuration du noyau, vérifiez votre paramètrage pour ce qui est
cité ci-dessous:</para>

<screen>Block devices
   Packet writing on CD/DVD media:       Y or M
File Systems
   UDF filesystems support (read only):  Y
     UDF write support (DANGEROUS)       Y</screen>

<para>SI nécessaire, recompilez le noyau avec</para>
<screen><userinput><command>make CC=/opt/gcc-2.95.3/bin/gcc dep &amp;&amp;
make CC=/opt/gcc-2.95.3/bin/gcc bzImage &amp;&amp;
make CC=/opt/gcc-2.95.3/bin/gcc modules &amp;&amp;
make CC=/opt/gcc-2.95.3/bin/gcc modules_install</command></userinput></screen>
<para>
Copiez <filename>/usr/src/linux/arch/i386/boot/bzImage</filename> et
<filename>/usr/src/linux/System.map</filename> dans
<filename class="directory">/boot</filename>. Si vous utilisez
<application>LILO</application>, éditez <filename>/etc/lilo.conf</filename>
de façon approprié et lancez <command>lilo</command>.
</para>

<para>Si vous construisez le créateur de paquets comme module, ajoutez ce qui
suit à <filename>/etc/modules.conf</filename>:</para>
<screen><userinput>alias block-major-97 pktcdvd</userinput></screen>

<para>Finalement, créez les noeuds pour le pilote du périphérique dans <filename
class="directory">/dev</filename>, ajoutez un noeud pour chaque lecteur
<acronym>CD</acronym>-<acronym>RW</acronym> que vous souhaitez gérer:</para>
<screen><userinput><command>mknod /dev/pktcdvd0 b 97 0
mknod /dev/pktcdvd1 b 97 1</command></userinput></screen>

</sect2>

