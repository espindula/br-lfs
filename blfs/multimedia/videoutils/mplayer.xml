<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

  <!ENTITY mplayer-download-http "http://www.linuxfromscratch.org/~krejzi/mplayer-1.0~rc4+svn20120427.tar.xz">
<!--  <!ENTITY mplayer-download-http "http://anduin.linuxfromscratch.org/sources/BLFS/svn/m/mplayer-svn_20120427.tar.xz">-->
   <!ENTITY mplayer-download-ftp  " ">
  <!ENTITY mplayer-md5sum        "f2723e317e5a6935af2460b48c3fa0c4 ">
  <!ENTITY mplayer-size          "10 MB">
  <!ENTITY mplayer-buildsize     "178 MB">
  <!ENTITY mplayer-time          "2.2 SBU">

  <!ENTITY mplayer-skin          "Blue-1.8.tar.bz2">
  <!ENTITY mplayer-skin-md5sum   "340368f4e33f767d9df109990fb29c02">
  <!ENTITY mplayer-skin-size     "218 Kio">
]>

<sect1 id="mplayer" xreflabel="MPlayer-&mplayer-version;">
  <?dbhtml filename="mplayer.html"?>

  <sect1info>
    <othername>$LastChangedBy&nbsp;: andy $</othername>
    <date>$Date&nbsp;: 2012-05-10 18:52:26 +0200 (Thu, 10 May 2012) $</date>
  </sect1info>

  <title>MPlayer-&mplayer-version;</title>

  <indexterm zone="mplayer">
    <primary sortas="a-MPlayer">MPlayer</primary>
  </indexterm>

  <sect2 role="package">
    <title>Introduction à MPlayer</title>

    <para>Le paquet <application>MPlayer</application> contient un puissant lecteur
    audio/vidéo contrôlable en ligne de commande ou par une interface graphique
    et capable de lire presque tous les formats audio et vidéo. Avec
    du matériel vidéo supporté et des pilotes supplémentaires,
    <application>MPlayer</application> peut lire des fichiers vidéo sans
    <application>système X Window</application> installé.</para>

    <para>Pour des informations générales sur <application>MPlayer</application>
    et les fonctionnalités disponibles, y compris une liste complète des formats
    de fichiers, des codecs et des périphériques de sortie supportés par
    <application>MPlayer</application>, rendez-vous sur
    <ulink url="http://www1.mplayerhq.hu/">
    le site Internet de <application>MPlayer</application></ulink>.</para>

    &lfs71_checked;

    <bridgehead renderas="sect3">Informations sur le paquet</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>Téléchargement (HTTP)&nbsp;: <ulink url="&mplayer-download-http;"/></para>
      </listitem>
      <listitem>
        <para>Téléchargement (FTP)&nbsp;: <ulink url="&mplayer-download-ftp;"/></para>
      </listitem>
      <listitem>
        <para>Somme de contrôle MD5 du téléchargement&nbsp;: &mplayer-md5sum;</para>
      </listitem>
      <listitem>
        <para>Taille du téléchargement&nbsp;: &mplayer-size;</para>
      </listitem>
      <listitem>
        <para>Estimation de l'espace disque requis&nbsp;: &mplayer-buildsize;</para>
      </listitem>
      <listitem>
        <para>Estimation du temps de construction&nbsp;: &mplayer-time;</para>
      </listitem>
    </itemizedlist>

    
    <bridgehead renderas="sect3">Téléchargements supplémentaires</bridgehead>

 <!--   <itemizedlist spacing='compact'>
      <title>Patches</title>
      <listitem>
        <para>Correctif requis&nbsp;: <ulink
        url="http://www.mplayerhq.hu/MPlayer/patches/asmrules_fix_20061231.diff"/></para>
      </listitem>
      <listitem>
        <para>Correctif requis&nbsp;: <ulink
        url="http://www.mplayerhq.hu/MPlayer/patches/cddb_fix_20070605.diff"/></para>
      </listitem>
      <listitem>
        <para>Correctif requis&nbsp;: <ulink
        url="&patch-root;/MPlayer-&mplayer-version;-ext_ffmpeg-1.patch"/></para>
      </listitem>
    </itemizedlist>
    -->
    
    <itemizedlist spacing='compact'>
      <title>Habillages</title>
      <listitem>
        <para>Habillage graphique par défaut&nbsp;: <ulink
        url="http://www.mplayerhq.hu/MPlayer/skins/&mplayer-skin;"/></para>
      </listitem>
      <listitem>
        <para>Somme de contrôle MD5 du téléchargement&nbsp;: &mplayer-skin-md5sum;</para>
      </listitem>
      <listitem>
        <para>Taille du téléchargement&nbsp;: &mplayer-skin-size;</para>
      </listitem>
      <listitem>
        <para>Habillages supplémentaires&nbsp;: <ulink
        url="http://www1.mplayerhq.hu/MPlayer/skins/"/></para>
      </listitem>
    </itemizedlist>
<!--
    <itemizedlist spacing='compact'>
      <title>Polices</title>
      <listitem>
        <para>Polices prédéfinies&nbsp;: <ulink
        url="http://www1.mplayerhq.hu/MPlayer/releases/fonts/&mplayer-font;.tar.bz2"/></para>
      </listitem>
      <listitem>
        <para>Somme de contrôle MD5 du téléchargement&nbsp;: &mplayer-font-md5sum;</para>
      </listitem>
      <listitem>
        <para>Taille du téléchargement&nbsp;: &mplayer-font-size;</para>
      </listitem>
      <listitem>
        <para>Polices supplémentaires&nbsp;: <ulink
        url="http://www1.mplayerhq.hu/MPlayer/releases/fonts/"/></para>
      </listitem>
    </itemizedlist>
    -->
    <para>Les peaux ne sont pas requises pour construire et utiliser <application>MPlayer</application>.</para>

    <bridgehead renderas="sect3">Dépendances de MPlayer</bridgehead>
    
    <bridgehead renderas="sect4">Requises</bridgehead>
    <para role="required">
    <xref linkend="yasm"/>
    </para>

    <bridgehead renderas="sect4">Recommandées</bridgehead>
    <para role="recommended">
    <xref linkend="x-window-system"/>
    </para>
  
    <bridgehead renderas="sect4">Bibliothèques et pilotes d'entrée audio facultatifs</bridgehead>
    <para role="optional">
    <xref linkend="cdparanoia"/>,
    <xref linkend="samba3"/>,
    <ulink url="http://www.videolan.org/developers/libbluray.html">libbluray</ulink>,
    <ulink url="http://www.gnu.org/software/libcdio/">libcdio</ulink>,
    <ulink url="http://www.live555.com/mplayer/">LIVE555 Streaming Media</ulink>,
    <ulink url="http://rtmpdump.mplayerhq.hu/">RTMPDump</ulink>,
    <ulink url="http://code.google.com/p/vstream-client/">TiVo vstream client</ulink> and
    <ulink url="http://www.xmms.org/">XMMS</ulink>
    <!-- Mplayer can only use internal versions of these at the moment:
    <xref linkend="libdvdread"/>,
    <xref linkend="libdvdnav"/>,
    <xref linkend="libdvdcss"/>,
    -->
    </para>

    <bridgehead renderas="sect4">Bibliothèques et pilotes de sortie audio facultatifs</bridgehead>
    <para role="optional">
      <xref linkend="alsa"/>,
	<!--<xref linkend="arts"/>,-->
      <xref linkend="esound"/>,
      <xref linkend='pulseaudio'/>,  
      <xref linkend="sdl"/>,
      <ulink url="http://jackaudio.org/">JACK</ulink>,
      <ulink url="http://openal.org/">OpenAL</ulink> et
      <ulink url="http://www.radscan.com/nas.html">NAS</ulink>
    </para>
    
    <bridgehead renderas="sect4">Bibliothèques et pilotes de sortie vidéo facultatifs</bridgehead>
    <para role="optional">
      <xref linkend="aalib"/>,
      <xref linkend="libpng"/>,
      <xref linkend="libjpeg"/>,
      <xref linkend="libmng"/>,
      <xref linkend="giflib"/>,
      <ulink url="http://www.directfb.org/">DirectFB</ulink>,
      <ulink url="http://sam.zoy.org/projects/libcaca/">libcaca</ulink>,
      <ulink url="http://www.svgalib.org/">SVGAlib</ulink> and
      <xref linkend="openjpeg"/>
    </para>

    <bridgehead renderas="sect4">CODEC facultatifs</bridgehead>
    <para role="optional">
      <xref linkend="libmad"/>,
      <xref linkend="LZO"/>,
      <xref linkend="speex"/>,
      <xref linkend="libtheora"/>,
      <xref linkend="mpg123"/>,
      <xref linkend="liba52"/>,
      <xref linkend="faac"/>,
      <xref linkend="faad2"/>,
      <xref linkend="libdv"/>,
      <xref linkend="xvid"/>,
      <xref linkend="libvpx"/>,
      <xref linkend="lame"/>,
      <ulink url="ftp://ftp.videolan.org/pub/videolan/vlc/0.8.2/contrib/toolame-02m-beta8.tar.bz2">tooLAME</ulink>,
      <ulink url="http://sourceforge.net/projects/twolame/">TwoLAME</ulink>,
      <ulink url="https://launchpad.net/libgsm">libgsm</ulink>,
      <ulink url="http://www.videolan.org/developers/libdca.html">libdca</ulink>,
      <ulink url="http://www.musepack.net/">libmpcdec</ulink>,
      <ulink url="http://sourceforge.net/projects/opencore-amr/">OpenCore Adaptive Multi Rate</ulink>,
      <ulink url="http://www.broadcom.com/support/crystal_hd/">CrystalHD</ulink>,
      <ulink url="http://www.videolan.org/developers/x264.html">x264</ulink>,
      <ulink url="http://diracvideo.org/download/dirac-research/">Dirac</ulink>,
      <ulink url="http://diracvideo.org/download/schroedinger/">Schroedinger</ulink>,
      <ulink url="http://wiki.multimedia.cx/index.php?title=NUT">libnut</ulink>
 
      <!-- MPlayer can only use an internal version of this at the moment
    <xref linkend="ffmpeg"/> -->
 
    </para>

    <bridgehead renderas="sect4">Dépendances facultatives diverses</bridgehead>
    <para role="optional">
      <xref linkend="fontconfig"/>,
      <xref linkend="freetype2"/>,
      <xref linkend="fribidi"/>,
      <xref linkend="unrar"/>,
      <xref linkend="gtk2"/> (requis pour le GUI),
      <ulink url="http://cihar.com/software/enca/">Enca</ulink>,
      <ulink url="http://www.ladspa.org/">LADSPA</ulink>,
      <ulink url="http://sourceforge.net/projects/bs2b/">libbs2b</ulink>,
      <ulink url="http://www.lirc.org/">LIRC</ulink> and
      <ulink url="http://www.dolda2000.com/~fredrik/lirccd/">LIRC Client Daemon</ulink>,
      <xref linkend="libxslt"/> (requis pour la construction de la documentation HTML),
      <xref linkend="DocBook"/> (requis pour la construction de la documentation HTML) et
      <xref linkend="docbook-xsl"/> (requis pour la construction de la documentation HTML)
  </para>

    <para condition="html" role="usernotes">Notes utilisateur&nbsp;:
    <ulink url="&blfs-wiki;/mplayer"/></para>

  </sect2>

  <sect2 role="installation">
    <title>Installation de MPlayer</title>

<!-- MPlayer can play most filetypes without this
    <sect3>
      <title>Installation des CODECs (facultatif)</title>

      <para>Si vous avez téléchargé des CODECs propriétaires, faites-en
	l'extraction dans <filename class="directory">/usr/lib/mplayer/codecs</filename>
        en utilisant les commandes suivantes en tant qu'utilisateur <systemitem
        class="username">root</systemitem> (remplacez et/ou ajoutez des noms
        de fichiers de CODEC différents si nécessaire)&nbsp;:</para>

<screen role="root"><userinput>install -v -d -m755 /usr/lib/mplayer/codecs &amp;&amp;
tar -xvf ../&mplayer-codec; \
    -C /usr/lib/mplayer/codecs -strip-components=1 &amp;&amp;
chown -v -R root:root /usr/lib/mplayer/codecs</userinput></screen>

      <para>Si vous avez installé des CODECs, assurez-vous d'ajouter
      <option>-codecsdir=/usr/lib/mplayer/codecs</option> dans le script
      <command>configure</command>.</para>

    </sect3>

 -->
 <!--No longer needed
    <sect3>

      <title>Installation du support OSD et des sous-titres (Facultative)</title>

      <para>Pour activer le support de l'OSD (<foreignphrase>On Screen Display</foreignphrase>,
      affichage à l'écran) et des sous-titres, ajoutez 
      <option>-enable-menu</option> au script <command>configure</command>.
      Vous devrez aussi paramétrer au moins une police (voir les instructions
      d'installation des police un peu plus loin).</para>

    </sect3>
    -->
    
    <sect3>
      <title>Installation du MPlayer principal</title>

      <note>
        <para>Les mainteneurs du paquet recommandent de construire sans
        optimisations.</para>
      </note>

      <para>Il se peut que vous souhaitiez examiner la sortie de
      <command>./configure --help</command> pour savoir les paramètres
      supplémentaires de <command>configure</command> nécessaires pour
	les dépendances que vous avez installées sur votre systèmes.</para>
      
      <para>Installez <application>MPlayer</application> en lançant les commandes
      suivantes&nbsp;:</para>

<screen><userinput>./configure --prefix=/usr \
            --confdir=/etc/mplayer \
            --enable-dynamic-plugins \
	    --enable-menu \
	    --enable-gui &amp;&amp;
make</userinput></screen>

      <para>Ce paquet n'est pas fourni avec une suite de tests.</para>

      <para>Maintenant, en tant qu'utilisateur <systemitem class="username">root</systemitem>&nbsp;:</para>

<screen role="root"><userinput>make install &amp;&amp;</userinput></screen>

<para>Pour construire et installer la documentation HTML, lancer en tant qu'utilisateur
<systemitem class="username">root</systemitem>&nbsp;:</para>

<screen role="root"><userinput>make doc &amp;&amp;
install -d /usr/share/doc/mplayer-&mplayer-version; &amp;&amp;
cp -v DOCS/HTML/en/* /usr/share/doc/mplayer-&mplayer-version;</userinput></screen>

      <para>Vous n'aurez besoin de <filename>codecs.conf</filename> que si
      vous voulez modifier ses propriétés, vu que le binaire principal en contient
      une copie interne. Assurez que toutes vos modifications de
      <filename>codecs.conf</filename> aboutisse au résultat désiré vu que des
      entrées incorrectes dans ce fichier sont connues pour provoquer des erreurs
      et rendre le lecteur inutilisable. Si nécessaire,
      créez le fichier en utilisant la commande suivante.</para>

<screen role="root"><userinput>install -m644 etc/codecs.conf /etc/mplayer</userinput></screen>

      <para>Il se peut aussi que vous souhaitiez copier tous les fichiers de
      configuration par défaut vers 
      <filename class='directory'>/etc/mplayer</filename> pour vous y référer
      plus tard ou pour pouvoir les personnaliser.</para>

<screen role="root"><userinput>install -v -m644 etc/*.conf /etc/mplayer</userinput></screen>

      <!-- Is this needed?
      <para><application>MPlayer</application> exige que le RTC s'exécute
      à une fréquence de 1024 Hz. Faites changer ce paramètre au moment du 
      démarrage en ajoutant une ligne à <filename>/etc/sysctl.conf</filename>&nbsp;:</para>

<screen role="root"><userinput>echo "dev.rtc.max-user-freq=1024" >> /etc/sysctl.conf</userinput></screen>
-->

    </sect3>

    <sect3>
      <title>Installation de peau (facultatif)</title>

      <para>Pour activer l'interface GTK de <application>MPlayer</application>,
      vous devez au moins installer une peau. Extraire la peau souhaitée et créer le répertoire par défaut
      (en tant qu'utilisateur <systemitem class="username">root</systemitem>)&nbsp;:</para>

<!-- moved from within screen.../screen but kept in case ever needed.
 we are already root ; almost everything in the skin is a graphic
chown -v -R root:root /usr/share/mplayer/skins/Blue &amp;&amp;
chmod -v 755 /usr/share/mplayer/skins/Blue{,/icons} &amp;&amp;-->
<screen role="root"><userinput>tar -xvf ../&mplayer-skin; \
    -C /usr/share/mplayer/skins &amp;&amp;
ln -sfv Blue /usr/share/mplayer/skins/default</userinput></screen>

    </sect3>

<!--
    <sect3>

      <title>Installation de la police OSD et des sous-titres (Exigé si '-enable-menu'
      a été passé à 'configure')</title>

      <para>La méthode recommandée pour paramétrer une police pour
      <application>MPlayer</application> est de lier un fichier TTF à un
      répertoire <filename class="directory">/usr/share/mplayer</filename>.
      Par exemple&nbsp;:</para>

<screen><userinput>install -v -m750 -d /usr/share/mplayer &amp;&amp;
ln -v -sf /usr/share/fonts/X11-TTF/luxisri.ttf \
    ~/.mplayer/subfont.ttf</userinput></screen>

      <para>Il y diverses autres manières de paramétrer un paquet de polices. 
      Pour utiliser un paquet de polices <application>MPlayer</application> 
      préfabriqué, faites l'extraction et liez une des archives tar de polices
      en utilisant les commandes suivantes&nbsp;:</para>

<screen role="root"><userinput>tar -xvf ../&mplayer-font;.tar.bz2 \
    -C /usr/share/mplayer/font &amp;&amp;
chown -v -R root:root /usr/share/mplayer/font &amp;&amp;
cd /usr/share/mplayer/font &amp;&amp;
ln -v -sf &mplayer-font;/font-arial-<replaceable>&lt;font size&gt;</replaceable>-iso-8859-1/* .</userinput></screen>

      <para>La taille des polices disponibles est de 14, 18, 24 ou 28.</para>

      <para>Vous pouvez trouver des informations supplémentaires ainsi que des
      méthodes supplémentaires pour paramétrer un paquet de polices
      <application>MPlayer</application> sur <ulink
      url="http://www.mplayerhq.hu/DOCS/HTML/en/subosd.html#mpsub-install"/>.</para>

    </sect3>
    -->
    <!--
      Following section should be removed after BLFS-6.2.
      Current Udev creates persistent cd/dvd links automatically
    <sect3>
      <title>Installation pour le retour de DVD (Facultatif)</title>

      <para>Si vous voulez un retour DVD avec <application>MPlayer</application>,
      vous devez vous assurer qu'un lien existe entre votre lecteur DVD et
      <filename>/dev/dvd</filename>. Ce processus est décrit dans la section
      <ulink url="&lfs-root;/chapter07/symlinks.html">Créez des
      liens symboliques personnalisés vers les périphériques</ulink> de LFS.
      L'utilisateur doit faire partie du groupe
      <systemitem class="groupname">cdrom</systemitem> pour utiliser le
      périphérique.</para>

    </sect3>
    -->

  </sect2>

  <sect2 role="commands">
    <title>Explications des commandes</title>

    <para><parameter>--enable-gui</parameter>&nbsp;: Cette option est initialisée pour construire GMPlayer,
    une interface GTK pour MPlayer.</para>
    <para><parameter>--enable-menu</parameter>&nbsp;: Cette option est initialisée pour activer l'affichage
    par dessus l'écran d'affichage.</para>
<!--
   <para><parameter>-codecsdir=/usr/lib/mplayer/codecs</parameter>&nbsp;: utilisez cette option si vous
   avez installé les codec binaires.</para>
-->
   
  </sect2>

  <sect2 role="configuration">
    <title>Configuration de MPlayer</title>

    <sect3 id="mplayer-config">
      <title>Fichiers de configuration</title>

      <para><filename>/etc/mplayer/*</filename> et
      <filename>~/.mplayer/*</filename></para>

      <indexterm zone="mplayer mplayer-config">
        <primary sortas="e-AA.mplayer">~/.mplayer/*</primary>
      </indexterm>

      <indexterm zone="mplayer mplayer-config">
        <primary sortas="e-etc-mplayer">/etc/mplayer/*</primary>
      </indexterm>

    </sect3>

    <sect3>
      <title>Informations de configuration</title>

      <para>Normalement, aucune configuration est nécessaire pour les fichiers
      du système global dans <filename class='directory'>/etc/mplayer</filename> 
      (en fait, ce répertoire est vide, sauf si vous avez copié les fichiers par
      défaut comme indiqué ci-dessus). Vous pouvez faire une configuration 
      en choisissant le bouton de configuration qui se trouve sur l'interface
      graphique de <application>MPlayer</application>. Tout changement
      de configuration que vous y faites dans le GUI sera copié dans le répertoire
      <filename class='directory'>~/.mplayer</filename> de l'utilisateur.</para>

    </sect3>

  </sect2>

  <sect2 role="content">
    <title>Contenu</title>

    <segmentedlist>
      <segtitle>Programmes installés</segtitle>
      <segtitle>Bibliothèques installées</segtitle>
      <segtitle>Répertoires installés</segtitle>

      <seglistitem>
        <seg>gmplayer, mplayer et mencoder</seg>
        <seg>none</seg>
        <seg>
          /etc/mplayer,
          /usr/lib/mplayer,
          /usr/share/mplayer et
          /usr/share/doc/mplayer
       </seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Descriptions courtes</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="gmplayer">
        <term><command>gmplayer</command></term>
        <listitem>
          <para>est un lien symbolique vers <command>mplayer</command> qui
          affiche l'interface GTK de
          <application>MPlayer</application>.</para>
          <indexterm zone="mplayer gmplayer">
            <primary sortas="b-gmplayer">gmplayer</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="mplayer-prog">
        <term><command>mplayer</command></term>
        <listitem>
          <para>est le lecteur vidéo Mplayer principal.</para>

          <indexterm zone="mplayer mplayer-prog">
            <primary sortas="b-mplayer">mplayer</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="mencoder">
        <term><command>mencoder</command></term>
        <listitem>
          <para>est un puissant décodeur, encodeur et outil de filtrage vidéo en ligne de commande.</para>

          <indexterm zone="mplayer mencoder">
            <primary sortas="b-mencoder">mencoder</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
