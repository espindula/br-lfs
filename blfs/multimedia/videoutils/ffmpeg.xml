<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN"
   "http://www.oasis-open.org/docbook/xml/4.3/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

  <!ENTITY ffmpeg-download-http "http://prdownloads.sourceforge.net/ffmpeg/ffmpeg-&ffmpeg-version;.tar.gz">
  <!ENTITY ffmpeg-download-ftp  " ">
  <!ENTITY ffmpeg-md5sum        "ea5587e3c66d50b1503b82ac4179c303">
  <!ENTITY ffmpeg-size          "1.6 MB">
  <!ENTITY ffmpeg-buildsize     "49 MB">
  <!ENTITY ffmpeg-time          "0.87 SBU">
]>

<sect1 id="ffmpeg" xreflabel="FFmpeg-&ffmpeg-version;">
<sect1info>
<othername>$LastChangedBy: randy $</othername>
<date>$Date: 2005-06-15 07:18:39 $</date>
</sect1info>
<?dbhtml filename="ffmpeg.html"?>
<title>FFmpeg-&ffmpeg-version;</title>
<indexterm zone="ffmpeg">
<primary sortas="a-FFmpeg">FFmpeg</primary></indexterm>

<sect2>
<title>Introduction to <application>FFmpeg</application></title>

<para><application>FFmpeg</application> is a solution to record, convert and 
stream audio and video. It is a very fast video and audio converter and it can 
also acquire from a live audio/video source. Designed to be intuitive, the 
command-line interface (<command>ffmpeg</command>) tries to figure out all the 
parameters, when possible. <application>FFmpeg</application> can also convert 
from any sample rate to any other, and resize video on the fly with a high 
quality polyphase filter. <application>FFmpeg</application> can use a 
video4linux compatible video source and any Open Sound System audio 
source.</para>

<sect3><title>Package information</title>
<itemizedlist spacing='compact'>
<listitem><para>Download (HTTP): 
<ulink url="&ffmpeg-download-http;"/></para></listitem>
<listitem><para>Download (FTP): 
<ulink url="&ffmpeg-download-ftp;"/></para></listitem>
<listitem><para>Download MD5 sum: &ffmpeg-md5sum;</para></listitem>
<listitem><para>Download size: &ffmpeg-size;</para></listitem>
<listitem><para>Estimated disk space required: 
&ffmpeg-buildsize;</para></listitem>
<listitem><para>Estimated build time: 
&ffmpeg-time;</para></listitem></itemizedlist>
</sect3>

<sect3><title><application>FFmpeg</application> dependencies</title>
<sect4><title>Optional</title>
<para><xref linkend="libvorbis"/>, 
<xref linkend="lame"/>, 
<xref linkend="liba52"/>, 
<xref linkend="imlib2"/>, 
X (<xref linkend="xfree86"/> or <xref linkend="xorg"/>), 
<xref linkend="sdl"/>, 
<xref linkend="freetype2"/>, 
<ulink url="http://www.audiocoding.com/modules/mydownloads/">FAAC</ulink>, 
<ulink url="http://www.audiocoding.com/modules/mydownloads/">FAAD</ulink> and 
<xref linkend="tex"/> (to build <acronym>HTML</acronym> documentation)</para>
</sect4>
</sect3>

</sect2>

<sect2>
<title>Installation of <application>FFmpeg</application></title>

<para>Install <application>FFmpeg</application> by running the following 
commands:</para>

<note><para>Review the <filename>doc/optimization.txt</filename> file in the 
source tree for information about optimizing the build.</para></note>

<screen><userinput><command>./configure --prefix=/usr --enable-shared \
    --enable-pthreads --disable-ffplay &amp;&amp;
make &amp;&amp;
make -C doc {ffmpeg,ffserver,ffplay}.1</command></userinput></screen>

<para>Now, as the root user:</para>

<screen><userinput role='root'><command>make install</command></userinput></screen>

<para>If you have <application>TeX</application> installed and you wish to 
install the <acronym>HTML</acronym> documentation, run the following 
command as an unprivileged user:</para>

<screen><userinput><command>make -C doc</command></userinput></screen>

<para>Now, as the root user:</para>

<screen><userinput role='root'><command>install -v -d -m755 /usr/share/doc/ffmpeg-&ffmpeg-version; &amp;&amp;
install -v -m644 doc/*.html /usr/share/doc/ffmpeg-&ffmpeg-version;</command></userinput></screen>

</sect2>

<sect2>
<title>Command explanations</title>

<para><parameter>--enable-shared</parameter>: This switch is needed to
build the <filename class="libraryfile">libavcodec</filename> and 
<filename class="libraryfile">libavformat</filename> shared 
libraries.</para>

<para><parameter>--enable-pthreads</parameter>: This switch enables the 
build to link against the Posix threads library.</para>

<para><option>--disable-ffplay</option>: Only installs the server part.
<command>ffplay</command> requires <application>X</application> for 
building. Remove this option if <application>X</application> is 
installed.</para>

<para><option>--enable-<replaceable>[codec]</replaceable></option>: Review
the available options and codecs using the 
<command>./configure --help</command> command.</para>

<para><command>make -C doc {ffmpeg,ffserver,ffplay}.1</command>: This builds 
the man pages which are installed by <command>make install</command>.</para>

<note><para>Linking the <application>liba52</application> library using the 
<option>--enable-a52</option> parameter to <command>configure</command> is 
known to break the build.</para></note>

</sect2>

<sect2>
<title>Configuring <application>FFmpeg</application></title>

<sect3 id="ffmpeg-config"><title>Config files</title>

<para><filename>/etc/ffserver.conf</filename> and 
<filename>~/.ffmpeg/ffserver-config</filename></para>

<indexterm zone="ffmpeg ffmpeg-config">
<primary 
sortas="e-AA.ffmpeg-ffserver-config">~/.ffmpeg/ffserver-config</primary>
</indexterm>
<indexterm zone="ffmpeg ffmpeg-config">
<primary sortas="e-etc-ffserver.conf">/etc/ffserver.conf</primary>
</indexterm>

<para>You'll find a sample ffserver configuration file at
<ulink url="http://ffmpeg.sourceforge.net/sample.html"/> (also 
<filename>doc/ffserver.conf</filename> in the source tree).</para>
</sect3>

</sect2>

<sect2>
<title>Contents</title>

<segmentedlist>
<segtitle>Installed Programs</segtitle>
<segtitle>Installed Libraries</segtitle>
<segtitle>Installed Directories</segtitle>
<seglistitem>
<seg>ffmpeg, ffserver and optionally, ffplay</seg>
<seg>libavcodec.so, libavformat.so and video hook modules</seg>
<seg>/usr/include/ffmpeg, /usr/lib/vhook and 
/usr/share/doc/ffmpeg-&ffmpeg-version;</seg>
</seglistitem>
</segmentedlist>

<variablelist>
<bridgehead renderas="sect3">Short Descriptions</bridgehead>
<?dbfo list-presentation="list"?>

<varlistentry id="ffmpeg-prog">
<term><command>ffmpeg</command></term>
<listitem><para>is a command-line tool to convert video files, network streams 
and input from a <acronym>TV</acronym> card to several video formats.</para>
<indexterm zone="ffmpeg ffmpeg-prog">
<primary sortas="b-ffmpeg">ffmpeg</primary></indexterm>
</listitem>
</varlistentry>

<varlistentry id="ffplay">
<term><command>ffplay</command></term>
<listitem><para>is a very simple and portable media player using the 
<filename>ffmpeg</filename> libraries and the <acronym>SDL</acronym> 
library.</para>
<indexterm zone="ffmpeg ffplay">
<primary sortas="b-ffplay">ffplay</primary></indexterm>
</listitem>
</varlistentry>

<varlistentry id="ffserver">
<term><command>ffserver</command></term>
<listitem><para>is a streaming server for everything that 
<command>ffmpeg</command> could use as input (files, streams, TV card input, 
webcam, etc.).</para>
<indexterm zone="ffmpeg ffserver">
<primary sortas="b-ffserver">ffserver</primary></indexterm>
</listitem>
</varlistentry>

<varlistentry id="libavcodec">
<term><filename class='libraryfile'>libavcodec.so</filename></term>
<listitem><para>is a library containing the <application>FFmpeg</application> 
codecs (both encoding and decoding).</para>
<indexterm zone="ffmpeg libavcodec">
<primary sortas="c-libavcodec">libavcodec.so</primary></indexterm>
</listitem>
</varlistentry>

<varlistentry id="libavformat">
<term><filename class='libraryfile'>libavformat.so</filename></term>
<listitem><para>is a library containing the file formats handling (mux and 
demux code for several formats) used by <command>ffplay</command> as well as 
allowing the generation of  audio or video streams.</para>
<indexterm zone="ffmpeg libavformat">
<primary sortas="c-libavformat">libavformat.so</primary></indexterm>
</listitem>
</varlistentry>
</variablelist>

</sect2>

</sect1>

