<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

  <!ENTITY freetts-download-http "&sourceforge-repo;/freetts/freetts-&freetts-version;-src.zip">
  <!ENTITY freetts-download-ftp  " ">
  <!ENTITY freetts-md5sum        "692b5ece251fed88539736e55af5f391">
  <!ENTITY freetts-size          "13.5 Mo">
  <!ENTITY freetts-buildsize     "92 Mo">
  <!ENTITY freetts-time          "0.3 SBU">

  <!ENTITY freetts-testsuite-download  "&sourceforge-repo;/freetts/freetts-&freetts-version;-tst.zip">
  <!ENTITY freetts-testsuite-md5sum    "4348c7db928612d4b6f6eb2fd621a949">
  <!ENTITY freetts-testsuite-size      "3.8 Mo">

]>

<sect1 id="freetts" xreflabel="FreeTTS-&freetts-version;">
  <?dbhtml filename="freetts.html"?>

  <sect1info>
    <othername>$LastChangedBy: ken $</othername>
    <date>$Date: 2012-01-24 04:05:41 +0100 (mar. 24 janv. 2012) $</date>
  </sect1info>

  <title>FreeTTS-&freetts-version;</title>

  <indexterm zone="freetts">
    <primary sortas="a-FreeTTS">FreeTTS</primary>
  </indexterm>

  <sect2 role="package">
    <title>Introduction à FreeTTS</title>

    <para>Le paquet <application>FreeTTS</application> contient un système
    de synthèse vocale écrit entièrement en langage de programmation
    <application>Java</application>. Il se base sur
    <ulink url="http://www.cmuflite.org/">Flite</ulink>&nbsp;: un petit moteur
    de synthèse vocale en exécution développé là l'Université de Carnegie 
    Mellon. <application>Flite</application> est dérivé du système de synthèse
    vocale <ulink url="http://www.cstr.ed.ac.uk/projects/festival/">Festival</ulink>
    de l'Université d'Edinburgh et du projet
    <ulink url ="http://festvox.org/">FestVox</ulink> de l'Université de Carnegie
    Mellon. Le paquet <application>FreeTTS</application> est utilisé pour
    convertir du texte en parole audible sur du matériel audio.</para>

    &lfs70_checked;

    <bridgehead renderas="sect3">Informations sur le paquet</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>Téléchargement (HTTP)&nbsp;: <ulink url="&freetts-download-http;"/></para>
      </listitem>
      <listitem>
        <para>Téléchargement (FTP)&nbsp;: <ulink url="&freetts-download-ftp;"/></para>
      </listitem>
      <listitem>
        <para>Somme de contrôle MD5 du téléchargement&nbsp;: &freetts-md5sum;</para>
      </listitem>
      <listitem>
        <para>Taille du téléchargement&nbsp;: &freetts-size;</para>
      </listitem>
      <listitem>
        <para>Estimation de l'espace disque requis&nbsp;: &freetts-buildsize;</para>
      </listitem>
      <listitem>
        <para>Estimation du temps de construction&nbsp;: &freetts-time;</para>
      </listitem>
    </itemizedlist>

    <bridgehead renderas="sect3">Téléchargements supplémentaires</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>Suite de tests&nbsp;: <ulink url="&freetts-testsuite-download;"/></para>
      </listitem>
      <listitem>
        <para>Somme de contrôle MD5 du téléchargement&nbsp;: &freetts-testsuite-md5sum;</para>
      </listitem>
      <listitem>
        <para>Taille du téléchargement&nbsp;: &freetts-testsuite-size;</para>
      </listitem>
    </itemizedlist>

    <bridgehead renderas="sect3">Dépendances de FreeTTS</bridgehead>

    <bridgehead renderas="sect4">Requises</bridgehead>
    <para role="required"><xref linkend="apache-ant"/>,
    <xref linkend='sharutils'/>
    (pour le programme <command>uudecode</command>),
    et working audio hardware/software.</para>

    <para condition="html" role="usernotes">Notes utilisateur&nbsp;:
    <ulink url="&blfs-wiki;/freetts"/></para>

  </sect2>

  <sect2 role="installation">
    <title>Installation de FreeTTS</title>

    <para>Le paquet <application>FreeTTS</application> est distribué au format
    ZIP et la commande <command>unzip</command> command va créer par défaut
    un répertoire source inhabituel. En outre, la décompression du fichier de
    la suite de tes!s posera des questions sur le remplacement de fichiers
    existant. Utilisez les commandes suivantes pour
    <command>unzip</command> les fichiers des sources&nbsp;:</para>

<screen><userinput>unzip -q freetts-&freetts-version;-src.zip -x META-INF/* &amp;&amp;
unzip -q freetts-&freetts-version;-tst.zip -x META-INF/*</userinput></screen>

    <tip>
      <para>La commande <command>sh jsapi.sh</command> ci-dessous installe les
      composants de l'API vocal de Java dans l'arborescence du source de
      <application>FreeTTS</application>. Vous devrez regarder et accepter (en
      entrant un appui sur la touche 
      <keycap>y</keycap>) un accord de licence avant que l'installation ne
      continue. Si vous scriptez (automatisez) la construction, vous devrez en
      tenir compte. Il y a des information abouts sur l'automatisation des
      commandes de construction dans la section 
      <xref linkend="automating-builds"/> du chapitre 2. Vers la fin de
      cette section, sont données des informations spécifiques pour automatser 
      ce type d'installation.</para>
    </tip>

    <para>Installez <application>FreeTTS</application> en lançant les commandes
    suivantes&nbsp;:</para>

<screen><userinput>sed -i 's/value="src/value="./' build.xml &amp;&amp;
cd lib      &amp;&amp;
sh jsapi.sh &amp;&amp;
cd ..       &amp;&amp;
ant</userinput></screen>

    <para>Pour tester les résultats, lancez&nbsp;:</para>

<screen><userinput>ant junit &amp;&amp;
cd tests &amp;&amp;
sh regression.sh &amp;&amp;
cd ..</userinput></screen>

    <para>Maintenant, en tant qu'utilisateur <systemitem class="username">root</systemitem>&nbsp;:</para>

<screen role="root"><userinput>
install -v -m755 -d /opt/freetts-&freetts-version;/{lib,docs/{audio,images}} &amp;&amp;
install -v -m644 lib/*.jar /opt/freetts-&freetts-version;/lib                &amp;&amp;
install -v -m644 *.txt RELEASE_NOTES docs/*.{pdf,html,txt,sx{w,d}} \
                              /opt/freetts-&freetts-version;/docs           &amp;&amp;
install -v -m644 docs/audio/*  /opt/freetts-&freetts-version;/docs/audio     &amp;&amp;
install -v -m644 docs/images/* /opt/freetts-&freetts-version;/docs/images    &amp;&amp;
cp -v -R javadoc               /opt/freetts-&freetts-version;                &amp;&amp;
ln -v -s freetts-&freetts-version; /opt/freetts</userinput></screen>

    <para>À titre facultatif, installez un ou tous les composants
    <application>FreeTTS</application> supplémentaires en utilisant les
    commandes suivantes en tant qu'utilisateur <systemitem class="username">root</systemitem>
    (voir la section d'explication des commandes pour des détails)&nbsp;:</para>

<screen role="root"><userinput>cp -v -R bin /opt/freetts-&freetts-version;        &amp;&amp;
install -v -m644 speech.properties $JAVA_HOME/jre/lib &amp;&amp;
cp -v -R tools  /opt/freetts-&freetts-version;        &amp;&amp;
cp -v -R mbrola /opt/freetts-&freetts-version;        &amp;&amp;
cp -v -R demo   /opt/freetts-&freetts-version;</userinput></screen>

  </sect2>

  <sect2 role="commands">
    <title>Explication des commandes</title>

    <para><command>sed -i 's/value="src/value="./' build.xml</command>: corrige une erreur
    dans le fichier de construction pour permettre au programme de trouver les sources.</para>

    <para><command>sh jsapi.sh</command>&nbsp;: Cette commande installe les
    composants <application>Java Speech API</application> dans l'arborescence
    des sources de <application>FreeTTS</application>.</para>

    <para><command>ant</command>>:nbsp;: <application>FreeTTS</application> utilise
    le système de construction <application>Apache Ant</application> à la place
    de GNU <application>autotools</application>. Ces commandes construit
    tout, même les bibliothèques de classe, les outils et les démos.</para>

    <para><command>cp -v -R bin ...</command>;
    <command>install -v -m644 speech.properties</command>&nbsp;: Ces deux
    commandes installent les programmes de démonstration. Copiez éventuellement le
    fichier <filename>speech.properties</filename> vers
    <filename>~/speech.properties</filename> si vous ne voulez pas le
    rendre disponible pour tout le système.</para>

    <para><command>cp -v -R tools ...</command>&nbsp;: Ceci installe les outils
    d'importation de données de voix. Voir les fichiers <filename>README.html</filename> 
    dans les sous-répertoires <filename class='directory'>tools/</filename> pour
    des informations et des instructions sur l'utilisation des outils.</para>

    <para><command>cp -v -R mbrola ...</command>&nbsp;: Ceci installe le fichier
    <filename class='libraryfile'>mbrola.jar</filename>, exigé si vous
    utilisez les voix de <ulink
    url="http://freetts.sourceforge.net/mbrola/README.html">MBROLA</ulink>.</para>

    <para><command>cp -v -R demo ...</command>&nbsp;: Ceci installe les sources
    et la documentation des programmes de démonstration.</para>

    <para>Pour des informations et de la documentation supplémentaires sur le
    projet <application>FreeTTS</application>, visitez la page Internet
    principale du projet sur
    <ulink url="http://freetts.sourceforge.net"/>.</para>

  </sect2>

  <sect2 role="testing">
    <title>Tester l'installation</title>

    <para>Testez l'installation en utilisant la commande suivante&nbsp;:</para>

<screen><userinput>java -jar /opt/freetts/lib/freetts.jar \
    -text "This is a test of the FreeTTS speech synthesis system"</userinput></screen>

    <para>Selon le paramétrage de votre pilote et de votre logiciel son, il se
    peut que vous deviez ajouter l'option <option>-streaming</option> à la
    commande comme indiqué ci-dessous&nbsp;:</para>

<screen><userinput>java -jar /opt/freetts/lib/freetts.jar -streaming \
    -text "This is a test of the FreeTTS speech synthesis system"</userinput></screen>

  </sect2>

  <sect2 role="content">
    <title>Contenu</title>

    <segmentedlist>
      <segtitle>Programmes installés</segtitle>
      <segtitle>Bibliothèques installées</segtitle>
      <segtitle>Répertoire installé</segtitle>

      <seglistitem>
        <seg>Aucun</seg>
        <seg>/opt/freetts-&freetts-version;/lib/*.jar</seg>
        <seg>/opt/freetts-&freetts-version;</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Descriptions courtes</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry>
        <term><filename class='libraryfile'>*.jar </filename></term>
        <listitem>
          <para>contient les bibliothèques de classes qui font fonctionner le
          système <application>FreeTTS</application> de synthèse vocale.</para>
        </listitem>
      </varlistentry>
    </variablelist>

  </sect2>

</sect1>
