<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;
  <!ENTITY espgs-download-http "http://ftp.funet.fi/pub/mirrors/ftp.easysw.com/pub/ghostscript/&espgs-version;/espgs-&espgs-version;-source.tar.bz2">
  <!ENTITY espgs-download-ftp  "ftp://ftp.easysw.com/pub/ghostscript/&espgs-version;/espgs-&espgs-version;-source.tar.bz2">
  <!ENTITY espgs-md5sum        "e74e0463e0bfb1cea3db245d8e71828c">
  <!ENTITY espgs-size          "8.7 Mo">
  <!ENTITY espgs-buildsize     "108 Mo (includes installing libgs.so et both font tarballs)">
  <!ENTITY espgs-time          "2.3 SBU (includes building et installing libgs.so)">
  <!ENTITY espgs-standard-fonts-download "ftp://ftp.imagemagick.org/pub/ImageMagick/delegates/ghostscript-fonts-std-8.11.tar.gz">
  <!ENTITY espgs-standard-fonts-md5sum   "6865682b095f8c4500c54b285ff05ef6">
  <!ENTITY espgs-standard-fonts-size     "3.7 Mo">
  <!ENTITY espgs-other-fonts-download    "http://ftp.gnu.org/pub/gnu/ghostscript/gnu-gs-fonts-other-6.0.tar.gz">
  <!ENTITY espgs-other-fonts-md5sum      "33457d3f37de7ef03d2eea05a9e6aa4f">
  <!ENTITY espgs-other-fonts-size        "796 Ko">
]>
<sect1 id="espgs" xreflabel="ESP Ghostscript-&espgs-version;">
  <?dbhtml filename="espgs.html"?>
  <sect1info>
    <othername>$LastChangedBy&nbsp;: bdubbs $</othername>
    <date>$Date&nbsp;: 2012-05-13 00:50:31 +0200 (Sun, 13 May 2012) $</date>
  </sect1info>
  <title>ESP Ghostscript-&espgs-version;</title>
  <indexterm zone="espgs">
    <primary sortas="a-ESP-Ghostscript">ESP Ghostscript</primary>
  </indexterm>
  <sect2 role="package">
    <title>Introduction à ESP Ghostscript</title>
    <para><application>ESP Ghostscript</application> est un calculateur souple
    de données PostScript offrant la possibilité de produire du PostScript pour
    différentes cibles. <application>ESP Ghostscript</application> est une
    version personnalisée de GNU Ghostscript qui inclut un script de configuration
    amélioré, le pilote raster de <application>CUPS</application> pour
    supporter des pilotes d'imprimantes raster <application>CUPS</application>,
    et des correctifs et des pilotes supplémentaires issus de diverses
    distributors Linux.</para>
    <bridgehead renderas="sect3">Informations sur le paquet</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>Téléchargement (HTTP)&nbsp;: <ulink url="&espgs-download-http;"/></para>
      </listitem>
      <listitem>
        <para>Téléchargement (FTP)&nbsp;: <ulink url="&espgs-download-ftp;"/></para>
      </listitem>
      <listitem>
        <para>Somme de contrôle MD5 du téléchargement&nbsp;: &espgs-md5sum;</para>
      </listitem>
      <listitem>
        <para>Taille du téléchargement&nbsp;: &espgs-size;</para>
      </listitem>
      <listitem>
        <para>Estimation de l'espace disque requis&nbsp;: &espgs-buildsize;</para>
      </listitem>
      <listitem>
        <para>Estimation du temps de construction&nbsp;: &espgs-time;</para>
      </listitem>
    </itemizedlist>
    <bridgehead renderas="sect3">Téléchargements supplémentaires</bridgehead>
    <itemizedlist spacing='compact'>
      <title>Correctif requis</title>
      <listitem>
        <para><ulink url="&patch-root;/espgs-&espgs-version;-bov_fix-1.patch"/></para>
      </listitem>
    </itemizedlist>
    <itemizedlist spacing='compact'>
      <title>Standard Fonts</title>
      <listitem>
        <para>Téléchargement (FTP)&nbsp;: <ulink url="&espgs-standard-fonts-download;"/></para>
      </listitem>
      <listitem>
        <para>Somme de contrôle MD5 du téléchargement&nbsp;: &espgs-standard-fonts-md5sum;</para>
      </listitem>
      <listitem>
        <para>Taille du téléchargement&nbsp;: &espgs-standard-fonts-size;</para>
      </listitem>
    </itemizedlist>
    <itemizedlist spacing='compact'>
      <title>Autres polices</title>
      <listitem>
        <para>Téléchargement (HTTP)&nbsp;: <ulink url="&espgs-other-fonts-download;"/></para>
      </listitem>
      <listitem>
        <para>Somme de contrôle MD5 du téléchargement&nbsp;: &espgs-other-fonts-md5sum;</para>
      </listitem>
      <listitem>
        <para>Taille du téléchargement&nbsp;: &espgs-other-fonts-size;</para>
      </listitem>
    </itemizedlist>
    <bridgehead renderas="sect3">Dépendances d'ESP Ghostscript</bridgehead>
    <bridgehead renderas="sect4">Facultatives</bridgehead>
    <para role="optional"><xref linkend="cups"/>,
    <xref linkend="libjpeg"/>,
    <xref linkend="libpng"/>,
    <xref linkend="x-window-system"/> et
    <xref linkend="gtk2"/> or <xref linkend="GTK"/></para>
    <para condition="html" role="usernotes">Notes utilisateur&nbsp;:
    <ulink url="&blfs-wiki;/espgs"/></para>
  </sect2>
  <sect2 role="installation">
    <title>Installation d'ESP Ghostscript</title>
    <para>Installez <application>ESP Ghostscript</application>
    en lançant les commandes suivantes&nbsp;:</para>
<screen>
<userinput>patch -Np1 -i ../espgs-&espgs-version;-bov_fix-1.patch &amp;&amp;
sed -i "s/bbox.dev$/x11.dev/" Makefile.in &amp;&amp;
./configure --prefix=/usr \
            --enable-threads \
            --without-omni &amp;&amp;
make</userinput>
</screen>
    <para>Pour construire la bibliothèque partagée
    <filename class='libraryfile'>libgs.so</filename>, vous devez avoir installé
    <application>GTK+</application> et lancer la commande&nbsp;:</para>
<screen>
<userinput>make so</userinput>
</screen>
    <para>Ce paquet n'est pas fourni avec une suite de tests. Vous pouvez
    cependant tester l'action du programme <command>gs</command> nouvellement
    construit en lançant la commande suivante (exécutez-la depuis un terminal X
    Windows)&nbsp;:</para>
<screen>
<userinput>bin/gs -Ilib -dBATCH examples/tiger.eps</userinput>
</screen>
    <para>Maintenant, en tant qu'utilisateur <systemitem class="username">root</systemitem>&nbsp;:</para>
<screen role="root">
<userinput>make install &amp;&amp;
install -d /usr/share/doc/espgs-&espgs-version;
ln -v -s ../../ghostscript/8.15/doc /usr/share/doc/espgs-&espgs-version; &amp;&amp;
for INSTFILE in `ls doc`
do
  if [ ! -f /usr/share/doc/espgs-&espgs-version;/$INSTFILE ]; then
    install -v -m644 doc/$INSTFILE /usr/share/doc/espgs-&espgs-version;/
  fi
done</userinput>
</screen>
    <para>Si vous avez construit la bibliothèque partagée, installez-la avec ses
    programmes associés en effectuant les commandes suivantes en tant qu'utilisateur
    <systemitem class="username">root</systemitem>&nbsp;:</para>
<screen role="root">
<userinput>make soinstall &amp;&amp;
install -v -d -m755 /usr/include/ps &amp;&amp;
install -v -m644 src/*.h /usr/include/ps &amp;&amp;
ln -v -s ps /usr/include/ghostscript</userinput>
</screen>
    <para>Pour finir l'installation, déballez toutes les polices que vous avez
    téléchargées dans
    <filename class="directory">/usr/share/ghostscript</filename> et assurz-vous
    que les fichiers appartiennent bien à
    <systemitem class="username">root</systemitem>&nbsp;:<systemitem class="groupname">root</systemitem>.
    Remplacez <replaceable>&lt;archive-tar-polices&gt;</replaceable> comme
    il faut dans la commande ci-dessous pour les polices que vous souhaitez
    installer&nbsp;:</para>
<screen role="root">
<userinput>tar -xvf ../<replaceable>&lt;font-tarball&gt;</replaceable> -C /usr/share/ghostscript &amp;&amp;
chown -v root:root /usr/share/ghostscript/fonts/*</userinput>
</screen>
  </sect2>
  <sect2 role="commands">
    <title>Explication des commandes</title>
    <para><command>sed -i "s/bbox.dev$/x11.dev/" Makefile.in</command>&nbsp;:
    Cette commande modifie le périphérique de sortie <command>gs</command> par
    défaut du pilote bbox en pilote x11 (écran).</para>
    <para><parameter>--enable-threads</parameter>&nbsp;: Ce paramètre active
    la sortie en enfilade.</para>
    <para><parameter>--without-omni</parameter>&nbsp;: Ce paramètre désactive
    le support omni pilotes.</para>
    <para><option>--without-ijs</option>&nbsp;: Ce paramètre désactive le
    support du pilote IJS.</para>
    <para><command>install -v -m644 src/*.h /usr/include/ps</command>&nbsp;:
    Certains paquets (<application>ImageMagick</application> en fait partie)
    on besoin que les en-têtes de l'interface
    <application>Ghostscript</application> soient en place pour se lier à
    la bibliothèque partagée. Ces commandes installent les en-têtes.</para>
    <para><command>ln -v -s ps /usr/include/ghostscript</command>&nbsp;: Certains
    paquets s'attendent à trouver les en-têtes de l'interface à un autre
    endroit.</para>
    <para><command>for INSTFILE in `ls doc` ...</command>&nbsp;: Cette boucle
    <quote>for</quote> installe des fichiers de documentation qui n'ont pas été
    installés lors du processus d'installation.</para>
  </sect2>
  <sect2 role="content">
    <title>Contenu</title>
    <segmentedlist>
      <segtitle>Programmes installés</segtitle>
      <segtitle>Bibliothèque installée</segtitle>
      <segtitle>Répertoires installés</segtitle>
      <seglistitem>
        <seg>bdftops, dvipdf, eps2eps, fixmswrd.pl, font2c, gs, gsbj, gsc, gsdj,
        gsdj500, gslj, gslp, gsnd, gsx, lprsetup.sh, pdf2dsc, pdf2ps, pdfopt,
        pf2afm, pfbtopfa, printafm, ps2ascii, ps2epsi, ps2pdf,ps2pdf12,
        ps2pdf13, ps2pdf14, ps2pdfwr, ps2ps, pv.sh, unix-lpr.sh, et
        wftopfa</seg>
        <seg>libgs.so </seg>
        <seg>/usr/include/ps et /usr/share/ghostscript</seg>
      </seglistitem>
    </segmentedlist>
    <variablelist>
      <bridgehead renderas="sect3">Descriptions courtes</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>
      <varlistentry id="gs-prog-gs">
        <term><command>gs</command></term>
        <listitem>
          <para>appelle <application>Ghostscript</application>, un interpréteur
          des langages du format <foreignphrase>PostScript(tm) and Portable
          Document</foreignphrase> des systèmes Adobe (PDF).</para>
          <indexterm zone="espgs gs-prog-gs">
            <primary sortas="b-gs">gs</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="pstoraster">
        <term><filename>pstoraster</filename></term>
        <listitem>
          <para>est un filtre utilisé par <application>CUPS</application> pour
          convertir un PostScript en image raster générique acceptable comme entrée
          pour les pilotes des imprimantes non PostScript (comme ceux de
          <xref linkend="gutenprint"/>). Il n'est construit et installé que si
          <xref linkend="cups"/> est trouvé.</para>
          <indexterm zone="espgs pstoraster">
            <primary sortas="g-pstoraster">pstoraster</primary>
          </indexterm>
        </listitem>
      </varlistentry>
    </variablelist>
    <para><application>ESP Ghostscript</application> offre de nombreux scripts
    variés utilisés pour manipuler des fichiers PostScript/PDF ou réciproquement.
    Merci de vous reporter à la documentation HTML ou d'essayer <command>man gs</command>
    pour des informations les possibilités qu'offre le paquet.</para>
  </sect2>
</sect1>
