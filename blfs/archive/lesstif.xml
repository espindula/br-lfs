<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

  <!ENTITY lesstif-download-http "&sourceforge-repo;/lesstif/lesstif-&lesstif-version;.tar.bz2">
  <!ENTITY lesstif-download-ftp  " ">
  <!ENTITY lesstif-md5sum        "754187dbac09fcf5d18296437e72a32f">
  <!ENTITY lesstif-size          "2.4 Mo">
  <!ENTITY lesstif-buildsize     "160 Mo (includes building et running the test suite)">
  <!ENTITY lesstif-time          "4.1 SBU (includes building the test suite)">
]>

<sect1 id="lesstif" xreflabel="LessTif-&lesstif-version;">
  <?dbhtml filename="lesstif.html" ?>

  <sect1info>
    <othername>$LastChangedBy&nbsp;: bdubbs $</othername>
    <date>$Date&nbsp;: 2012-05-13 00:04:54 +0200 (Sun, 13 May 2012) $</date>
  </sect1info>

  <title>LessTif-&lesstif-version;</title>

  <indexterm zone="lesstif">
    <primary sortas="a-LessTif">LessTif</primary>
  </indexterm>

  <sect2 role="package">
    <title>Introduction à LessTif</title>

    <para>Le paquet <application>LessTif</application> contient une version
    Open Source de <application>OSF/Motif®</application>.</para>

    &lfs65_checked;

    <bridgehead renderas="sect3">Informations sur le paquet</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>Téléchargement (HTTP)&nbsp;: <ulink url="&lesstif-download-http;"/></para>
      </listitem>
      <listitem>
        <para>Téléchargement (FTP)&nbsp;: <ulink url="&lesstif-download-ftp;"/></para>
      </listitem>
      <listitem>
        <para>Somme de contrôle MD5 du téléchargement&nbsp;: &lesstif-md5sum;</para>
      </listitem>
      <listitem>
        <para>Taille du téléchargement&nbsp;: &lesstif-size;</para>
      </listitem>
      <listitem>
        <para>Estimation de l'espace disque requis&nbsp;: &lesstif-buildsize;</para>
      </listitem>
      <listitem>
        <para>Estimation du temps de construction&nbsp;: &lesstif-time;</para>
      </listitem>
    </itemizedlist>

    <bridgehead renderas="sect3">Téléchargements supplémentaires</bridgehead>
    <itemizedlist spacing='compact'>
      <listitem>
        <para>Correctif requis&nbsp;: <ulink
        url="&patch-root;/lesstif-&lesstif-version;-testsuite_fix-1.patch"/></para>
      </listitem>
    </itemizedlist>

    <bridgehead renderas="sect3">Dépendances de LessTif</bridgehead>

    <bridgehead renderas="sect4">Requises</bridgehead>
    <para role="required"><xref linkend="xorg7-lib"/></para>

    <bridgehead renderas="sect4">Facultatives</bridgehead>
    <para role="optional"><xref linkend="lynx"/> or <xref linkend="Links"/>
    (utilisé pour générer le fichier de  documentation de
    <filename>INSTALL</filename>) et
    <ulink url="http://dmalloc.com">Dmalloc</ulink></para>

    <para condition="html" role="usernotes">Notes utilisateur&nbsp;:
    <ulink url="&blfs-wiki;/lesstif"/></para>

  </sect2>

  <sect2 role="installation">
    <title>Installation de LessTif</title>

    <para>Tout d'abord, renommez un fichier de page de man qui entre en conflit
    avec 
    <application>perl</application>&nbsp;:</para>

    <screen><userinput>pushd doc/lessdox/widgets                      &amp;&amp;
sed -i -e 's/\tShell.3/\tshell.3/' Makefile.in &amp;&amp;
mv Shell.3 shell.3                             &amp;&amp;
popd</userinput></screen>

    <para>Installez <application>LessTif</application> en lançant les commandes
    suivantes&nbsp;:</para>

<screen><userinput>patch -Np1 -i ../lesstif-&lesstif-version;-testsuite_fix-1.patch &amp;&amp;
./configure --prefix=/usr \
            --sysconfdir=/etc/X11 \
            --disable-debug \
            --enable-production \
            --with-xdnd \
            --x-includes=$XORG_PREFIX/include \
            --x-libraries=$XORG_PREFIX/lib &amp;&amp;
sed -i "s@libdir)/X11/mwm@sysconfdir)/mwm@" clients/Motif-2.1/mwm/Makefile &amp;&amp;
make rootdir=/usr/share/doc/lesstif-&lesstif-version;</userinput></screen>

    <para>Ce paquet exige d'être installé pour lancer la suite de tests. Les
    commandes pour lancer les tests se trouvent un peu plus loin dans ces
    instructions.</para>

    <para>Maintenant, en tant qu'utilisateur <systemitem class="username">root</systemitem>&nbsp;:</para>

<screen role="root"><userinput>make rootdir=/usr/share/doc/lesstif-&lesstif-version; install &amp;&amp;
ldconfig</userinput></screen>

    <para>Les applicatons qui utilisent les bibliothèques de Xorg s'attendent 
    souvent, à tort, à trouver les fichiers de configuration dans
    <filename class="directory">$XORG_PREFIX/lib/X11</filename>. Toujours en
    tant qu'utilisateur <systemitem class="username">root</systemitem>, créez
    un lien symbolique de compatibilité avec la commande suivante&nbsp;:</para>

<screen role="root"><userinput>ln -v -sf /etc/X11/mwm $XORG_PREFIX/lib/X11</userinput></screen>

  </sect2>

  <sect2 role="commands">
    <title>Explication des commandes</title>

    <para><parameter>--disable-debug</parameter>&nbsp;: Ne génère pas
    d'informations de débogage.</para>

    <para><parameter>--enable-production</parameter>&nbsp;: Construit la version
    publiée des bibliothèques de <application>LessTif</application>.</para>

    <para><parameter>--with-xdnd</parameter>&nbsp;: Active le support de 
    compatibilité GNOME XDND.</para>

    <para><parameter>rootdir=/usr/share/doc/lesstif-&lesstif-version;</parameter>&nbsp;:
    Ceci installe la documentation dans un répertoire adéquat et non dans celui
    <filename class="directory">/usr/LessTif</filename> non conforme au FRS.</para>

    <para><parameter>--x-includes</parameter> et
    <parameter>--x-libraries</parameter>>&nbsp;:nbsp;: demande au système construit ou il peut trouver
    les entêtes Xorg et les bibliothèques.</para>

    <para><command>sed -i "s@libdir)/X11/mwm@sysconfdir)/mwm@"
    clients/Motif-2.1/mwm/Makefile</command>&nbsp;: Ceci corrige le préfixe
    d'installation du répertoire mwm pour respecter le FHS.</para>

  </sect2>

  <sect2 role="testing">
    <title>Tester LessTif</title>

    <para>Il est recommandé de tester l'installation de
    <application>LessTif</application> en utilisant la suite de tests fournie.
    Il n'est pas obligatoire pour installer un des binaires qui en découlent de
    valider l'installation. Exécutez les commandes suivantes pkur construire la
    suite de tests&nbsp;:</para>

<screen><userinput>cd test &amp;&amp;
./configure &amp;&amp;
make</userinput></screen>

    <para>Pour lancer les tests, exécutez les commandes suivantes&nbsp;:</para>

<screen><userinput>cd Xm &amp;&amp;
./testall *</userinput></screen>

    <para>Il se peut que vous deviez fermer manuellement quatre des fenêtres de
    test. La première est issue de <command>test28</command> dans le répertoire
    <filename class='directory'>list</filename>. La deuxième est issue de
    <command>test10</command> dans le répertoire
    <filename class='directory'>menushell</filename>. Vous devriez cliquer sur
    le bouton dans la fenêtre et choisir <quote>exit</quote> (quitter) (faites-le
    deux fois) pour terminer le test. Le troisième test vient de <command>test20</command>
    du répertoire <filename class='directory'>PushButton</filename> et le
    dernier vient de <command>test24</command> du répertoire
    <filename class='directory'>scrolledwindow</filename>.</para>

    <!-- Dernier test effectué>&nbsp;: 86 failed out of 605. -->

    <para>Pas moins de 101 tests sont connus pour échouer. Le correctif appliqué
    au début de l'installation a créé un fichier utilisé pour comparer les échecs
    connus avec ceux des tests. Ce fichier a été créé à partir d'une
    installation qui utilise le livre BLFS actuel et il devrait être une
    présentation très soignée dès échecs que vous rencontrerez. Vous pourriez 
    cependant voir des variations mineures.</para>

  </sect2>

  <sect2 role="configuration">
    <title>Configuration de LessTif</title>

    <sect3 id="lesstif-config">
      <title>Fichiers de configuration</title>

      <para><filename>/etc/X11/mwm/system.mwmrc</filename> et
      <filename>~/.mwmrc</filename></para>

      <indexterm zone="lesstif lesstif-config">
        <primary sortas="e-AA.mwmrc">~/.mwmrc</primary>
      </indexterm>

      <indexterm zone="lesstif lesstif-config">
        <primary
        sortas="e-etc-X11-mwm-system.mwmrc">/etc/X11/mwm/system.mwmrc</primary>
      </indexterm>

    </sect3>

    <sect3>
      <title>Informations de configuration</title>

      <para>Les fichiers de config sont utilisés pour personnaliser le comportement
      du gestionnaire de fenêtres <command>mwm</command>. Vous pouvez trouver des
      informations sur la personnalisation de ces fichiers dans la page de man
      de <filename>mwmrc(5)</filename>.</para>

    </sect3>

  </sect2>

  <sect2 role="content">
    <title>Contenu</title>

    <segmentedlist>
      <segtitle>Programmes installés</segtitle>
      <segtitle>Bibliothèques installées</segtitle>
      <segtitle>Répertoires installés</segtitle>

      <seglistitem>
        <seg>motif-config, mwm, mxmkmf, uil, et xmbind</seg>
        <seg>libDtPrints.so, libMrm.so, libUil.so, et libXm.so</seg>
        <seg>/etc/X11/mwm, /usr/include/Xm, /usr/include/Mrm,
        /usr/include/uil, /usr/include/Dt, /usr/lib/LessTif, et
        /usr/share/doc/lesstif-&lesstif-version;</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Descriptions courtes</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="motif-config">
        <term><command>motif-config</command></term>
        <listitem>
          <para>est utilisé pour trouver les informations deconfiguration pour
          les paquets qui ont besoin de se lier aux bibliothèques
          <application>LessTif</application>.</para>
          <indexterm zone="lesstif motif-config">
            <primary sortas="b-motif-config">motif-config</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="mwm">
        <term><command>mwm</command></term>
        <listitem>
          <para>est un gestionnaire de fenêtres qui adhère largement à la 
          spécification <command>mwm</command> de <application>Motif</application>.</para>
          <indexterm zone="lesstif mwm">
            <primary sortas="b-mwm">mwm</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="mxmkmf">
        <term><command>mxmkmf</command></term>
        <listitem>
          <para>est la version <application>LessTif</application> de
          <command>xmkmf</command> qui crée un 
          <filename>Makefile</filename> à partir d'un 
          <filename>Imakefile</filename>.</para>
          <indexterm zone="lesstif mxmkmf">
            <primary sortas="b-mxmkmf">mxmkmf</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="uil">
        <term><command>uil</command></term>
        <listitem>
          <para>est un compilateur de langues d'interface utilisateur qui traduit
          une description en texte brut de l'interface utilisateur d'une 
          application <application>Motif</application>  dans une forme lisible
          par la machine.</para>
          <indexterm zone="lesstif uil">
            <primary sortas="b-uil">uil</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="xmbind">
        <term><command>xmbind</command></term>
        <listitem>
          <para>configure les associations de touches virtuelles des
          applications <application>LessTif</application>.</para>
          <indexterm zone="lesstif xmbind">
            <primary sortas="b-xmbind">xmbind</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libXm">
        <term><filename class='libraryfile'>libXm.so</filename></term>
        <listitem>
          <para>est une bibliothèque compatible avec le code source de
          <application>OSF/Motif®</application> pour le système
          <application>X Window</application>. Vous pouvez télécharger un 
          excellent guide de référence (destiné surtout aux programmeurs) pour 
          la spécification Motif-2.1 sur <ulink
          url="http://unc.dl.sourceforge.net/lesstif/6B_book.pdf"/>.</para>
          <indexterm zone="lesstif libXm">
            <primary sortas="c-libXm">libXm.so</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
