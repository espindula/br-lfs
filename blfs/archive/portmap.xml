<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;
    
    
    
    
  <!ENTITY portmap-download-http "http://neil.brown.name/portmap/portmap-&portmap-version;.tgz">
  <!ENTITY portmap-download-ftp  " ">
  <!ENTITY portmap-md5sum        "ac108ab68bf0f34477f8317791aaf1ff">
  <!ENTITY portmap-size          "21 Ko">
  <!ENTITY portmap-buildsize     "268 Ko">
  <!ENTITY portmap-time          "0.01 SBU">
]>
<sect1 id="portmap" xreflabel="portmap-&portmap-version;">
  <?dbhtml filename="portmap.html"?>
  <sect1info>
    <othername>$LastChangedBy&nbsp;: bdubbs $</othername>
    <date>$Date&nbsp;: 2012-05-12 23:42:31 +0200 (Sat, 12 May 2012) $</date>
  </sect1info>
  <title>Portmap-&portmap-version;</title>
  <indexterm zone="portmap">
    <primary sortas="a-Portmap">Portmap</primary>
  </indexterm>
  <sect2 role="package">
    <title>Introduction à Portmap</title>
    <para>Le paquet <application>portmap</application> est un remplacement plus
    sécurisé du paquet <application>portmap</application> d'origine de SUN.
    <application>Portmap</application> est utilisé pour transférer des requêtes 
    RPC en démons RPC tels que NFS et NIS.</para>
    &lfs70_checked;
    <bridgehead renderas="sect3">Informations sur le paquet</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>Téléchargement (HTTP)&nbsp;: <ulink url="&portmap-download-http;"/></para>
      </listitem>
      <listitem>
        <para>Téléchargement (FTP)&nbsp;: <ulink url="&portmap-download-ftp;"/></para>
      </listitem>
      <listitem>
        <para>Somme de contrôle MD5 du téléchargement&nbsp;: &portmap-md5sum;</para>
      </listitem>
      <listitem>
        <para>Taille du téléchargement&nbsp;: &portmap-size;</para>
      </listitem>
      <listitem>
        <para>Estimation de l'espace disque requis&nbsp;: &portmap-buildsize;</para>
      </listitem>
      <listitem>
        <para>Estimation du temps de construction&nbsp;: &portmap-time;</para>
      </listitem>
    </itemizedlist>
    <bridgehead renderas="sect3">Dépendances de Portmap</bridgehead>
    <bridgehead renderas="sect4">Requises</bridgehead>
    <para role="required">
      <xref linkend="libtirpc"/>
    </para>
    <bridgehead renderas="sect4">Facultatives</bridgehead>
    <para role="optional">
      <xref linkend="tcpwrappers"/> 
    </para>
    <para condition="html" role="usernotes">Notes utilisateur&nbsp;:
    <ulink url="&blfs-wiki;/portmap"/></para>
  </sect2>
  <sect2 role="installation">
    <title>Installation de Portmap</title>
    <para>Portmap se lance comme un démon avec un uid de 1. Cet uid n'est configurable
    qu'au moment de la compilation et que s'il est utilisé par défaut. Pour paramétrer un
    utilisateur pour correspondre à cet uid, 
    en tant qu'utilisateur <systemitem class="username">root</systemitem>,
    lancez&nbsp;:</para>
<screen>
<userinput>useradd -u 1 -g 1 -d /dev/null -s /bin/false bin</userinput>
</screen>
    <para>Installez <application>portmap</application> with the following
    suivantes&nbsp;:</para>
<screen>
<userinput>LDLIBS=-ltirpc make</userinput>
</screen>
    <para>Remarquez que la variable d'environnement LDLIBS doit exister avant
    la commande <command>make</command>.</para>
    <para>Si vous voulez que le démon portmap utilise un autre uid/gid que celui 
    par défaut, passez DAEMON_UID=x et DAEMON_GID=y comme illustré ci-dessous&nbsp;:</para>
    
    <para><command>LDLIBS=-ltirpc make DAEMON_UID=x DAEMON_GID=y</command></para>
    <para>Si vous voulez construire le démon portmap sans
    <application>tcpwrappers</application>, ajoutez
    <userinput>NO_TCP_WRAPPER=true</userinput> à la ligne make indiquée
    ci-dessous&nbsp;:</para>
    <para><command>LDLIBS=-ltirpc make NO_TCP_WRAPPER=true</command></para>
    <para>Maintenant, en tant qu'utilisateur <systemitem class="username">root</systemitem>&nbsp;:</para>
<screen role='root'>
<userinput>make install</userinput>
</screen>
    <note>
      <para>L'installation ci-dessus met l'exécutable <command>portmap</command>
      dans <filename class="directory">/sbin</filename>. Vous pouvez choisir de déplacer
      le fichier vers <filename class="directory">/usr/sbin</filename>. Dans ce cas,
      rappelez-vous de modifier aussi le script de démarrage.</para>
    </note>
  </sect2>
  <sect2 role="configuration">
    <title>Configuration de Portmap</title>
    <sect3  id="portmap-init">
      <title>Script de démarrage</title>
      <para>Installez le script d'initialisation <filename>/etc/rc.d/init.d/portmap</filename> inclus dans
      le paquet <xref linkend="bootscripts"/>.</para>
      <indexterm zone="portmap portmap-init">
        <primary sortas="f-portmap">portmap</primary>
      </indexterm>
<screen role="root">
<userinput>make install-portmap</userinput>
</screen>
    </sect3>
  </sect2>
  <sect2 role="content">
    <title>Contenu</title>
    <segmentedlist>
      <segtitle>Programmes installés</segtitle>
      <segtitle>Bibliothèques installées</segtitle>
      <segtitle>Répertoires installés</segtitle>
      <seglistitem>
        <seg>pmap_dump, pmap_set, et portmap</seg>
        <seg>Aucune</seg>
        <seg>Aucun</seg>
      </seglistitem>
    </segmentedlist>
    <variablelist>
      <bridgehead renderas="sect3">Descriptions courtes</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>
      <varlistentry id="pmap_dump">
         
        <term><command>pmap_dump</command> </term>
        <listitem>
          <para>enregistre la table de plans des ports dans un fichier ASCII.</para>
          <indexterm zone="portmap pmap_dump">
            <primary sortas="b-pmap_dump">pmap_dump</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="pmap_set">
        <term><command>pmap_set</command></term>
        <listitem>
          <para>restaure la table de plan des ports à partir d'un fichier ASCII.</para>
          <indexterm zone="portmap pmap_set">
            <primary sortas="b-pmap_set">pmap_set</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="portmap-prog">
        <term><command>portmap</command></term>
        <listitem>
          <para>est un plan de port RPC.</para>
          <indexterm zone="portmap portmap-prog">
            <primary sortas="b-portmap">portmap</primary>
          </indexterm>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect2>
</sect1>
