<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;
  <!ENTITY virtuoso-download-http "&sourceforge-repo;/virtuoso/virtuoso-opensource-&virtuoso-version;.tar.gz">
  <!ENTITY virtuoso-download-ftp  " ">
  <!ENTITY virtuoso-md5sum        "94ef4f93cad915f73bee547fe95db725">
  <!ENTITY virtuoso-size          "113 Mo">
  <!ENTITY virtuoso-buildsize     "895 Mo (additional 2 Go to run the test suite)">
  <!ENTITY virtuoso-time          "3.3 SBU (ajouter 22 SBU pour lancer la suite de tests)">
]>
<sect1 id="virtuoso" xreflabel="virtuoso-&virtuoso-version;">
  <?dbhtml filename="virtuoso.html"?>
  <sect1info>
    <othername>$LastChangedBy&nbsp;: krejzi $</othername>
    <date>$Date&nbsp;: 2013-01-25 14:36:11 +0100 (Fri, 25 Jan 2013) $</date>
  </sect1info>
  <title>Virtuoso-&virtuoso-version;</title>
  <indexterm zone="virtuoso">
    <primary sortas="a-Virtuoso">virtuoso</primary>
  </indexterm>
  <sect2 role="package">
    <title>Introduction à Virtuoso</title>
    <para><application>Virtuoso</application> est un serveur
    multi-plate-forme qui implémente, côté serveur,
    plusieurs protocoles dans le cadre d'une offre produit d'un serveur unique.
    Il y a un seul produit serveur qui offre WebDAV/HTTP, Application, et la fonctionnalité
    de serveur de base de données à travers du stockage
    XML natif, un logiciel d'intégration universel de l'accès aux données,
    une intégration des processus d'entreprise et une plate-forme de services Web.</para>
   &lfs78_checked;
    <bridgehead renderas="sect3">Informations sur le paquet</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>Téléchargement (HTTP)&nbsp;: <ulink url="&virtuoso-download-http;"/></para>
      </listitem>
      <listitem>
        <para>Téléchargement (FTP)&nbsp;: <ulink url="&virtuoso-download-ftp;"/></para>
      </listitem>
      <listitem>
        <para>Somme de contrôle MD5 du téléchargement&nbsp;: &virtuoso-md5sum;</para>
      </listitem>
      <listitem>
        <para>Taille du téléchargement&nbsp;: &virtuoso-size;</para>
      </listitem>
      <listitem>
        <para>Estimation de l'espace disque requis&nbsp;: &virtuoso-buildsize;</para>
      </listitem>
      <listitem>
        <para>Estimation du temps de construction&nbsp;: &virtuoso-time;</para>
      </listitem>
    </itemizedlist>
    <bridgehead renderas="sect3">Dépendances de Virtuoso</bridgehead>
    <bridgehead renderas="sect4">Recommandées</bridgehead>
    <para role="recommended">
    <xref linkend="libiodbc"/>,
    <xref linkend="libxml2"/>,
    <xref linkend="openssl"/> et
    <xref linkend="openldap"/>

    </para>
    <bridgehead renderas="sect4">Facultatives</bridgehead>
    <para role="optional">
    <xref linkend="imagemagick"/>,
    <xref linkend="python2"/>, et
    <xref linkend="mitkrb"/>

    </para>
    <para condition="html" role="usernotes">Notes utilisateur&nbsp;:
    <ulink url="&blfs-wiki;/virtuoso"/></para>
  </sect2>
  <sect2 role="installation">
    <title>Installation de Virtuoso</title>
    <para>Installez <application>virtuoso</application>
    en lançant les commandes
    suivantes&nbsp;:</para>
<screen>
<userinput>sed -i "s|virt_iodbc_dir/include|&amp;/iodbc|" configure  &amp;&amp;
./configure --prefix=/usr                             \
            --sysconfdir=/etc                         \
            --localstatedir=/var                      \
            --with-iodbc=/usr                         \
            --with-readline                           \
            --without-internal-zlib                   \
            --program-transform-name="s/isql/isql-v/" \
            --disable-all-vads                        \
            --disable-static                          &amp;&amp;
make</userinput>
</screen>
    <para>Pour tester les résultats, tapez <command>make -k check</command>.
     Quelques tests sont connus pour échouer.</para>
    <para>Maintenant, en tant qu'utilisateur <systemitem class="username">root</systemitem>&nbsp;:</para>
<screen role="root">
<userinput>make install &amp;&amp;
install -v -m755 -d /usr/share/doc/virtuoso-&virtuoso-version; &amp;&amp;
ln -s   -v          ../../virtuoso/doc \
                    /usr/share/doc/virtuoso-&virtuoso-version;</userinput>
</screen>
  </sect2>
  <sect2 role="commands">
    <title>Explications des commandes</title>
    <para><command>sed -i ...</command>: Cette commande est utilisée pour modifier la variable
    <envar>CPPFLAGS</envar> pour que  les entêtes de l'interface de <application>libiodbc</application>
    soient trouvées par le script <command>configure</command> script.</para>
    <para><parameter>--with-iodbc=/usr</parameter>: Ce paramètre est utilisé pour que la construction
    utilise les entêtes d'interface système de <application>libiodbc</application> et pas les
    entêtes dans les sources.</para>
    <para><parameter>--with-readline</parameter>: Ce paramètre est utilisé pour que la bibliothèque
    système <application>Readline</application> soit utilisée.</para>
    <para><parameter>--without-internal-zlib</parameter>: Ce paramètre est initialisé
    pour que la bibliothèque <application>zlib</application> installée soit utilisée et non
    celle empaqueté avec les sources.</para>
    <para><parameter>--program-transform-name</parameter>&nbsp;:
    <application>Virtuoso</application> et <application>unixODBC</application>
    installent un programme nommé <command>isql</command>. Utilisez cette option
    pour renommer le programme de
    <application>virtuoso</application> pour
    <command>isql-v</command></para>
    <para><parameter>--disable-all-vads</parameter>&nbsp;: Ce paramètre désactive la construction de
    tous les paquets VAD (tutoriels, démos, etc.).</para>
    <para><parameter>--disable-static</parameter>&nbsp;: Ce paramètre désactive la construction des bibliothèques
    statiques. Cependant, les bibliothèques principales de  <application>Virtuoso</application>,
    <filename class="libraryfile">libvirtuoso-t</filename> et
    <filename class="libraryfile">libvirtuoso-iodbc-t</filename> sont encore construites
    en bibliothèque statique.</para>
    <para><option>--enable-python</option>Ajoutez cette option si
    <application>Python</application> pour activer les liaisons <application>Python</application>.</para>
    <para><option>--with-port</option>&nbsp;: Ajoutez cela si vous voulez que
    <application>virtuoso</application> écoute un autre port que le
    1111.</para>
    <para><option>--enable-aio</option>: Ajoutez cela si vous voulez utiliser
    <application>Virtuoso</application> pour des opérations asynchrones pour les
    I/O de fichiers au lieu d'I/O synchrone.</para>
    <para><option>--enable-perl</option>: N'utilisez pas cette option si vous construisez
    Perl en suivant les instructions LFS. La construction échouera avec une note similaire à
    <computeroutput>Your perl should be compiled w -Dusemultiplicity.
    Check the output of perl -V:usemultiplicity</computeroutput>.</para>
    <para>Notez que passer toutes les options <option>with-jdk4=${JAVA_HOME}</option>,
    <option>--enable-php5=/usr</option>, <option>--enable-ruby</option>, et
    <option>--enable-wbxml2=/usr</option> échouera pendant la phase
    <command>configure</command> de la construction. Cela n'arretera pas la construction,
    mais le support souhaité ne sera pas inclus dans la construction.</para>
  </sect2>
  <sect2 role="configuration">
    <title>Configuration</title>
    <note><para>Si <application>Virtuoso</application> est seulement utilisé
    pour <application>KDE4</application>, il n'est pas utile de démarrer le serveur
    <application>Virtuoso</application> au démarrage.</para></note>

    <sect3 id="virtuoso-init">
      <title>Script de démarrage</title>
      <para>Si vous voulez que le serveur <application>Virtuoso</application>
      se lance automatiquement au démarrage du système, installez le script
      de démarrage <filename>/etc/rc.d/init.d/virtuoso</filename> inclu
      dans le paquet <xref linkend="bootscripts"/>.</para>
      <indexterm zone="virtuoso virtuoso-init">
        <primary sortas="f-virtuoso">virtuoso</primary>
      </indexterm>
<screen role="root">
<userinput>make install-virtuoso</userinput>
</screen>
    </sect3>
    <sect3 id="virtuoso-users">
      <title>Comptes utilisateur</title>
      <para>Quand on démarre le serveur en utilisant le script de démarrage,
      il existe une interface Web avec
      <application>Virtuoso</application> sur
      <ulink url="http://localhost:8890/"/>. Plusieurs liens pointent vers
      le site d'OpenLink mais le <application>Conductor</application> sur
      <ulink url="http://localhost:8890/conductor/"/>. C'est un site
      entièrement fait pour la configuration de <application>Virtuoso</application>.
      Connectez-vous en tant que
      <systemitem class="username">dba</systemitem> avec le mot de passe
      prédéfini <literal>dba</literal>.</para>
      <warning>
        <title>Modifiez le mot de passe</title>
        <para>Rappelez-vous de modifier immédiatement le mot de passe
        de l'utilisateur
        <systemitem class="username">dba</systemitem> et de tous les autres
        utilisateurs prédéfinis. Cliquez sur <literal>[System Admin]</literal>
        (admin système) puis sur <literal>[User Accounts]</literal> (comptes
        utilisateur).</para>
      </warning>
    </sect3>

  </sect2>

  <sect2 role="content">
    <title>Contenu</title>
    <segmentedlist>
      <segtitle>Programmes installés</segtitle>
      <segtitle>Bibliothèques installées</segtitle>
      <segtitle>Répertoires installés</segtitle>
      <seglistitem>
        <seg>
          inifile, isql-v, isql-v-iodbc, isql-vw, isql-vw-iodbc, odbc_mail,
          virt_mail, virtuoso-iodbc-t, et virtuoso-t
        </seg>
        <seg>
          libvirtuoso-iodbc-t.a, libvirtuoso-t.a, virtodbc.so, virtodbc_r.so,
          virtodbcu.so, et virtodbcu_r.so
        </seg>
        <seg>
          /usr/lib/hibernate,
          /usr/lib/jdbc-2.0,
          /usr/lib/jdbc-3.0,
          /usr/lib/jdbc-4.0,
          /usr/lib/jdbc-4.1,
          /usr/lib/jena,
          /usr/lib/jena2,
          /usr/lib/sesame,
          /usr/lib/virtuoso
          /usr/share/doc/virtuoso-&virtuoso-version;,
          /usr/share/virtuoso, et
          /var/lib/virtuoso
        </seg>
      </seglistitem>
    </segmentedlist>
    <variablelist>
      <bridgehead renderas="sect3">Descriptions courtes</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>
      <varlistentry id="isql-v">
        <term><command>isql-v</command></term>
        <listitem>
          <para>est un outil SQL interactif.</para>
          <indexterm zone="virtuoso isql-v">
            <primary sortas="b-isql-v">isql-v</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="virtuoso-t">
        <term><command>virtuoso-t</command></term>
        <listitem>
          <para>est le démon du serveur universel (<foreignphrase>Universial
          Server</foreignphrase>).</para>
          <indexterm zone="virtuoso virtuoso-t">
            <primary sortas="b-virtuoso-t">virtuoso-t</primary>
          </indexterm>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect2>
</sect1>
