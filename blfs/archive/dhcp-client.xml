<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;
]>

<sect1 id="dhcp-client" xreflabel="DHCP-&dhcp-version; Client Configuration">
  <?dbhtml filename="dhcpclient.html"?>

  <sect1info>
    <othername>$LastChangedBy&nbsp;: krejzi $</othername>
    <date>$Date&nbsp;: 2012-08-15 00:00:47 +0200 (Wed, 15 Aug 2012) $</date>
  </sect1info>

  <title>DHCP-&dhcp-version; Client Configuration</title>

  <indexterm zone="dhcp-client">
    <primary sortas="b-dhclient">dhclient</primary>
  </indexterm>

  <para>Le paquet <application>DHCP</application> est fourni avec à la fois
  un client (<command>dhclient</command>) et un programme de serveur pour
  utiliser DHCP. Si vous voulez installer ce paquet, vous pouvez trouver les
  instructions sur <xref linkend="dhcp"/>.
  Notez que si vous ne voulez utiliser que le client, vous
  <emphasis>n'avez pas</emphasis> besoin de lancer le serveur et donc, vous
  n'avez pas besoin du script de démarrage et des liens fournis
  pour le démon du serveur. Vous n'avez besoin que de lancer le serveur DHCP
  si vous fournissez ce service à un réseau et vous le saurez sûrement
  si tel est le cas&nbsp;; sans cela ne lancez pas
  le serveur&nbsp;! Une fois que vous avez installé le paquet,
  revenez ici pour des informations sur comment configurer le client
  (<command>dhclient</command>).</para>

  <sect2 role="configuration">
    <title>Configurer le client DHCP</title>

      <para id="dhclient-service1010">Pour configurer <command>dhclient</command>,
      vous devez d'abord installer le script de service réseau
      <filename>/lib/services/dhclient</filename>
      inclu dans le paquet <xref linkend="bootscripts"/>
      (en tant que <systemitem class="username">root</systemitem>)&nbsp;:</para>

      <indexterm zone="dhcp-client dhclient-service1010">
        <primary sortas="f-dhclient">dhclient (service script)</primary>
      </indexterm>

<screen role='root'><userinput>make install-service-dhclient</userinput></screen>

    <para id="dhclient-config1">Ensuite, créez le fichier de configuration
    <filename>/etc/sysconfig/ifconfig.eth0</filename>
    avec les commandes suivantes en tant qu'utilisateur
    <systemitem class="username">root</systemitem>.  Ajustez
    comme il faut pour les interfaces supplémentaires&nbsp;:</para>
    <indexterm zone="dhcp-client dhclient-config1">
      <primary sortas="e-etc-sysconfig-...-dhclient">/etc/sysconfig/ifconfig.eth0</primary>
    </indexterm>

<screen role='root'><userinput>cat &gt; /etc/sysconfig/ifconfig.eth0 &lt;&lt; "EOF"
<literal>ONBOOT="yes"
IFACE="eth0"
SERVICE="dhclient"
DHCP_START="<replaceable>&lt;ajoutez ici des paramètres de démarrage supplémentaires&gt;</replaceable> eth0"
DHCP_STOP="-r <replaceable>&lt;ajoutez ici des paramètres d'arrêt supplémentaires&gt;</replaceable>"

# Mettez PRINTIP="yes" pour que le script affiche l'adresse IP assignée par le 
# DHCP
PRINTIP="no"

# Mettez PRINTALL="yes" pour afficher les valeurs assignées pour le DHCP
# IP, SM, DG et 1er NS. Ceci exige PRINTIP="yes".
PRINTALL="no"</literal>
EOF</userinput></screen>

    <para>Pour plus d'informations sur les valeurs adéquates de
    <envar>DHCP_START</envar> et <envar>DHCP_STOP</envar>, consultez la
    page de man de <command>dhclient</command>.</para>

    <para id="dhclient-config2">Enfin, vous devriez créer le fichier
    <filename>/etc/dhclient.conf</filename> en utilisant les commandes suivantes
    en tant qu'utilisateur <systemitem class="username">root</systemitem>&nbsp;:</para>

    <indexterm zone="dhcp-client dhclient-config2">
      <primary sortas="e-etc-dhclient.conf">/etc/dhclient.conf</primary>
    </indexterm>

    <note>
      <para>Vous devrez ajouter la définition d'une seconde interface si
      vous en avez plus d'une.</para>
    </note>

<screen role='root'><userinput>cat &gt; /etc/dhclient.conf &lt;&lt; "EOF"
<literal># dhclient.conf

interface "eth0"{
prepend domain-name-servers 127.0.0.1;
request subnet-mask, broadcast-address, time-offset, routers,
        domain-name, domain-name-servers, host-name;
require subnet-mask, domain-name-servers;
}
# fin de dhclient.conf</literal>
EOF</userinput></screen>

  </sect2>

</sect1>
