<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN"
   "http://www.oasis-open.org/docbook/xml/4.3/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

  <!ENTITY db-download-http " ">
  <!ENTITY db-download-ftp  "ftp://sleepycat1.inetu.net/releases/db-&db-version;.tar.gz">
  <!ENTITY db-md5sum        "fcc481d52c3b80e20a328f8c0cb042bd">
  <!ENTITY db-size          "5,7&nbsp;Mo">
  <!ENTITY db-buildsize     "68&nbsp;Mo">
  <!ENTITY db-time          "1,23&nbsp;SBU">
]>

<sect1 id="db" xreflabel="Berkeley DB-&db-version;">
<sect1info>
<othername>$LastChangedBy: randy $</othername>
<date>$Date: 2008-11-16 21:28:02 $</date>
</sect1info>
<?dbhtml filename="db.html"?>
<title>Berkeley DB-&db-version;</title>

<sect2>
<title>Introduction à <application>Berkeley DB</application></title>

<para>Le paquetage <application>Berkeley DB</application> contient les programmes
et outils utilisés par de nombreuses applications.</para>

<sect3><title>Informations sur le paquetage</title>
<itemizedlist spacing='compact'>
<listitem><para>Téléchargement (HTTP)&nbsp;: <ulink
url="&db-download-http;"/></para></listitem>
<listitem><para>Téléchargement (FTP)&nbsp;: <ulink
url="&db-download-ftp;"/></para></listitem>
<listitem><para>Téléchargement de la somme MD5&nbsp;: &db-md5sum;</para></listitem>
<listitem><para>Taille du téléchargement&nbsp;:&db-size;</para></listitem>
<listitem><para>Estimation de l'espace disque requis&nbsp;:
&db-buildsize;</para></listitem>
<listitem><para>Estimation du temps de construction&nbsp;:
&db-time;</para></listitem></itemizedlist>
</sect3>

<sect3><title>Dépendances de <application>Berkeley DB</application></title>
<sect4><title>Optionnel</title>
<para><xref linkend="tcl"/> et <xref linkend="j2sdk"/></para>
</sect4>
</sect3>

</sect2>

<sect2>
<title>Installation de <application>Berkeley DB</application></title>

<para>Installez <application>Berkeley DB</application> en exécutant les
commandes suivantes&nbsp;:</para>

<screen><userinput><command>cd build_unix &amp;&amp;
../dist/configure --prefix=/usr \
    --enable-compat185 \
    --enable-cxx &amp;&amp;
make LIBSO_LIBS="-lpthread" LIBXSO_LIBS="-lpthread" &amp;&amp;
make docdir=/usr/share/doc/db-&db-version; install</command></userinput></screen>

<para><emphasis>Note&nbsp;:</emphasis> si vous construisez le paquetage en tant
qu'utilisateur non privilégié, alors passez sur l'utilisateur root pour
installer le paquetage. <application>Berkeley DB</application> installera les
fichiers avec, comme propriétaire, le constructeur du paquetage. Ceci n'est pas
souhaité. Modifiez le propriétaire des fichiers installés en utilisant la
commande suivante&nbsp;:</para>

<screen><userinput><command>chown root:root /usr/bin/db_* \
/usr/lib/libdb* /usr/include/db* &amp;&amp;
chown -R root:root /usr/share/doc/db-&db-version;</command></userinput></screen>

</sect2>

<sect2>
<title>Explications des commandes</title>

<para><command>cd build_unix &amp;&amp; 
../dist/configure --prefix=/usr...</command>&nbsp;:
ceci remplace la commande <command>./configure</command> habituelle car
<application>Berkeley DB</application> vient avec différents répertoires
de construction pour les différentes plateformes.</para>

<para><parameter>--enable-compat185</parameter>&nbsp;: cette option
active la construction de l'<acronym>API</acronym> de compatibilité DB 1.85.
</para>

<para><parameter>--enable-cxx</parameter>&nbsp;: cette option active la
construction de l'<acronym>API</acronym> C++.</para>

<para><command>make LIBSO_LIBS="-lpthread"
LIBXSO_LIBS="-lpthread"</command>&nbsp;: configure ne gère pas correctement
<acronym>NPTL</acronym>. Ces variables le forcent à se lier proprement avec
<acronym>NPTL</acronym>.</para> 

<para><command>make docdir=/usr/share/doc/db-&db-version; 
install</command>&nbsp;: ceci installe la documentation au bon endroit.</para>

<para><option>--enable-tcl --with-tcl=/usr/lib</option>&nbsp;:
active le support de <application>Tcl</application> dans DB et crée les
bibliothèques <filename class="libraryfile">libdb_tcl</filename>.</para>

<para><option>--enable-java</option>&nbsp;: active le support de
<application>Java</application> dans DB et crée les bibliothèques
<filename class='libraryfile'>libdb_java</filename>.</para>

</sect2>

<sect2>
<title>Contenu</title>

<para>Le paquetage <application>Berkeley DB</application> contient
<command>db_archive</command>,
<command>db_checkpoint</command>,
<command>db_deadlock</command>,
<command>db_dump</command>,
<command>db_load</command>,
<command>db_printlog</command>,
<command>db_recover</command>,
<command>db_stat</command>,
<command>db_upgrade</command>, 
<command>db_verify</command> et les bibliothèques
<filename class='libraryfile'>libdb</filename>.

</para>

</sect2>

<sect2><title>Description</title>

<sect3><title>db_archive</title>
<para><command>db_archive</command> affiche le nom et le chemin des journaux de
trace qui ne sont plus utilisés.</para></sect3>

<sect3><title>db_checkpoint</title>
<para><command>db_checkpoint</command> est un processus démon utilisé pour
surveiller et vérifier les journaux de la base de données.</para></sect3>

<sect3><title>db_deadlock</title>
<para><command>db_deadlock</command> est utilisé pour annuler les demandes de
verrous quand des situations de blocage sont détectées.</para></sect3>

<sect3><title>db_dump</title>
<para><command>db_dump</command> convertit les fichiers de base de données en un
format de fichier plat lisible par <command>db_load</command>.</para></sect3>

<sect3><title>db_load</title>
<para><command>db_load</command> est utilisé pour créer des fichiers de base de
données à partir de fichiers plats créés avec <command>db_dump</command>.</para></sect3>

<sect3><title>db_printlog</title>
<para><command>db_printlog</command> convertit les journaux de la base de données
en texte lisible par un humain.</para></sect3>

<sect3><title>db_recover</title>
<para><command>db_recover</command> est utilisé pour restaurer une base de
données dans un état cohérent après une panne.</para></sect3>

<sect3><title>db_stat</title>
<para><command>db_stat</command> affiche les statistique de l'environnement de
la base de données.</para></sect3>

<sect3><title>db_upgrade</title>
<para><command>db_upgrade</command> est utilisé pour mettre à jour les fichiers
de la base de données vers une version plus récente de <application>Berkeley
DB</application>.</para></sect3>

<sect3><title>db_verify</title>
<para><command>db_verify</command> est utilisé pour lancer des vérifications de
cohérence sur les fichiers de la base de données.</para></sect3>

</sect2>

</sect1>
