<sect2>
<title>Configurer leafnode</title>

<sect3><title>Fichiers de configuration</title>
<para><userinput>/etc/leafnode/config,
/etc/inetd.conf, /etc/xinetd.conf</userinput></para>

<para>leafnode peut être configuré pour utiliser inetd ou xinetd ainsi:
</para>

<para>configuration inetd</para>
<para>Ajoutez une entrée leafnode au fichier
<filename>/etc/inetd.conf</filename> avec la commande suivante:
<screen><userinput>echo "nntp stream tcp nowait news /usr/sbin/tcpd /usr/sbin/leafnode" \
&gt;&gt; /etc/inetd.conf</userinput></screen></para>

<para>configuration xinetd</para>
<para>Ajoutez une entrée leafnode au fichier
<filename>/etc/xinetd.conf</filename> avec la commande suivante:
<screen><userinput>cat &gt;&gt; /etc/xinetd.conf &lt;&lt; "EOF"
        service nntp
        {
           flags           = NAMEINARGS NOLIBWRAP
           socket_type     = stream
           protocol        = tcp
           wait            = no
           user            = news
           server          = /usr/sbin/tcpd
           server_args     = /usr/sbin/leafnode
           instances       = 7
           per_source      = 3
        }
EOF</userinput></screen></para>

<para>Le fichier <filename>/etc/news/config</filename> doit être édité pour
refléter le nom du fournisseur NNTP. Copiez le fichier de configuration
exemple sur <filename>/etc/news/config</filename> et sauvegardez l'original
pour référence:</para>

<para><screen><userinput>cp /etc/news/config.example /etc/news/config</userinput></screen></para>

<para>Modifiez l'entrée</para>
<para><screen><userinput>server = </userinput></screen></para>
<para>pour refléter votre fournisseur de news.</para>

<para>La variable d'environnement NNTPSERVER doit être initialisée à 127.0.0.1
pour empêcher des clients news de lire les news du flux, ajoutez la suite à
<filename>/etc/profile</filename> ou <filename>$HOME/.bash_profile</filename>:
</para>

<para><screen><userinput>export NNTPSERVER=127.0.0.1</userinput></screen></para>

</sect3>

</sect2>

