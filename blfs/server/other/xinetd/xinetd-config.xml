<sect2>
<title>Configurer xinetd</title>
<para>Créez le fichier xinetd.conf avec les commandes suivantes:</para>

<para><screen><userinput>
cp /etc/xinetd.conf /etc/xinetd.conf.bak
sed -e 's/etc/sbin/g' xinetd/sample.conf &gt; /etc/xinetd.conf
</userinput></screen></para>

<sect3><title>Fichiers de configuration</title>
<para><userinput>/etc/xinetd.conf</userinput></para>

<para>Créez le script de démarrage xinetd:</para>
<para><screen><userinput>
cat &gt; /etc/rc.d/init.d/xinetd &lt;&lt; "EOF"
#!/bin/bash
# Début $rc_base/init.d/xinetd
# Basé sur le script sysklogd de LFS-3.1 et précédents.
# Réécrit par Gerard Beekmans  - gerard@linuxfromscratch.org
source /etc/sysconfig/rc
source $rc_functions
case "$1" in
	start)
		echo "Starting xinetd..."
		loadproc /usr/sbin/xinetd
		;;
	stop)
		echo "Stopping xinetd..."
		killproc /usr/sbin/xinetd
		;;
	reload)
		echo "Reloading xinetd..."
		killall -HUP xinetd
		;;
	restart)
		$0 stop
		sleep 1
		$0 start
		;;
	status)
		statusproc /usr/sbin/xinetd
		;;
	*)
		echo "Usage: $0 {start|stop|reload|restart|status}"
		exit 1
		;;
esac
# End $rc_base/init.d/xinetd
EOF

</userinput></screen></para>
<para>Ajoutez les liens symboliques des niveaux d'exécution:</para>
<para><screen><userinput>
chmod 754 /etc/rc.d/init.d/xinetd &amp;&amp;
ln -s  /etc/rc.d/init.d/xinetd /etc/rc.d/rc0.d/K300xinetd &amp;&amp;
ln -s  /etc/rc.d/init.d/xinetd /etc/rc.d/rc1.d/K300xinetd &amp;&amp;
ln -s  /etc/rc.d/init.d/xinetd /etc/rc.d/rc2.d/K300xinetd &amp;&amp;
ln -s  /etc/rc.d/init.d/xinetd /etc/rc.d/rc3.d/S300xinetd &amp;&amp;
ln -s  /etc/rc.d/init.d/xinetd /etc/rc.d/rc4.d/S300xinetd &amp;&amp;
ln -s  /etc/rc.d/init.d/xinetd /etc/rc.d/rc5.d/S300xinetd &amp;&amp;
ln -s  /etc/rc.d/init.d/xinetd /etc/rc.d/rc6.d/K300xinetd
</userinput></screen></para>

<para>Maintenant, nous utiliserons notre nouveau script de démarrage pour lancer
xinetd: </para>
<para><screen><userinput>
/etc/rc.d/init.d/xinetd start
</userinput></screen></para>

<para>Vérifier le fichier <filename>/var/log/daemon.log</filename> devrait être
intéressant. Ce fichier peut contenir des entrées similaires aux suivantes:
</para>

<para><screen><userinput>
Aug 22 21:40:21 dps10 xinetd[2696]: Server /usr/sbin/in.rlogind is not
executable [line=29]
Aug 22 21:40:21 dps10 xinetd[2696]: Error parsing attribute server -
DISABLING SERVICE [line=29]
Aug 22 21:40:21 dps10 xinetd[2696]: Server /usr/sbin/in.rshd is not
executable [line=42]
</userinput></screen></para>

<para>Ces erreurs sont dûes au fait que nous n'avons pas installé encore la
plupart des serveurs avec xinetd.</para></sect3>
</sect2>

