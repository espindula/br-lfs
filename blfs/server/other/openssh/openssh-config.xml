<sect2>
<title>Configurer OpenSSH</title>

<sect3><title>Fichiers de configuration</title>

<para><filename>/etc/ssh/ssh_config</filename>,
<filename>/etc/ssh/sshd_config</filename></para>

<para>Il n'y a pas de modifications requises dans ces fichiers. Néanmoins, vous
pouvez souhaiter les visualiser pour effectuer des changements en rapport avec
votre système. Des informations de configuration peuvent être trouvées dans les
pages man pour sshd, ssh et ssh-agent.</para>
</sect3>

<sect3><title>Script init.d sshd</title>

<para>Notez que vous voulez seulement lancer le serveur sshd si vous voulez être
capable de se connecter par ssh sur votre machine. Le client ssh n'a pas besoin
de ce script pour être utilisé. Ceci dit, si vous voulez lancer le démon ssh,
le script init.d sshd doit être créé en utilisant les commandes suivantes:
</para>

<para><screen><userinput>cat &gt; /etc/rc.d/init.d/sshd &lt;&lt; "EOF"</userinput>
#!/bin/sh
# Début $rc_base/init.d/sshd

# Basé sur le script sysklogd de LFS-3.1 et précédents.
# Réécrit par Gerard Beekmans  - gerard@linuxfromscratch.org

source /etc/sysconfig/rc
source $rc_functions

case "$1" in
        start)
	        echo "Starting SSH Server..."
		loadproc /usr/sbin/sshd
	        ;;

	stop)
	        echo "Stopping SSH Server..."
		killproc /usr/sbin/sshd
	        ;;

	reload)
	        echo "Reloading SSH Server..."
		reloadproc /usr/sbin/sshd
	        ;;
	     
	restart)
	        $0 stop
	        sleep 1
	        $0 start
	        ;;

	status)
		statusproc /usr/sbin/sshd
	        ;;

	*)
	        echo "Usage: $0 {start|stop|reload|restart|status}"
	        exit 1
	        ;;
esac

# Fin $rc_base/init.d/sshd
<userinput>EOF
chmod 755 /etc/rc.d/init.d/sshd</userinput></screen></para>

<para>Créez les liens symboliques vers ce fichier dans le répertoire
<filename class="directory">rc.d</filename> avec les commandes suivantes:
<screen><userinput>cd /etc/rc.d/init.d &amp;&amp;
ln -sf ../init.d/sshd ../rc0.d/K30sshd &amp;&amp;
ln -sf ../init.d/sshd ../rc1.d/K30sshd &amp;&amp;
ln -sf ../init.d/sshd ../rc2.d/K30sshd &amp;&amp;
ln -sf ../init.d/sshd ../rc3.d/S30sshd &amp;&amp;
ln -sf ../init.d/sshd ../rc4.d/S30sshd &amp;&amp;
ln -sf ../init.d/sshd ../rc5.d/S30sshd &amp;&amp;
ln -sf ../init.d/sshd ../rc6.d/K30sshd</userinput></screen></para>

</sect3>

</sect2>

