<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;
  <!ENTITY exim-download-http   "http://ftp.exim.org/pub/exim/exim4/exim-&exim-version;.tar.bz2">
  <!ENTITY exim-download-ftp    "ftp://ftp.exim.org/pub/exim/exim4/exim-&exim-version;.tar.bz2">
  
  <!ENTITY exim-md5sum          "ebae28762b6f125726283dc9434e8709">
  <!ENTITY exim-size            "1.7 Mo">
  <!ENTITY exim-buildsize       "14 Mo">
  <!ENTITY exim-time            "0.2 SBU">
  <!ENTITY exim-daemon-version  "&exim-version;-3">
]>
  
<sect1 id="exim" xreflabel="Exim-&exim-version;">
  <?dbhtml filename="exim.html"?>
  <sect1info>
    <othername>$LastChangedBy&nbsp;: bdubbs $</othername>
    <date>$Date&nbsp;: 2012-09-08 04:31:02 +0200 (Sat, 08 Sep 2012) $</date>
  </sect1info>
  <title>Exim-&exim-version;</title>
  <indexterm zone="exim">
    <primary sortas="a-Exim">Exim</primary>
  </indexterm>
  <sect2 role="package">
    <title>Introduction à Exim</title>
    <para>Le paquet <application>Exim</application> contient un <foreignphrase>Mail
    Transport Agent</foreignphrase> écrit par l'université de Cambridge, 
    publié sous la GNU Public License.</para>
   &lfs76lfs77_checked;
    <bridgehead renderas="sect3">Informations sur le paquet</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>Téléchargement (HTTP)&nbsp;: <ulink url="&exim-download-http;"/></para>
      </listitem>
      <listitem>
        <para>Téléchargement (FTP)&nbsp;: <ulink url="&exim-download-ftp;"/></para>
      </listitem>
      <listitem>
        <para>Somme de contrôle MD5 du téléchargement&nbsp;: &exim-md5sum;</para>
      </listitem>
      <listitem>
        <para>Taille du téléchargement&nbsp;: &exim-size;</para>
      </listitem>
      <listitem>
        <para>Estimation de l'espace disque requis&nbsp;: &exim-buildsize;</para>
      </listitem>
      <listitem>
        <para>Estimation du temps de construction&nbsp;: &exim-time;</para>
      </listitem>
    </itemizedlist>
    <bridgehead renderas="sect3">Téléchargements supplémentaires</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>On peut télécharger des formats supplémentaires de la documentation
        (docs basés sur le texte sont fournis dans les sources) en suivant
        les liens décrits dans <ulink url="http://exim.org/docs.html"/>.</para>
      </listitem>
    </itemizedlist>
    <bridgehead renderas="sect3">Dépendances d'Exim</bridgehead>
    <bridgehead renderas="sect4">Requises</bridgehead>
    <para role="required">
      <xref linkend="pcre"/>
    </para>
    <bridgehead renderas="sect4">Facultatives</bridgehead>
    <para role="optional">
      <xref linkend="db"/> ou
      <ulink url="http://sourceforge.net/projects/tdb">TDB</ulink> (en tant qu'alternative
      à GDBM, construit dans LFS),
      <xref linkend="x-window-system"/>,
      <xref linkend="openldap"/>,
      <xref linkend="openssl"/> or <xref linkend="gnutls"/>,
      <xref linkend="cyrus-sasl"/>,
      <xref linkend="mariadb"/> ou <ulink url="http://www.mysql.com/">MySQL</ulink>,
      <xref linkend="postgresql"/>,
      <xref linkend="sqlite"/>,
      <xref linkend="linux-pam"/>, et
      <ulink url="http://www.trusteddomain.org/opendmarc/">OpenDMARC</ulink>
    </para>
    <para condition="html" role="usernotes">Notes utilisateur&nbsp;:
    <ulink url="&blfs-wiki;/exim"/></para>
  </sect2>
  <sect2 role="installation">
    <title>Installation d'Exim</title>
    <para>Avant de construire <application>Exim</application>, en tant
    qu'utilisateur <systemitem class="username">root</systemitem>, vous
    devriez créer le groupe et l'utilisateur 
    <systemitem class="username">exim</systemitem> qui exécuteront le démon
    <command>exim</command>&nbsp;:</para>
<screen role="root">
<userinput>groupadd -g 31 exim &amp;&amp;
useradd -d /dev/null -c "Exim Daemon" -g exim -s /bin/false -u 31 exim</userinput>
</screen>
    <para>Installez <application>Exim</application> avec les commandes
    suivantes&nbsp;:</para>
<screen>
<userinput>sed -e 's,^BIN_DIR.*$,BIN_DIRECTORY=/usr/sbin,' \
    -e 's,^CONF.*$,CONFIGURE_FILE=/etc/exim.conf,' \
    -e 's,^EXIM_USER.*$,EXIM_USER=exim,' \
    -e 's,^EXIM_MONITOR,#EXIM_MONITOR,' src/EDITME > Local/Makefile &amp;&amp;
printf "USE_GDBM = yes\nDBMLIB = -lgdbm\n" >> Local/Makefile &amp;&amp;
make</userinput>
</screen>
    <para>Ce paquet n'est pas fourni avec une suite de tests.</para>
    <para>Maintenant, en tant qu'utilisateur <systemitem class="username">root</systemitem>&nbsp;:</para>
<screen role="root">
<userinput>make install &amp;&amp;
install -v -m644 doc/exim.8 /usr/share/man/man8 &amp;&amp;
install -v -d -m755 /usr/share/doc/exim-&exim-version; &amp;&amp;
install -v -m644 doc/* /usr/share/doc/exim-&exim-version; &amp;&amp;
ln -sfv exim /usr/sbin/sendmail</userinput>
</screen>
  </sect2>
  <sect2 role="commands">
    <title>Explication des commandes</title>
    <para><command>sed -e ... > Local/Makefile</command>&nbsp;: La plupart des
    options de configuration d'<application>Exim</application> options sont
    compilées en dur en utilisant les lignes de <filename>Local/Makefile</filename> 
    créé à partir du fichier <filename>src/EDITME</filename>. Cette commande
    indique l'ensemble d'options minimum. Les descriptions des options sont
    listées ci-dessous.</para>
    <para><command>printf... > Local/Makefile</command>: initialisation des variables
    autorise l'utilisation de GDBM à la place de Berkeley DB par défaut. Enlevez cette commande
    si vous avez installé <xref linkend="db"/>.
    </para>
    <para><parameter>BIN_DIRECTORY=/usr/sbin</parameter>&nbsp;: Ceci installe
    tous les binaires et les scripts d'<application>Exim</application> dans
    <filename class='directory'>/usr/sbin</filename>.</para>
    <para><parameter>CONFIGURE_FILE=/etc/exim.conf</parameter>&nbsp;: Ceci
    installe le fichier principal de configuration d'<application>Exim</application>
    dans <filename class='directory'>/etc</filename>.</para>
    <para><parameter>EXIM_USER=exim</parameter>&nbsp;: Ceci dit à
    <application>Exim</application> que, plus tard, le démon ne doit pas avoir les
    privilèges <systemitem class="username">root</systemitem>, le processus
    donne le démon à l'utilisateur <systemitem
    class="username">exim</systemitem>.</para>
    <para><parameter>#EXIM_MONITOR</parameter>&nbsp;: Ceci annule la construction
    du surveillant <application>Exim</application> car il exige le support
    <application>X Window System</application>, en commentant la ligne
    <parameter>EXIM_MONITOR</parameter> dans <filename>Makefile</filename>. Si
    vous souhaitez construire le surveillant, ne mettez pas la commande
    <command>sed</command> et lancez la commande suivante avant de construire le
    paquet (modifiez 
    <filename>Local/eximon.conf</filename>, si nécessaire)&nbsp;:
    <command>cp exim_monitor/EDITME Local/eximon.conf</command>.</para>
    <para><command>ln -sfv exim /usr/sbin/sendmail</command>&nbsp;: Crée un
    lien vers <command>sendmail</command> pour les applications en ayant
    besoin, <application>Exim</application> acceptera la plupart des options
    <application>Sendmail</application> en ligne de commande.</para>
  </sect2>
  <sect2 role="commands">
    <title>Ajouter des fonctionnalités supplémentaires</title>
    <para>Pour utiliser tout ou partie des paquets de dépendance, vous devrez
    modifier <filename>Local/Makefile</filename> pour inclure les
    directives adéquates et des paramètres pour lier des bibliothèques supplémentaires
    avant de construire 
    <application>Exim</application>. <filename>Local/Makefile</filename> est
    énormément commenté par des instructions sur la façon de s'y prendre. Voici
    la liste d'informations supplémentaires pour vous aider à lier ces paquets
    de dépendance ou ajouter des fonctionnalités supplémentaires.</para>
    <para>Si vous souhaitez construire et installer la documentation
    <filename class='extension'>.info</filename>, reportez-vous à <ulink
    url="http://exim.org/exim-html-&exim-version;/doc/html/spec_html/ch04.html#SECTinsinfdoc"/>.</para>
    <para>Si vous souhaitez construire en dur les interfaces d'Exim avec
    l'appel à des logiciels anti-virus et anti-spams directement à partir des
    listes de contrôle d'accès, décommentez le paramètre
    <option>WITH_CONTENT_SCAN=yes</option> et relisez les informations 
    qui se trouvent sur <ulink url="http://exim.org/exim-html-&exim-version;/doc/html/spec_html/ch41.html"/>.</para>
    <para>Pour utiliser une base de données de fond différente de
    <application>Berkeley DB</application>, voir les instructions sur <ulink
    url="http://exim.org/exim-html-&exim-version;/doc/html/spec_html/ch04.html#SECTdb"/>.</para>
    <para>Pour la fonctionnalité SSL, voir les instructions sur <ulink
    url="http://exim.org/exim-html-&exim-version;/doc/html/spec_html/ch04.html#SECTinctlsssl"/>
    et <ulink
    url="http://exim.org/exim-html-&exim-version;/doc/html/spec_html/ch39.html"/>.</para>
    <para>Pour la fonctionnalité <application>tcpwrappers</application> voir
    les instructions sur <ulink url="http://exim.org/exim-html-&exim-version;/doc/html/spec_html/ch04.html#SECID27"/>.</para>
    <para>Pour des informations sur l'ajout de mécanismes d'authentication à
    la construction, voir les chapitres 33 à 37 de <ulink
    url="http://exim.org/exim-html-&exim-version;/doc/html/spec_html/index.html"/>.</para>
    <para>Pour des informations pour le lien avec <application>Linux-PAM</application>,
    reportez-vous aux instructions sur <ulink
    url="http://exim.org/exim-html-&exim-version;/doc/html/spec_html/ch11.html#SECTexpcond"/>.</para>
    <para>Pour des informations sur le lien avec des bibliothèques du moteur de
    base de données utilisées pour les recherches de noms
    <application>Exim</application>, voir les instructions sur <ulink
    url="http://exim.org/exim-html-&exim-version;/doc/html/spec_html/ch09.html"/>.</para>
    <para>Si vous souhaitez ajouter le support <application>Readline</application> 
    à <application>Exim</application> quand on l'appelle en mode
    <quote>test expansion</quote> (<option>-be</option>), voir les informations
    dans la section <option>-be</option> de <ulink
    url="http://exim.org/exim-html-&exim-version;/doc/html/spec_html/ch05.html#id2525974"/>.</para>
    <para>Il se peut que vous souhaitiez modifier la configuration par défaut et
    envoyer des fichiers journaux à syslog plutôt qu'au répertoire
    <filename class='directory'>/var/spool/exim/log</filename>. Voir les
    informations sur <ulink url="http://exim.org/exim-html-&exim-version;/doc/html/spec_html/ch49.html"/>.</para>
  </sect2>
  <sect2 role="configuration">
    <title>Configuration d'Exim</title>
    <sect3 id="exim-config">
      <title>Fichiers de configuration</title>
      <para><filename>/etc/exim.conf</filename> et
      <filename>/etc/aliases</filename></para>
      <indexterm zone="exim exim-config">
        <primary sortas="e-etc-exim.conf">/etc/exim.conf</primary>
      </indexterm>
      <indexterm zone="exim exim-config">
        <primary sortas="e-etc-aliases">/etc/aliases</primary>
      </indexterm>
    </sect3>
    <sect3>
      <title>Informations de configuration</title>
      <para>Un fichier <filename>/etc/aliases</filename> par défaut (qui ne
      fait rien car tout est en commentaire) est installé pendant l'installation
      du paquet si ce fichier n'existait pas sur votre système. Créez les
      aliases nécessaires et démarrez le démon <application>Exim</application> 
      en utilisant les commandes suivantes&nbsp;:</para>
<screen role="root">
<userinput>cat &gt;&gt; /etc/aliases &lt;&lt; "EOF"
<literal>postmaster: root
MAILER-DAEMON: root</literal>
EOF
exim -v -bi &amp;&amp;
/usr/sbin/exim -bd -q15m</userinput>
</screen>
      <note>
        <para>Pour protéger un fichier <filename>/etc/aliases</filename> existant,
        la commande ci-dessus y envoie ces aliases. Vous devriez vérifier ce
        fichier et recopier les aliases supprimés s'il y en a.</para>
      </note>
      <para>La commande <command>/usr/sbin/exim -bd -q15m</command> démarre le 
      démon <application>Exim</application> avec un intervalle de 15 minute 
      dans le traitement de la file d'attente de courriers. Ajustez ce paramètre
      pour l'adapter à vos souhaits.</para>
    </sect3>
    <sect3  id="exim-init">
      <title>Script de démarrage</title>
      <para>Pour automatiser le lancement d'<command>exim</command> au démarrage,
      installez le script de démarrage <filename>/etc/rc.d/init.d/exim</filename> 
      fourni dans le paquet <xref linkend="bootscripts"/>.</para>
      <indexterm zone="exim exim-init">
        <primary sortas="f-exim">exim</primary>
      </indexterm>
<screen role="root">
<userinput>make install-exim</userinput>
</screen>
      <para>Le script de démarrage démarre aussi le démon
      <application>Exim</application> et envoie un processus de lanceur de file
      d'attente de courriers toutes les 15 minutes. Modifiez le paramètre
      <option>-q<replaceable>&lt;intervalle de temps&gt;</replaceable></option>
      dans <filename>/etc/rc.d/init.d/exim</filename>, si nécessaire
      pour votre installation.</para>
    </sect3>
  </sect2>
  <sect2 role="content">
    <title>Contenu</title>
    <segmentedlist>
      <segtitle>Programmes installés</segtitle>
      <segtitle>Bibliothèques installées</segtitle>
      <segtitle>Répertoires installés</segtitle>
      <seglistitem>
        <seg>exicyclog, exigrep, exim, exim-&exim-daemon-version;,
        exim_checkaccess, exim_dbmbuild, exim_dumpdb, exim_fixdb, exim_lock,
        exim_tidydb, eximstats, exinext, exipick, exiqgrep, exiqsumm, exiwhat,
        et facultativement, eximon, eximon.bin, et sendmail (lien symbolique)</seg>
       <seg>Aucune</seg>
        <seg>/usr/share/doc/exim-&exim-version; et /var/spool/exim</seg>
      </seglistitem>
    </segmentedlist>
    <variablelist>
      <bridgehead renderas="sect3">Descriptions courtes</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>
      <varlistentry id="exicyclog">
        <term><command>exicyclog</command></term>
        <listitem>
          <para>parcourt les fichiers journaux d'<application>Exim</application>.</para>
          <indexterm zone="exim exicyclog">
            <primary sortas="b-exicyclog">exicyclog</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="exigrep">
        <term><command>exigrep</command></term>
        <listitem>
          <para>recherche les fichiers journaux d'<application>Exim</application>.</para>
          <indexterm zone="exim exigrep">
            <primary sortas="b-exigrep">exigrep</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="exim-prog">
        <term><command>exim</command></term>
        <listitem>
          <para>est un lien symbolique vers le démon MTA <command>exim-&exim-daemon-version;</command>.</para>
          <indexterm zone="exim exim-prog">
            <primary sortas="b-exim">exim</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="exim-current_version">
        <term><command>exim-&exim-daemon-version;</command></term>
        <listitem>
          <para>est le démon d'agent de transport de courrier 
          <application>Exim</application>.</para>
          <indexterm zone="exim-current_version">
            <primary sortas="b-exim-&exim-daemon-version;">exim-&exim-daemon-version;</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="exim_checkaccess">
        <term><command>exim_checkaccess</command></term>
        <listitem>
          <para>établit si une adresse de destinataire donnée sur un hôte est 
          acceptable ou pas.</para>
          <indexterm zone="exim exim_checkaccess">
            <primary sortas="b-exim_checkaccess">exim_checkaccess</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="exim_dbmbuild">
        <term><command>exim_dbmbuild</command></term>
        <listitem>
          <para>crée et reconstruit des bases de données <application>Exim</application>.</para>
          <indexterm zone="exim exim_dbmbuild">
            <primary sortas="b-exim_dbmbuild">exim_dbmbuild</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="exim_dumpdb">
        <term><command>exim_dumpdb</command></term>
        <listitem>
          <para>écrit le contenu des bases de données
          <application>Exim</application> sur la sortie standard.</para>
          <indexterm zone="exim exim_dumpdb">
            <primary sortas="b-exim_dumpdb">exim_dumpdb</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="exim_fixdb">
        <term><command>exim_fixdb</command></term>
        <listitem>
          <para>modifie des données dans les bases de données
          <application>Exim</application>.</para>
          <indexterm zone="exim exim_fixdb">
            <primary sortas="b-exim_fixdb">exim_fixdb</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="exim_lock">
        <term><command>exim_lock</command></term>
        <listitem>
          <para>verrouille un fichier de boîte aux lettres.</para>
          <indexterm zone="exim exim_lock">
            <primary sortas="b-exim_lock">exim_lock</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="exim_tidydb">
        <term><command>exim_tidydb</command></term>
        <listitem>
          <para>supprime les vieux enregistrements des bases de données
          <application>Exim</application>.</para>
          <indexterm zone="exim exim_tidydb">
            <primary sortas="b-exim_tidydb">exim_tidydb</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="eximstats">
        <term><command>eximstats</command></term>
        <listitem>
          <para>génère des statistiques de courrier à partir des fichiers
          journaux <application>Exim</application>.</para>
          <indexterm zone="exim eximstats">
            <primary sortas="b-eximstats">eximstats</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="exinext">
        <term><command>exinext</command></term>
        <listitem>
          <para>demande le délai entre les essais sur l'hôte distant.</para>
          <indexterm zone="exim exinext">
            <primary sortas="b-exinext">exinext</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="exipick">
        <term><command>exipick</command></term>
        <listitem>
          <para>sélectionne des messages basés sur divers critères.</para>
          <indexterm zone="exim exipick">
            <primary sortas="b-exipick">exipick</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="exiqgrep">
        <term><command>exiqgrep</command></term>
        <listitem>
          <para>est un outil de listage sélectif de la file d'attente.</para>
          <indexterm zone="exim exiqgrep">
            <primary sortas="b-exiqgrep">exiqgrep</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="exiqsumm">
        <term><command>exiqsumm</command></term>
        <listitem>
          <para>produit un résumé des messages dans la file d'attente du courrier.</para>
          <indexterm zone="exim exiqsumm">
            <primary sortas="b-exiqsumm">exiqsumm</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="exiwhat">
        <term><command>exiwhat</command></term>
        <listitem>
          <para>cherche les processus <application>Exim</application> en cours.</para>
          <indexterm zone="exim exiwhat">
            <primary sortas="b-exiwhat">exiwhat</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="eximon">
        <term><command>eximon</command></term>
        <listitem>
          <para>est un script shell de démarrage pour 
          <command>eximon.bin</command> utilisé pour paramétrer les variables
          d'environnement nécessaires avant de lancer le
          programme.</para>
          <indexterm zone="exim eximon">
            <primary sortas="b-eximon">eximon</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="eximon.bin">
        <term><command>eximon.bin</command></term>
        <listitem>
          <para>est un programme de surveillance qui affiche les informations
          actuelles dans une fenêtre <application>X</application> et contient
          aussi une interface en menus avec les options en ligne de commande
          d'administration d'<application>Exim</application>.</para>
          <indexterm zone="exim eximon.bin">
            <primary sortas="b-eximon.bin">eximon.bin</primary>
          </indexterm>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect2>
</sect1>
