<sect2>
<title>Configurer <application>Sendmail</application></title>

<sect3><title>Fichiers de configuration</title>
<para><filename>/etc/mail/*</filename>.</para>
</sect3>

<sect3><title>Informations de configuration</title>

<screen><userinput><command>echo `hostname` > /etc/mail/local-host-names
cat &gt; /etc/mail/aliases &lt;&lt; "EOF"
postmaster: root
MAILER-DAEMON: root
EOF
cp -R  cf/* /etc/mail &amp;&amp;
cp -R  cf/cf/{submit,sendmail}.mc /etc/mail &amp;&amp;
newaliases -v</command></userinput></screen>

<para>Pour automatiser le lancement de Sendmail au démarrage, installez le script
de démarrage <command>/etc/rc.d/init.d/sendmail</command> inclus dans le paquetage
<xref linkend="intro-important-bootscripts"/>:</para>

<screen><userinput><command>make install sendmail</screen></userinput></command>

<note><para>L'option -qNm de <command>sendmail</command>, où N est le nombre de
minutes, contrôle la fréquence dont Sendmail va examiner la queue des mails. Un
défaut de cinq minutes est utilisé dans le script de démarrage. Les utilisateurs
de station individuel pourront vouloir le baisser à une minute, de grandes
installations voudront la monter.</para></note>

<screen><userinput><command>cat &gt; /etc/rc.d/init.d/sendmail &lt;&lt; "EOF"
#!/bin/sh
# Début $rc_base/init.d/sendmail

# Basé sur le script sysklogd de LFS-3.1 et précédents.
# Réécrit par Gerard Beekmans  - gerard@linuxfromscratch.org

source /etc/sysconfig/rc
source $rc_functions

case "$1" in

        start)
        echo "Starting sendmail..."
        loadproc /usr/sbin/sendmail -bs -bd -q5m start
        ;;

        stop)
        echo "Stopping Sendmail..."
        killproc sendmail
        ;;
		
	status)
	statusproc sendmail
	;;
	
        restart)
        $0 stop
        sleep 1
        $0 start
        ;;

        *)
        echo "Usage: $0 {start|stop|status|restart}"
        exit 1
        ;;
esac

# Fin $rc_base/init.d/sendmail
EOF
chmod 755 /etc/rc.d/init.d/sendmail</command></userinput></screen>

<para>Créez les liens symboliques des niveaux d'exécution avec les commandes
suivantes:</para>

<screen><userinput><command>cd /etc/rc.d/init.d &amp;&amp;
ln -sf ../init.d/sendmail ../rc0.d/K25sendmail &amp;&amp;
ln -sf ../init.d/sendmail ../rc1.d/K25sendmail &amp;&amp;
ln -sf ../init.d/sendmail ../rc2.d/K25sendmail &amp;&amp;
ln -sf ../init.d/sendmail ../rc3.d/S35sendmail &amp;&amp;
ln -sf ../init.d/sendmail ../rc4.d/S35sendmail &amp;&amp;
ln -sf ../init.d/sendmail ../rc5.d/S35sendmail &amp;&amp;
ln -sf ../init.d/sendmail ../rc6.d/K25sendmail</command></userinput></screen></sect3>

</sect2>
