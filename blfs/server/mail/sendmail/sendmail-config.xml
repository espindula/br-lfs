<sect2>
<title>Configurer sendmail</title>

<sect3><title>Fichiers de configuration</title>
<para><userinput>/etc/mail/aliases.db</userinput>,
<userinput>/etc/mail/sendmail.cf</userinput>,
<userinput>/etc/mail/submit.cf</userinput> et
<userinput>/etc/mail/local-host-names</userinput>.</para>
</sect3>

<sect3><title>Configurer sendmail</title>
<para><screen><userinput>echo `hostname` > /etc/mail/local-host-names
cat &gt; /etc/mail/aliases &lt;&lt; "EOF"</userinput>
postmaster: root
MAILER-DAEMON: root
<userinput>EOF
cd /etc/mail &amp;&amp;
cp -R  /usr/src/sendmail-&sendmail-version;/cf/* . &amp;&amp;
cp -R  /usr/src/sendmail-&sendmail-version;/cf/cf/submit.mc . &amp;&amp;
cp -R  /usr/src/sendmail-&sendmail-version;/cf/cf/sendmail.mc . &amp;&amp;
newaliases -v &amp;&amp;</userinput></screen></para>

<para>Pour lancer et arrêter sendmail lors du démarrage et de l'arrêt du
système, créez le script de démarrage de sendmail avec les commandes suivantes:
</para>

<note><para>L'option -qNm, où N est le nombre de minutes, contrôle la fréquence
dont Sendmail va examiner la queue des mails. &nbsp;&nbsp;Un défaut de cinq
minutes est utilisé ici.&nbsp;&nbsp;Les utilisateurs de station individuel
pourront vouloir le baisser à une minute, de grandes installations voudront
la monter.</para></note>

<para><screen><userinput>cat &gt; /etc/rc.d/init.d/sendmail &lt;&lt; "EOF"</userinput>
#!/bin/sh
# Début $rc_base/init.d/sendmail

# Basé sur le script sysklogd de LFS-3.1 et précédents.
# Réécrit par Gerard Beekmans  - gerard@linuxfromscratch.org

source /etc/sysconfig/rc
source $rc_functions

case "$1" in

        start)
        echo "Starting sendmail..."
        loadproc /usr/sbin/sendmail -bs -bd -q5m start
        ;;

        stop)
        echo "Stopping Sendmail..."
        killproc sendmail
        ;;
		
	status)
	statusproc sendmail
	;;
	
        restart)
        $0 stop
        sleep 1
        $0 start
        ;;

        *)
        echo "Usage: $0 {start|stop|status|restart}"
        exit 1
        ;;
esac

# Fin $rc_base/init.d/sendmail
<userinput>EOF
chmod 755 /etc/rc.d/init.d/sendmail</userinput></screen></para>

<para>Créez les liens symboliques des niveaux d'exécution avec les commandes
suivantes:

<screen><userinput>cd /etc/rc.d/init.d &amp;&amp;
ln -sf ../init.d/sendmail ../rc0.d/K25sendmail &amp;&amp;
ln -sf ../init.d/sendmail ../rc1.d/K25sendmail &amp;&amp;
ln -sf ../init.d/sendmail ../rc2.d/K25sendmail &amp;&amp;
ln -sf ../init.d/sendmail ../rc3.d/S35sendmail &amp;&amp;
ln -sf ../init.d/sendmail ../rc4.d/S35sendmail &amp;&amp;
ln -sf ../init.d/sendmail ../rc5.d/S35sendmail &amp;&amp;
ln -sf ../init.d/sendmail ../rc6.d/K25sendmail</userinput></screen></para>
</sect3>

</sect2>
