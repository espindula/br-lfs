<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;
  <!ENTITY wireshark-download-http "http://www.wireshark.org/download/src/all-versions/wireshark-&wireshark-version;.tar.bz2">
  <!ENTITY wireshark-download-ftp  " ">
  <!ENTITY wireshark-md5sum        "898b4c60e32efcd77ecf875a6ad07a92">
  <!ENTITY wireshark-size          "23 Mo">
  <!ENTITY wireshark-buildsize     "1.0 Go">
  <!ENTITY wireshark-time          "6.0 SBU">
]>

<sect1 id="wireshark" xreflabel="Wireshark-&wireshark-version;">
  <?dbhtml filename="wireshark.html"?>

  <sect1info>
    <othername>$LastChangedBy : bdubbs $</othername>
    <date>$Date : 2012-10-30 22:58:31 +0100 (Tue, 30 Oct 2012) $</date>
  </sect1info>

  <title>Wireshark-&wireshark-version;</title>

  <indexterm zone="wireshark">
    <primary sortas="a-Wireshark">Wireshark</primary>
  </indexterm>

  <sect2 role="package">
    <title>Introduction à Wireshark</title>

    <para>Le paquet <application>Wireshark</application> contient un analyseur 
    de protocole réseau connu aussi sous le nom de <quote>sniffer</quote>. 
    Ceci est utile pour analyser les données capturées <quote>hors connexion</quote>
    à partir d'une connexion réseau en direct ou de données lues à partir 
    d'un fichier de capture. <application>Wireshark</application> fournit 
    à la fois un mode graphique et un front-end TTY-mode pour examiner les 
    paquets réseau capturés de plus de 500 protocoles, ainsi que la capacité 
    de lire des fichiers de capture à partir de nombreux autres analyseurs de 
    réseau populaires.</para>

   &lfs72_checked;
    
    <bridgehead renderas="sect3">Informations sur le paquet</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>Téléchargement (HTTP)&nbsp;: <ulink url="&wireshark-download-http;"/></para>
      </listitem>
      <listitem>
        <para>Téléchargement (FTP)&nbsp;: <ulink url="&wireshark-download-ftp;"/></para>
      </listitem>
      <listitem>
        <para>Téléchargement de la somme MD5&nbsp;: &wireshark-md5sum;</para>
      </listitem>
      <listitem>
        <para>Taille du téléchargement&nbsp;: &wireshark-size;</para>
      </listitem>
      <listitem>
        <para>Estimation de l'espace disque requis&nbsp;: &wireshark-buildsize;</para>
      </listitem>
      <listitem>
        <para>Estimation du temps de construction&nbsp;: &wireshark-time;</para>
      </listitem>
    </itemizedlist>

    <bridgehead renderas="sect3">Téléchargements additionnels</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>Documentation supplémentaire&nbsp;: <ulink
        url="http://www.wireshark.org/docs/"/></para>
      </listitem>
    </itemizedlist>

    <para>Depuis cette page, vous pourrez télécharger de nombreux documents différents dans une variété de formats.</para>

    <bridgehead renderas="sect3">Dépendances de Wireshark</bridgehead>

    <bridgehead renderas="sect4">Requis</bridgehead>
    <para role="required"><!--<xref linkend="GLib"/> or --><xref linkend="glib2"/>
    (pour ne construire que l'interface en mode ligne de commande)</para>

    <para>Notez que si vous n'avez pas <application>Gtk+</application> installé, vous aurez besoin de passer <option>--disable-wireshark</option> à la commande <command>configure</command>.</para>

    <bridgehead renderas="sect4">Recommandés</bridgehead>
    <para role="recommended"><xref linkend="libpcap"/> (requis pour capturer les données)</para>

    <bridgehead renderas="sect4">Facultatives</bridgehead>
    <para role="optional"><!-- <xref linkend="pkgconfig"/>, -->
      <xref linkend="gtk2"/> or <xref linkend="gtk3"/> (pour construire l'interface graphique),
      <xref linkend="openssl"/>,
      <xref linkend="mitkrb"/>,
      <xref linkend="python2"/>,
      <xref linkend="pcre"/>,
      <xref linkend="gnutls"/>,
      <ulink url="http://www.portaudio.com/download.html">PortAudio</ulink>,
      <ulink url="http://www.maxmind.com/app/c">GeoIP</ulink>,
      <!-- <ulink url="http://www.net-snmp.org/">Net-SNMP</ulink>, -->
      <ulink url="http://www.gnu.org/software/adns/adns.html">adns</ulink>, et
      <ulink url="http://www.lua.org/">Lua</ulink>
    </para>

    <para condition="html" role="usernotes">Notes d'utilisateur&nbsp;:
    <ulink url="&blfs-wiki;/wireshark"/></para>

  </sect2>

  <sect2 role="kernel" id="wireshark-kernel">
    <title>Configuration du noyau</title>

      <para>Le noyau doit avoir le protocole de paquets (Packet protocol) activé pour que <application>Wireshark</application> capture les paquets en direct à partir du réseau. Activez le protocole de paquets (Packet protocol) en choisissant <quote>Y</quote> dans le paramètre de configuration <quote>Networking</quote> &ndash; <quote>Packet socket</quote>. Alternativement, construisez le module <filename>af_packet.ko</filename> en choisissant <quote>M</quote> à ce paramètre.</para>

      <indexterm zone="wireshark wireshark-kernel">
        <primary sortas="d-Capturing-network-packets">Capturing network packets</primary>
      </indexterm>

  </sect2>

  <sect2 role="installation">
    <title>Installation de Wireshark</title>

    <para>Éventuellement, corrigez la description du programme dans titre. Le
    premier changement écrase le "SVN Unknown" (SVN inconnu) par défaut dans le
    titre et le second écrase un script qui réinitialise la version à
    to "unknown" (inconnue).</para>

<screen><userinput>cat > svnversion.h &lt;&lt; "EOF"
#define SVNVERSION "BLFS"
#define SVNPATH "source"
EOF

cat > make-version.pl &lt;&lt; "EOF"
#!/usr/bin/perl
EOF</userinput></screen>

    <para><application>Wireshark</application> est une application très grosse et
    très complexe. Ces instructions donnent les mesures de sécurité pour garantir
    que seuls les utilisateurs de confiance soient autorisés à voir le trafic réseau.
    Tout d'abord, définissez le groupe system pour wireshark.  En tant qu'utilisateur
    <systemitem
    class="username">root</systemitem>&nbsp;:</para>

<screen role="root"><userinput>groupadd -g 62 wireshark</userinput></screen>

    <para>Continuez à installer <application>Wireshark</application> en lançant
    les commandes suivantes&nbsp;:</para>

<screen><userinput>./configure --prefix=/usr --sysconfdir=/etc &amp;&amp;
make</userinput></screen>

    <para>Ce paquet n'est pas livré avec une suite de test</para>

    <para>Maintenant, en tant qu'utilisateur <systemitem class="username">root</systemitem>&nbsp;:</para>

<screen role="root"><userinput>make install &amp;&amp;

install -v -m755 -d /usr/share/doc/wireshark-&wireshark-version; &amp;&amp;
install -v -m755 -d /usr/share/pixmaps/wireshark &amp;&amp;

install -v -m644    README{,.linux} doc/README.* doc/*.{pod,txt}                     /usr/share/doc/wireshark-&wireshark-version; &amp;&amp;
pushd /usr/share/doc/wireshark-&wireshark-version; &amp;&amp;
for FILENAME in ../../wireshark/*.html; do     ln -s -v $FILENAME .
done &amp;&amp;
popd &amp;&amp;

install -v -m644 -D wireshark.desktop                     /usr/share/applications/wireshark.desktop &amp;&amp;
install -v -m644 -D image/wsicon48.png                     /usr/share/pixmaps/wireshark.png &amp;&amp;
install -v -m644    image/*.{png,ico,xpm,bmp}                     /usr/share/pixmaps/wireshark</userinput></screen>

    <para>Si vous avez téléchargé un des fichiers de documentation mentionnés dans 'Téléchargements supplémentaires', installez les en suivant les commandes suivantes en tant qu'utilisateur <systemitem class="username">root</systemitem>&nbsp;:</para>

<screen role="root"><userinput>install -v -m644 <replaceable>&lt;Downloaded_Files&gt;</replaceable> /usr/share/doc/wireshark-&wireshark-version;</userinput></screen>

  <para>Maintenant, définissez le propriétaire et les droits des applications 
  sensibles pour ne permettre qu'aun utilisateurs autorisés de l'utiliser.
  En tant qu'utilisateur <systemitem
  class="username">root</systemitem>&nbsp;:</para>

<screen role="root"><userinput>chown -v root:wireshark /usr/bin/{tshark,dumpcap} &amp;&amp;
chmod -v 6550 /usr/bin/{tshark,dumpcap}</userinput></screen>

  <para>Enfin, ajoutez les utilisateurs au groupe wireshark avec <userinput>usermod -a -G
  wireshark &lt;username&gt;</userinput>.</para>

  </sect2>

  <sect2 role="commands">
    <title>Explication des commandes</title>

    <para><parameter>--enable-threads</parameter>&nbsp;: Ce paramètre active l'utilisation des threads dans <command>wireshark</command>.</para>

    <para><option>--with-ssl</option>&nbsp;: Ce paramètre est obligatoire si vous liez les bibliothèques Kerberos à la construction de façon à ce que la bibliothèque <application>OpenSSL</application>
    <filename class='libraryfile'>libcrypto</filename> soit trouvée.</para>

    <para><option>--with-python</option>&nbsp;: Ce paramètre est requis si vous
    voulez construire les bindings Python.</para>

  </sect2>

  <sect2 role="configuration">
    <title>Configurer Wireshark</title>

    <sect3 id="wireshark-config">
      <title>Fichiers de configuration</title>

      <para><filename>/etc/wireshark.conf</filename> et <filename>~/.wireshark/*</filename></para>

      <indexterm zone="wireshark wireshark-config">
        <primary sortas="e-AA.wireshark-star">~/.wireshark/*</primary>
      </indexterm>

      <indexterm zone="wireshark wireshark-config">
        <primary sortas="e-etc-wireshark.conf">/etc/wireshark.conf</primary>
      </indexterm>

    </sect3>

    <sect3>
      <title>Informations de configuration</title>

      <para>Si les paramètres de configuration par défaut sont très clairs, reportez vous à la section de configuration du <ulink url="http://www.wireshark.org/docs/wsug_html/">Guide de l'utilisateur de Wireshark (Wireshark User's Guide)</ulink> pour les informations de configuration. La majorité de la configuration de <application>Wireshark</application> peut être réalisée en utilisant les options du menu de l'interface graphique de <command>wireshark</command>.</para>

      <note>
        <para>Si vous voulez regarder les packets, assurez vous que vous ne les filtrez pas avec <xref linkend="iptables"/>. Si vous voulez exclure certaines classes de paquets, il est plus efficace de le faire avec <application>iptables</application> qu'avec <application>Wireshark</application>.</para>
      </note>

    </sect3>

  </sect2>

  <sect2 role="content">
    <title>Contenu</title>

    <segmentedlist>
      <segtitle>Programmes installés</segtitle>
      <segtitle>Bibliothèques installées</segtitle>
      <segtitle>Répertoires installés</segtitle>

      <seglistitem>
        <seg>capinfos, dftest, dumpcap, editcap, idl2wrs, mergecap, randpkt,
        rawshark, text2pcap, tshark et wireshark</seg>
        <seg>libwireshark.so, libwiretap.so, libwsutil.so, et de nombreux modules
        supplémentaires</seg>
        <seg>/usr/lib/wireshark, /usr/share/doc/wireshark-&wireshark-version;,
        /usr/share/pixmaps/wireshark et /usr/share/wireshark</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Descriptions courtes</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="capinfos">
        <term><command>capinfos</command></term>
        <listitem>
          <para>lit un fichier de capture sauvegardé et retourne certaines ou toutes les différentes statistiques sur ce fichier. Il est capable de détecter et lire toutes les captures supportées par le paquet <application>Wireshark</application>.</para>
          <indexterm zone="wireshark capinfos">
            <primary sortas="b-capinfos">capinfos</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="dftest">
        <term><command>dftest</command></term>
        <listitem>
          <para>est un programme test d'affichage-filtrage-compilation.</para>
          <indexterm zone="wireshark dftest">
            <primary sortas="b-dftest">dftest</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="dumpcap">
        <term><command>dumpcap</command></term>
        <listitem>
          <para>est un outil de vidage de traffic réseau. Il vous permet de capturer en direct les paquets de données d'un réseau et écrire ces paquets dans un fichier.</para>
          <indexterm zone="wireshark dumpcap">
            <primary sortas="b-dumpcap">dumpcap</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="editcap">
        <term><command>editcap</command></term>
        <listitem>
          <para>édite et/ou traduit le format des fichiers de capture. Il sait comment lire les fichiers de capture <application>libpcap</application> dont ceux de <command>tcpdump</command>, <application>Wireshark</application> et autres outils qui capturent dans ce format.</para>
          <indexterm zone="wireshark editcap">
            <primary sortas="b-editcap">editcap</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="idl2wrs">
        <term><command>idl2wrs</command></term>
        <listitem>
          <para>prend un fichier utilisateur CORBA IDL spécifié et génère un code source <quote>C</quote> qui peut être utilisé pour créer un plugin <application>Wireshark</application>.</para>
          <indexterm zone="wireshark idl2wrs">
            <primary sortas="b-idl2wrs">idl2wrs</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="mergecap">
        <term><command>mergecap</command></term>
        <listitem>
          <para>combine de multiples fichiers de capture en un fichier unique de sortie.</para>
          <indexterm zone="wireshark mergecap">
            <primary sortas="b-mergecap">mergecap</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="randpkt">
        <term><command>randpkt</command></term>
        <listitem>
          <para>crée des fichiers de capture de paquets aléatoires.</para>
          <indexterm zone="wireshark randpkt">
            <primary sortas="b-randpkt">randpkt</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="rawshark">
        <term><command>rawshark</command></term>
        <listitem>
          <para>crée et analyse des données raw libpcap.</para>
          <indexterm zone="wireshark rawshark">
            <primary sortas="b-rawshark">rawshark</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="text2pcap">
        <term><command>text2pcap</command></term>
        <listitem>
          <para>lit dans une sauvegarde ASCII hexadécimale et écrit les données décrites dans un fichier de capture de style <application>libpcap</application>.</para>
          <indexterm zone="wireshark text2pcap">
            <primary sortas="b-text2pcap">text2pcap</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="tshark">
        <term><command>tshark</command></term>
        <listitem>
          <para>est un analyseur de protocole réseau mode TTY. Il vous permet de capturer directement les paquets de donnée à partir d'un réseau ou lire les paquets à partir d'un fichier de capture sauvegardé précédemment.</para>
          <indexterm zone="wireshark tshark">
            <primary sortas="b-tshark">tshark</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="wireshark-prog">
        <term><command>wireshark</command></term>
        <listitem>
          <para>est un analyseur de protocole réseau GUI. Il vous permet de parcourir intéractivement en direct les paquets à partir d'un réseau ou à partir d'un fichier de capture sauvegardé précédemment.</para>
          <indexterm zone="wireshark wireshark-prog">
            <primary sortas="b-wireshark">wireshark</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libwireshark">
        <term><filename class='libraryfile'>libwireshark.so</filename></term>
        <listitem>
          <para>contient les fonctions utilisés par les programmes de <application>Wireshark</application> pour effectuer le filtrage et la capture de paquets.</para>
          <indexterm zone="wireshark libwireshark">
            <primary sortas="c-libwireshark">libwireshark.so</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libwiretap">
        <term><filename class='libraryfile'>libwiretap.so</filename></term>
        <listitem>
          <para>est une bibliothèque développée afin de remplacer dans le futur <filename class='libraryfile'>libpcap</filename>, la bibliothèque Unix standard actuelle pour la capture de paquets. Pour plus d'informations, consultez le fichier <filename>README</filename> dans le répertoire source <filename class='directory'>wiretap</filename>.</para>
          <indexterm zone="wireshark libwiretap">
            <primary sortas="c-libwiretap">libwiretap.so</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
