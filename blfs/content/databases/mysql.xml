<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN"
   "http://www.oasis-open.org/docbook/xml/4.3/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

  <!ENTITY mysql-download-http "http://mysql.he.net/Downloads/MySQL-4.1/mysql-&mysql-version;.tar.gz">
  <!ENTITY mysql-download-ftp  "ftp://mirror.mcs.anl.gov/pub/mysql/Downloads/MySQL-4.1/mysql-&mysql-version;.tar.gz">
  <!ENTITY mysql-md5           "2886edbe5cc826727fbb79a79d41145c">
  <!ENTITY mysql-size          "22 MB">
  <!ENTITY mysql-buildsize     "117 MB">
  <!ENTITY mysql-time          "4.65 SBU">
]>

<sect1 id="mysql" xreflabel="MySQL-&mysql-version;">
<sect1info>
<othername>$LastChangedBy: randy $</othername>
<date>$Date: 2005-06-15 05:44:17 $</date>
</sect1info>
<?dbhtml filename="mysql.html"?>
<title>MySQL-&mysql-version;</title>

<sect2>
<title>Introduction à <application>My<acronym>SQL</acronym></application>
</title>

<para><application>My<acronym>SQL</acronym></application> est un serveur de
bases de données <acronym>SQL</acronym> très largement utilisé et rapide. Il
s'agit d'une implémentation d'un client/serveur consistant en un démon serveur
et en de nombreux programmes et bibliothèques clients.</para>

<sect3><title>Informations sur le paquetage</title>
<itemizedlist spacing='compact'>
<listitem><para>Téléchargement (HTTP)&nbsp;: 
<ulink url="&mysql-download-http;"/></para></listitem>
<listitem><para>Téléchargement (FTP)&nbsp;: 
<ulink url="&mysql-download-ftp;"/></para></listitem>
<listitem><para>Téléchargement de la somme MD5&nbsp;: &mysql-md5;</para></listitem>
<listitem><para>Taille du téléchargement&nbsp;:&mysql-size;</para></listitem>
<listitem><para>Estimation de l'espace disque requis&nbsp;: 
&mysql-buildsize;</para></listitem>
<listitem><para>Estimation du temps de construction&nbsp;: 
&mysql-time;</para></listitem></itemizedlist>
</sect3>

<sect3><title>Dépendances de <application>My<acronym>SQL</acronym></application></title>
<sect4><title>Optionnel</title>
<para>
<xref linkend="openssl"/>,
<xref linkend="tcpwrappers"/>,
<ulink url="http://sourceforge.net/projects/libedit/">libedit</ulink> 
(comme alternative à readline),
<xref linkend="ORBit"/> (détecté seulement si <xref linkend="which"/> est
installé),
<xref linkend="doxygen"/> et
<xref linkend="tex"/>
</para></sect4>
</sect3>

</sect2>

<sect2>
<title>Installation de <application>My<acronym>SQL</acronym></application>
</title>

<para>Pour des raisons de sécurité, lancer le serveur en tant qu'utilisateur
et groupe non privilégiée est fortement encouragé&bsp;:</para>

<screen><userinput><command>groupadd mysql &amp;&amp;
useradd -c mysql -d /dev/null -g mysql -s /bin/false mysql</command></userinput></screen>

<para>Construisez et installer <application>My<acronym>SQL</acronym></application>
en exécutant les commandes suivantes&nbsp;:</para>

<screen><userinput><command>CPPFLAGS="-D_GNU_SOURCE" ./configure --prefix=/usr --sysconfdir=/etc \
    --libexecdir=/usr/sbin --localstatedir=/srv/mysql \
    --enable-thread-safe-client --enable-assembler \
    --enable-local-infile --with-named-thread-libs=-lpthread \
    --with-unix-socket-path=/var/run/mysql/mysql.sock \
    --without-debug --without-bench --without-readline &amp;&amp;
make testdir=/usr/lib/mysql/mysql-test &amp;&amp;
make testdir=/usr/lib/mysql/mysql-test install &amp;&amp;
cd /usr/lib &amp;&amp;
ln -sf mysql/libmysqlclient{,_r}.so* .</command></userinput></screen>

</sect2>

<sect2>
<title>Explications des commandes</title>

<para><parameter>--libexecdir=/usr/sbin</parameter>&nbsp;: cette option installe
le démon <command>mysqld</command> au bon emplacement.</para>

<para><parameter>--localstatedir=/srv/mysql</parameter>&nbsp;: cette option force
<application>My<acronym>SQL</acronym></application> à utiliser
<filename class='directory'>/srv/mysql</filename> pour les fichiers
de la base de données et autres données variables.</para>

<para><parameter>--enable-thread-safe-client</parameter>&nbsp;: cette option
demande la compilation d'une bibliothèque client
<application>My<acronym>SQL</acronym></application> compatible avec les threads.
</para>

<para><parameter>--enable-assembler</parameter>&nbsp;: cette option autorise
l'utilisation de versions assembleurs de certaines fonctions sur les chaînes.</para>

<para><parameter>--enable-local-infile</parameter>&nbsp;: cette option active
l'instruction <acronym>SQL</acronym> LOAD DATA INFILE.</para>

<para><parameter>CPPFLAGS="-D_GNU_SOURCE" --with-named-thread-libs=-lpthread</parameter>&nbsp;:
cette variable d'environnement et option de configure activent la construction
sur des systèmes <acronym>NPTL</acronym>.</para>

<para><parameter>--with-unix-socket-path=/var/run/mysql</parameter>&nbsp;:
cette option place le socket de domaine Unix dans le répertoire <filename
class="directory">/var/run/mysql</filename> au lieu de celui par défaut,
<filename class="directory">/tmp</filename>.</para>

<para><parameter>--without-bench</parameter>&nbsp;: cette option demande
de ne pas construire la suite de benchmarks.</para>

<para><parameter>--without-readline</parameter>&nbsp;: cette option force
l'utilisation de la copie système de <application>readline</application> au lieu
de celle qui est intégrée.</para>

<para><command>make testdir=...</command>&nbsp;: ceci installe la suite de tests
dans <filename class='directory'>/usr/lib/mysql/mysql-test</filename>.
<acronym>BLFS</acronym> recherche actuellement une méthode pour omettre
l'installation de la suite de tests.</para>

<para><command>ln -sf mysql/libmysqlclient{,_r}.so* .</command>&nbsp;: cette commande
rend les bibliothèques partagées <application>My<acronym>SQL</acronym></application>
disponibles à d'autres paquetages lors de leur exécution.</para>

<para><option>--with-libwrap</option>&nbsp;: cette option ajoute le support de
tcpwrappers à <application>My<acronym>SQL</acronym></application>.</para>

<para><option>--with-openssl</option>&nbsp;: cette option ajoute le support
d'OpenSSL à <application>My<acronym>SQL</acronym></application>.</para>

</sect2>

<sect2>
<title>Configurer <application>My<acronym>SQL</acronym></application></title>

<sect3>
<title>Fichiers de configuration</title>

<para><filename>/etc/my.cnf</filename>, <filename>~/.my.cnf</filename></para>

</sect3>

<sect3>
<title>Informations de configuration</title>

<para>Il existe plusieurs fichier de configuration par défaut disponibles dans
<filename class="directory">/usr/share/mysql</filename> que vous pouvez
utiliser. Créez <filename>/etc/my.cnf</filename> en utilisant la commande
suivante&nbsp;:</para>

<screen><userinput><command>cp /usr/share/mysql/my-medium.cnf /etc/my.cnf</command></userinput></screen>

<para>Vous pouvez maintenant installer une base de données et modifier le
propriétaire par l'utilisateur et le groupe non privilégiés.</para>

<screen><userinput><command>mysql_install_db --user=mysql</command></userinput></screen>

<para>Une configuration plus poussée requiert que le serveur
<application>My<acronym>SQL</acronym></application> soit en cours
d'exécution&nbsp;:</para>

<screen><userinput><command>install -o mysql -d /var/run/mysql &amp;&amp;
mysqld_safe --user=mysql 2&gt;&amp;1 &gt;/dev/null &amp;</command></userinput></screen>

<para>Une installation par défaut ne configure pas un mot de passe pour
l'administrateur, donc utilisez la commande suivante pour en initialiser un.
Remplacez <replaceable>[nouveau-mot-de-passe]</replaceable> avec le vôtre.</para>

<screen><userinput><command>mysqladmin -u root password <replaceable>[nouveau-mot-de-passe]</replaceable></command></userinput></screen>

<para>La configuration du serveur est maintenant terminée. Arrêtez le serveur
en utilisant la commande suivante&nbsp;:</para>

<screen><userinput><command>mysqladmin -p shutdown</command></userinput></screen>

<para>Installez le script de démarrage <filename>/etc/rc.d/init.d/mysql</filename>
inclus dans le paquetage <xref linkend="intro-important-bootscripts"/>.</para>

<screen><userinput><command>make install-mysql</command></userinput></screen>

</sect3>

</sect2>

<sect2>
<title>Contenu</title>

<para>Le paquetage <application>My<acronym>SQL</acronym></application> contient
<command>client_test</command>,
<command>comp_err</command>, <command>
isamchk</command>, <command>
isamlog</command>, <command>
make_win_binary_distribution</command>, <command>
make_win_src_distribution</command>, <command>
msql2mysql</command>, <command>
my_print_defaults</command>, <command>
myisam_ftdump</command>, <command>
myisamchk</command>, <command>
myisamlog</command>, <command>
myisampack</command>, <command>
mysql</command>, <command>
mysql_config</command>, <command>
mysql_convert_table_format</command>, <command>
mysql_create_system_tables</command>, <command>
mysql_explain_log</command>, <command>
mysql_find_rows</command>, <command>
mysql_fix_extensions</command>, <command>
mysql_fix_privilege_tables</command>, <command>
mysql_install_db</command>, <command>
mysql_secure_installation</command>, <command>
mysql_setpermission</command>, <command>
mysql_tableinfo</command>, <command>
mysql_tzinfo_to_sql</command>, <command>
mysql_waitpid</command>, <command>
mysql_zap</command>, <command>
mysqlacess</command>,<command>
mysqladmin</command>, <command>
mysqlbinlog</command>, <command>
mysqlbug</command>, <command>
mysqlcheck</command>, <command>
mysqld</command>, <command>
mysqld_multi</command>, <command>
mysqld_safe</command>, <command>
mysqldump</command>, <command>
mysqldumpslow</command>, <command>
mysqlhotcopy</command>, <command>
mysqlimport</command>, <command>
mysqlmanager</command>, <command>
mysqlmanager-pwgen</command>, <command>
mysqlmanagerc</command>, <command>
mysqlshow</command>, <command>
mysqltest</command>, <command>
pack_isam</command>, <command>
perror</command>, <command>
replace</command>, <command>
resolve_stack_dump</command>, <command>
resolveip</command>, <filename class="libraryfile">
libdbug</filename>, <filename class="libraryfile">
libheap</filename>, <filename class="libraryfile">
libmerge</filename>, <filename class="libraryfile">
libmyisam</filename>, <filename class="libraryfile">
libmyisammrg</filename>, <filename class="libraryfile">
libmysqlclient</filename>, <filename class="libraryfile">
libmysqlclient_r</filename>, <filename class="libraryfile">
libmystrings</filename>, <filename class="libraryfile">
libmysys</filename>, <filename class="libraryfile">
libnisam</filename> et <filename class="libraryfile">
libvio</filename>.</para>

</sect2>

<sect2><title>Description</title>

<para>Une liste du paquetage ferait plusieurs pages de long. Consultez la
documentation de <application>My<acronym>SQL</acronym></application> pour tous
les détails.</para>

<para>Certains programmes de support de <application>My<acronym>SQL</acronym></application>
pourraient nécessiter l'installation des modules DBI de <application>Perl</application>
pour fonctionner correctement.</para>

</sect2>

</sect1>
