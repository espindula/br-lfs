<sect2>
<title>Configuring PostgreSQL</title>

<sect3>
<title>Config files</title>

<para><userinput>
$PGDATA/pg_ident.con, $PGDATA/pg_hba.conf, $PGDATA/postgresql.conf
</userinput></para>

<para>The PGDATA environment variable is used to distinguish database
clusters from one another by setting it to the value of the directory
which contains the cluster desired.  The three configuration files
exist in every PGDATA/ directory.  Details on the format of the files
and the options that can be set in each can be found in :</para>
<para>
<ulink url="file:///usr/share/doc/postgresql/html/tutorial.html" />
</para>

<para>postgres init.d script</para>

<para>Create the postgres, boot script with the following : </para>

<screen><userinput>
cat &gt; /etc/rc.d/init.d/postgres &lt;&lt; "EOF"</userinput>

#!/bin/bash
# Begin $rc_base/init.d/postgres

# Based on sysklogd script from LFS-3.1 and earlier.
# Rewritten by Gerard Beekmans  - gerard@linuxfromscratch.org

source /etc/sysconfig/rc
source $rc_functions

case "$1" in
        start)
                echo "Starting PostgreSQL daemon..."
                su - postgres -c '/usr/bin/postmaster -D \
                    /var/pgsql/data > /var/pgsql/data/logfile 2>&1 &'
                evaluate_retval
                ;;

        stop)
                echo "Stopping PostgreSQL daemon..."
                killproc postmaster
                ;;

        restart)
                $0 stop
                sleep 1
                $0 start
                ;;

        status)
                statusproc /usr/sbin/postmaster
                ;;

        *)
                echo "Usage: $0 {start|stop|restart|status}"
                exit 1
                ;;
esac

# End $rc_base/init.d/
<userinput>EOF
chmod 755 /etc/rc.d/init.d/postgres</userinput></screen>

<para>Create the symbolic links to this file in the relevant rc.d directory
with the following commands:</para>

<screen><userinput>
cd /etc/rc.d/init.d &amp;&amp;
ln -sf ../init.d/mysql ../rc0.d/K28postgres &amp;&amp;
ln -sf ../init.d/postgres ../rc1.d/K28postgres &amp;&amp;
ln -sf ../init.d/postgres ../rc2.d/K23postgres &amp;&amp;
ln -sf ../init.d/postgres ../rc3.d/S35postgres &amp;&amp;
ln -sf ../init.d/postgres ../rc4.d/S35postgres &amp;&amp;
ln -sf ../init.d/postgres ../rc5.d/S35postgres &amp;&amp;
ln -sf ../init.d/postgres ../rc6.d/K23postgres
</userinput></screen>

</sect3>

</sect2>

