<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

  <!-- <!ENTITY xfsprogs-download-http "http://mirrors.sunsite.dk/xfs/download/cmd_tars/xfsprogs_&xfsprogs-version;-1.tar.gz"> -->
  <!ENTITY xfsprogs-download-http "&files-anduin;/sources/xfsprogs_&xfsprogs-version;-1.tar.gz">
  <!--  <!ENTITY xfsprogs-download-ftp  "ftp://oss.sgi.com/projects/xfs/download/cmd_tars/xfsprogs_&xfsprogs-version;-1.tar.gz"> -->
  <!ENTITY xfsprogs-download-ftp " ">
  <!ENTITY xfsprogs-md5sum        "2bba6d3e4183defacf99e5e8ce805460">
  <!ENTITY xfsprogs-size          "976 Kio">
  <!ENTITY xfsprogs-buildsize     "37 Mio">
  <!ENTITY xfsprogs-time          "0.6 SBU">
]>

<sect1 id="xfs" xreflabel="XFS-&xfsprogs-version;">
  <?dbhtml filename="xfsfs.html"?>

  <sect1info>
    <othername>$LastChangedBy: randy $</othername>
    <date>$Date: 2008-05-09 15:00:42 +0200 (ven, 09 mai 2008) $</date>
  </sect1info>

  <title>XFS-&xfsprogs-version;</title>

  <indexterm zone="xfs">
    <primary sortas="a-XFS">XFS</primary>
  </indexterm>

  <sect2 role="package">
    <title>Introduction à XFS</title>

    <para>The <application>XFS</application> package contains administration
    et debugging tools for the XFS file system.</para>

    <bridgehead renderas="sect3">Informations sur le paquet</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>Téléchargement (HTTP)&nbsp;: <ulink url="&xfsprogs-download-http;"/></para>
      </listitem>
      <listitem>
        <para>Téléchargement (FTP)&nbsp;: <ulink url="&xfsprogs-download-ftp;"/></para>
      </listitem>
      <listitem>
        <para>Somme de contrôle MD5 du téléchargement&nbsp;: &xfsprogs-md5sum;</para>
      </listitem>
      <listitem>
        <para>Taille du téléchargement&nbsp;: &xfsprogs-size;</para>
      </listitem>
      <listitem>
        <para>Estimation de l'espace disque requis&nbsp;: &xfsprogs-buildsize;</para>
      </listitem>
      <listitem>
        <para>Estimation du temps de construction&nbsp;: &xfsprogs-time;</para>
      </listitem>
    </itemizedlist>

    <caution><para>The XFS developers regularly remove the current
    package when a new package is available.  Unfortunately, this has led to
    severe incompatibilities, including
    <ulink url="http://bugs.debian.org/465737">unmountable filesystems</ulink>,
    due to kernel version requirements in new versions of the package.  Using a
    version not in the book is strongly discouraged. Additional information,
    is available at the
    <ulink url="http://oss.sgi.com/projects/xfs/">XFS</ulink> project
    page.</para></caution>

<!-- For more information on this problem, see this thread on BLFS-Dev
     http://linuxfromscratch.org/pipermail/blfs-dev/2008-March/018311.html
-->
    <para condition="html" role="usernotes">Notes utilisateur&nbsp;:
    <ulink url="&blfs-wiki;/xfs"/></para>

  </sect2>

  <sect2 role="installation">
    <title>Installation de XFS</title>

    <para>Installez <application>XFS</application> en lançant les commandes
    suivantes&nbsp;:</para>

<screen><userinput>make DEBUG=-DNDEBUG INSTALL_USER=root INSTALL_GROUP=root \
    LOCAL_CONFIGURE_OPTIONS="--enable-readline=yes"</userinput></screen>

    <para>Ce paquet n'est pas fourni avec une suite de tests.</para>

    <para>Maintenant, en tant qu'utilisateur <systemitem class="username">root</systemitem>&nbsp;:</para>

<screen role="root"><userinput>make install &amp;&amp;
make install-dev &amp;&amp;
chmod -v 755 /lib/libhandle.so* &amp;&amp;
rm -f /lib/libhandle.{a,la,so} &amp;&amp;
ln -svf ../../lib/libhandle.so.1 /usr/lib/libhandle.so</userinput></screen>

  </sect2>

  <sect2 role="commands">
    <title>Explication des commandes</title>

    <para><command>make DEBUG=-DNDEBUG</command>: Turns off debugging
    symbols.</para>

    <para><parameter>INSTALL_USER=root INSTALL_GROUP=root</parameter>: This
    sets the owner et group of the installed files.</para>
    <!-- relevant only if building as non-root -->

    <para><parameter>LOCAL_CONFIGURE_OPTIONS="..."</parameter>: This passes
    extra configuration options to the <filename>configure</filename> script.
    The example <parameter>--enable-readline=yes</parameter> parameter
    enables linking the XFS programs with the
    <filename class="libraryfile">libreadline.so</filename> library, in order
    to allow editing interactive commands.</para>

    <para><parameter>OPTIMIZER="..."</parameter>: Adding this parameter to
    the end of the <command>make</command> command overrides the
    default optimization settings.</para>

    <para><command>make install-dev</command>: This command installs
    static XFS libraries, their headers et the corresponding
    documentation.</para>

  </sect2>

  <sect2 role="content">
    <title>Contenu</title>

    <segmentedlist>
      <segtitle>Programmes installés</segtitle>
      <segtitle>Bibliothèques installées</segtitle>
      <segtitle>Répertoire installé</segtitle>

      <seglistitem>
        <seg>fsck.xfs, mkfs.xfs, xfs_admin, xfs_bmap, xfs_check, xfs_copy,
        xfs_db, xfs_freeze, xfs_growfs, xfs_info, xfs_io, xfs_logprint,
        xfs_mdrestore, xfs_metadump, xfs_mkfile, xfs_ncheck, xfs_quota,
        xfs_repair, et xfs_rtcp</seg>
        <seg>libdisk.a, libhandle.{so,a}, libxcmd.a, libxfs.a, et
        libxlog.a </seg>
        <seg>/usr/share/doc/xfsprogs</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Descriptions courtes</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="fsck.xfs">
        <term><command>fsck.xfs</command></term>
        <listitem>
          <para>simply exits with a zero status, since XFS
          partitions are checked at mount time.</para>
          <indexterm zone="xfs fsck.xfs">
            <primary sortas="b-fsck.xfs">fsck.xfs</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="mkfs.xfs">
        <term><command>mkfs.xfs</command></term>
        <listitem>
          <para>constructs an XFS file system.</para>
          <indexterm zone="xfs mkfs.xfs">
            <primary sortas="b-mkfs.xfs">mkfs.xfs</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="xfs_admin">
        <term><command>xfs_admin</command></term>
        <listitem>
          <para>changes the parameters of an XFS file system.</para>
          <indexterm zone="xfs xfs_admin">
            <primary sortas="b-xfs_admin">xfs_admin</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="xfs_bmap">
        <term><command>xfs_bmap</command></term>
        <listitem>
          <para>prints block mapping for an XFS file.</para>
          <indexterm zone="xfs xfs_bmap">
            <primary sortas="b-xfs_bmap">xfs_bmap</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="xfs_check">
        <term><command>xfs_check</command></term>
        <listitem>
          <para>checks XFS file system consistency.</para>
          <indexterm zone="xfs xfs_check">
            <primary sortas="b-xfs_check">xfs_check</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="xfs_copy">
        <term><command>xfs_copy</command></term>
        <listitem>
          <para>copies the contents of an XFS file system
          to one or more targets in parallel.</para>
          <indexterm zone="xfs xfs_copy">
            <primary sortas="b-xfs_copy">xfs_copy</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="xfs_db">
        <term><command>xfs_db</command></term>
        <listitem>
          <para>is used to debug an XFS file system.</para>
          <indexterm zone="xfs xfs_db">
            <primary sortas="b-xfs_db">xfs_db</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="xfs_freeze">
        <term><command>xfs_freeze</command></term>
        <listitem>
          <para>suspends access to an XFS file system.</para>
          <indexterm zone="xfs xfs_freeze">
            <primary sortas="b-xfs_freeze">xfs_freeze</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="xfs_growfs">
        <term><command>xfs_growfs</command></term>
        <listitem>
          <para>expands an XFS file system.</para>
          <indexterm zone="xfs xfs_growfs">
            <primary sortas="b-xfs_growfs">xfs_growfs</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="xfs_info">
        <term><command>xfs_info</command></term>
        <listitem>
          <para>is equivalent to invoking <command>xfs_growfs</command>, but
          specifying that no change to the file system is to be made.</para>
          <indexterm zone="xfs xfs_info">
            <primary sortas="b-xfs_info">xfs_info</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="xfs_io">
        <term><command>xfs_io</command></term>
        <listitem>
          <para>is a debugging tool like <command>xfs_db</command>, but is
          aimed at examining the regular file I/O path rather than the raw
          XFS volume itself.</para>
          <indexterm zone="xfs xfs_io">
            <primary sortas="b-xfs_io">xfs_io</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="xfs_logprint">
        <term><command>xfs_logprint</command></term>
        <listitem>
          <para>prints the log of an XFS file system.</para>
          <indexterm zone="xfs xfs_logprint">
            <primary sortas="b-xfs_logprint">xfs_logprint</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="xfs_mdrestore">
        <term><command>xfs_mdrestore</command></term>
        <listitem>
          <para>restores an XFS metadump image to a filesystem image.</para>
          <indexterm zone="xfs xfs_mdrestore">
            <primary sortas="b-xfs_mdrestore">xfs_mdrestore</primary>
          </indexterm>
        </listitem>
      </varlistentry>

       <varlistentry id="xfs_metadump">
        <term><command>xfs_metadump</command></term>
        <listitem>
          <para>copies XFS filesystem metadata to a file.</para>
          <indexterm zone="xfs xfs_metadump">
            <primary sortas="b-xfs_metadump">xfs_metadump</primary>
          </indexterm>
        </listitem>
      </varlistentry>

     <varlistentry id="xfs_mkfile">
        <term><command>xfs_mkfile</command></term>
        <listitem>
          <para>creates an XFS file, padded with zeroes by default.</para>
          <indexterm zone="xfs xfs_mkfile">
            <primary sortas="b-xfs_mkfile">xfs_mkfile</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="xfs_ncheck">
        <term><command>xfs_ncheck</command></term>
        <listitem>
          <para>generates pathnames from inode numbers for an
          XFS file system.</para>
          <indexterm zone="xfs xfs_ncheck">
            <primary sortas="b-xfs_ncheck">xfs_ncheck</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="xfs_quota">
        <term><command>xfs_quota</command></term>
        <listitem>
          <para>is a utility for reporting et editing various
          aspects of filesystem quota.</para>
          <indexterm zone="xfs xfs_quota">
            <primary sortas="b-xfs_quota">xfs_quota</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="xfs_repair">
        <term><command>xfs_repair</command></term>
        <listitem>
          <para>repairs corrupt or damaged XFS file systems.</para>
          <indexterm zone="xfs xfs_repair">
            <primary sortas="b-xfs_repair">xfs_repair</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="xfs_rtcp">
        <term><command>xfs_rtcp</command></term>
        <listitem>
          <para>copies a file to the real-time partition on an
          XFS file system.</para>
          <indexterm zone="xfs xfs_rtcp">
            <primary sortas="b-xfs_rtcp">xfs_rtcp</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libhandle">
        <term><filename class='libraryfile'>libhandle.so</filename></term>
        <listitem>
          <para>contains XFS-specific functions that provide a way to perform
          certain filesystem  operations without using a file descriptor to
          access filesystem objects.</para>
          <indexterm zone="xfs libhandle">
            <primary sortas="c-libhandle">libhandle.so</primary>
          </indexterm>
        </listitem>
      </varlistentry>


      <!-- FIXME: other libraries are undocumented 20080221 -->

    </variablelist>

  </sect2>

</sect1>
