<?xml version="1.0" encoding="ISO-8859-1"?>
<sect2 id="postlfs-security-fw-kernel" xreflabel="getting a firewalling-enabled Kernel">
<title>Avoir un noyau dont le pare-feu est actif</title>

<para>Si vous voulez que votre machine Linux fasse pare-feu, vous devez d'abord
vous assurer que le noyau a bien été compilé avec les options adéquates
<!--
<footnote><para>Si vous avez besoin d'assistance sur la façon de configurer,
compiler et installer un nouveau noyau, référez-vous au chapitre VIII du livre
LinuxFromScratch,you needed assistance howto configure, compile and install 
<ulink
url="http://www.linuxfromscratch.org/view/3.1/chapter08/kernel.html">Installer
un noyau</ulink> et éventuellement <ulink
url="http://www.linuxfromscratch.org/view/3.1/chapter08/lilo.html">Rendre le
système démarrable</ulink>; notez que vous devrez redémarrer votre machine pour
utiliser le nouveau noyau.</para></footnote>.
-->
</para>

<para>Comment configurer votre noyau, avec l'activation d'options à compiler
dans le noyau ou en tant que modules, dépend de vos préférences personnelles et
de votre expérience. Notez que pour les scripts donnés en exemples, il est
supposé que les modules ont d'abord été chargés.</para>

<screen>Network options menu
  Network packet filtering:                         Y
  Unix domain sockets:                         Y or M
  TCP/IP networking:                                Y
  IP: advanced router:                              Y
  IP: verbose route monitoring:                     Y
  IP: TCP Explicit Congestion Notification support: Y
  IP: TCP syncookie support:                        Y
  IP: Netfilter Configuration menu
    Every option except:                       Y or M
      ipchains (2.2-style) support                  N
      ipfwadm (2.0-style) support                   N
  Fast switching:                                   N</screen>

<!--
<table frame='none'>
<title>Options de configurations essentiels pour un noyau dont le code pare-feu
est activé</title>

<tgroup cols='5'>
<colspec colnum='1' colwidth='8*'  align='center'/>
<colspec colnum='2' colwidth='19*' align='left'/>
<colspec colnum='3' colwidth='11*' align='center'/>
<colspec colnum='4' colwidth='1*'  align='center'/>
<colspec colnum='5' colwidth='14*' align='left'/>

<tbody>

<row>
<entry><emphasis><userinput>Networking options:</userinput></emphasis></entry>
<entry><userinput>Network packet filtering</userinput></entry>
<entry></entry>
<entry>=</entry>
<entry>CONFIG_NETFILTER</entry>
</row>

<row>
	
	<entry></entry>
<entry><userinput>Unix domain sockets</userinput></entry>
<entry></entry>
<entry>=</entry>
<entry>CONFIG_UNIX</entry>
</row>

<row>
<entry></entry>
<entry><userinput>IP: TCP/IP networking</userinput></entry>
<entry></entry>
<entry>=</entry>
<entry>CONFIG_INET</entry>
</row>

<row>
<entry></entry>
<entry><userinput>IP: advanced router</userinput></entry>
<entry></entry>
<entry>=</entry>
<entry>CONFIG_IP_ADVANCED_ROUTER</entry>
</row>

<row>
<entry></entry>
<entry><userinput>IP: verbose route monitoring</userinput></entry>
<entry></entry>
<entry>=</entry>
<entry>CONFIG_IP_ROUTE_VERBOSE</entry>
</row>

<row>
<entry></entry>
<entry><userinput>IP: TCP Explicit Congestion Notification support</userinput></entry>
<entry></entry>
<entry>=</entry>
<entry>CONFIG_INET_ECN</entry>
</row>

<row>
<entry></entry>
<entry><userinput>IP: TCP syncookie support</userinput></entry>
<entry></entry>
<entry>=</entry>
<entry>CONFIG_SYN_COOKIES</entry>
</row>

<row>
<entry></entry>
<entry align='center'>
<emphasis><userinput>IP: Netfilter Configuration:</userinput></emphasis></entry>
<entry align='left'><userinput>toutes les options</userinput></entry>
<entry>=</entry>
<entry>CONFIG_IP_NF_*</entry>
</row>

<row>
<entry></entry>
<entry align='right'><emphasis>SANS:</emphasis></entry>
<entry align='left'><literallayout><userinput>ipchains (2.2-style) support
ipfw-adm (2.0-style) support</userinput></literallayout></entry>
<entry>w\</entry>
<entry>CONFIG_IP_NF_COMPAT_*</entry>
</row>

<row>
<entry></entry>
<entry><userinput>Fast switching</userinput></entry>
<entry>Assurez-vous de le désactiver parce qu'il mettrait en place un
contournement à vos règles pare-feu.</entry>
<entry>w\</entry>
<entry>CONFIG_NET_FASTROUTE</entry>
</row>

</tbody>

</tgroup>

</table> -->

</sect2>
