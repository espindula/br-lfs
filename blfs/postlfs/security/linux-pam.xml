<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

  <!ENTITY linux-pam-download-http "https://fedorahosted.org/releases/l/i/linux-pam/Linux-PAM-&linux-pam-version;.tar.bz2">
  <!ENTITY linux-pam-download-ftp  " ">
  <!ENTITY linux-pam-md5sum        "927ee5585bdec5256c75117e9348aa47">
  <!ENTITY linux-pam-size          "1.1 Mio">
  <!ENTITY linux-pam-buildsize     "28 MB (includes installing the optional documentation)">
  <!ENTITY linux-pam-time          "0.3 SBU">

  <!ENTITY linux-pam-docs-download "https://fedorahosted.org/releases/l/i/linux-pam/Linux-PAM-&linux-pam-version;-docs.tar.bz2">
  <!ENTITY linux-pam-docs-md5sum   "987e14ddce375ec7ddd2b91fbc2bd46d">
  <!ENTITY linux-pam-docs-size     "487 Kio">
  <!ENTITY debian-pam-docs         "http://debian.securedservers.com/kernel/pub/linux/libs/pam">
]>

<sect1 id="linux-pam" xreflabel="Linux-PAM-&linux-pam-version;">
  <?dbhtml filename="linux-pam.html"?>

  <sect1info>
    <othername>$LastChangedBy&nbsp;: andy $</othername>
    <date>$Date&nbsp;: 2012-02-05 16:19:07 +0100 (dim. 05 févr. 2012) $</date>
  </sect1info>

  <title>Linux-PAM-&linux-pam-version;</title>

  <indexterm zone="linux-pam">
    <primary sortas="a-Linux-PAM">Linux-PAM</primary>
  </indexterm>

  <sect2 role="package">
    <title>Introduction à Linux-PAM</title>

    <para>Le paquet <application>Linux-PAM</application> contient des
    <foreignphrase>Pluggable Authentication Modules</foreignphrase> (modules
    d'authentification branchables). C'est utile pour permettre à
    l'administrateur système local de choisir la façon dont s'authentient les
    utilisateurs des applications.</para>

    &lfs70_checked;

    <bridgehead renderas="sect3">Informations sur le paquet</bridgehead>
    <itemizedlist spacing="compact">
    <title>Optional Documentation</title>
      <listitem>
        <para>Téléchargement (HTTP)&nbsp;: <ulink url="&linux-pam-download-http;"/></para>
      </listitem>
      <listitem>
        <para>Téléchargement (FTP)&nbsp;: <ulink url="&linux-pam-download-ftp;"/></para>
      </listitem>
      <listitem>
        <para>Somme de contrôle MD5 du téléchargement&nbsp;: &linux-pam-md5sum;</para>
      </listitem>
      <listitem>
        <para>Taille du téléchargement&nbsp;: &linux-pam-size;</para>
      </listitem>
      <listitem>
        <para>Estimation de l'espace disque requis&nbsp;: &linux-pam-buildsize;</para>
      </listitem>
      <listitem>
        <para>Estimation du temps de construction&nbsp;: &linux-pam-time;</para>
      </listitem>
    </itemizedlist>

    <bridgehead renderas="sect3">Téléchargements supplémentaires</bridgehead>
    <itemizedlist spacing='compact'>
      <listitem>
        <para>Documentation facultative&nbsp;: <ulink url="&linux-pam-docs-download;"/></para>
      </listitem>
      <listitem>
        <para>Téléchargement MD5sum: &linux-pam-docs-md5sum;</para>
      </listitem>
      <listitem>
        <para>Taille du téléchargement&nbsp; &linux-pam-docs-size;</para>
      </listitem>
    </itemizedlist>

    <bridgehead renderas="sect3">Dépendances de Linux-PAM</bridgehead>

    <bridgehead renderas="sect4">Facultatives</bridgehead>
    <para role="optional"><xref linkend="cracklib"/>,
    <xref linkend="libtirpc"/>, <xref linkend="x-window-system"/>,
    <xref linkend="db"/> (for the pam_userdb module), et
    <ulink url="http://www.prelude-ids.org/">Prelude</ulink></para>

    <bridgehead renderas="sect4">Facultatives Pzr {,Re}cnstruire la documentation)</bridgehead>
    <para role="optional"><xref linkend="libxslt"/>,
    <xref linkend="DocBook"/>,
    <xref linkend="docbook-xsl"/>,
    <xref linkend="w3m"/> et
    <xref linkend="fop"/></para>

    <para condition="html" role="usernotes">Notes utilisateur&nbsp;:
    <ulink url="&blfs-wiki;/linux-pam"/></para>
  </sect2>

  <sect2 role="installation">
    <title>Installation de Linux-PAM</title>

    <para>Si vous avez téléchargé la documentation, déballez l'archive tar en
    exécutant la commande suivante.</para>

<screen><userinput>tar -xf ../Linux-PAM-&linux-pam-version;-docs.tar.bz2 --strip-components=1</userinput></screen>

    <para>Installez <application>Linux-PAM</application> en
    lançant les commandes suivantes&nbsp;:</para>

<screen><userinput>./configure --sbindir=/lib/security \
            --docdir=/usr/share/doc/Linux-PAM-&linux-pam-version; \
            --disable-nis \
            --enable-read-both-confs &amp;&amp;
make</userinput></screen>

    <para>Pour tester les résultats, vous devez créer un fichier d configuration.
    Ce fichier sera supprimé après la fin des tests. Assurez-vous qu'il n'y a 
    pas d'erreurs renvoyées par les tests avant de poursuivre l'installation.
    Créez tout d'abord le fichier de configuration en effectuant les commandes 
    suivantes en tant qu'utilisateur <systemitem class="username">root</systemitem>&nbsp;:</para>

<screen role="root"><userinput>install -v -m755 -d /etc/pam.d &amp;&amp;

cat &gt; /etc/pam.d/other &lt;&lt; "EOF"
auth     required       pam_deny.so
account  required       pam_deny.so
password required       pam_deny.so
session  required       pam_deny.so
EOF</userinput></screen>

    <para>Maintenant lancez les tests en exécutant <command>make check</command>.</para>

    <para>Supprimez le fichier de configuration créé plus haut en lançant la
    commande suivante en tant qu'utilisateur <systemitem class="username">root</systemitem>&nbsp;:</para>

<screen role="root"><userinput>rm -rfv /etc/pam.d</userinput></screen>

    <para>Maintenant, en tant qu'utilisateur <systemitem class="username">root</systemitem>&nbsp;:</para>

<screen role="root"><userinput>make install &amp;&amp;
chmod -v 4755 /lib/security/unix_chkpwd &amp;&amp;
mv -v /lib/security/pam_tally /sbin</userinput></screen>
  </sect2>

  <sect2 role="commands">
    <title>Explication des commandes</title>

    <para><parameter>--sbindir=/lib/security</parameter>&nbsp;: Ce paramètre
    produit trois exécutables, deux d'entr eux ne sont pas conçus pour être 
    exécutés depuis la ligne de commande et installés dans le même réper!oire 
    que les modules PAM. L'autre exécutable est déplacé plus tard dans le
    répertoire <filename class="directory">/sbin</filename>.</para>

    <para><parameter>--docdir=...</parameter>&nbsp;: Il résulte de ce paramètre
    que la documentation est installée dans un répertoire au nom versionén.</para>

    <para><parameter>--disable-nis</parameter>&nbsp;: Cette option désactive
    la construction du support
    Network Information Service/Yellow Pages dans pam_unix et pam_access.
    L'implémentation de RPC dans glibc ( dont dépend NIS.YP) est obsolète.
    Cependantn la même fonctionnalité est fournie par <application>Libtirpc</application>
    donc si vous avez installé
    <xref linkend="libtirpc"/> vous pouvez effacer l'option
    <parameter>--disable-nis</parameter>.</para>

    <para><parameter>--enable-read-both-confs</parameter>&nbsp;: Ce paramètre
    permet à l'administrateur local de choisir le paramétrage du fichier de
    configuration à utiliser.</para>

    <para><command>chmod -v 4755 /lib/security/unix_chkpwd</command>&nbsp;: Le
    programme de soutien des mots de passe <command>unix_chkpwd</command> doit
    avoir des droits UID réglés de telle sorte que les processus non
    <systemitem class="username">root</systemitem> puissent accéder au fichier
    de mots de passe shadow.</para>

    <para><command>mv -v /lib/security/pam_tally /sbin</command>&nbsp;: Le
    programme <command>pam_tally</command> est conçu pour être exécuté par 
    l'administrateur système, éventuellement en mode mono-utilisateur, donc on 
    le déplace dans le répertoire adéquat.</para>
  </sect2>

  <sect2 role="configuration">
    <title>Configuration de Linux-PAM</title>

    <sect3 id="pam-config">
      <title>Fichiers de configuration</title>

      <para><filename>/etc/security/*</filename> et
      <filename>/etc/pam.d/*</filename> or
      <filename>/etc/pam.conf</filename></para>

      <indexterm zone="linux-pam pam-config">
        <primary sortas="e-etc-security">/etc/security/*</primary>
      </indexterm>

      <indexterm zone="linux-pam pam-config">
        <primary sortas="e-etc-pam.d">/etc/pam.d/*</primary>
      </indexterm>

      <indexterm zone="linux-pam pam-config">
        <primary sortas="e-etc-pam.conf">/etc/pam.conf</primary>
      </indexterm>
    </sect3>

    <sect3>
      <title>Informations de configuration</title>

      <para>Les informations de configuration se trouvent dans
      <filename class="directory">/etc/pam.d/</filename> ou dans
      <filename>/etc/pam.conf</filename> selon le choix de l'administrateur
       système. Voici ci-dessous des fichiers exemples de de chaque type&nbsp;:</para>

<screen><literal># Début de /etc/pam.d/other

auth            required        pam_unix.so     nullok
account         required        pam_unix.so
session         required        pam_unix.so
password        required        pam_unix.so     nullok

# Fin de /etc/pam.d/other

# Début de /etc/pam.conf

other           auth            required        pam_unix.so     nullok
other           account         required        pam_unix.so
other           session         required        pam_unix.so
other           password        required        pam_unix.so     nullok

# Fin de /etc/pam.conf</literal></screen>


      <para>La page de man de <application>PAM</application>
      (<command>man pam</command>) offre un bon point de départ pour  des
      descriptions des champs et des entrées autorisées. Le <ulink
      url="http://www.kernel.org/pub/linux/libs/pam/Linux-PAM-html/Linux-PAM_SAG.html">
      Linux-PAM System Administrators' Guide</ulink> (guide de l'administrateur
      système Linux-PAM) est recommandé pour des informations supplémentaires.</para>

      <para>Reportez-vous à <ulink
      url="http://www.kernel.org/pub/linux/libs/pam/modules.html"/>
      pour une liste des divers modules tiers disponibles.</para>

      <important>
        <para>Vous devriez maintenant réinstaller le paquet 
        <xref linkend="shadow"/>.</para>
      </important>
    </sect3>
  </sect2>

  <sect2 role="content">
    <title>Contenu</title>

    <segmentedlist>
      <segtitle>Installed Program</segtitle>
      <segtitle>Bibliothèques installées</segtitle>
      <segtitle>Répertoires installés</segtitle>

      <seglistitem>
        <seg>pam_tally</seg>
        <seg>libpam.{so,a}, libpamc.{so,a}, libpam_misc.{so,a} et
        numerous PAM modules</seg>
        <seg>/etc/security, /lib/security, /usr/include/security,
        /usr/share/doc/Linux-PAM-&linux-pam-version;,
        et /var/run/sepermit</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Descriptions courtes</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="pam_tally">
        <term><command>pam_tally</command></term>
        <listitem>
          <para>est utilisé pour visualiser ou manipuler le fichier
          <filename>faillog</filename>.</para>
          <indexterm zone="linux-pam pam_tally">
            <primary sortas="b-pam_tally">pam_tally</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libpam">
        <term><filename class='libraryfile'>libpam.{so,a}</filename></term>
        <listitem>
          <para>fournit les interfaces entre les applications et les modules
          PAM.</para>
          <indexterm zone="linux-pam libpam">
            <primary sortas="c-libpam">libpam.{so,a}</primary>
          </indexterm>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect2>
</sect1>
