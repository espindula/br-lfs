<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

  <!ENTITY consolekit-download-http "http://www.freedesktop.org/software/ConsoleKit/dist/ConsoleKit-&consolekit-version;.tar.bz2">
  <!ENTITY consolekit-download-ftp  " ">
  <!ENTITY consolekit-md5sum        "f2657f93761206922d558471a936fbc3">
  <!ENTITY consolekit-size          "389 Kio">
  <!ENTITY consolekit-buildsize     "8.1 Mio">
  <!ENTITY consolekit-time          "0.1 SBU">
]>

<sect1 id="consolekit" xreflabel="ConsoleKit-&consolekit-version;">
  <?dbhtml filename="consolekit.html"?>

  <sect1info>
    <othername>$LastChangedBy&nbsp;: rthomsen $</othername>
    <date>$Date&nbsp;: 2012-03-16 14:30:16 +0100 (ven. 16 mars 2012) $</date>
  </sect1info>

  <title>ConsoleKit-&consolekit-version;</title>

  <indexterm zone="consolekit">
    <primary sortas="a-ConsoleKit">ConsoleKit</primary>
  </indexterm>

  <sect2 role="package">
    <title>Introduction à ConsoleKit</title>

    <para>Le paquet <application>ConsoleKit</application> est un 
    environnement pour garder une trace des différents utilisateurs, des sessions, 
    et des places présents sur un système. Il offre aux logiciels un mécanisme
    pour réagir aux modifications de ces éléments ou d'une des métadonnées qui 
    y est associée.</para>

    &lfs70_checked;

    <bridgehead renderas="sect3">Informations sur le paquet</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>Téléchargement (HTTP)&nbsp;: <ulink url="&consolekit-download-http;"/></para>
      </listitem>
      <listitem>
        <para>Téléchargement (FTP)&nbsp;: <ulink url="&consolekit-download-ftp;"/></para>
      </listitem>
      <listitem>
        <para>Somme de contrôle MD5 du téléchargement&nbsp;: &consolekit-md5sum;</para>
      </listitem>
      <listitem>
        <para>Taille du téléchargement&nbsp;: &consolekit-size;</para>
      </listitem>
      <listitem>
        <para>Estimation de l'espace disque requis&nbsp;: &consolekit-buildsize;</para>
      </listitem>
      <listitem>
        <para>Estimation du temps de construction&nbsp;: &consolekit-time;</para>
      </listitem>
    </itemizedlist>

    <bridgehead renderas="sect3">Dépendances de ConsoleKit</bridgehead>

    <bridgehead renderas="sect4">Requises</bridgehead>
    <para role="required"><xref linkend="xorg7-lib"/> et
    <xref linkend="dbus-glib"/></para>

    <bridgehead renderas="sect4">Recommandées</bridgehead>
    <para role="recommended"><xref linkend="polkit"/></para>

    <warning>
      <para>Si vous prévoyez de <emphasis role="strong">NE PAS</emphasis> 
      installer <application>polkit</application>, vous devrez éditer le fichier
      ConsoleKit.conf à la main pour déverrouiller le service. Un échec pour faire cela peut
      signifier un énorme TROU DE SÉCURITÉ.</para>
    </warning>

    <bridgehead renderas="sect4">Facultatives</bridgehead>
    <para role="optional"><xref linkend="linux-pam"/> et
    <xref linkend="xmlto"/></para>

    <para condition="html" role="usernotes">Notes utilisateur&nbsp;:
    <ulink url="&blfs-wiki;/consolekit"/></para>

  </sect2>

  <sect2 role="installation">
    <title>Installation de ConsoleKit</title>

    <para>Installez <application>ConsoleKit</application> en lançant les commandes
    suivantes&nbsp;:</para>

<screen><userinput>./configure --prefix=/usr --sysconfdir=/etc \
    --libexecdir=/usr/lib/ConsoleKit --localstatedir=/var \
    --enable-pam-module &amp;&amp;
make</userinput></screen>

    <para>Ce paquet n'est pas fourni avec une suite de tests.</para>

    <para>Maintenant, en tant qu'utilisateur the <systemitem class="username">root</systemitem>&nbsp;:</para>

<screen role="root"><userinput>make install</userinput></screen>

  </sect2>

  <sect2 role="commands">
    <title>Explications des commandes</title>

    <para><parameter>--enable-pam-module</parameter>&nbsp;: Ce paramètre
    permet à <application>ConsoleKit</application> d'utiliser l'authentification
    <application>Linux-PAM</application>. Supprimez cette option si
    <application>Linux-PAM</application> N'est
    <emphasis role="strong">PAS</emphasis> installé.</para>

    <para><option>--enable-docbook-docs</option>&nbsp;: Utilisez ce paramètre si
    <application>xmlto</application> est installé et si vous souhaitez construire
    la documentation de l'API.</para>

  </sect2>

  <sect2 role="configuration">
    <title>Configurer ConsoleKit</title>

    <sect3 id="ConsoleKit-config">
      <title>Fichiers de configuration</title>
      <para><filename>/etc/dbus-1/system.d/ConsoleKit.conf</filename></para>

      <indexterm zone="consolekit ConsoleKit-config">
        <primary sortas="e-etc-ConsoleKit-ConsoleKit.conf">/etc/dbus-1/system.d/ConsoleKit.conf</primary>
      </indexterm>
    </sect3>

    <sect3><title>Informations de configuration</title>

      <para>Si vous utilisez <application>PAM</application> vous devez configurer
      <application>PAM</application> pour activer <application>ConsoleKit
      </application> lors de la connexion de l'utilisateur. CEla peut être fait en éditant le fichier
      <filename>/etc/pam.d/login</filename> en tant qu'utilisateur
      <systemitem class="username">root</systemitem>&nbsp;:</para>

<screen><userinput>cat &gt;&gt; /etc/pam.d/login &lt;&lt; "EOF"
#Début des ajouts de ConsoleKit

session   optional    pam_loginuid.so
session   optional    pam_ck_connector.so  nox11

#Fin des ajouts de ConsoleKit
EOF</userinput></screen>

      <para>Voir /usr/share/doc/ConsoleKit/spec/ConsoleKit.html pour plus de configuration.</para>

    </sect3>

  </sect2>

  <sect2 role="content">
    <title>Contenu</title>

    <segmentedlist>
      <segtitle>Programmes installés</segtitle>
      <segtitle>Bibliothèques installées</segtitle>
      <segtitle>Répertoires installés</segtitle>

      <seglistitem>
        <seg>ck-history, ck-launch-session, ck-list-sessions,
        ck-log-system-restart, ck-log-system-start, ck-log-system-stop,
        console-kit-daemon, ck-collect-session-info, ck-get-x11-display-device,
        ck-get-x11-server-pid, ck-system-restart, et ck-system-stop</seg>
        <seg>libck-connector.so et pam_ck_connector.so</seg>
        <seg>/etc/ConsoleKit/{run-seat.d,run-session.d,seats.d},
        /usr/{include/ConsoleKit/ck-connector,lib/ConsoleKit/{run-seat.d,
        run-session.d,scripts},share/doc/ConsoleKit/spec}</seg>
      </seglistitem>
    </segmentedlist>

<!--
    <variablelist>
      <bridgehead renderas="sect3">Descriptions courtes</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="ck-history">
        <term><command>ck-history</command></term>
        <listitem>
          <para>does this .....</para>
          <indexterm zone="consolekit ck-history">
            <primary sortas="b-ck-history">ck-history</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="ck-launch-session">
        <term><command>ck-launch-session</command></term>
        <listitem>
          <para>does this .....</para>
          <indexterm zone="consolekit ck-launch-session">
            <primary sortas="b-ck-launch-session">ck-launch-session</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="ck-list-sessions">
        <term><command>ck-list-sessions</command></term>
        <listitem>
          <para>does this .....</para>
          <indexterm zone="consolekit ck-list-sessions">
            <primary sortas="b-ck-list-sessions">ck-list-sessions</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="ck-log-system-restart">
        <term><command>ck-log-system-restart</command></term>
        <listitem>
          <para>does this .....</para>
          <indexterm zone="consolekit ck-log-system-restart">
            <primary sortas="b-ck-log-system-restart">ck-log-system-restart</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="ck-log-system-start">
        <term><command>ck-log-system-start</command></term>
        <listitem>
          <para>does this .....</para>
          <indexterm zone="consolekit ck-log-system-start">
            <primary sortas="b-ck-log-system-start">ck-log-system-start</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="ck-log-system-stop">
        <term><command>ck-log-system-stop</command></term>
        <listitem>
          <para>does this .....</para>
          <indexterm zone="consolekit ck-log-system-stop">
            <primary sortas="b-ck-log-system-stop">ck-log-system-stop</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="console-kit-daemon">
        <term><command>console-kit-daemon</command></term>
        <listitem>
          <para>est le démon <application>ConsoleKit</application>.</para>
          <indexterm zone="consolekit console-kit-daemon">
            <primary sortas="b-console-kit-daemon">console-kit-daemon</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="ck-collect-session-info">
        <term><command>ck-collect-session-info</command></term>
        <listitem>
          <para>does this .....</para>
          <indexterm zone="consolekit ck-collect-session-info">
            <primary sortas="b-ck-collect-session-info">ck-collect-session-info</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="ck-get-x11-display-device">
        <term><command>ck-get-x11-display-device</command></term>
        <listitem>
          <para>does this .....</para>
          <indexterm zone="consolekit ck-get-x11-display-device">
            <primary sortas="b-ck-get-x11-display-device">ck-get-x11-display-device</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="ck-get-x11-server-pid">
        <term><command>ck-get-x11-server-pid</command></term>
        <listitem>
          <para>does this .....</para>
          <indexterm zone="consolekit ck-get-x11-server-pid">
            <primary sortas="b-ck-get-x11-server-pid">ck-get-x11-server-pid</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="ck-system-restart">
        <term><command>ck-system-restart</command></term>
        <listitem>
          <para>does this .....</para>
          <indexterm zone="consolekit ck-system-restart">
            <primary sortas="b-ck-system-restart">ck-system-restart</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="ck-system-stop">
        <term><command>ck-system-stop</command></term>
        <listitem>
          <para>does this .....</para>
          <indexterm zone="consolekit ck-system-stop">
            <primary sortas="b-ck-system-stop">ck-system-stop</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libck-connector">
        <term><filename class='libraryfile'>libck-connector.so</filename></term>
        <listitem>
          <para>contains functions that .....</para>
          <indexterm zone="consolekit libck-connector">
            <primary sortas="c-libck-connector">libck-connector.so</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="pam_ck_connector">
        <term><filename class='libraryfile'>pam_ck_connector.so</filename></term>
        <listitem>
          <para>contains functions that .....</para>
          <indexterm zone="consolekit pam_ck_connector">
            <primary sortas="c-pam_ck_connector">pam_ck_connector.so</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>
-->

  </sect2>

</sect1>
