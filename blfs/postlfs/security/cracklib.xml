<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;
  <!ENTITY cracklib-download-http "&sourceforge-repo;/cracklib/cracklib-&cracklib-version;.tar.gz">
  <!ENTITY cracklib-download-ftp  " ">
  <!ENTITY cracklib-md5sum        "90536219c520add2ceb3c26f0d7da404">
  <!ENTITY cracklib-size          "624 Ko">
  <!ENTITY cracklib-buildsize     "24 Mo">
  <!ENTITY cracklib-time          "0.1 SBU">
  <!ENTITY crackdict-version      "20080507">
  <!ENTITY crackdict-download     "&sourceforge-repo;/cracklib/cracklib-words-&crackdict-version;.gz">
  <!ENTITY crackdict-size         "4.5 Mo">
  <!ENTITY crackdict-md5sum       "7fa6ba0cd50e7f9ccaf4707c810b14f1">
]>
<sect1 id="cracklib" xreflabel="CrackLib-&cracklib-version;">
  <?dbhtml filename="cracklib.html"?>
  <sect1info>
    <othername>$LastChangedBy : bdubbs $</othername>
    <date>$Date : 2013-03-05 00:08:42 +0100 (Tue, 05 Mar 2013) $</date>
  </sect1info>
  <title>CrackLib-&cracklib-version;</title>
  <indexterm zone="cracklib">
    <primary sortas="a-CrackLib">CrackLib</primary>
  </indexterm>
  <sect2 role="package">
    <title>Introduction à CrackLib</title>
    <para>Le paquet <application>CrackLib</application> contient une bibliothèque
    utilisée pour renforcer les mots de passe forts en comparant les mots de
    passe sélectionnés par l'utilisateur avec des mots dans des listes de mots
    choisies.</para>
&lfs75_checked;
    <bridgehead renderas="sect3">Informations sur le paquet</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>Téléchargement (HTTP)&nbsp;: <ulink url="&cracklib-download-http;"/></para>
      </listitem>
      <listitem>
        <para>Téléchargement (FTP)&nbsp;: <ulink url="&cracklib-download-ftp;"/></para>
      </listitem>
      <listitem>
        <para>Somme de contrôle MD5 du téléchargement&nbsp;: &cracklib-md5sum;</para>
      </listitem>
      <listitem>
        <para>Taille du téléchargement&nbsp;: &cracklib-size;</para>
      </listitem>
      <listitem>
        <para>Estimation de l'espace disque requis&nbsp;: &cracklib-buildsize;</para>
      </listitem>
      <listitem>
        <para>Estimation du temps de construction&nbsp;: &cracklib-time;</para>
      </listitem>
    </itemizedlist>
    <bridgehead renderas="sect3">Téléchargements supplémentaires</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>Liste de mots recommandée pour les pays anglophones (taille&nbsp;:
        &crackdict-size;; md5sum: &crackdict-md5sum;)&nbsp;:
        <ulink url="&crackdict-download;"/></para>
      </listitem>
    </itemizedlist>
    <para>Il y a des listes de mots supplémentaires disponibles en téléchargement,
par exemple sur <ulink url="http://www.cotse.com/tools/wordlists.htm"/>.
    <application>CrackLib</application> peut utiliser autant de listes de mots
    que vous avez choisi d'installer ou de ne pas installer.</para>
    <important>
      <para>Les utilisateurs ont tendance à baser leur mot de passe sur des mots
      ordinaires de leur langue et les pirates le savent. <application>CrackLib</application> 
      vise à filtrer de tels mots de passe dès la source en utilisant un
      dictionnaire créé à partir de listes de mots. Pour faire cela, la/les
      liste(s) de mots à utiliser avec <application>CrackLib</application> doit/doivent
      être exhaustive(s) et contenir les mots, les combinaisons de touche qui
      ont des chances d'être choisies par les utilisateurs du système comme mots
      de passe (devinables).</para>
      <para>La liste de mots par défaut dont on a recommandé plus haut le 
      téléchargement joue en général ce rôle dans les pays anglophones. Dans
      d'autres situations, il peut être nécessaire de télécharger, voire de créer, 
      des listes de mots supplémentaires.</para>
      <para>Remarquez que les listes de mots adaptées à la vérification de 
      l'orthographe ne sont pas utilisables comme listes de mots
      pour <application>CrackLib</application> dans des pays ayant des alphabets 
      à base non latine à cause des <quote>combinaisons de touche basées sur
      le mot</quote> qui produisent de mauvais mots de passe.</para>
    </important>
    <bridgehead renderas="sect3">Dépendances de CrackLib</bridgehead>
    <bridgehead renderas="sect4">Facultatives</bridgehead>
    <para role="optional"><xref linkend="python2"/></para>
    <para condition="html" role="usernotes">Notes utilisateur&nbsp;:
    <ulink url="&blfs-wiki;/cracklib"/></para>
  </sect2>
  <sect2 role="installation">
    <title>Installation de CrackLib</title>
    <para>Installez <application>CrackLib</application> en lançant les commandes
    suivantes&nbsp;:</para>
<screen>
<userinput>./configure --prefix=/usr \
            --with-default-dict=/lib/cracklib/pw_dict \
            --disable-static &amp;&amp;
make</userinput>
</screen>
    <para>Maintenant, en tant qu'utilisateur <systemitem class="username">root</systemitem>&nbsp;:</para>
<screen role="root">
<userinput>make install &amp;&amp;
mv -v /usr/lib/libcrack.so.* /lib &amp;&amp;
ln -sfv ../../lib/$(readlink /usr/lib/libcrack.so) /usr/lib/libcrack.so</userinput>
</screen>
    <para>Lancez les commandes suivantes en tant qu'utilisateur
    <systemitem class="username">root</systemitem> pour installer la liste de
    mots recommandée et créer le dictionnaire <application>CrackLib</application>.
    D'autres listes de mots (basées sur le texte, un mot par ligne) peuvent
    être utilisées, simplement en les installant dans
    <filename class="directory">/usr/share/dict</filename> et en les ajoutant
    à la commande <command>create-cracklib-dict</command>.</para>
<screen role="root">
<userinput>install -v -m644 -D    ../cracklib-words-&crackdict-version;.gz           \
                         /usr/share/dict/cracklib-words.gz     &amp;&amp;
gunzip -v                /usr/share/dict/cracklib-words.gz     &amp;&amp;
ln -v -sf cracklib-words /usr/share/dict/words                 &amp;&amp;
echo $(hostname) >>      /usr/share/dict/cracklib-extra-words  &amp;&amp;
install -v -m755 -d      /lib/cracklib                         &amp;&amp;
create-cracklib-dict     /usr/share/dict/cracklib-words        \
                         /usr/share/dict/cracklib-extra-words</userinput>
</screen>
    <para>Si vous le désirez, vérifiez le bon fonctionnement de la bibliothèque
    en tant qu'utilisateur non privilégié en lançant la commande suivante&nbsp;:</para>
<screen>
<userinput>make test</userinput>
</screen>
    <important>
      <para>Si vous installez <application>CrackLib</application> après avoir
      terminé votre système LFS, et si vous avez installé le paquet
      <application>Shadow</application>, vous devez réinstaller 
      <xref linkend="shadow"/> si vous souhaitez fournir le support des mots de
      passe forts sur votre système. Si vous allez installer le paquet
      <xref linkend="linux-pam"/> maintenant, vous pouvez ignorer cette remarque
      vu que <application>Shadow</application> sera réinstallé après l'installation
      de <application>Linux-PAM</application>.</para>
    </important>
  </sect2>
  <sect2 role="commands">
    <title>Explication des commandes</title>
    <para><parameter>--with-default-dict=/lib/cracklib/pw_dict</parameter>&nbsp;:
    Ce paramètre oblige l'installation du dictionnaire
    <application>CrackLib</application> à se faire dans la hiérarchie
    <filename class="directory">/lib</filename>.</para>
   <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
      href="../../xincludes/static-libraries.xml"/>
    <para><command>mv -v /usr/lib/libcrack.so.2* /lib</command> et
    <command>ln -v -sf ../../lib/libcrack.so.2.8.1 ...</command>&nbsp;: Ces
    deux commandes déplacent la bibliothèque <filename class='libraryfile'>libcrack.so.2.8.1</filename>
    et les liens associés de <filename class="directory">/usr/lib</filename> vers
    <filename class="directory">/lib</filename>, puis recréent le lien symbolique
    <filename class='symlink'>/usr/lib/libcrack.so</filename> qui pointe vers
    le fichier replacé.</para>
    <para><command>install -v -m644 -D ...</command>&nbsp;: Cette commande crée
    le répertoire <filename class="directory">/usr/share/dict</filename>
    (s'il n'existe pas déjà) et y installe la liste de mots compressée.</para>
    <para><command>ln -v -s cracklib-words /usr/share/dict/words</command>&nbsp;:
    La liste de mots est liée à <filename>/usr/share/dict/words</filename> vu
    qu'historiquement, <filename>words</filename> est la liste de mots primaire
    dans le répertoire <filename class="directory">/usr/share/dict</filename>.
    Supprimez cette commande si vous avez déjà installé un fichier
    <filename>/usr/share/dict/words</filename> sur votre système.</para>
    <para><command>echo $(hostname) >>...</command>&nbsp;: La valeur de 
    <command>hostname</command> est envoyée dans un fichier nommé
    <filename>cracklib-extra-words</filename>. Ce fichier supplémentaire vise
    à être une liste de sites spécifiques incluant des mots de passe faciles à 
    deviner tels que les noms de la société ou du département, les noms 
    d'utilisateurs, les noms de produit, les noms d'ordinateur, les noms de 
    domaine, etc.</para>
    <para><command>create-cracklib-dict ...</command>&nbsp;: Cette commande crée
    le dictionnaire <application>CrackLib</application> à partir des listes de
    mots. Modifiez la commande pour ajouter une liste de mots supplémentaire que
    vous avez installée.</para>
  </sect2>
  <sect2 role="content">
    <title>Contenu</title>
    <segmentedlist>
      <segtitle>Programmes installés</segtitle>
      <segtitle>Bibliothèques installées</segtitle>
      <segtitle>Répertoires installés</segtitle>
      <seglistitem>
        <seg>cracklib-check, cracklib-format, cracklib-packer,
        cracklib-unpacker et create-cracklib-dict</seg>
        <seg>libcrack.so et le module <application>Python</application> cracklibmodule.so
        </seg>
        <seg>/lib/cracklib, /usr/share/dict et /usr/share/cracklib</seg>
      </seglistitem>
    </segmentedlist>
    <variablelist>
      <bridgehead renderas="sect3">Descriptions courtes</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>
      <varlistentry id="cracklib-check">
        <term><command>cracklib-check</command></term>
        <listitem>
          <para>est utilisé pour déterminer si un mot de passe est fort.</para>
          <indexterm zone="cracklib cracklib-check">
            <primary sortas="b-cracklib-check">cracklib-check</primary>
          </indexterm>
        </listitem>
      </varlistentry><varlistentry id="create-cracklib-dict">
        <term><command>create-cracklib-dict</command></term>
        <listitem>
          <para>est utilisé pour créer le dictionnaire <application>CrackLib</application>
          à partir de la/des liste(s) de mots donnée(s).</para>
          <indexterm zone="cracklib create-cracklib-dict">
            <primary sortas="b-create-cracklib-dict">create-cracklib-dict</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="libcrack">
        <term><filename class='libraryfile'>libcrack.so</filename></term>
        <listitem>
          <para>fournit une méthode de parcours rapide du dictionnaire à la
          recherche de renforcement de mots de passe forts.</para>
          <indexterm zone="cracklib libcrack">
            <primary sortas="c-libcrack">libcrack.so</primary>
          </indexterm>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect2>
</sect1>
