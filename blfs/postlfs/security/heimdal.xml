<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

  <!ENTITY heimdal-download-http "http://www.h5l.org/dist/src/heimdal-&heimdal-version;.tar.gz">
  <!ENTITY heimdal-download-ftp  "ftp://ftp.pdc.kth.se/pub/heimdal/src/heimdal-&heimdal-version;.tar.gz">
+  <!ENTITY heimdal-md5sum        "31d08bbf47a77827fe97ef3f52b4c9c4">
+  <!ENTITY heimdal-size          "6.0 Mio">
+  <!ENTITY heimdal-buildsize     "205 Mio">
+  <!ENTITY heimdal-time          "3.9 SBU (ajouté 2.3 SBU pour exécuter la suite de tests)">
]>

<sect1 id="heimdal" xreflabel="Heimdal-&heimdal-version;">
  <?dbhtml filename="heimdal.html"?>

  <sect1info>
    <othername>$LastChangedBy: randy $</othername>
    <date>$Date: 2011-01-18 01:13:43 +0100 (mar 18 jan 2011) $</date>
  </sect1info>

  <title>Heimdal-&heimdal-version;</title>

  <indexterm zone="heimdal">
    <primary sortas="a-Heimdal">Heimdal</primary>
  </indexterm>

  <sect2 role="package">
    <title>Introduction à Heimdal</title>

    <para><application>Heimdal</application> est une implémentation libre de
    Kerberos 5 qui cherche à être compatible avec MIT Kerberos 5 et qui est 
    compatible de manière rétroactive avec Kerberos 4. Kerberos est un protocole
    d'authentication réseau. Il préserve basiquement l'intégrité des mots de 
    passe dans n'importe quel réseau non confidentiel (comme Internet). Les 
    applications Kerberized fonctionnent main dans la main avec les sites qui
    supportent Kerberos pour garantir que les mots de passe ne puissent pas être
    volés ou compromis. Une installation Kerberos fera des modifications sur les
    mécanismes d'authentification de Kerberos de votre réseau et écrasera 
    plusieurs programmes et démons issus des paquets
    <application>Shadow</application>, <application>Inetutils</application> et
    <application>Qpopper</application>. Voir
    <ulink url="&files-anduin;/heimdal-overwrites"/> pour une liste complète de
    tous les fichiers et de toutes les commandes pour renommer chacun d'eux.</para>

    <para>&lfssvn_checked;20101029&lfssvn_checked2;</para>

    <bridgehead renderas="sect3">Informations sur le paquet</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>Téléchargement (HTTP)&nbsp;: <ulink url="&heimdal-download-http;"/></para>
      </listitem>
      <listitem>
        <para>Téléchargement (FTP)&nbsp;: <ulink url="&heimdal-download-ftp;"/></para>
      </listitem>
      <listitem>
        <para>Somme de contrôle MD5 du téléchargement&nbsp;: &heimdal-md5sum;</para>
      </listitem>
      <listitem>
        <para>Taille du téléchargement&nbsp;: &heimdal-size;</para>
      </listitem>
      <listitem>
        <para>Estimation de l'espace disque requis&nbsp;: &heimdal-buildsize;</para>
      </listitem>
      <listitem>
        <para>Estimation du temps de construction&nbsp;: &heimdal-time;</para>
      </listitem>
    </itemizedlist>

    <bridgehead renderas="sect3">Téléchargements supplémentaires</bridgehead>
    <itemizedlist spacing='compact'>
      <listitem>
        <para>Correctif requis&nbsp;: <ulink
        url="&patch-root;/heimdal-&heimdal-version;-otp_fixes-1.patch"/></para>
      </listitem>
      <!-- <listitem>
        <para>Correctif requis&nbsp;: <ulink
        url="&patch-root;/heimdal-&heimdal-version;-libss-1.patch"/></para>
      </listitem> -->
    </itemizedlist>

    <bridgehead renderas="sect3">Dépendances de Heimdal</bridgehead>

    <para role="required"><xref linkend="db"/></para>

    <bridgehead renderas="sect4">Recommandées</bridgehead>
    <para role="recommended"><xref linkend="openssl"/></para>

    <bridgehead renderas="sect4">Facultatives</bridgehead>
    <para role="optional"><xref linkend="openldap"/>,
    <xref linkend="sqlite"/>,
    <xref linkend="x-window-system"/>,
    <ulink url="http://www.kernel.org/pub/linux/libs/security/linux-privs/libcap2/">libcap2</ulink>, et
    <ulink url="http://people.redhat.com/sgrubb/libcap-ng/">libcap-ng</ulink> (avec ce correctif
    <ulink url="&patch-root;/libcap-ng-0.6.4-2.6.36_kernel_fix-1.patch"></ulink>
    si la version du noyau linux est &gt;=2.6.36)</para>

    <note>
      <para>Un outil de synchronisation de temps est nécessaire sur votre système 
      (comme <xref linkend="ntp"/>) car Kerberos
      n'authentiera pas si la différence d''heures entre un client kerberized 
      et le serveur KDC dépasse 5 minutes.</para>
    </note>

    <para condition="html" role="usernotes">Notes utilisateur&nbsp;:
    <ulink url="&blfs-wiki;/heimdal"/></para>

  </sect2>

  <sect2 role="installation">
    <title>Installation de Heimdal</title>

    <warning>
      <para>Soyez sûr d'avoir vraiment besoin d'une installation de Kerberos 
      avant de décider d'installer ce paquet. Un échec dans l'installation et la
      configuration correcte du paquet peut dégrader votre système au point que
      les utilisateurs ne pourraient plus s'y connecter.</para>
    </warning>

    <para>Installez <application>Heimdal</application> en lançant les commandes
    suivantes&nbsp;:</para>

<screen><userinput>patch -Np1 -i ../heimdal-&heimdal-version;-otp_fixes-1.patch &amp;&amp;
sed -i 's|/var/heimdal|/var/lib/heimdal|' \
       `grep -lr "/var/heimdal" doc kadmin kdc lib` &amp;&amp;

./configure --prefix=/usr \
            --sysconfdir=/etc/heimdal \
            --libexecdir=/usr/sbin \
            --localstatedir=/var/lib/heimdal \
            --datadir=/var/lib/heimdal \
            --with-hdbdir=/var/lib/heimdal \
            --with-readline=/usr \
            --enable-kcm &amp;&amp;
make &amp;&amp;
 
install -v -m755 -d doc/html                                    &amp;&amp;
make -C doc html                                                &amp;&amp;
mv -v doc/heimdal.html doc/html/heimdal                         &amp;&amp;
mv -v doc/hx509.html   doc/html/hx509                           &amp;&amp; 
makeinfo --html --no-split -o doc/heimdal.html doc/heimdal.texi &amp;&amp;
makeinfo --html --no-split -o doc/hx509.html   doc/hx509.texi   &amp;&amp;
makeinfo --plaintext       -o doc/heimdal.txt  doc/heimdal.texi &amp;&amp;
makeinfo --plaintext       -o doc/hx509.txt    doc/hx509.texi</userinput></screen>

    <para>Si vous avez installé <xref linkend="tetex"/> ou <xref linkend="texlive"/>
    et voulez créer la documentation au format PDF et Postscript,
    modifiez dans le repertoire <filename class='directory'>doc</filename> et tapez 
    quelques-une ou toutes les commandes suivantes&nbsp;:</para>>
+
+<screen><userinput>pushd doc                        &amp;&amp;
+texi2pdf            heimdal.texi &amp;&amp;
+texi2dvi            heimdal.texi &amp;&amp;
+dvips -o heimdal.ps heimdal.dvi  &amp;&amp;
+texi2pdf            hx509.texi   &amp;&amp;
+texi2dvi            hx509.texi   &amp;&amp;
+dvips -o hx509.ps   hx509.dvi    &amp;&amp;

popd</userinput></screen>

    <para>Pour tester les résultats, lancez&nbsp;: <command>make -k check</command>.
    Le test <command>check-iprop</command> est connu pour échouer mais tous les autres
    devraient réussir.</para>

    <para>Maintenant, en tant qu'utilisateur <systemitem class="username">root</systemitem>&nbsp;:</para>

-->
<screen role="root"><userinput>make install &amp;&amp;

install -v -m755 -d /usr/share/doc/heimdal-&heimdal-version;        &amp;&amp;
install -v -m644    doc/{heimdal,hx509}.{html,txt} \
                    doc/{init-creds,layman.asc}    \
                    /usr/share/doc/heimdal-&heimdal-version;        &amp;&amp;
cp      -v -R       doc/html \
                    destdir/usr/share/doc/heimdal-&heimdal-version; &amp;&amp;

mv -v /bin/login          /bin/login.SHADOW &amp;&amp;
mv -v /bin/su             /bin/su.SHADOW    &amp;&amp;
mv -v /usr/bin/{login,su} /bin              &amp;&amp;
ln -v -sf ../../bin/login /usr/bin          &amp;&amp;

for LINK in   \
    lib{otp,kafs,krb5,hx509,sqlite3,asn1,roken,crypto,wind}; do
        mv -v     /usr/lib/${LINK}.so.* /lib &amp;&amp;
        ln -v -sf ../../lib/$(readlink  /usr/lib/${LINK}.so) \
                  /usr/lib/${LINK}.so
done &amp;&amp;

mv -v     /usr/lib/$(readlink /usr/lib/libdb.so) \
          /usr/lib/libdb-?.so \
          /lib &amp;&amp;
ln -v -sf ../../lib/$(readlink /usr/lib/libdb.so) \
          /usr/lib/libdb.so &amp;&amp;

ldconfig</userinput></screen>

    <para>Si vous avez construit un des formats supplémentaire de la documentation,
    installez-le en utilisant les commandes suivantes en tant qu'utilisateur
    <systemitem class="username">root</systemitem>&nbsp;:</para>

<screen role="root"><userinput>install -v -m644 doc/{heimdal,hx509}.{dvi,ps,pdf} \
                 /usr/share/doc/heimdal-&heimdal-version;</userinput></screen>

    <para>Si vous souhaitez utiliser la bibliothèque <xref linkend="cracklib"/>
    pour renforcer vos mots de passe forts dans la base de données KDC, lancez
    les commandes suivantes en tant qu'utilisateur
    <systemitem class="username">root</systemitem>&nbsp;:</para>

<screen role="root"><userinput>sed -e 's|/usr/pkg|/usr|' \
    -e 's|/usr/lib/cracklib_dict|/lib/cracklib/pw_dict|' \
    -e 's|/var/heimdal|/var/lib/heimdal|' \
        lib/kadm5/check-cracklib.pl \
     > /bin/krb5-check-cracklib.pl &amp;&amp;

chmod -v 755 /bin/krb5-check-cracklib.pl</userinput></screen>

  </sect2>

  <sect2 role="commands">
    <title>Explication des commandes</title>

    <para><command>sed -i ... `grep -lr "/var/heimdal"
    doc kadmin kdc lib`</command>>:nbsp;: Cette commande est utilisée pour changer dans les
    fichiers de documentation les références codés en dur <filename class='directory'>
    /var/heimdal</filename> par les noms de repertoire <filename class='directory'>
    /var/lib/heimdal</filename> qui respecte la FHS.</para>
 

    <para><parameter>--libexecdir=/usr/sbin</parameter>&nbsp;: Ce paramètre a
    pour conséquence que les programmes s'installent dans
    <filename class="directory">/usr/sbin</filename>.</para>

    <tip>
      <para>Si vous voulez conserver tous vos démons existant du paquet
      <application>Inetutils</application>, installez les démons de
      <application>Heimdal</application> dans
      <filename class="directory">/usr/sbin/heimdal</filename> (ou là où vous
      voulez). Vu que ces programmes seront appelés à partir de
      <command>(x)inetd</command> ou de scripts <filename>rc</filename>, peu
      importe là où vous les installez du moment qu'ils sont correctement
      spécifiés dans le fichier <filename>/etc/(x)inetd.conf</filename> et dans 
      les scripts <filename>rc</filename>. Si vous choisissez autre chose que 
      <filename class="directory">/usr/sbin</filename>, il se peut que vous
      vouliez déplacer des programmes utilisateur (tels que <command>kadmin</command>)
      vers <filename class="directory">/usr/sbin</filename> à la main pour
      qu'ils soient dans le <envar>PATH</envar> par défaut de l'utilisateur
      privilégié.</para>
    </tip>

    <para><parameter>--localstatedir=/var/lib/heimdal</parameter>,
    <parameter>--datadir=/var/lib/heimdal</parameter> et
    <parameter>--with-hdbdir=/var/lib/heimdal</parameter>&nbsp;: Ces paramètres
    sont utilisés pour que la base de données KDC et les fichiers associés
    résident tous dans <filename class='directory'>/var/lib/heimdal</filename>.</para>

    <para><parameter>--with-readline=/usr</parameter>&nbsp;: Ce paramètre 
    doit être utilisé pour que le script <command>configure</command> repère
    correctement le paquet <application>Readline</application> installé.</para>

    <para><parameter>--enable-kcm</parameter>&nbsp;: Ce paramètre active la
    construction du Kerberos Credentials Manager (gestionnaire d'autorisations).</para>

    <para><option>--with-sqlite3=/usr</option>>:nbsp;: Ce paramètre doit être utilisé pour que le 
    script <command>configure</command> localise proprement le paquet <application>Sqlite3
    </application> installé.</para>

    <para><option>--with-openldap=/usr</option> et
    <option>--enable-hdb-openldap-module</option>>:nbsp;: These parameters must be
    used so that the <command>configure</command> script properly locates the
    installed <application>OpenLDAP</application> package in order to build the
    module allowing an LDAP backend database.</para>

    <para><command>mv ... ...SHADOW</command>, <command>mv ... /bin</command>
    et <command> ln ... /usr/bin</command>&nbsp;: Les programmes <command>login</command>
    et <command>su</command> installés par
    <application>Heimdal</application> se trouvent dans le répertoire
    <filename class="directory">/bin</filename>. Le programme
    <command>login</command> est lié symboliquement car 
    <application>Heimdal</application> s'attend à le trouver dans
    <filename class="directory">/usr/bin</filename>. Les anciens exécutables 
    issus du paquet <application>Shadow</application> sont au préalable préservés
    afin de pouvoir être restaurés si vous rencontrez des problèmes de connexion
    au système après avoir installé et configuré
    le paquet <application>Heimdal</application>.</para>

    <para><command>for LINK in ...; do ...; done</command>,
    <command>mv ... /lib</command> et
    <command>ln ... /usr/lib/libdb.so</command>&nbsp;: Les programmes
    <command>login</command>
    et <command>su</command> précédemment déplacés dans le répertoire
    <filename class='directory'>/lib</filename> se lient aux bibliothèques
    <application>Heimdal</application> ainsi qu'aux bibliothèques fournies par
    les paquets <application>OpenSSL</application> et
    <application>Berkeley DB</application>. Ces bibliothèques sont également
    déplacées dans <filename class="directory">/lib</filename> pour respecter la
    FHS et au cas où 
    <filename class="directory">/usr</filename> se trouve sur une 
    partition séparée qui peut ne pas toujours être montée.</para>

  </sect2>

  <sect2 role="configuration">
    <title>Configuration de Heimdal</title>

    <sect3 id="heimdal-config">
      <title>Fichiers de configuration</title>

      <para><filename>/etc/heimdal/*</filename></para>

      <indexterm zone="heimdal heimdal-config">
        <primary sortas="e-etc-heimdal">/etc/heimdal/*</primary>
      </indexterm>

    </sect3>

    <sect3>
      <title>Informations de configuration</title>

        <note>
          <para>Toutes les étapes de configuration décrites ci-dessus doivent
          être effectuées par l'utilisateur <systemitem class='username'>root</systemitem> 
          sauf si cela est spécifié autrement.</para>
        </note>

      <sect4>
        <title>Configuration du serveur maître KDC</title>

        <para>Beaucoup de commandes ci-dessous utilisent des étiquettes
        <replaceable>&lt;replaceable&gt;</replaceable> pour identifier les
        endroits où vous devez remplacer des informations par celles spécifiques à
        votre réseau. Assurez-vous de remplacer tout ce qui est dans ces étiquettes
        (il n'y aura pas d'accolades anglo lorsque vous le ferez) par les
        informations spécifiques à votre système.</para>

        <para>Créez le fichier de configuration Kerberos avec les commandes
        suivantes&nbsp;:</para>

<screen role="root"><userinput>install -v -m755 -d /etc/heimdal &amp;&amp;
cat &gt; /etc/heimdal/krb5.conf &lt;&lt; "EOF" &amp;&amp;
<literal># Début de /etc/heimdal/krb5.conf

[libdefaults]
    default_realm = <replaceable>&lt;EXAMPLE.COM&gt;</replaceable>
    encrypt = true

[realms]
    <replaceable>&lt;EXAMPLE.COM&gt;</replaceable> = {
        kdc = <replaceable>&lt;nom_hôte.example.com&gt;</replaceable>
        admin_server = <replaceable>&lt;nom_hôte.example.com&gt;</replaceable>
        kpasswd_server = <replaceable>&lt;nom_hôte.example.com&gt;</replaceable>
    }

[domain_realm]
    .<replaceable>&lt;example.com&gt;</replaceable> = <replaceable>&lt;EXAMPLE.COM&gt;</replaceable>

[logging]
    kdc = FILE:/var/log/kdc.log
    admin_server = FILE:/var/log/kadmin.log
    default = FILE:/var/log/krb.log

# Fin de /etc/heimdal/krb5.conf</literal>
EOF
chmod -v 644 /etc/heimdal/krb5.conf</userinput></screen>

        <para>Vous devrez mettre votre propre nom de domaine et d'hôte à la 
        place des noms <replaceable>&lt;hostname&gt;</replaceable>
        et <replaceable>&lt;EXAMPLE.COM&gt;</replaceable>.</para>

        <para><option>default_realm</option> devrait être le nom de votre domaine
        modifié en MAJUSCULES. Ce n'est pas obligatoire mais aussi bien
        <application>Heimdal</application> que <application>MIT
        Kerberos</application> le recommandent.</para>

        <para><option>encrypt = true</option> fournit le chiffrement de tous le
        trafic entre les clients et les serveurs kerberizés. Il n'est pas
       nécessaire et vous pouvez le laisser désactivé. Si vous le laisser 
       désactiver, vous pouvez chiffrer tout le trafic du client au
        servur en utilisant plutôt un paramètre sur le client. Les paramètres
        <option>[realms]</option> disent aux clients où chercher les services
        d'authentication KDC. La section
        <option>[domain_realm]</option> lie un domaine à un
        realm.</para>

        <para>Stockez le mot de passe maître dans un fichier de clés en utilisant
        les commandes suivantes&nbsp;:</para>

<screen role="root"><userinput>install -v -m755 -d /var/lib/heimdal &amp;&amp;
kstash</userinput></screen>

        <para>Créez la base de données KDC&nbsp;:</para>

<screen role="root"><userinput>kadmin -l</userinput></screen>

        <para>Les commandes ci-dessous vous demanderont des information sur
        les utilisateurs clés. Choisissez pour l'instant les réglages par défaut, sauf 
        si vous savez ce que vous faites et si vous avez besoin d'indiquer des
        valeurs différentes. Vous pourrez y revenir plus tard et modifier les
        réglages par défaut, du moins vous devriez en ressentir le besoin.
        Vous pouvez utiliser les flèches Haut et Bas pour utiliser l'historique
        de <command>kadmin</command>, comme avec l'historique de
        <command>bash</command>.</para>

        <para>À l'invite <prompt>kadmin&gt;</prompt>, lancez l commande
        suivante&nbsp;:</para>

<screen role="root"><userinput>init <replaceable>&lt;EXAMPLE.COM&gt;</replaceable></userinput></screen>

        <para>Il faut maintenant peupler la base de données avec au moins un
        utilisateur clé (utilisateur). Pour l'instant, utilisez simplement le nom de 
        connexion de votre utilisateur ordinaire ou root. Vous pouvez créer autant
        de utilisateurs clés que vous souhaitez en utilisant la commande suivante&nbsp;:</para>

<screen role="root"><userinput>add <replaceable>&lt;loginname&gt;</replaceable></userinput></screen>

        <para>On doit installer uoe clé hôte sur le serveur KDC et sur toute machine
        exécutant des démons kerberizés&nbsp;:</para>

<screen role="root"><userinput>add --random-key host/<replaceable>&lt;hostname.example.com&gt;</replaceable></userinput></screen>

        <para>Après avoir choisi les paramètres par défaut lorsqu'on vous l'a d
        emandé, vous devrez exporter les données vers un fichier tableau de 
        clés &nbsp;:</para>

<screen role="root"><userinput>ext host/<replaceable>&lt;hostname.example.com&gt;</replaceable></userinput></screen>

        <para>Cela devrait créer un fichier dans
        <filename class="directory">/etc/heimdal</filename>&nbsp;:
        nommé <filename>krb5.keytab</filename>. Ce fichiers devraient
        avoir les droits 600 (lecture et écriture pour root seulement). Préserver
        les fichiers de tables de clés hors d'accès du public est crucial pour 
        toute la sécurité de l'installation Kerberos.</para>

        <para>Vous voudrez éventuellement ajouter des utilisateurs clés des démons 
        serveurs à la base de données et les extraire dans le fichier de tableau
        de clés. Vous faites cela de la même manière que vous avez créé les 
        utilisateurs clés hôtes. Voici un exemple&nbsp;:</para>

<screen role="root"><userinput>add --random-key ftp/<replaceable>&lt;nom_hôte.example.com&gt;</replaceable></userinput></screen>

        <para>(choisissez les paramètres par défaut)</para>

<screen role="root"><userinput>ext ftp/<replaceable>&lt;hostname.example.com&gt;</replaceable></userinput></screen>

        <para>Quittez le programme <command>kadmin</command> (utilisez
        <command>quit</command> ou <command>exit</command>) et revenez à l'invite
        du shell. Démarrez le démon KDC à la main, pour tester simplement 
        l'installation&nbsp;:</para>

<screen role="root"><userinput>/usr/sbin/kdc &amp;</userinput></screen>

        <para>Essayez d'obtenir un TGT (ticket granting ticket, ticket autorisant 
        un ticket) avec la commande suivante&nbsp;:</para>

<screen><userinput>kinit <replaceable>&lt;loginname&gt;</replaceable></userinput></screen>

        <para>On vous demandera le mot de passe que vous avez créé. Après avoir
        obtenu votre ticket, vous devriez le lister avec la commande suivante&nbsp;:</para>

<screen><userinput>klist</userinput></screen>

        <para>Des informations sur le ticket devraient s'afficher à l'écran.</para>

        <para>Pour tester le fonctionnement de 
        <filename>keytab</filename> file, lancez la commande suivante&nbsp;:</para>

<screen><userinput>ktutil list</userinput></screen>

        <para>Cela devrait renvoyer une liste des utilisateurs clçs hôtes avec 
        les méthodes chiffrées utilisées pour accéder aux utilisateurs clés.</para>

        <para>À ce moment-là, si tout s'est bien passé jusqu'ici, vous pouvez 
        avoir confiance dans l'installation, le paramétrage et la configuration
        de votre nouvelle installation <application>Heimdal</application> 
        Kerberos 5.</para>

        <para>Si vous souhaitez utiliser la bibliothèque <xref linkend="cracklib"/>
        pour renforcer les mots de passe forts dans la base de données KDC, voks
        devez faire deux choses. Tout d'abord, ajoutez les lignes suivantes au 
        fichier de configuration
        <filename>/etc/heimdal/krb5.conf</filename>&nbsp;:</para>

<screen><literal>[password_quality]
    policies = builtin:external-check
    external_program = /bin/krb5-check-cracklib.pl</literal></screen>

        <para>Ensuite, vous devez installer le module
        <application>Perl</application> <application>Crypt::Cracklib</application>.
        Téléchargez-le sur le site de CPAN. Au moment d'écrire ce texte, 
        l'adresse est <ulink
        url="http://www.cpan.org/authors/id/D/DA/DANIEL/Crypt-Cracklib-1.2.tar.gz"/>.
        Après avoir déballé l'archive tar et être allé dans le répertoire 
        nouvellement créé, lancez la commande suivante pour ajouter l'emplacement
        du dictionnaire <application>Cracklib</application> de BLFS à un des
        fichiers sources&nbsp;:</para>

<screen><userinput>sed -i 's|pw_dict|&amp;\n\t\t/lib/cracklib/pw_dict|' Cracklib.pm</userinput></screen>

        <para>Puis utilisez les commandes standards <command>perl Makefile.PL</command>;
        <command>make</command>; <command>make test</command>;
        <command>make install</command>.</para>

        <para id="heimdal-init">Installez le script de démarrage
        <filename>/etc/rc.d/init.d/heimdal</filename> inclu dans le paquet
        <xref linkend="bootscripts"/>&nbsp;:</para>

        <indexterm zone="heimdal heimdal-init">
          <primary sortas="f-heimdal">heimdal</primary>
        </indexterm>

<screen role="root"><userinput>make install-heimdal</userinput></screen>

      </sect4>

      <sect4>
        <title>Utiliser les clients Kerberizés</title>

        <para>Pour utiliser les clients kerberizés (<command>telnet</command>,
        <command>ftp</command>, <command>rsh</command>,
        <command>rxterm</command>, <command>rxtelnet</command>,
        <command>rcp</command>, <command>xnlock</command>), vous devez d'abord
        obtenir un TGT. Utilisez le programme <command>kinit</command> pour 
        obtenir le ticket. Après avoir acquis le ticket, vous pouvez utiliser 
        les programmes kerberizés pour vous connecter à un serveur kerberizé du
        réseau. On ne vous demandera pas de vous authentifier jusqu'à 
        l'expiration de votre ticket (par défaut, un jour), sauf si vous indiquez
        un utilisateur différent en tant qu'argument de la ligne du commande du
        programme.</para>

        <para>Les programmes kerberizés se connecteront à des démons non
        kerberizés en vous prévenant que l'authentication n'est pas chiffrée.</para>

        <para>Afin d'utiliser les programmes <application>X</application> de
        <application>Heimdal</application>, vous devrez ajouter une entrée pour
        le port du service au fichier <filename>/etc/services</filename> pour
        le serveur <command>kxd</command>. Il n'y a pas de 'numéro de port
        standardisé' pour le service 'kx' dans la base de données IANA, donc
        vous devrez choisir un numçro de port non utilisé. Ajoutez une entrée au
        fichier <filename>services</filename>, ressemblant à l'entrée ci-dessous
        (remplacez par le numéro de port de votre choix le <replaceable>&lt;49150&gt;</replaceable>)&nbsp;:</para>

<screen><literal>kx              <replaceable>&lt;49150&gt;</replaceable>/tcp   # Heimdal kerberos X
kx              <replaceable>&lt;49150&gt;</replaceable>/udp   # Heimdal kerberos X</literal></screen>

        <para>Pour des informations supplémentaires, consultez <ulink
        url="&hints-root;/downloads/files/heimdal.txt">the
        Heimdal hint</ulink> (l'astuce Heimdal) sur laquelle sont basées les 
        instructions ci-dessus.</para>

      </sect4>

    </sect3>

  </sect2>

  <sect2 role="content">
    <title>Contenu</title>

    <segmentedlist>
      <segtitle>Programmes installés</segtitle>
      <segtitle>Bibliothèques installées</segtitle>
      <segtitle>Répertoires installés</segtitle>

      <seglistitem>
        <seg>afslog, ftp, ftpd, gss, hprop, hpropd, hxtool, iprop-log,
        ipropd-master, ipropd-slave, kadmin, kadmind, kauth, kcm, kdc,
        kdestroy, kdigest, kf, kfd, kgetcred, kimpersonate, kinit, klist,
        kpasswd, kpasswdd, krb5-check-cracklib.pl, krb5-config, kstash,
        ktutil, kx, kxd, login, mk_cmds-krb5, otp, otpprint, pagsh, pfrom,
        popper, push, rcp, rsh, rshd, rxtelnet, rxterm, string2key, su,
        telnet, telnetd, tenletxr, verify_krb5_conf et xnlock</seg>

        <seg>hdb_ldap.{so,a}, libasn1.{so,a},
        libgssapi.{so,a}, libhdb.{so,a}, libheimntlm.{so,a}, libhx509.{so,a},
        libkadm5clnt.{so,a}, libkadm5srv.{so,a}, libkafs.{so,a},
        libkdc.{so,a}, libkrb5.{so,a}, libotp.{so,a}, libroken.{so,a},
        libsl.{so,a}, libss-krb5.{so,a} et wind.{so,a}</seg>

        <seg>/etc/heimdal, /usr/include/gssapi, /usr/include/kadm5,
        /usr/include/krb5, /usr/include/roken,
        /usr/share/doc/heimdal-&heimdal-version; et /var/lib/heimdal</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Descriptions courtes</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="afslog">
        <term><command>afslog</command></term>
        <listitem>
          <para>obtient des jetons AFS pour un certain nombre de cellules.</para>
          <indexterm zone="heimdal afslog">
            <primary sortas="b-afslog">afslog</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="ftp">
        <term><command>ftp</command></term>
        <listitem>
          <para>est un client FTP kerberizé.</para>
          <indexterm zone="heimdal ftp">
            <primary sortas="b-ftp">ftp</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="ftpd">
        <term><command>ftpd</command></term>
        <listitem>
          <para>est un démon FTP kerberizé.</para>
          <indexterm zone="heimdal ftpd">
            <primary sortas="b-ftpd">ftpd</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="hprop">
        <term><command>hprop</command></term>
        <listitem>
          <para>prend une base de données d'utilisateurs clés dans un format
          spécifié et la convertit dans un flux d'enregistrements de bases de 
          données <application>Heimdal</application>.</para>
          <indexterm zone="heimdal hprop">
            <primary sortas="b-hprop">hprop</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="hpropd">
        <term><command>hpropd</command></term>
        <listitem>
          <para>est un serveur qui reçoit une base de données envoyée par
          <command>hprop</command> et qui l'écrit comme une base de données 
          locale.</para>
          <indexterm zone="heimdal hpropd">
            <primary sortas="b-hpropd">hpropd</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="iprop-log">
        <term><command>iprop-log</command></term>
        <listitem>
          <para>est utilisé pour maintenir le fichier journal iprop.</para>
          <indexterm zone="heimdal iprop-log">
            <primary sortas="b-iprop-log">iprop-log</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="ipropd-master">
        <term><command>ipropd-master</command></term>
        <listitem>
          <para>est un démon qui s'exécute sur le serveur maître KDC et qui
          propage de manière incrémentale les modifications de la base de données
          KDC dans les serveurs KDC esclaves.</para>
          <indexterm zone="heimdal ipropd-master">
            <primary sortas="b-ipropd-master">ipropd-master</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="ipropd-slave">
        <term><command>ipropd-slave</command></term>
        <listitem>
          <para>est un démon qui s'exécute sur le serveur esclave KDC et qui
          propage de manière incrémentale les la base de données
          KDC issue du serveur KDC maître.</para>
          <indexterm zone="heimdal ipropd-slave">
            <primary sortas="b-ipropd-slave">ipropd-slave</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="kadmin">
        <term><command>kadmin</command></term>
        <listitem>
          <para>est un outil utilisé pour faire des modifications de la base de
          données Kerberos.</para>
          <indexterm zone="heimdal kadmin">
            <primary sortas="b-kadmin">kadmin</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="kadmind">
        <term><command>kadmind</command></term>
        <listitem>
          <para>est un serveur pour l'accès administrateur à la base de données
          Kerberos.</para>
          <indexterm zone="heimdal kadmind">
            <primary sortas="b-kadmind">kadmind</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="kauth">
        <term><command>kauth</command></term>
        <listitem>
          <para>est un lien symbolique vers le programme <command>kinit</command>.</para>
          <indexterm zone="heimdal kauth">
            <primary sortas="g-kauth">kauth</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="kcm">
        <term><command>kcm</command></term>
        <listitem>
          <para>est un cache d'autorisations basé sur le processus pour des 
          tickets
          Kerberos.</para>
          <indexterm zone="heimdal kcm">
            <primary sortas="b-kcm">kcm</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="kdc">
        <term><command>kdc</command></term>
        <listitem>
          <para>est un serveur Kerberos 5.</para>
          <indexterm zone="heimdal kdc">
            <primary sortas="b-kdc">kdc</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="kdestroy">
        <term><command>kdestroy</command></term>
        <listitem>
          <para>supprime le jeu de tickets actuel de l'utilisateur clé.</para>
          <indexterm zone="heimdal kdestroy">
            <primary sortas="b-kdestroy">kdestroy</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="kf">
        <term><command>kf</command></term>
        <listitem>
          <para>est un programme qui redirige les tickets vers un hôte distant à
          travers un flux authentifié et chiffré.</para>
          <indexterm zone="heimdal kf">
            <primary sortas="b-kf">kf</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="kfd">
        <term><command>kfd</command></term>
        <listitem>
          <para>est un serveur utilisé pour recevoir des tickets redirigés.</para>
          <indexterm zone="heimdal kfd">
            <primary sortas="b-kfd">kfd</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="kgetcred">
        <term><command>kgetcred</command></term>
        <listitem>
          <para>obtient un ticket pour un service.</para>
          <indexterm zone="heimdal kgetcred">
            <primary sortas="b-kgetcred">kgetcred</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="kinit">
        <term><command>kinit</command></term>
        <listitem>
          <para>est utilisé pour s'authentifier sur le serveur Kerberos en
          tant qu'utilisateur clé et pour acquérir un ticket qui autorise des tickets
          utilisables ultérieurement pour obtenir des tickets pour d'autres 
          services.</para>
          <indexterm zone="heimdal kinit">
            <primary sortas="b-kinit">kinit</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="klist">
        <term><command>klist</command></term>
        <listitem>
          <para>lit et affiche les tickets actuels dans le cache des autorisations.</para>
          <indexterm zone="heimdal klist">
            <primary sortas="b-klist">klist</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="kpasswd">
        <term><command>kpasswd</command></term>
        <listitem>
          <para>est un programme pour modifier des mots de passe Kerberos 5.</para>
          <indexterm zone="heimdal kpasswd">
            <primary sortas="b-kpasswd">kpasswd</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="kpasswdd">
        <term><command>kpasswdd</command></term>
        <listitem>
          <para>est un serveur de modification de mots de passe Kerberos 5.</para>
          <indexterm zone="heimdal kpasswdd">
            <primary sortas="b-kpasswdd">kpasswdd</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="krb5-config-prog">
        <term><command>krb5-config</command></term>
        <listitem>
          <para>donne des informations sur la manière de lier des programmes à
          des bibliothèques <application>Heimdal</application>.</para>
          <indexterm zone="heimdal krb5-config-prog">
            <primary sortas="b-krb5-config">krb5-config</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="kstash">
        <term><command>kstash</command></term>
        <listitem>
          <para>stocke le mot de passe maître KDC dans un fichier.</para>
          <indexterm zone="heimdal kstash">
            <primary sortas="b-kstash">kstash</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="ktutil">
        <term><command>ktutil</command></term>
        <listitem>
          <para>est un programme pour gérer des tables de clés Kerberos.</para>
          <indexterm zone="heimdal ktutil">
            <primary sortas="b-ktutil">ktutil</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="kx">
        <term><command>kx</command></term>
        <listitem>
          <para>est un programme qui redirige de manière sécurisée des
          connexions <application>X</application>.</para>
          <indexterm zone="heimdal kx">
            <primary sortas="b-kx">kx</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="kxd">
        <term><command>kxd</command></term>
        <listitem>
          <para>est le démon pour <command>kx</command>.</para>
          <indexterm zone="heimdal kxd">
            <primary sortas="b-kxd">kxd</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="login">
        <term><command>login</command></term>
        <listitem>
          <para>est un programme ee connexion (login) kerberizé.</para>
          <indexterm zone="heimdal login">
            <primary sortas="b-login">login</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="otp">
        <term><command>otp</command></term>
        <listitem>
          <para>gère des mots de passe à usage unique.</para>
          <indexterm zone="heimdal otp">
            <primary sortas="b-otp">otp</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="otpprint">
        <term><command>otpprint</command></term>
        <listitem>
          <para>affiche des listes de mots de passe à usage unique.</para>
          <indexterm zone="heimdal otpprint">
            <primary sortas="b-otpprint">otpprint</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="pfrom">
        <term><command>pfrom</command></term>
        <listitem>
          <para>est un script qui lance <command>push --from</command>.</para>
          <indexterm zone="heimdal pfrom">
            <primary sortas="b-pfrom">pfrom</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="popper">
        <term><command>popper</command></term>
        <listitem>
          <para>est un serveur POP-3 kerberizé.</para>
          <indexterm zone="heimdal popper">
            <primary sortas="b-popper">popper</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="push">
        <term><command>push</command></term>
        <listitem>
          <para>est un client de récupération de messages électroniques kerberizé
          POP.</para>
          <indexterm zone="heimdal push">
            <primary sortas="b-push">push</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="rcp">
        <term><command>rcp</command></term>
        <listitem>
          <para>est un client rcp kerberizé.</para>
          <indexterm zone="heimdal rcp">
            <primary sortas="b-rcp">rcp</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="rsh">
        <term><command>rsh</command></term>
        <listitem>
          <para>est un client rsh kerberizé.</para>
          <indexterm zone="heimdal rsh">
            <primary sortas="b-rsh">rsh</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="rshd">
        <term><command>rshd</command></term>
        <listitem>
          <para>est un serveur rsh kerberizé.</para>
          <indexterm zone="heimdal rshd">
            <primary sortas="b-rshd">rshd</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="rxtelnet">
        <term><command>rxtelnet</command></term>
        <listitem>
          <para>ouvre une fenâtre <command>xterm</command> sécurisée avec un
          <command>telnet</command> sur un hôte donné et redirige des connexions
          <application>X</application>.</para>
          <indexterm zone="heimdal rxtelnet">
            <primary sortas="b-rxtelnet">rxtelnet</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="rxterm">
        <term><command>rxterm</command></term>
        <listitem>
          <para>ouvre un <command>xterm</command> distant sécurisé.</para>
          <indexterm zone="heimdal rxterm">
            <primary sortas="b-rxterm">rxterm</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="string2key">
        <term><command>string2key</command></term>
        <listitem>
          <para>associe un mot de passe à une clé.</para>
          <indexterm zone="heimdal string2key">
            <primary sortas="b-string2key">string2key</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="su">
        <term><command>su</command></term>
        <listitem>
          <para>est un client su kerberizé.</para>.</para>
          <indexterm zone="heimdal su">
            <primary sortas="b-su">su</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="telnet">
        <term><command>telnet</command></term>
        <listitem>
          <para>est un client telnet kerberizé.</para>
          <indexterm zone="heimdal telnet">
            <primary sortas="b-telnet">telnet</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="telnetd">
        <term><command>telnetd</command></term>
        <listitem>
          <para>est un serveur telnet kerberizé.</para>
          <indexterm zone="heimdal telnetd">
            <primary sortas="b-telnetd">telnetd</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="tenletxr">
        <term><command>tenletxr</command></term>
        <listitem>
          <para>redirige des connexions <application>X</application> en sens
          inverse.</para>
          <indexterm zone="heimdal tenletxr">
            <primary sortas="b-tenletxr">tenletxr</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="verify_krb5_conf">
        <term><command>verify_krb5_conf</command></term>
        <listitem>
          <para>cherche dans le fichier <filename>krb5.conf</filename> des 
          erreurs évidentes.</para>
          <indexterm zone="heimdal verify_krb5_conf">
            <primary sortas="b-verify_krb5_conf">verify_krb5_conf</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="xnlock">
        <term><command>xnlock</command></term>
        <listitem>
          <para>est un programme agissant comme un économiseur d'écran sécurisé
          pour les stations de travail qui fonctionnent avec <application>X</application>.</para>
          <indexterm zone="heimdal xnlock">
            <primary sortas="b-xnlock">xnlock</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libasn1">
        <term><filename class='libraryfile'>libasn1.{so,a}</filename></term>
        <listitem>
          <para>fournit les fonctions ASN.1 et DER pour encoder et décoder les
          TGTs Kerberos.</para>
          <indexterm zone="heimdal libasn1">
            <primary sortas="c-libasn1">libasn1.{so,a}</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libgssapi">
        <term><filename class='libraryfile'>libgssapi.{so,a}</filename></term>
        <listitem>
          <para>contient les fonctions de la <foreignphrase>Generic Security Service 
          Application Programming Interface</foreignphrase> (GSSAPI, interface 
          de programmation de l'application de service de sécurité générique) 
          qui offre aux appelants les services de sécurité de manière classique,
          supportable par une large gamme de mécanismes et de techqologies 
          sous-jacents, d'où une portabilité des applications au niveau du code
          source vers des environnements différents.</para>
          <indexterm zone="heimdal libgssapi">
            <primary sortas="c-libgssapi">libgssapi.{so,a}</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libhdb">
        <term><filename class='libraryfile'>libhdb.{so,a}</filename></term>
        <listitem>
          <para>est une bibliothèque d'accès à une base de données d'authentification
          <application>Heimdal</application> Kerberos 5.</para>
          <indexterm zone="heimdal libhdb">
            <primary sortas="c-libhdb">libhdb.{so,a}</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libkadm5clnt">
        <term><filename class='libraryfile'>libkadm5clnt.{so,a}</filename></term>
        <listitem>
          <para>contient les fonctions de vérification des authentifications et
          du mot de passe administrateur requis par les clients Kerberos 5.</para>
          <indexterm zone="heimdal libkadm5clnt">
            <primary sortas="c-libkadm5clnt">libkadm5clnt.{so,a}</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libkadm5srv">
        <term><filename class='libraryfile'>libkadm5srv.{so,a}</filename></term>
        <listitem>
          <para>contient les fonctions de vérification des authentifications et
          du mot de passe administrateur requis par les serveurs Kerberos 5.</para>
          <indexterm zone="heimdal libkadm5srv">
            <primary sortas="c-libkadm5srv">libkadm5srv.{so,a}</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libkafs">
        <term><filename class='libraryfile'>libkafs.{so,a}</filename></term>
        <listitem>
          <para>contient les fonctions nécessaires pour s'authentifier sur AFS.</para>
          <indexterm zone="heimdal libkafs">
            <primary sortas="c-libkafs">libkafs.{so,a}</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libkrb5">
        <term><filename class='libraryfile'>libkrb5.{so,a}</filename></term>
        <listitem>
          <para>est une bibliothèque Kerberos 5 généraliste.</para>
          <indexterm zone="heimdal libkrb5">
            <primary sortas="c-libkrb5">libkrb5.{so,a}</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libotp">
        <term><filename class='libraryfile'>libotp.{so,a}</filename></term>
        <listitem>
          <para>contient les fonctions nécessaires à la gestion de 
          l'authentication par mots de passe valides une seule fois.</para>
          <indexterm zone="heimdal libotp">
            <primary sortas="c-libotp">libotp.{so,a}</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libroken">
        <term><filename class='libraryfile'>libroken.{so,a}</filename></term>
        <listitem>
          <para>est une bibliothèque qui contient des fonctions de compatibilité 
          Kerberos 5.</para>
          <indexterm zone="heimdal libroken">
            <primary sortas="c-libroken">libroken.{so,a}</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
