<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;
  <!ENTITY zsh-download-http "http://www.zsh.org/pub/zsh-&zsh-version;.tar.bz2">
  <!ENTITY zsh-download-ftp  " ">
  <!ENTITY zsh-md5sum        "1cd396ce17952de50b8a89980d617f0a">
  <!ENTITY zsh-size          "3.1 Mo">
  <!ENTITY zsh-buildsize     "63 Mo (includes installing documentation - additional 1 Mo for PDF documentation)">
  <!ENTITY zsh-time          "0.9 SBU (additional moins de 0.1 SBU for PDF documentation and additional 0.2 SBU for the tests)">
  <!ENTITY zsh-doc-md5sum    "ec04d46211a20281778ddbbde9aa680f">
  <!ENTITY zsh-doc-size      "2.9 Mo">
]>
<sect1 id="zsh" xreflabel="ZSH-&zsh-version;">
  <?dbhtml filename="zsh.html"?>
  <sect1info>
    <othername>$LastChangedBy&nbsp;: bdubbs $</othername>
    <date>$Date&nbsp;: 2012-09-22 18:38:01 +0200 (Sat, 22 Sep 2012) $</date>
  </sect1info>
  <title>ZSH-&zsh-version;</title>
  <indexterm zone="zsh">
    <primary sortas="a-ZSH">ZSH</primary>
  </indexterm>
  <sect2 role="package">
    <title>Introduction à ZSH</title>
    <para>Le paquet <application>ZSH</application> contient un interpréteur de commandes
    (shell) utilisable en tant que shell de connexion interactif et en tant
    que manipulateur de commandes de shell script. Parmi les shells standards,
    <application>ZSH</application> est l'un des plus ressemblant à
    <application>KSH</application> mais il comprend beaucoup d'améliorations.</para>
   &lfs77_checked;
     <bridgehead renderas="sect3">Informations sur le paquet</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>Téléchargement (HTTP)&nbsp;: <ulink url="&zsh-download-http;"/></para>
      </listitem>
      <listitem>
        <para>Téléchargement (FTP)&nbsp;: <ulink url="&zsh-download-ftp;"/></para>
      </listitem>
      <listitem>
        <para>Somme de contrôle MD5 du téléchargement&nbsp;: &zsh-md5sum;</para>
      </listitem>
      <listitem>
        <para>Taille du téléchargement&nbsp;: &zsh-size;</para>
      </listitem>
      <listitem>
        <para>Estimation de l'espace disque requis&nbsp;: &zsh-buildsize;</para>
      </listitem>
      <listitem>
        <para>Estimation du temps de construction&nbsp;: &zsh-time;</para>
      </listitem>
    </itemizedlist>
    <bridgehead renderas="sect3">Téléchargements supplémentaires</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>Documentation facultative&nbsp;: <ulink
        url="http://www.zsh.org/pub/zsh-&zsh-version;-doc.tar.bz2"/></para>
      </listitem>
      <listitem>
        <para>Somme de contrôle MD5 de la documentation&nbsp;: &zsh-doc-md5sum;</para>
      </listitem>
      <listitem>
        <para>Taille de téléchargement de la documentation: &zsh-doc-size;</para>
      </listitem>
    </itemizedlist>
    <bridgehead renderas="sect3">Dépendances de ZSH</bridgehead>
    <bridgehead renderas="sect4">Facultatives</bridgehead>
    <para role="optional">
   <xref linkend="libcap-pam"/>
    <xref linkend="pcre"/> et
    <xref linkend="valgrind"/>,
    </para>
    <para condition="html" role="usernotes">Notes utilisateur&nbsp;:
    <ulink url="&blfs-wiki;/zsh"/></para>
  </sect2>
  <sect2 role="installation">
    <title>Installation de ZSH</title>
    <para>Si vous avez téléchargé la documentation facultative, déballez-la 
    avec la commande suivante&nbsp;:</para>
<screen>
<userinput>tar --strip-components=1 -xvf ../zsh-&zsh-version;-doc.tar.bz2</userinput>
</screen>
<para>Installez <application>ZSH</application> en lançant les commandes
    suivantes&nbsp;:</para>
<screen>
<userinput>./configure --prefix=/usr         \
            --bindir=/bin         \
            --sysconfdir=/etc/zsh \
            --enable-etcdir=/etc/zsh                  &amp;&amp;
make                                                  &amp;&amp;
makeinfo  Doc/zsh.texi --plaintext -o Doc/zsh.txt     &amp;&amp;
makeinfo  Doc/zsh.texi --html      -o Doc/html        &amp;&amp;
makeinfo  Doc/zsh.texi --html --no-split --no-headers -o Doc/zsh.html</userinput>
</screen>
    <para>Si vous avez installé <xref linkend="texlive"/>, vous pouvez
    construire des formats supplémentaires de la documentation en exécutant tout ou partie
    des commandes suivantes&nbsp;:</para>
    
<screen>
<userinput>texi2pdf  Doc/zsh.texi -o Doc/zsh.pdf</userinput>
</screen>
    <para>Pour tester les résultats, lancez&nbsp;: <command>make check</command>.</para>
    <para>Maintenant, en tant qu'utilisateur <systemitem class="username">root</systemitem>&nbsp;:</para>
<screen role="root">
<userinput>make install                              &amp;&amp;
make infodir=/usr/share/info install.info &amp;&amp;
install -v -m755 -d                 /usr/share/doc/zsh-&zsh-version;/html &amp;&amp;
install -v -m644 Doc/html/*         /usr/share/doc/zsh-&zsh-version;/html &amp;&amp;
install -v -m644 Doc/zsh.{html,txt} /usr/share/doc/zsh-&zsh-version;</userinput>
</screen>
    <para>Si vous avez téléchargé la documentation facultative, installez-la
    en exécutant les commandes suivantes en tant qu'utilisateur
    <systemitem class="username">root</systemitem>&nbsp;:</para>
<screen role="root">
<userinput>make htmldir=/usr/share/doc/zsh-&zsh-version;/html install.html &amp;&amp;
install -v -m644 Doc/zsh.dvi /usr/share/doc/zsh-&zsh-version;</userinput>
</screen>
    <para>Si vous avez construit la documentation au format PDF
   , installez-le en exécutant la commande suivante en tant qu'utilisateur
    <systemitem class="username">root</systemitem>&nbsp;:</para>
<screen role="root">
<userinput>install -v -m644 Doc/zsh.pdf /usr/share/doc/zsh-&zsh-version;</userinput>
</screen>
  </sect2>
  <sect2 role="commands">
    <title>Explication des commandes</title>
<para><parameter>--sysconfdir=/etc/zsh</parameter> et
    <parameter>--enable-etcdir=/etc/zsh</parameter>&nbsp;: Ces paramètres sont
    utilisés pour que tous les fichiers de configuration <application>ZSH</application>
    soient regroupés dans le répertoire <filename class='directory'>/etc/zsh</filename>.
    Ne mettez pas ces paramètres si vous souhaitez assurer une compatibilité
    historique en mettant tous les fichiers dans le répertoire
    <filename class='directory'>/etc</filename>.</para>
    <para><parameter>--bindir=/bin</parameter>&nbsp;: Ce paramètre met les
    binaires <command>zsh</command> dans le système de fichiers racine.</para>
    <para><option>--enable-cap</option>&nbsp;: Ce paramètre active les
    possibilités POSIX.</para>
    <para><option>--disable-gdbm</option>&nbsp;: Ce paramètre désactive
    l'utilisation de la bibliothèque <application>GDBM</application>.</para>
    <para><option>--enable-pcre</option>&nbsp;: Ce paramètre permet
    à zsh d'utiliser la bibliothèque d'expression régulière <application>PCRE</application> 
    dans les intégrations du shell.</para>
      
    <sect3 id="mountpoints">
      <title>Plusieurs partitions</title>
     
      <para>Lier dynamiquement <application>ZSH</application> à 
      <application>PCRE</application> et/ou à <application>GDBM</application>
      donne des dépendances, au moment de l'exécution, respectivement de 
      <filename class='libraryfile'>
      libpcre.so</filename> et/ou de <filename class='libraryfile'>libgdbm.so
      </filename>, qui se trouvent tous dans la hiérarchie
      <filename class='directory'>/usr</filename>. Si 
      <filename class='directory'>/usr</filename> est un point de montage séparé
      et si <application>ZSH</application> doit être disponible au moment du
      démarrage, ses bibliothèques de support devraient se trouver aussi dans
      <filename class='directory'>/lib</filename>. Vous pouvez déplacer les
      bibliothèques comme suit&nbsp;:</para>
<screen role="root">
<userinput>mv -v /usr/lib/libpcre.so.* /lib &amp;&amp;
ln -v -sf ../../lib/libpcre.so.0 /usr/lib/libpcre.so
mv -v /usr/lib/libgdbm.so.* /lib &amp;&amp;
ln -v -sf ../../lib/libgdbm.so.3 /usr/lib/libgdbm.so</userinput>
</screen>
      <para>Vous pouvez aussi lier statiquement <application>ZSH</application> 
      à <application>PCRE</application> et à <application>GDBM</application> si
      vous modifiez le fichier <filename>config.modules</filename> (vous
      devez d'abord lancer configure pour le générer).</para>
    </sect3>
  </sect2>
  <sect2 role="configuration">
    <title>Configuration de ZSH</title>
    <sect3 id="zsh-config">
      <title>Fichiers de configuration</title>
      <para>Il y a tout un tas de fichiers de configuration pour 
      <application>ZSH</application>, incluant
      <filename>/etc/zsh/zshenv</filename>,
      <filename>/etc/zsh/zprofile</filename>,
      <filename>/etc/zsh/zshrc</filename>,
      <filename>/etc/zsh/zlogin</filename> et
      <filename>/etc/zsh/zlogout</filename>. Vous pouvez trouver plus
      d'informations à leur sujet dans <filename>zsh(1)</filename> et les pages
      de manuel qui s'y rapportent.</para>
     <para>
        La première fois que zsh est lancé, vous devrez répondre à quelques questions.
	Les réponses seront utilisées pour créer un fichier 
        <filename>~/.zshrc</filename>. Si vous souhaitez lancer ces questions de nouveau
        , lancez <command>zsh
        /usr/share/zsh/&zsh-version;/functions/zsh-newuser-install -f</command>.
      </para>
      <para>
        Il y a plusieurs prompts avancés de construits. Dans le shell
        <command>zsh</command> , démarrez le support des prompts avancés avec
        <command>autoload -U promptinit</command>, ensuite
        <command>promptinit</command>. Les noms des prompts disponible sont listés avec
        <command>prompt -l</command>. Selectionnez en un en particulier avec
        <command>prompt <literal>&lt;prompt-name&gt;</literal></command>. Affichez tous les prompts
	disponibles avec <command>prompt -p</command>. Sauf pour la liste et les commandes d'affichages
        , vous pouvez insérer les autres dans 
        <filename>~/.zshrc</filename> pour être automatiquement exécutées au démarrage du shell, avec le prompt de votre choix.
      </para>
<indexterm zone="zsh zsh-config">
        <primary sortas="e-etc-zsh-zshenv">/etc/zsh/zshenv</primary>
      </indexterm>
      <indexterm zone="zsh zsh-config">
        <primary sortas="e-etc-zsh-zprofile">/etc/zsh/zprofile</primary>
      </indexterm>
      <indexterm zone="zsh zsh-config">
        <primary sortas="e-etc-zsh-zshrc">/etc/zsh/zshrc</primary>
      </indexterm>
      <indexterm zone="zsh zsh-config">
        <primary sortas="e-etc-zsh-zlogin">/etc/zsh/zlogin</primary>
      </indexterm>
      <indexterm zone="zsh zsh-config">
        <primary sortas="e-etc-zsh-zlogout">/etc/zsh/zlogout</primary>
      </indexterm>
    </sect3>
    <sect3>
      <title>Informations de configuration</title>
      <para>Mettez à jour <filename>/etc/shells</filename> pour inclure les noms
      de programme shell <application>ZSH</application> (en tant qu'utilisateur
      <systemitem class="username">root</systemitem> user)&nbsp;:</para>
<screen role="root">
<userinput>cat &gt;&gt; /etc/shells &lt;&lt; "EOF"
<literal>/bin/zsh
/bin/zsh-&zsh-version;</literal>
EOF</userinput>
</screen>
    </sect3>
  </sect2>
  <sect2 role="content">
    <title>Contenu</title>
    <segmentedlist>
      <segtitle>Programmes installés</segtitle>
      <segtitle>Bibliothèques installées</segtitle>
      <segtitle>Répertoires installés</segtitle>
      <seglistitem>
        <seg>zsh (lien dur vers zsh-&zsh-version;) et zsh-&zsh-version;</seg>
        <seg>Plusieurs greffons de modules d'aide sous 
        /usr/lib/zsh/&zsh-version;/</seg>
        <seg>/etc/zsh, /usr/lib/zsh, /usr/share/doc/zsh-&zsh-version; et
        /usr/share/zsh</seg>
      </seglistitem>
    </segmentedlist>
    <variablelist>
      <bridgehead renderas="sect3">Short Description</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>
      <varlistentry id="zsh-prog">
        <term><command>zsh</command></term>
        <listitem>
          <para>est un shell pour éditer la ligne de commande, qui a une
          fonction de vérification d'orthographe, de complétion programmable des
          commandes, des fonctions shell (avec autochargement), un mécanisme
          d'historique et un tas d'autres fonctionnalités.</para>
          <indexterm zone="zsh zsh-prog">
            <primary sortas="b-zsh">zsh</primary>
          </indexterm>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect2>
</sect1>
