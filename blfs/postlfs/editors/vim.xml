<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN"
   "http://www.oasis-open.org/docbook/xml/4.3/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

  <!ENTITY vim-download-http "http://ftp.at.vim.org/pub/vim/unix/vim-&vim-version;.tar.bz2">
  <!ENTITY vim-download-ftp  "ftp://ftp.vim.org/pub/vim/unix/vim-&vim-version;.tar.bz2">
  <!ENTITY vim-md5sum        "821fda8f14d674346b87e3ef9cb96389">
  <!ENTITY vim-size          "3.7 MB">
  <!ENTITY vim-buildsize     "48 MB">
  <!ENTITY vim-time          "0.59 SBU">
]>

<sect1 id="vim" xreflabel="Vim-&vim-version;">
<sect1info>
<othername>$LastChangedBy: bdubbs $</othername>
<date>$Date: 2005-06-16 06:20:36 $</date>
</sect1info>
<?dbhtml filename="vim.html"?>
<title>Vim-&vim-version;</title>
<indexterm zone="vim"><primary
sortas="a-Vim">Vim</primary></indexterm>

<sect2>
<title>Introduction to <application>Vim</application></title>

<para>The <application>Vim</application> package, which is an
abbreviation for VI IMproved, contains a <command>vi</command>
clone with extra features as compared to the original
<command>vi</command>.</para>

<para>The default <acronym>LFS</acronym> instructions install 
<application>vim</application> as a part of the base system. 
If you would prefer to link <application>vim</application> 
against <application>X</application>, you should recompile 
<application>vim</application> to enable <acronym>GUI</acronym> 
mode. There is no need for special instructions since 
<application>X</application> support is automatically detected.
</para>

<sect3><title>Package information</title>
<itemizedlist spacing='compact'>
<listitem><para>Download (HTTP): <ulink
url="&vim-download-http;"/></para></listitem>
<listitem><para>Download (FTP): <ulink
url="&vim-download-ftp;"/></para></listitem>
<listitem><para>Download MD5 sum: &vim-md5sum;</para></listitem>
<listitem><para>Download size: &vim-size;</para></listitem>
<listitem><para>Estimated disk space required:
&vim-buildsize;</para></listitem>
<listitem><para>Estimated build time:
&vim-time;</para></listitem></itemizedlist>
</sect3>

<sect3><title>Additional downloads</title>
<itemizedlist spacing='compact'>
<listitem><para>Required patch: <ulink 
url="&patch-root;/vim-&vim-version;-security_fix-1.patch"/></para>
</listitem>
<listitem><para>Translated Vim messages: <ulink 
url="http://ftp.at.vim.org/pub/vim/extra/vim-&vim-version;-lang.tar.gz"/>
</para></listitem>
</itemizedlist></sect3>

<sect3><title><application>Vim</application> dependencies</title>
<sect4><title>Recommended</title>
<para><application>X</application> 
(<xref linkend="xfree86"/> or <xref linkend="xorg"/>)</para>
</sect4>

<sect4><title>Optional</title>
<para><xref linkend="gtk2"/>, 
<xref linkend="lesstif"/>, 
<xref linkend="python"/>, 
<xref linkend="tcl"/>, 
<xref linkend="ruby"/> 
and <xref linkend="gpm"/>
</para>
</sect4>
</sect3>

</sect2>

<sect2>
<title>Installation of <application>Vim</application></title>

<note><para>If you recompile vim to link against <application>X</application>,
and your <application>X</application> libs are not on the root partition, you 
will no longer have an editor for use in emergencies. You may choose to 
install an additional editor, not link vim against X, or move the current 
<command>vim</command> executable to the <filename>/bin</filename> directory 
under a different name such as <filename>vi</filename>.</para></note>

<para>If desired, unpack the translated messages archive:</para>

<screen><userinput><command>tar -zxf ../vim-&vim-version;-lang.tar.gz --strip-path=1</command></userinput></screen>
    
<para>Install <application>Vim</application> by running the following
commands:</para>

<screen><userinput><command>echo '#define SYS_VIMRC_FILE "/etc/vimrc"' &gt;&gt; src/feature.h &amp;&amp;
echo '#define SYS_GVIMRC_FILE "/etc/gvimrc"' &gt;&gt; src/feature.h &amp;&amp;
patch -Np1 -i ../vim-&vim-version;-security_fix-1.patch &amp;&amp;
./configure --prefix=/usr --with-features=huge &amp;&amp;
make</command></userinput></screen>

<para>Now, as the root user:</para>

<screen><userinput role='root'><command>make install</command></userinput></screen>

</sect2>

<sect2>
<title>Command explanations</title>

<para><parameter>--with-features=huge</parameter>: This switch enables all 
the additional features available in <application>Vim</application>.</para>

<para><option>--enable-gui=no</option>: If you prefer not to link 
<application>Vim</application> against <application>X</application>, use
this switch.</para>

</sect2>

<sect2>
<title>Contents</title>

<para>A list of the reinstalled files, along with their short descriptions can 
be found at <ulink url="&lfs-root;/chapter06/vim.html#contents-vim"/>.</para>

<segmentedlist>
<segtitle>Installed Programs</segtitle>
<segtitle>Installed Libraries</segtitle>
<segtitle>Installed Directory</segtitle>
<seglistitem>
<seg>gview, gvim, gvimdiff, rgview, rgvim</seg>
<seg>None</seg>
<seg>/usr/share/vim</seg>
</seglistitem>
</segmentedlist>

<variablelist>
<bridgehead renderas="sect3">Short Descriptions</bridgehead>
<?dbfo list-presentation="list"?>

<varlistentry id="gview">
<term><filename>gview</filename></term>
<listitem><para>starts <command>gvim</command> in read-only mode.</para>
<indexterm zone="vim gview">
<primary sortas="b-gview">gview</primary></indexterm>
</listitem>
</varlistentry>

<varlistentry id="gvim">
<term><filename>gvim</filename></term>
<listitem><para>is the editor that runs under X and includes a <acronym>GUI</acronym></para>
<indexterm zone="vim gvim">
<primary sortas="b-gvim">gvim</primary></indexterm>
</listitem>
</varlistentry>

<varlistentry id="gvimdiff">
<term><filename>gvimdiff</filename></term>
<listitem><para>edits two or three versions of a file with
<command>gvim</command> and show differences.</para>
<indexterm zone="vim gvimdiff">
<primary sortas="b-gvimdiff">gvimdiff</primary></indexterm>
</listitem>
</varlistentry>

<varlistentry id="rgview">
<term><filename>rgview</filename></term>
<listitem><para>is a restricted version of <command>gview</command>.</para>
<indexterm zone="vim rgview">
<primary sortas="b-rgview">rgview</primary></indexterm>
</listitem>
</varlistentry>

<varlistentry id="rgvim">
<term><filename>rgvim</filename></term>
<listitem><para>is a restricted version of <command>gvim</command>. </para>
<indexterm zone="vim gvim">
<primary sortas="b-gvim">gvim</primary></indexterm>
</listitem>
</varlistentry>

</variablelist>

</sect2>

</sect1>
