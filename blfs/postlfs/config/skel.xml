<sect1 id="postlfs-config-skel">
<?dbhtml filename="skel.html" dir="postlfs"?>
<title>/etc/skel</title>

<para>Le répertoire <filename>/etc/skel</filename> est assez simple à configurer
et à utiliser. Il permet de s'assurer que tous les nouveaux utilisateurs sur
votre système LFS commencent avec la même configuration. Le répertoire
<filename>/etc/skel</filename> est utilisé par le programme
<filename>/usr/sbin/useradd</filename>.</para>

<para>Pour plus d'informations, voir <filename>man useradd</filename>.</para>

<para>Pour commencer, créez un répertoire <filename>/etc/skel</filename>. Créer
ce répertoire en tant que root est la meilleure façon de le faire. Ensuite,
copiez dans <filename>/etc/skel</filename> tous les fichiers que chaque
utilisateur doit avoir dans son répertoire personnel. Voici quelques exemples:
<filename>.bash_profile</filename>, <filename>.bashrc</filename>,
<filename>.bash_logout</filename>, <filename>dircolors</filename>,
<filename>.inputrc</filename> et <filename>.vimrc</filename>.</para>

<para>Lors de la création d'un nouvel utilisateur avec
<filename>/usr/sbin/useradd</filename>, utilisez le paramètre
<userinput>-m</userinput>. Par exemple:</para>

<para><screen>[invite]#<userinput>useradd -m -s/bin/bash
jwrober</userinput></screen></para>

<para>Le programme <filename>/usr/sbin/useradd</filename> utilise un ensemble de
valeurs par défaut. Il les récupèrera à partir du fichier
<filename>/etc/default/useradd</filename> si il existe. Si le fichier n'existe
pas, alors il utilise quelques valeurs par défaut. Ils sont disponibles à
partir de <userinput>/usr/sbin/useradd -D</userinput>.</para>

<para>Pour changer ces valeurs par quelque chose de nouveau, créez un fichier de
base <filename>/etc/default/useradd</filename> avec les mêmes valeurs que celles
affichées par <userinput>/usr/sbin/useradd -D</userinput>. Voici un exemple.
</para>

<para><screen># Début /etc/default/useradd

GROUP=100
HOME=/home
INACTIVE=-1
EXPIRE=
SHELL=
SKEL=/etc/skel

# Fin /etc/default/useradd</screen></para>

<para>La seule chose manquante à ce fichier est un shell par défaut. Ajoutez-le
en lançant:</para>

<para><screen><userinput>/usr/sbin/useradd -D
-s/bin/bash</userinput></screen></para>

<para>Ceci va configurer la ligne <userinput>SHELL=</userinput> en
<userinput>SHELL=/bin/bash</userinput>. Ceci rend plus simple l'ajout de
nouveaux utilisateurs sur votre système LFS. La commande
<filename>/usr/sbin/useradd</filename> dispose de beaucoup de paramètres qui
peuvent être configuré dans le fichier
<filename>/etc/default/useradd</filename> file. Voir la page man pour plus de
détails.</para>

</sect1>
