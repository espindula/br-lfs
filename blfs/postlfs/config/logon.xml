<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;
]>

<sect1 id="postlfs-config-logon" xreflabel="Personnaliser votre écran de connexion avec /etc/issue">
  <?dbhtml filename="logon.html"?>

  <sect1info>
    <othername>$LastChangedBy: randy $</othername>
    <date>$Date: 2007-04-04 21:42:53 +0200 (mer. 04 avril 2007) $</date>
  </sect1info>

  <title>Personnaliser votre écran de connexion avec /etc/issue</title>

  <indexterm zone="postlfs-config-logon">
    <primary sortas="e-etc-issue">/etc/issue</primary>
  </indexterm>

  <para>Quand vous démarrez pour la première fois votre nouveau système LFS, votre
  écran de connexion sera tout beau et brut (comme s'il devait être un système
  squelettique. De nombreuses personnes voudront néanmoins que leur système
  affiche des informations dans le message de connexion. On peut faire cela
  en utilisant le fichier <filename>/etc/issue</filename>.</para>

  <para>Le fichier <filename>/etc/issue</filename> est un fichier en texte brut
  qui acceptera certaines séquences d'échappement (voir ci-dessous) afin
  d'insérer des informations sur le système. Il y a aussi un fichier 
  <filename>issue.net</filename> qui peut être utilisé pour les connexions à 
  distance. Toutefois, <command>ssh</command> ne l'utilisera que si vous réglez
  l'option dans le fichier de configuration et il n'interprétera
  <emphasis>pas</emphasis> les séquences d'échappement décrites ci-dessous.</para>

  <para>Une des choses les plus courantes que veulent faire les gens est de vider
  l'écran à chaque connexion. La manière la plus facile de faire cela est de
  mettre une séquence d'échappement « clear » dans <filename>/etc/issue</filename>.  
  Une façon  simple de faire cela est d'exécuter la commande
  <command>clear &gt; /etc/issue</command>.  Ceci insérera
  le mode d'échappement adéquat au début du fichier
  <filename>/etc/issue</filename>. Remarquez que si vous faites cela, quand
  vous éditerez le fichier, vous devriez laisser les caractères (normalement
  '^[[H^[[2J') seuls sur la première ligne.</para>

  <note><para>Les séquences du terminal sont des codes spéciaux reconnus par
  le terminal.  ^[ représente un caractère d'échappement ASCII.  La séquence 
  ESC [ H met le curseur dans le coin tout en haut à gauche de l'écran et ESC 2 J
  vide l'écran. Pour plus d'informations sur les séquences d'échappement du
  terminal, voir <ulink url='http://rtfm.etla.org/xterm/ctlseq.html'/></para></note>

  <para>Les séquences suivantes sont reconnues par <command>agetty</command>
  (le programme qui analyse en général <filename>/etc/issue</filename>).  Ces
  information proviennent de <command>man agetty</command> où vous pouvez
  trouver des informations supplémentaires sur le processus de connexion.</para>

  <para>Le fichier <filename>issue</filename> file peut contenir certaines
  séquences de caractères pour afficher diverses informations.  Toutes les
  séquences <filename>issue</filename> consistent dans une barre oblique
  inversée (\) suivie immédiatement d'une des lettres expliquées ci-dessous
  (donc <option>\d</option> dans <filename>/etc/issue</filename> insérait
  la date actuelle).</para>

<screen><literal>b      Insérer la vitesse en bauds de la ligne actuelle.
d      Insérer la date actuelle.
s      Insérer le nom du système, le nom du système d'exploitation.
l      Insérer le nom de la ligne tty actuelle.
m      Insérer l'identifiant de l'architecture de la machine, par exemple i486.
n      Insérer le nom de noeud, ou nom d'hôte, de la machine.
o      Insérer le nom de domaine NIS de la machine.
r      Insérer le numéro de version de l'OS, par exemple 2.6.11.12.
t      Insérer l'heure actuelle.
u      Insérer le nombre d'utilisateurs actuellement connectés.
U      Insérer la chaîne « 1 user » (1 utilisateur) ou "&lt;n&gt; users" où &lt;n&gt; est le nombre d'utilisateur actuellement connectés.
v      Insérer  la version de l'OS, par exemple sa date de construction etc.</literal></screen>

</sect1>
