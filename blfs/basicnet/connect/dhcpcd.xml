<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN"
   "http://www.oasis-open.org/docbook/xml/4.3/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

  <!ENTITY dhcpcd-download-http "http://www.phystech.com/ftp/dhcpcd-&dhcpcd-version;.tar.gz">
  <!ENTITY dhcpcd-download-ftp  "ftp://ftp.phystech.com/pub/dhcpcd-&dhcpcd-version;.tar.gz">
  <!ENTITY dhcpcd-md5sum        "dd627a121e43835bead3ffef5b1a72fd">
  <!ENTITY dhcpcd-size          "145 KB">
  <!ENTITY dhcpcd-buildsize     "944 KB">
  <!ENTITY dhcpcd-time          "0.04 SBU">
]>

<sect1 id="dhcpcd" xreflabel="dhcpcd-&dhcpcd-version;">
<sect1info>
<othername>$LastChangedBy: randy $</othername>
<date>$Date: 2008-11-16 21:28:00 $</date>
</sect1info>
<?dbhtml filename="dhcpcd.html"?>
<title>dhcpcd-&dhcpcd-version;</title>
<indexterm zone="dhcpcd">
<primary sortas="a-Dhcpcd">Dhcpcd</primary></indexterm>

<sect2>
<title>Introduction à <application>dhcpcd</application></title>

<para>Le paquetage <application>dhcpcd</application> contient le client
<command>dhcpcd</command>. Il est utile pour connecter votre ordinateur à un
réseau qui utilise <acronym>DHCP</acronym> pour affecter les adresses réseau.
</para>

<sect3><title>Informations sur le paquetage</title>
<itemizedlist spacing='compact'>
<listitem><para>Téléchargement (HTTP)&nbsp;: <ulink
url="&dhcpcd-download-http;"/></para></listitem>
<listitem><para>Téléchargement (FTP)&nbsp;: <ulink
url="&dhcpcd-download-ftp;"/></para></listitem>
<listitem><para>Téléchargement de la somme MD5&nbsp;: &dhcpcd-md5sum;</para></listitem>
<listitem><para>Taille du téléchargement&nbsp;:&dhcpcd-size;</para></listitem>
<listitem><para>Estimation de l'espace disque requis&nbsp;:
&dhcpcd-buildsize;</para></listitem>
<listitem><para>Estimation du temps de construction&nbsp;:
&dhcpcd-time;</para></listitem></itemizedlist>
</sect3>

<sect3><title>Téléchargements supplémentaires</title>
<itemizedlist spacing='compact'>
<listitem><para>Correctif requis&nbsp;: 
<ulink url="&patch-root;/dhcpcd-&dhcpcd-version;-fhs-1.patch"/></para>
</listitem>
</itemizedlist>
</sect3>

</sect2>

<sect2>
<title>Installation de <application>dhcpcd</application></title>

<para>Installez <application>dhcpcd</application> en exécutant les commandes
suivantes&nbsp;:</para>

<screen><userinput><command>patch -Np1 -i ../dhcpcd-&dhcpcd-version;-fhs-1.patch &amp;&amp;
./configure --prefix="" --sysconfdir=/var/lib \
--mandir=/usr/share/man &amp;&amp;
make</command></userinput></screen>

<para>Maintenant, en tant qu'utilisateur root&nbsp;:</para>

<screen><userinput role='root'><command>make install</command></userinput></screen>

</sect2>

<sect2>
<title>Explications des commandes</title>

<para><command>patch -Np1 -i ../dhcpcd-&dhcpcd-version;-fhs-1.patch</command>&nbsp;:
<application>dhcpcd</application>, non corrigé, place tous les fichiers de
configuration et les fichiers temporaires dans <filename
class='directory'>/etc/dhcpc</filename>. Ceci devient très ennuyant quand
<application>dhcpcd</application> vous indique qu'il fonctionne alors que ce
n'est pas le cas. Vous recherchez dans <filename
class="directory">/var/run</filename> le fichier <filename>PID</filename> mais
il ne s'y trouve pas. Le fichier <filename>PID</filename> qui doit être supprimé
est dans <filename class="directory">/etc/dhcpc</filename>. Ce correctif place
ce fichier en concordance avec <acronym>FHS</acronym> mais, plus important, place
les fichiers où vous vous attendez les trouver.</para>

<para><parameter>--prefix=""</parameter>&nbsp;: ceci pourrait être une bonne
raison pour abandonner la convention <acronym>BLFS</acronym> habituelle qui est
d'utiliser ici <parameter>--prefix=/usr</parameter>. Si vous installez
<acronym>DHCP</acronym>, il est probable qu'il sera requis lors du démarrage
alors que <filename class="directory">/usr</filename> pourrait être montée via
le réseau... auquel cas <command>dhcpcd</command> ne serait pas disponible à
cause de sa présence sur le réseau&nbsp;! Du coup, suivant votre situation,
vous pourriez souhaiter l'installer dans <filename
class="directory">/sbin</filename> ou dans <filename
class="directory">/usr/sbin</filename>. Cette commande l'installe dans
<filename class="directory">/sbin</filename>.</para>

<para><parameter>--sysconfdir=/var/lib</parameter>&nbsp;: cette commande installe
les fichiers de configuration dans le répertoire <filename
class="directory">/var/lib</filename>.</para>

<para><parameter>--mandir=/usr/share/man</parameter>&nbsp;: cette commande
installe les pages man dans le répertoire <filename
class="directory">/usr/share/man</filename>.</para>

</sect2>

<sect2>
<title>Configurer <application>dhcpcd</application></title>

<sect3 id="dhcpcd-config"><title>Fichiers de configuration</title>
<para><filename>/var/lib/dhcpc/*</filename></para>
<indexterm zone="dhcpcd dhcpcd-config">
<primary sortas="e-var-lib-dhcpc">/var/lib/dhcpc/*</primary></indexterm>
</sect3>

<sect3 id="dhcpcd-init"><title>Informations de configuration</title>

<para>Pour configurer <command>dhcpcd</command>, vous avez tout d'abord besoin
d'installer le script du service réseau,
<filename>/etc/sysconfig/network-devices/services/dhcpcd</filename> inclus dans
le paquetage <xref linkend="intro-important-bootscripts"/> (comme utilisateur
root).</para>
<indexterm zone="dhcpcd dhcpcd-init">
<primary sortas="f-dhcpcd">dhcpcd (script du service)</primary></indexterm>

<screen><userinput role='root'><command>make install-service-dhcpcd</command></userinput></screen>

<para id="dhcpcd-config2">Enfin, en tant qu'utilisateur root, créez le fichier
de configuration
<filename>/etc/sysconfig/network-devices/ifconfig.eth0/dhcpcd</filename> en
utilisant les commandes suivantes. Ajustez de façon approprié les interfaces
supplémentaires.</para>
<indexterm zone="dhcpcd dhcpcd-config2">
<primary sortas="e-etc-sysconfig-dhcpcd">/etc/sysconfig/.../dhcpcd</primary></indexterm>

<screen><userinput role='root'><command>install -d /etc/sysconfig/network-devices/ifconfig.eth0 &amp;&amp;
cat &gt; /etc/sysconfig/network-devices/ifconfig.eth0/dhcpcd &lt;&lt; "EOF"</command>
ONBOOT="yes"
SERVICE="dhcpcd"
DHCP_START="<replaceable>[insert appropriate start options here]</replaceable>"
DHCP_STOP="-k <replaceable>[insert additional stop options here]</replaceable>"

# Initialisez PRINTIP="yes" pour que le script affiche
# l'adresse IP affectée par le script
PRINTIP="no"

# Initialisez PRINTALL="yes" pour afficher les valeurs DHCP affectées pour
# IP, SM, DG et le premier NS. Ceci requiert PRINTIP="yes".
PRINTALL="no"
<command>EOF</command></userinput></screen>

<para>Pour plus d'informations sur les valeurs appropriées de
<envar>DHCP_START</envar> et <envar>DHCP_STOP</envar>, examinez la page man pour
<command>dhcpcd</command>.</para>

<note><para id="dhcpcd-config3">Le comportement par défaut de
<command>dhcpcd</command> est d'écraser (après avoir fait une sauvegarde) 
<filename>/etc/resolv.conf</filename>, <filename>/etc/yp.conf</filename> et
<filename>/etc/ntp.conf</filename> avec de nouveaux fichiers contenant les
informations provenant du serveur <acronym>DHCP</acronym>. Si cela n'est pas
souhaitable, revisitez la page man de <command>dhcpcd</command> pour connaître
les commutateurs à ajouter à la valeur <envar>DHCP_START</envar>.</para></note>
<indexterm zone="dhcpcd dhcpcd-config3">
<primary sortas="e-etc-resolv.conf">/etc/resolv.conf</primary></indexterm>
<indexterm zone="dhcpcd dhcpcd-config3">
<primary sortas="e-etc-yp.conf">/etc/yp.conf</primary></indexterm>
<indexterm zone="dhcpcd dhcpcd-config3">
<primary sortas="e-etc-ntp.conf">/etc/ntp.conf</primary></indexterm>

</sect3>

</sect2>

<sect2>
<title>Contenu</title>

<segmentedlist>
<segtitle>Programme installé</segtitle>
<segtitle>Bibliothèques installées</segtitle>
<segtitle>Répertoires installés</segtitle>

<seglistitem>
<seg>dhcpcd</seg>
<seg>None</seg>
<seg>/var/lib/dhcpc</seg>
</seglistitem>
</segmentedlist>

<variablelist>
<bridgehead renderas="sect3">Descriptions courtes</bridgehead>
<?dbfo list-presentation="list"?>

<varlistentry id="dhcpcd-prog">
<term><command>dhcpcd</command></term>
<listitem><para>est une implémentation du client <acronym>DHCP</acronym>
spécifiée dans <acronym>RFC</acronym>2131 et <acronym>RFC</acronym>1541 
(suivant les options données).</para>
<indexterm zone="dhcpcd dhcpcd-prog">
<primary sortas="b-dhcpcd">dhcpcd</primary>
</indexterm></listitem>
</varlistentry>
</variablelist>

</sect2>

</sect1>

