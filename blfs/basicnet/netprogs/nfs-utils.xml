<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN"
   "http://www.oasis-open.org/docbook/xml/4.3/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

  <!ENTITY nfs-utils-download-http "http://ftp.kernel.org/pub/linux/utils/nfs/nfs-utils-&nfs-utils-version;.tar.gz">
  <!ENTITY nfs-utils-download-ftp  "ftp://ftp.kernel.org/pub/linux/utils/nfs/nfs-utils-&nfs-utils-version;.tar.gz">
  <!ENTITY nfs-utils-md5sum        "f17e9983457e1cf61c37f0be4493fce6">
  <!ENTITY nfs-utils-size          "260 Kio">
  <!ENTITY nfs-utils-buildsize     "4.1 Mio">
  <!ENTITY nfs-utils-time          "0.9 SBU">
]>

<sect1 id="nfs-utils" xreflabel="NFS Utilities-&nfs-utils-version;">
<sect1info>
<othername>$LastChangedBy: randy $</othername>
<date>$Date: 2005-06-15 06:23:55 $</date>
</sect1info>
<?dbhtml filename="nfs-utils.html"?>
<title>NFS Utilities-&nfs-utils-version;</title>

<sect2>
<title>Introduction to <application>nfs-utils</application></title>

<para>The <application>nfs-utils</application> paquet contains the userspace 
server and client tools necessary to use the kernel's nfs-abilities. 
<acronym>NFS</acronym> is a protocol that allows sharing file systems over the 
network.</para>

<sect3><title>Package information</title>
<itemizedlist spacing='compact'>
<listitem><para>Download (HTTP): <ulink
url="&nfs-utils-download-http;"/></para></listitem>
<listitem><para>Download (FTP): <ulink
url="&nfs-utils-download-ftp;"/></para></listitem>
<listitem><para>Download MD5 sum: &nfs-utils-md5sum;</para></listitem>
<listitem><para>Download size: &nfs-utils-size;</para></listitem>
<listitem><para>Estimated disk space required:
&nfs-utils-buildsize;</para></listitem>
<listitem><para>Estimated build time:
&nfs-utils-time;</para></listitem></itemizedlist>
</sect3>

<sect3><title><application>nfs-utils</application> dependencies</title>
<sect4><title>Required</title>
<para><xref linkend="portmap"/></para>
</sect4>
</sect3>

</sect2>

<sect2>
<title>Kernel Configuration</title>

<para>Enable the following options in the kernel configuration
and recompile the kernel if neccessary:</para>

<screen>File systems:
  Network File Systems:
    NFS File System Support: M or Y
    NFS Server Support: M or Y</screen>

<para>Select the appropriate sub-options that appear when the above options
are selected.</para>

</sect2>

<sect2>
<title>Installation of nfs-utils</title>

<para>Before you compile the program, you need to be sure the "nobody"
user and "nogroup" group are available. You can add these with the
following commands:</para>

<screen><userinput><command>groupadd -g 65534 nogroup &amp;&amp;
useradd -c nobody -d /home -g nogroup -s /bin/bash -u 65534 nobody</command></userinput></screen>

<para>Install nfs-utils by running the following commands:</para>

<para><screen><userinput><command>./configure --prefix=/usr --sysconfdir=/etc &amp;&amp;
make &amp;&amp;
make install</command></userinput></screen></para>

<note><para>If your <filename>/usr</filename> directory is NFS mounted,
you should install the executables in <filename>/sbin</filename> by passing
an additional parameter <command>--sbindir=/sbin</command> to the above
<command>./configure</command> command.</para></note>

</sect2>

<sect2>
<title>Configuring nfs-utils</title>

<sect3><title>Server Configutation</title>

<para><filename>/etc/exports</filename> contains the exported directories on 
<acronym>NFS</acronym> servers. Refer to the exports manual page for the 
syntax of this file. Also refer to the <acronym>NFS</acronym> HowTo available 
at <ulink url="http://nfs.sourceforge.net/nfs-howto/"/> on how to configure 
the servers and clients in a secure manner. For example, for sharing the
<filename>/home</filename> directory over the local network, the following 
line may be added:</para>

<screen><userinput>/home 192.168.0.0/255.255.0.0(rw)</userinput></screen>

<para>Install the <filename>/etc/rc.d/init.d/nfs-server</filename>
init script included in the
<xref linkend="intro-important-bootscripts"/> paquet to start
the server at boot.</para>

<screen><userinput><command>make install-nfs-server</command></userinput></screen>

<para>Now create the <filename>/etc/sysconfig/nfs-server</filename> 
configuration file:</para>

<screen><userinput><command>cat &gt; /etc/sysconfig/nfs-server &lt;&lt; "EOF"</command>
PORT="2049"
PROCESSES="8"
QUOTAS="no"
KILLDELAY="10"
<command>EOF</command></userinput></screen>

</sect3>

<sect3><title>Client Configutation</title>

<para><filename>/etc/fstab</filename> contains the directories that are to be 
mounted on the client. Alternately the partitions can be mounted by using the 
<command>mount</command> command with the proper options. To mount the 
<filename>/home</filename> partition, add the following to the 
<filename>/etc/fstab</filename>:</para>

<screen><userinput>&lt;server-name&gt;:/home /home nfs rw 0 0</userinput></screen>

<para>Install the <filename>/etc/rc.d/init.d/nfs-client</filename>
init script included in the
<xref linkend="intro-important-bootscripts"/> paquet to 
start the client services at boot.</para>

<screen><userinput><command>make install-nfs-client</command></userinput></screen>

</sect3>

</sect2>

<sect2>
<title>Contents</title>

<para>The nfs-utils paquet contains 
<command>getiversion</command>,
<command>getkversion</command>,
<command>locktest</command>,
<command>nlmtest</command>,
<command>rpcdebug</command>,
<command>rpcgen</command>,
<command>exportfs</command>,
<command>lockd</command>,
<command>mountd</command>,
<command>nfsd</command>,
<command>nfsstat</command>,
<command>nhfsstone</command>,
<command>rquotad</command>,
<command>showmount</command>,
<command>statd</command> </para>

</sect2>

<sect2><title>Description</title>

<sect3><title>getiversion</title><para>No description available.</para></sect3>
<sect3><title>getkversion</title><para>No description available.</para></sect3>
<sect3><title>locktest</title><para>No description available.</para></sect3>
<sect3><title>nlmtest</title><para>No description available.</para></sect3>
<sect3><title>rpcdebug</title><para>No description available.</para></sect3>
<sect3><title>rpcgen</title><para>No description available.</para></sect3>
<sect3><title>exportfs</title><para><command>exportfs</command>
maintains a list of <acronym>NFS</acronym> exported directories.</para></sect3>
<sect3><title>lockd</title><para><command>lockd</command>
is the <acronym>NFS</acronym> lock manager.</para></sect3>
<sect3><title>mountd</title><para><command>mountd</command>
is the <acronym>NFS</acronym> mount daemon which checks 
client-permissions.</para></sect3>
<sect3><title>nfsd</title><para><command>nfsd</command>
is the user-space daemon of the <acronym>NFS</acronym> service.</para></sect3>
<sect3><title>nfsstat</title><para><command>nfsstat</command>
prints <acronym>NFS</acronym> statistics.</para></sect3>
<sect3><title>nhfsstone</title><para><command>nhfsstone</command>
is the <acronym>NFS</acronym> benchmark program.</para></sect3>
<sect3><title>rquotad</title><para><command>rquotad</command>
is the remote quota server communicating with the
<command>quota</command> client.</para></sect3>
<sect3><title>showmount</title><para><command>showmount</command>
shows mount information for an <acronym>NFS</acronym> server.</para></sect3>
<sect3><title>statd</title><para><command>statd</command>
is the <acronym>NFS</acronym> status monitor which implements the
<acronym>NSM</acronym> (Network Status Monitor) <acronym>RPC</acronym> protocol.
</para></sect3>

</sect2>

</sect1>

