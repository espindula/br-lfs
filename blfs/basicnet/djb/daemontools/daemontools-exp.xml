<sect2>
<title>Explications des commandes</title>

<para>La première chose à comprendre pour l'installation de n'importe
quel package écrit par Daniel J. Bernstein, et ceci inclut qmail,
djbdns et ucspi-tcp, est qu'il veux ignorer les standards si son
idée de la bonne façon de faire diffère d'un standard particulier.
Le professeur Bernstein est un standard en lui-même quand cela touche
son propre logiciel.</para>

<para>Il est donc nécessaire de faire quelques modifications de façon
à ce que ce soit compatible avec le FHS (Filesystem Hierarchy Standard,
ou Standard de la structure du système de fichiers). La plupart des
commandes suivantes est dûe à cette difficulté.</para>

<para><userinput>cd admin/daemontools-0.76</userinput> : Tout d'abord,
le package est déballé dans un répertoire "admin". Vous trouverez les
packages actuels à deux niveaux de répertoire en dessous de ceci.</para>

<para><userinput>package/compile</userinput> : Cette commande compile le
code source et installe les binaires dans une répertoire command.</para>

<para>Comme nous installons les binaires dans /usr/sbin au lieu de créer un
répertoire /command non standard, plusieurs chemins doivent être
modifiés:</para>
<para><screen><userinput>sed 's|command|usr/sbin|' boot.inittab &gt; boot.inittab~</userinput>
<userinput>mv boot.inittab~ boot.inittab</userinput></screen></para>
<para>Dans boot.inittab, /command/svscanboot est modifié par
/usr/sbin/svscanboot.</para>

<para><screen><userinput>sed -e 's|/command:/usr/local/bin:/usr/local/sbin:||' \</userinput>
<userinput>    -e 's|command|usr/sbin|' \</userinput>
<userinput>    -e 's|/service|/etc/service|g' svscanboot &gt; svscanboot~ &amp;&amp;</userinput></screen></para>
<para>Ici, différents chemins sont ajustés dans le script svscanboot. Dans notre
configuration, svscan vérifiera le répertoire /etc/service au lieu de /service
pour les démons à lancer.</para>

<para><userinput>cp * /usr/sbin</userinput> : Nous devons copier manuellement
les binaires dans le répertoire /usr/sbin.</para>

<para><screen><userinput>cat /etc/inittab boot.inittab &gt; /etc/inittab~</userinput>
<userinput>mv -f /etc/inittab~ /etc/inittab</userinput></screen>
Ces commandes ajoutent une ligne dans /etc/inittab de façon à ce que
init démarre le prgramme svscanboot.</para>

<para><userinput>mkdir /etc/service</userinput> : Cette commande crée le
répertoire de contrôle des daemontools, qui, même vide, doit exister pour que
les daemonstools puissent fonctionner correctement.</para>

<para><userinput>telinit Q</userinput> : Cette commande demande au processus
init de relire son fichier de configuration (inittab) et d'agir selon les
changements qui y ont été apportés.</para>

</sect2>

