<sect2>
<title>Explications des commandes</title>

<para>La première chose à comprendre pour l'installation de n'importe quel
package écrit par Daniel J. Bernstein, et ceci inclut
<application>qmail</application>, <application>djbdns</application> et
<application>ucspi-tcp</application> en plus de
<application>daemontools</application>, est qu'il veux ignorer les standards si
son idée de la bonne façon de faire diffère d'un standard particulier. Le
professeur Bernstein est un standard en lui-même quand cela touche son propre
logiciel.</para>

<para>Il est donc nécessaire de faire quelques modifications de façon à ce que
ce soit compatible avec le <acronym>FHS</acronym> (Filesystem Hierarchy
Standard, ou Standard de la structure du système de fichiers). La plupart des
commandes suivantes est dûe à cette difficulté.</para>

<para><command>cd admin/daemontools-0.76</command>&nbsp;: Tout d'abord,
le package est déballé dans un répertoire <filename>admin</filename>. Vous
trouverez les packages actuels à deux niveaux de répertoire en dessous de ceci.
</para>

<para><command>package/compile</command>&nbsp;: Cette commande compile le
code source et prépare les binaires.</para>

<para>Comme nous installons les binaires dans <filename>/usr/sbin</filename> au
lieu de créer un répertoire <filename>/command</filename> non standard,
plusieurs chemins doivent être modifiés&nbsp;:</para>

<screen><command>sed 's|command|usr/sbin|' boot.inittab &gt; boot.inittab~
mv boot.inittab~ boot.inittab</command></screen>

<para>Dans <filename>boot.inittab</filename>,
<filename>/command/svscanboot</filename> est modifié par
<filename>/usr/sbin/svscanboot</filename>.</para>

<screen><command>sed -e 's|/command:/usr/local/bin:/usr/local/sbin:||' \
    -e 's|command|usr/sbin|' \
    -e 's|/service|/etc/service|g' svscanboot &gt; svscanboot~ &amp;&amp;</command></screen>
<para>Ici, différents chemins sont ajustés dans le script
<command>svscanboot</command>. Dans notre configuration,
<command>svscan</command> vérifiera le répertoire
<filename>/etc/service</filename> au lieu de <filename>/service</filename> pour
les démons à lancer.</para>

<para><command>cp * /usr/sbin</command>&nbsp;: Nous devons copier manuellement
les binaires dans le répertoire <filename>/usr/sbin</filename>.</para>

<para><screen><command>cat /etc/inittab boot.inittab &gt; /etc/inittab~
mv -f /etc/inittab~ /etc/inittab</command></screen>

Ces commandes ajoutent une ligne dans <filename>/etc/inittab</filename> de façon
à ce que <command>init</command> démarre le programme
<command>svscanboot</command>.</para>

<para><command>mkdir /etc/service</command>&nbsp;: Cette commande crée le
répertoire de contrôle des <application>daemontools</application>, qui, même
vide, doit exister pour que les <application>daemontools</application> puissent
fonctionner correctement.</para>

<para><command>telinit Q</command>&nbsp;: Cette commande demande au processus
<command>init</command> de relire son fichier de configuration
(<filename>inittab</filename>) et d'agir selon les changements qui y ont été
apportés. Le script <command>svscanboot</command> est lancé.</para>

</sect2>

