<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

  <!ENTITY fontconfig-download-http "http://fontconfig.org/release/fontconfig-&fontconfig-version;.tar.gz">
  <!ENTITY fontconfig-download-ftp  "&gentoo-ftp-repo;/fontconfig-&fontconfig-version;.tar.gz">
  <!ENTITY fontconfig-md5sum        "77e15a92006ddc2adbb06f840d591c0e">
  <!ENTITY fontconfig-size          "1.5 Mio">
  <!ENTITY fontconfig-buildsize     "17.1 Mio">
  <!ENTITY fontconfig-time          "0.2 SBU">
]>

<sect1 id="fontconfig" xreflabel="Fontconfig-&fontconfig-version;">
  <?dbhtml filename="fontconfig.html"?>

  <sect1info>
    <othername>$LastChangedBy: bdubbs $</othername>
    <date>$Date: 2010-02-21 21:19:57 +0100 (dim 21 fév 2010) $</date>
  </sect1info>

  <title>Fontconfig-&fontconfig-version;</title>

  <indexterm zone="fontconfig">
    <primary sortas="a-Fontconfig">Fontconfig</primary>
  </indexterm>

  <sect2 role="package">
    <title>Introduction à Fontconfig</title>

    <para>Le paquet <application>Fontconfig</application> est une bibliothèque
    pour configurer et personnaliser l'accès aux polices.</para>

    &lfs70_checked;

    <bridgehead renderas="sect3">Informations sur le paquet</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>Téléchargement (HTTP)&nbsp;: <ulink url="&fontconfig-download-http;"/></para>
      </listitem>
      <listitem>
        <para>Téléchargement (FTP)&nbsp;: <ulink url="&fontconfig-download-ftp;"/></para>
      </listitem>
      <listitem>
        <para>Somme de contrôle MD5 du téléchargement&nbsp;: &fontconfig-md5sum;</para>
      </listitem>
      <listitem>
        <para>Taille du téléchargement&nbsp;: &fontconfig-size;</para>
      </listitem>
      <listitem>
        <para>Estimation de l'espace disque requis&nbsp;: &fontconfig-buildsize;</para>
      </listitem>
      <listitem>
        <para>Estimation du temps de construction&nbsp;: &fontconfig-time;</para>
      </listitem>
    </itemizedlist>

    <note>
      <para>Le système de numérotation de <application>Fontconfig</application> est
      peu courant. Les versions beta du paquet sont numérotées par 9x
      dans la dernière partie du numéro de version. Cela signifie que la
      version 2.6.92 est une version beta et que la plupart des versions
      actuelles sont sous la forme de &fontconfig-version;</para>
    </note>

    <bridgehead renderas="sect3">Dépendances de Fontconfig</bridgehead>

    <bridgehead renderas="sect4">Requises</bridgehead>
    <para role="required"><xref linkend="freetype2"/> et either
    <xref linkend="expat"/> or <xref linkend="libxml2"/> <!-- (requires
    <xref linkend="pkgconfig"/>) --> </para>

    <bridgehead renderas="sect4">Facultatives</bridgehead>
    <para role="optional"><xref linkend="docbook-utils"/></para>

    <note>
      <para>Si vous avez installé <application>DocBook-utils</application> et si
      vous supprimez le paramètre <parameter>--disable-docs</parameter> de
      la commande <command>configure</command> ci-dessous, vous devez aussi avoir
      installé <xref linkend="perl-sgmlspm"/> et <xref linkend="jadetex"/>,
      sinon la construction de <application>Fontconfig</application> échouera.</para>
    </note>

    <para condition="html" role="usernotes">Notes utilisateur&nbsp;:
    <ulink url='&blfs-wiki;/Fontconfig'/></para>

  </sect2>

  <sect2 role="installation">
    <title>Installation de Fontconfig</title>

    <para>Installez <application>Fontconfig</application> en lançant les commandes
    suivantes&nbsp;:</para>

<screen><userinput>./configure --prefix=/usr \
            --sysconfdir=/etc \
            --localstatedir=/var \
            --disable-docs \
            --without-add-fonts \
            --docdir=/usr/share/doc/fontconfig-&fontconfig-version; &amp;&amp;
make</userinput></screen>

    <para>Pour tester les résultats, lancez&nbsp;: <command>make check</command>.</para>

    <para>Maintenant, en tant qu'utilisateur <systemitem class="username">root</systemitem>&nbsp;:</para>

<screen role="root"><userinput>make install</userinput></screen>

    <para>Si vous n'avez pas enlevé le paramètre <parameter>--disable-docs</parameter>
    de la commande <command>configure</command>, vous pouvez installer la
    documentation prégénérée en utilisant les commandes suivantes en tant
    qu'utilisateur <systemitem class="username">root</systemitem>&nbsp;:</para>

<screen role="root"><userinput>install -v -m755 \
    -d /usr/share/{man/man{3,5},doc/fontconfig-&fontconfig-version;/fontconfig-devel} &amp;&amp;
install -v -m644 fc-*/*.1          /usr/share/man/man1 &amp;&amp;
install -v -m644 doc/*.3           /usr/share/man/man3 &amp;&amp;
install -v -m644 doc/fonts-conf.5  /usr/share/man/man5 &amp;&amp;
install -v -m644 doc/fontconfig-devel/* \
    /usr/share/doc/fontconfig-&fontconfig-version;/fontconfig-devel &amp;&amp;
install -v -m644 doc/*.{pdf,sgml,txt,html} \
    /usr/share/doc/fontconfig-&fontconfig-version;</userinput></screen>

  </sect2>

  <sect2 role="commands">
    <title>Explication des commandes</title>

    <para><parameter>--localstatedir=/var</parameter>&nbsp;: Ce paramètre met
    les fichiers cache de polices du szstème dans <filename
    class='directory'>/var/cache/fontconfig</filename>.</para>

    <para><parameter>--without-add-fonts</parameter>&nbsp;: Ce paramètre désactive
    la recherche automatique des polices du système X Window car si
    elles sont trouvées, cela peut perturber certaines applications.</para>

    <para><parameter>--disable-docs</parameter>&nbsp;: Ce paramètre évite de construire
    la documentation (l'archive tar inclut la
    documentation pré-générée).</para>

    <para><parameter>--with-docdir=/usr/share/doc/fontconfig-&fontconfig-version;</parameter>&nbsp;:
    Bien que ce paramètre semble contradictoire avec le précédent paramètre
    de la commande <command>configure</command>, il est utilisé pour que,
    si le compilateur supprime le paramètre <parameter>--disable-docs</parameter>,
    la documentation soit installée dans un répertoire nommé en fonction 
    de la version plutôt que dans le <filename class='directory'>/usr/share/doc/fontconfig</filename>
    par défaut.</para>

  </sect2>

  <sect2 role="configuration">
    <title>Configuration de Fontconfig</title>

    <sect3 id="fontconfig-config">
      <title>Fichiers de configuration</title>

      <para><filename>/etc/fonts/*, /etc/fonts/conf.avail/*, et
      /etc/fonts/conf.d/*</filename></para>

      <indexterm zone="fontconfig fontconfig-config">
        <primary sortas="e-etc-fonts">/etc/fonts/*</primary>
      </indexterm>

      <indexterm zone="fontconfig fontconfig-config">
        <primary sortas="e-etc-fonts-conf.d">/etc/fonts/conf.d/*</primary>
      </indexterm>

      <indexterm zone="fontconfig fontconfig-config">
        <primary sortas="e-etc-fonts-conf.avail">/etc/fonts/conf.avail/*</primary>
      </indexterm>

    </sect3>

    <sect3>
      <title>Informations de configuration</title>

      <para>Le fichier de configuration principal de 
      <application>Fontconfig</application> est
      <filename>/etc/fonts/fonts.conf</filename>. En général vous ne
      voulez pas éditer ce fichier. Il lira aussi 
      <filename>/etc/fonts/local.conf</filename> et tous les
      fichiers de <filename class='directory'>/etc/fonts/conf.d</filename>. Pour
      mettre un nouveau répertoire de polices dans la
      configuration, créez  (ou mettez à jour) le fichier
      <filename>/etc/fonts/local.conf</filename> avec vos
      informations locales ou ajoutez un nouveau fichier dans
      <filename class='directory'>/etc/fonts/conf.d</filename>. L'emplacement
      par défaut des polices dans <application>Fontconfig</application> est&nbsp;:</para>

      <itemizedlist spacing='compact'>
        <listitem>
          <para>/usr/share/fonts</para>
        </listitem>
        <listitem>
          <para>~/.fonts</para>
        </listitem>
      </itemizedlist>

      <para><application>Fontconfig</application> offre aussi beaucoup
      d'exemples de fichiers de configuration dans le répertoire
      <filename
      class='directory'>/etc/fonts/conf.avail</filename>.
      La création de liens symboliques vers les fichiers spécifiques à partir de
      <filename class='directory'>/etc/fonts/conf.d</filename> les
      activera. Le paramétrage par défaut convient généralement à la plupart des
      utilisateurs. Voir <filename>/etc/fonts/conf.avail/README</filename> pour
      une description des fichiers de configuration.</para>

      <indexterm zone="fontconfig fontconfig-config">
        <primary sortas="g-usr-share-fonts">/usr/share/fonts</primary>
      </indexterm>

      <indexterm zone="fontconfig fontconfig-config">
        <primary sortas="g-AA.fonts">~/.fonts</primary>
      </indexterm>

      <para>Vous pouvez trouver plus d'informations sur la configuration
      de <application>Fontconfig</application> dans le manuel de l'utilisateur
      dans <ulink
      url="file:///usr/share/doc/fontconfig-&fontconfig-version;/fontconfig-user.html"/>.
      </para>

    </sect3>

  </sect2>

  <sect2 role="content">
    <title>Contenu</title>

    <segmentedlist>
      <segtitle>Programmes installés</segtitle>
      <segtitle>Bibliothèque installée</segtitle>
      <segtitle>Répertoires installés</segtitle>

      <seglistitem>
        <seg>fc-cache, fc-cat, fc-list, fc-match, fc-query, and fc-scan</seg>
        <seg>libfontconfig.{so,a}</seg>
        <seg>/etc/fonts, /usr/include/fontconfig,
        /usr/share/doc/fontconfig-&fontconfig-version; et
        /var/cache/fontconfig</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Descriptions courtes</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="fc-cache">
        <term><command>fc-cache</command></term>
        <listitem>
          <para>est utilisé pour créer des caches d'information de polices.</para>
          <indexterm zone="fontconfig fc-cache">
            <primary sortas="b-fc-cache">fc-cache</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="fc-cat">
        <term><command>fc-cat</command></term>
        <listitem>
          <para>est utilisé pour lire des caches d'information de polices.</para>
          <indexterm zone="fontconfig fc-cat">
            <primary sortas="b-fc-cat">fc-cat</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="fc-list">
        <term><command>fc-list</command></term>
        <listitem>
          <para>est utilisé pour créer des listes de polices.</para>
          <indexterm zone="fontconfig fc-list">
            <primary sortas="b-fc-list">fc-list</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="fc-match">
        <term><command>fc-match</command></term>
        <listitem>
          <para>est utiliser pour associer des polices disponibles
          ou pour trouver des polices correspondant à un modèle donné.</para>
          <indexterm zone="fontconfig fc-match">
            <primary sortas="b-fc-match">fc-match</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="fc-query">
        <term><command>fc-query</command></term>
        <listitem>
          <para>est utilisé pour chercher les fichiers de police et afficher les
          modèles qui en résultent. 
          </para>
          <indexterm zone="fontconfig fc-query">
            <primary sortas="b-fc-query">fc-query</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="fc-scan">
        <term><command>fc-scan</command></term>
        <listitem>
          <para>est utilisé pour analyser les fichiers et les répertoires de 
          police et afficher les modèles qui en résultent.</para>
          <indexterm zone="fontconfig fc-scan">
            <primary sortas="b-fc-scan">fc-scan</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libfontconfig">
        <term><filename class='libraryfile'>libfontconfig.{so,a}</filename></term>
        <listitem>
          <para>contient des fonctions utilisées par les programmes
          <application>Fontconfig</application> et par d'autres
          programmes pour configurer ou personnaliser un accès aux polices.</para>
          <indexterm zone="fontconfig libfontconfig">
            <primary sortas="c-libfontconfig">libfontconfig.{so,a}</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
