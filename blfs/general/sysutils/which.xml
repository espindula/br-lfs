<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN"
   "http://www.oasis-open.org/docbook/xml/4.3/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

  <!ENTITY which-download-http "http://www.xs4all.nl/~carlo17/which/which-&which-version;.tar.gz">
  <!ENTITY which-download-ftp  "ftp://ftp.gnu.org/gnu/which/which-&which-version;.tar.gz">
  <!ENTITY which-md5sum        "830b83af48347a9a3520f561e47cbc9b">
  <!ENTITY which-size          "123 KB">
  <!ENTITY which-buildsize     "940 KB">
  <!ENTITY which-time          "0.03 SBU">
]>

<sect1 id="which" xreflabel="which-&which-version;">
<sect1info>
<othername>$LastChangedBy: randy $</othername>
<date>$Date: 2005-06-16 05:57:01 $</date>
</sect1info>
<?dbhtml filename="which.html"?>
<title><application>which</application>-&which-version; and alternatives</title>
<indexterm zone="which">
<primary sortas="a-Which">Which</primary></indexterm>

<para>The presence or absence of the <command>which</command> program in the 
main <acronym>LFS</acronym> book is probably one of the most contentious 
issues on the mailing lists. It has resulted in at least one flame war in the 
past. To hopefully put an end to this once and for all, presented here are two 
options for equipping your system with <command>which</command>. The question 
of which <quote><command>which</command></quote> is for you to decide.</para>

<para>The first option is to install the actual <acronym>GNU</acronym> program
<emphasis>which</emphasis>.</para>

<sect2>
<title>Introduction to <application>which</application></title>

<sect3><title>Package information</title>
<itemizedlist spacing='compact'>
<listitem><para>Download (HTTP): <ulink
url="&which-download-http;"/></para></listitem>
<listitem><para>Download (FTP): <ulink
url="&which-download-ftp;"/></para></listitem>
<listitem><para>Download MD5 sum: &which-md5sum;</para></listitem>
<listitem><para>Download size: &which-size;</para></listitem>
<listitem><para>Estimated disk space required:
&which-buildsize;</para></listitem>
<listitem><para>Estimated build time:
&which-time;</para></listitem></itemizedlist>
</sect3>

</sect2>

<sect2>
<title>Installation of <application>which</application></title>

<para>Install <application>which</application> by running the following
commands:</para>

<screen><userinput><command>./configure --prefix=/usr &amp;&amp;
make</command></userinput></screen>

<para>Now, as the root user:</para>

<screen><userinput role='root'><command>make install</command></userinput></screen>

</sect2>

<sect2>
<title>Contents</title>

<segmentedlist>
<segtitle>Installed Program</segtitle>
<segtitle>Installed Libraries</segtitle>
<segtitle>Installed Directories</segtitle>

<seglistitem>
<seg>which</seg>
<seg>None</seg>
<seg>None</seg>
</seglistitem>
</segmentedlist>

<variablelist>
<bridgehead renderas="sect3">Short Descriptions</bridgehead>
<?dbfo list-presentation="list"?>

<varlistentry id="which-prog">
<term><command>which</command></term>
<listitem><para>shows the full path of (shell) commands installed in your 
<envar>PATH</envar>.</para>
<indexterm zone="which which-prog">
<primary sortas="b-which">which</primary>
</indexterm></listitem>
</varlistentry>
</variablelist>

</sect2>

<sect2>
<title>The 'which' script</title>
<para>The second option (for those who don't want to install the program)
is to create a simple script (execute as the root user):</para>

<screen><userinput role='root'><command>cat &gt; /usr/bin/which &lt;&lt; "EOF"</command>
#!/bin/bash
type -pa "$@" | head -n 1 ; exit ${PIPESTATUS[0]}
<command>EOF
chmod 755 /usr/bin/which
chown root:root /usr/bin/which</command></userinput></screen>

<para>This should work OK and is probably the easiest solution
for most cases, but is not the most comprehensive implementation.</para>
</sect2>

</sect1>

