<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN"
   "http://www.oasis-open.org/docbook/xml/4.3/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

  <!ENTITY apache-ant-download-http "http://www.apache.org/dist/ant/source/apache-ant-&apache-ant-version;-src.tar.bz2">
  <!ENTITY apache-ant-download-ftp  "ftp://ftp.oregonstate.edu/pub/apache/ant/source/apache-ant-&apache-ant-version;-src.tar.bz2">
  <!ENTITY apache-ant-md5sum        "83c3adefdbf90bcbc4b804d4c55c0778">
  <!ENTITY apache-ant-size          "6.2 MB">
  <!ENTITY apache-ant-buildsize     "90 MB">
  <!ENTITY apache-ant-time          "0.47 SBU">
]>

<sect1 id="apache-ant" xreflabel="Apache Ant-&apache-ant-version;">
<sect1info>
<othername>$LastChangedBy: randy $</othername>
<date>$Date: 2005-07-29 07:17:28 $</date>
</sect1info>
<?dbhtml filename="apache-ant.html"?>
<title>Apache Ant-&apache-ant-version;</title>
<indexterm zone="apache-ant">
<primary sortas="a-Apache-Ant">Apache Ant</primary></indexterm>

<sect2>
<title>Introduction à <application>Apache Ant</application></title>

<para>The <application>Apache Ant</application> package is a 
<application>Java</application>-based build tool. In theory, it is kind of 
like <command>make</command>, but without <command>make</command>'s wrinkles. 
Ant is different. Instead of a model where it is extended with shell-based 
commands, Ant is extended using <application>Java</application> classes. 
Instead of writing shell commands, the configuration files are 
<acronym>XML</acronym>-based, calling out a target tree where various tasks 
get executed. Each task is run by an object that implements a particular task 
interface.</para>

<sect3><title>Informations sur le paquetage</title>
<itemizedlist spacing="compact">
<listitem><para>Téléchargement (HTTP)&nbsp;: 
<ulink url="&apache-ant-download-http;"/></para></listitem>
<listitem><para>Téléchargement (FTP)&nbsp;: 
<ulink url="&apache-ant-download-ftp;"/></para></listitem>
<listitem><para>Téléchargement de la somme MD5&nbsp;: &apache-ant-md5sum;</para></listitem>
<listitem><para>Taille du téléchargement&nbsp;:&apache-ant-size;</para></listitem>
<listitem><para>Estimation de l'espace disque requis&nbsp;: 
&apache-ant-buildsize;</para></listitem>
<listitem><para>Estimation du temps de construction&nbsp;: 
&apache-ant-time;</para></listitem></itemizedlist>
</sect3>

<sect3><title>Téléchargements supplémentaires</title>
<itemizedlist spacing="compact">
<listitem><para>Required Patch: <ulink 
url="&patch-root;/apache-ant-&apache-ant-version;-blfs_install-1.patch"/></para>
</listitem></itemizedlist>
</sect3>

<sect3><title><application>Apache Ant</application> dependencies</title>
<sect4><title>Requis</title>
<para><xref linkend="j2sdk"/></para>
</sect4>
</sect3>

</sect2>

<sect2>
<title>Installation de <application>Apache Ant</application></title>

<para>Note: you may need additional libraries to satisify the build 
requirements of various packages installed using 
<application>Apache Ant</application>. Review the table at 
<ulink url="http://ant.apache.org/manual/install.html#librarydependencies"/> 
for any prerequisite libraries you may need. One such library is the 
<application>JUnit</application> testing framework library. Many Ant-installed 
packages will use this library to perform the unit tests during the build 
process. To install the JUnit library along with the 
<application>Apache Ant</application> package, download it from 
<ulink url="http://www.junit.org/"/>, unzip the distribution file (requires 
<xref linkend="unzip"/>) and copy the <filename>junit.jar</filename> file
into the <filename class='directory'>lib</filename> subdirectory of the
<application>Apache Ant</application> source tree before beginning the 
<application>Apache Ant</application> build.</para>

<para>Install <application>Apache Ant</application> by running the following 
commands:</para>

<screen><userinput><command>patch -Np1 -i ../apache-ant-&apache-ant-version;-blfs_install-1.patch</command></userinput></screen>

<para>Maintenant, en tant qu'utilisateur root&nbsp;:</para>

<screen><userinput role='root'><command>./build.sh -Ddist.dir=/opt/ant-&apache-ant-version; dist &amp;&amp;
ln -sf /etc/ant /opt/ant-&apache-ant-version;/etc &amp;&amp;
ln -sf ant-&apache-ant-version; /opt/ant</command></userinput></screen>

</sect2>

<sect2>
<title>Explications des commandes</title>

<para><command>./build.sh -Ddist.dir=/opt/ant-&apache-ant-version; 
dist</command>: This command does everything. It builds the package, then 
installs the package into 
<filename class='directory'>/opt/ant-&apache-ant-version;</filename>.</para>

<para><command>ln -sf /etc/ant /opt/ant-&apache-ant-version;/etc</command>: 
The patch changes the configuration directory to 
<filename class='directory'>/etc/ant</filename> to conform with 
<acronym>FHS</acronym> guidelines. This command creates a symlink from the 
configuration directory back to the installation directory as the package is 
expecting to find the files there.</para>

<para><command>ln -sf ant-&apache-ant-version; /opt/ant</command>: This 
command is optional, and creates a convenience symlink.</para>

</sect2>

<sect2>
<title>Configurer <application>Apache Ant</application></title>

<sect3 id="apache-ant-config"><title>Fichiers de configuration</title>
<para><filename>/etc/ant/ant.conf</filename>, 
<filename>~/.ant/ant.conf</filename> and 
<filename>~/.antrc</filename></para>
<indexterm zone="apache-ant apache-ant-config">
<primary sortas="e-AA.ant-ant.conf">~/.ant/ant.conf</primary></indexterm>
<indexterm zone="apache-ant apache-ant-config">
<primary sortas="e-AA.antrc">~/.antrc</primary></indexterm>
<indexterm zone="apache-ant apache-ant-config">
<primary sortas="e-etc-ant-ant.conf">/etc/ant/ant.conf</primary></indexterm>
</sect3>

<sect3><title>Informations de configuration</title>
<para>Some packages will require <command>ant</command> to be in the search
path and the <envar>$ANT_HOME</envar> environment variable defined. 
Satisfy these requirements by adding the following lines to 
<filename>/etc/profile</filename> or to individual user's 
<filename>~/.profile</filename> or <filename>~/.bashrc</filename> files:</para>

<screen><userinput>export PATH=$PATH:/opt/ant/bin
export ANT_HOME=/opt/ant</userinput></screen>
</sect3>

</sect2>

<sect2>
<title>Contenu</title>

<segmentedlist>
<segtitle>Programmes installés</segtitle>
<segtitle>Bibliothèques installées</segtitle>
<segtitle>Répertoires installés</segtitle>

<seglistitem>
<seg>ant, antRun, antRun.pl, complete-ant-cmd.pl, runant.pl and runant.py</seg>
<seg>ant-*.jar, xercesImpl.jar and xml-apis.jar</seg>
<seg>/etc/ant and /opt/ant-&apache-ant-version;</seg>
</seglistitem>
</segmentedlist>

<variablelist>
<bridgehead renderas="sect3">Descriptions courtes</bridgehead>
<?dbfo list-presentation="list"?>

<varlistentry id="ant">
<term><command>ant</command></term>
<listitem><para>is a <application>Java</application> based build tool used by 
many packages instead of the conventional <command>make</command> 
program.</para>
<indexterm zone="apache-ant ant">
<primary sortas="b-ant">ant</primary>
</indexterm></listitem>
</varlistentry>

<varlistentry id="antRun">
<term><command>antRun</command></term>
<listitem><para>is a support script used to start <command>ant</command> 
build scripts in a given directory.</para>
<indexterm zone="apache-ant antRun">
<primary sortas="b-antRun">antRun</primary>
</indexterm></listitem>
</varlistentry>

<varlistentry id="antRun.pl">
<term><command>antRun.pl</command></term>
<listitem><para>is a <application>Perl</application> script that provides 
similar functionality offered by the <command>antRun</command> script.</para>
<indexterm zone="apache-ant antRun.pl">
<primary sortas="b-antRun.pl">antRun.pl</primary>
</indexterm></listitem>
</varlistentry>

<varlistentry id="complete-ant-cmd.pl">
<term><command>complete-ant-cmd.pl</command></term>
<listitem><para>is a <application>Perl</application> script that allows 
<application>Bash</application> to complete an <command>ant</command> 
command-line.</para>
<indexterm zone="apache-ant complete-ant-cmd.pl">
<primary sortas="b-complete-ant-cmd.pl">complete-ant-cmd.pl</primary>
</indexterm></listitem>
</varlistentry>

<varlistentry id="runant.pl">
<term><command>runant.pl</command></term>
<listitem><para>is a <application>Perl</application> wrapper script used to 
invoke <command>ant</command>.</para>
<indexterm zone="apache-ant runant.pl">
<primary sortas="b-runant.pl">runant.pl</primary>
</indexterm></listitem>
</varlistentry>

<varlistentry id="runant.py">
<term><command>runant.py</command></term>
<listitem><para>is a <application>Python</application> wrapper script used to 
invoke <command>ant</command>.</para>
<indexterm zone="apache-ant runant.py">
<primary sortas="b-runant.py">runant.py</primary>
</indexterm></listitem>
</varlistentry>

<varlistentry id="ant-star">
<term><filename class='libraryfile'>ant-*.jar</filename></term>
<listitem><para>files are the <application>Apache Ant</application> 
<application>Java</application> class libraries.</para>
<indexterm zone="apache-ant ant-star">
<primary sortas="c-ant-star">ant-*.jar</primary>
</indexterm></listitem>
</varlistentry>

<varlistentry id="xercesImpl">
<term><filename class='libraryfile'>xercesImpl.jar</filename></term>
<listitem><para>is a <application>Java</application> class library used by 
<application>Apache Ant</application> to perform <acronym>XML</acronym> 
parsing.</para>
<indexterm zone="apache-ant xercesImpl">
<primary sortas="c-xercesImpl">xercesImpl.jar</primary>
</indexterm></listitem>
</varlistentry>

<varlistentry id="xml-apis">
<term><filename class='libraryfile'>xml-apis.jar</filename></term>
<listitem><para>contains the <acronym>DOM</acronym> 
<application>Java</application> classes required by the 
<application>Apache Ant</application> <acronym>XML</acronym> formatter.</para>
<indexterm zone="apache-ant xml-apis">
<primary sortas="c-xml-apis">xml-apis.jar</primary>
</indexterm></listitem>
</varlistentry>

</variablelist>

</sect2>

</sect1>

