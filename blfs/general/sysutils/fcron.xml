<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

  <!ENTITY fcron-download-http "http://fcron.free.fr/archives/fcron-&fcron-version;.src.tar.gz">
  <!ENTITY fcron-download-ftp "ftp://ftp.seul.org/pub/fcron/fcron-&fcron-version;.src.tar.gz">
  <!ENTITY fcron-md5sum "69ebcb41921e2a282f41ebecb3a27053">
  <!ENTITY fcron-size "540 Kio">
  <!ENTITY fcron-buildsize "3.6 Mio">
  <!ENTITY fcron-time "0.1 SBU">
]>

<sect1 id="fcron" xreflabel="Fcron-&fcron-version;">
  <?dbhtml filename="fcron.html"?>

  <sect1info>
    <othername>$LastChangedBy: bdubbs $</othername>
    <date>$Date: 2011-11-07 22:46:54 +0100 (lun. 07 nov. 2011) $</date>
  </sect1info>

  <title>Fcron-&fcron-version;</title>

  <indexterm zone="fcron">
    <primary sortas="a-Fcron">Fcron</primary>
  </indexterm>

  <sect2 role="package">
    <title>Introduction à Fcron</title>

    <para>Le paquet <application>Fcron</application> contient un lanceur de
    commande périodique ayant pour but de remplacer <application>Vixie
    Cron</application>.</para>

    &lfs70_checked;

    <bridgehead renderas="sect3">Informations sur le paquet</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>Téléchargement (HTTP)&nbsp;: <ulink url="&fcron-download-http;"/></para>
      </listitem>
      <listitem>
        <para>Téléchargement (FTP)&nbsp;: <ulink url="&fcron-download-ftp;"/></para>
      </listitem>
      <listitem>
        <para>Somme de contrôle MD5 du téléchargement&nbsp;: &fcron-md5sum;</para>
      </listitem>
      <listitem>
        <para>Taille du téléchargement&nbsp;: &fcron-size;</para>
      </listitem>
      <listitem>
        <para>Estimation de l'espace disque requis&nbsp;: &fcron-buildsize;</para>
      </listitem>
      <listitem>
        <para>Estimation du temps de construction&nbsp;: &fcron-time;</para>
      </listitem>
    </itemizedlist>

    <bridgehead renderas="sect3">Dépendances de Fcron</bridgehead>

    <bridgehead renderas="sect4">Facultatives</bridgehead>
    <para role="optional">An <xref linkend="server-mail"/>,
    <ulink url="../postlfs/editors.html">text editor</ulink> (default is
    <command>vi</command> from the <xref linkend="vim"/> package),
    <xref linkend="linux-pam"/>,
    <xref linkend="docbook-utils"/>
    </para>

    <para condition="html" role="usernotes">Notes utilisateur&nbsp;:
    <ulink url="&blfs-wiki;/fcron"/></para>

  </sect2>

  <sect2 role="installation">
    <title>Installation de Fcron</title>

    <para id="fcron-syslog"><application>Fcron</application> utilise la
    possibilité cron de <command>syslog</command> pour enregistrer tous les
    messages. Comme LFS ne paramètre pas cette possibilité dans
    <filename>/etc/syslog.conf</filename>, on doit le faire avant d'installer
    <application>Fcron</application>. Cette commande enverra la ligne nécessaire
    au <filename>/etc/syslog.conf</filename> actuel (faites-la en tant qu'utilisateur
    <systemitem class='username'>root</systemitem>)&nbsp;:</para>

    <indexterm zone="fcron fcron-syslog">
      <primary sortas="e-etc-syslog.conf">/etc/syslog.conf</primary>
    </indexterm>

<screen role="root"><userinput>cat &gt;&gt; /etc/syslog.conf &lt;&lt; "EOF"
<literal># Début du supplément fcron à /etc/syslog.conf

cron.* -/var/log/cron.log

# Fin du supplément fcron</literal>
EOF</userinput></screen>

    <para>Le fichier de configuration a été modifié, donc le rechargement du démon
    <command>sysklogd</command> activera les modifications (de nouveau en tant
    qu'utilisateur <systemitem class='username'>root</systemitem>).</para>

<screen role="root"><userinput>/etc/rc.d/init.d/sysklogd reload</userinput></screen>

    <para>Pour des raisons de sécurité, vous devriez créer un utilisateur et un
    groupe non privilégiés pour <application>Fcron</application>. (faites
    en tant qu'utilisateur 
    <systemitem class='username'>root</systemitem>)&nbsp;:</para>

<screen role="root"><userinput>groupadd -g 22 fcron &amp;&amp;
useradd -d /dev/null -c "Fcron User" -g fcron -s /bin/false -u 22 fcron</userinput></screen>

    <para>Installez <application>Fcron</application> en lançant les commandes
    suivantes&nbsp;:</para>

<screen><userinput>./configure --prefix=/usr --sysconfdir=/etc \
    --localstatedir=/var --without-sendmail --with-boot-install=no \
    --with-dsssl-dir=/usr/share/sgml/docbook/dsssl-stylesheets-&docbook-dsssl-version; &amp;&amp;
make</userinput></screen>

    <para>Ce paquet n'est pas fourni avec une suite de tests.</para>

    <para>Maintenant, en tant qu'utilisateur <systemitem class="username">root</systemitem>&nbsp;:</para>

<screen role="root"><userinput>make install</userinput></screen>

  </sect2>

  <sect2 role="commands">
    <title>Explication des commandes</title>

    <para><parameter>--without-sendmail</parameter>&nbsp;: Par défaut,
    <application>Fcron</application> essaiera d'utiliser la commande
    <command>sendmail</command> d'un paquet <xref linkend="server-mail"/>
    pour vous envoyer par messagerie le résultat du script <command>fcron</command>.
    Ce paramètre est utilisé pour désactiver la notification par messagerie par
    défaut. Ne mettez pas ce paramètre pour activer l'option par défaut. Vous
    pouvez sinon utiliser
    <option>--with-sendmail=<replaceable>&lt;/chemin/vers/la/commande/MTA&gt;</replaceable></option> 
    pour utiliser une autre commande de messagerie..</para>

    <para><parameter>--with-boot-install=no</parameter>&nbsp;: Ceci
    empêche l'installation du script de démarrage inclu avec le paquet.</para>

    <para><option>--with-editor=<replaceable>&lt;/chemin/vers/éditeur&gt;</replaceable></option>&nbsp;:
    Ce paramètre vous permet de régler l'éditeur de texte par défaut.
    Évite un message d'avertissement selon lequel aucune feuille de style DSSSL
    n'est trouvée.</para>

  </sect2>

  <sect2 role="configuration">
    <title>Configuration de Fcron</title>

    <sect3 id="fcron-config">
      <title>Fichiers de configuration</title>

      <para><filename>/etc/fcron.conf</filename>,
      <filename>/etc/fcron.allow</filename> et
      <filename>/etc/fcron.deny</filename></para>

      <indexterm zone="fcron fcron-config">
        <primary sortas="e-etc-fcron.conf">/etc/fcron.conf</primary>
      </indexterm>

      <indexterm zone="fcron fcron-config">
        <primary sortas="e-etc-fcron.allow">/etc/fcron.allow</primary>
      </indexterm>

      <indexterm zone="fcron fcron-config">
        <primary sortas="e-etc-fcron.deny">/etc/fcron.deny</primary>
      </indexterm>

    </sect3>

    <sect3>
      <title>Informations de configuration</title>

      <para>Aucune modification n'est nécessaire dans un fichier de
      config. Vous pouvez trouver des informations de configuration dans
      la page de man de <filename>fcron.conf</filename>.</para>

      <para>Les scripts <command>fcron</command> sont écrits en utilisant
      <command>fcrontab</command>. Reportez-vous à la page de man de 
      <command>fcrontab</command> pour les paramètres adaptés à votre
      situation.</para>

      <para id="fcron-pam">Si <application>Linux-PAM</application> est installé,
      deux fichiers de configuration PAM sont installés dans
      <filename class='directory'>/etc/pam.d</filename>. Sinon, si 
      <filename class='directory'>/etc/pam.d</filename> n'est pas utilisé,
      l'installation enverra deux sections de configuration vers le fichier
      <filename>/etc/pam.conf</filename>. Vous devriez vous assurer que
      les fichiers correspondent à vos préférences. Modifiez-les comme
      il faut pour s'adapter à vos besoins.</para>

      <indexterm zone="fcron fcron-pam">
        <primary sortas="e-etc-pam.d">/etc/pam.d/*</primary>
      </indexterm>

      <indexterm zone="fcron fcron-pam">
        <primary sortas="e-etc-pam.conf">/etc/pam.conf</primary>
      </indexterm>

    </sect3>

    <sect3  id="fcron-init">
      <title>Script de démarrage</title>

      <para>Installez le script d'initialisation <filename>/etc/rc.d/init.d/fcron</filename>
      à partir du paquet <xref linkend="bootscripts"/>.</para>

      <indexterm zone="fcron fcron-init">
        <primary sortas="f-fcron">fcron</primary>
      </indexterm>

<screen role="root"><userinput>make install-fcron</userinput></screen>

    </sect3>

  </sect2>

  <sect2 role="content">
    <title>Contenu</title>

    <segmentedlist>
      <segtitle>Programmes installés</segtitle>
      <segtitle>Bibliothèques installées</segtitle>
      <segtitle>Répertoires installés</segtitle>

      <seglistitem>
        <seg>fcron, fcrondyn, fcronsighup, et fcrontab</seg>
        <seg>Aucune</seg>
        <seg>/usr/share/doc/fcron-&fcron-version; et /var/spool/fcron</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Descriptions courtes</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="fcron-prog">
        <term><command>fcron</command></term>
        <listitem>
          <para>et le démon de lancement.</para>
          <indexterm zone="fcron fcron-prog">
            <primary sortas="b-fcron">fcron</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="fcrondyn">
        <term><command>fcrondyn</command></term>
        <listitem>
          <para>est un outil utilisateur conçu pour interagir avec
          un démon <command>fcron</command> existant.</para>
          <indexterm zone="fcron fcrondyn">
            <primary sortas="b-fcrondyn">fcrondyn</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="fcronsighup">
        <term><command>fcronsighup</command></term>
        <listitem>
          <para>demande à <command>fcron</command> de relire les tables
          <application>Fcron</application>.</para>
          <indexterm zone="fcron fcronsighup">
            <primary sortas="b-fcronsighup">fcronsighup</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="fcrontab">
        <term><command>fcrontab</command></term>
        <listitem>
          <para>est un programme utilisé pour installer, éditer, lister et supprimer
          les tables utilisées par <command>fcron</command>.</para>
          <indexterm zone="fcron fcrontab">
            <primary sortas="b-fcrontab">fcrontab</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
