<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN"
   "http://www.oasis-open.org/docbook/xml/4.3/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

  <!ENTITY sysstat-download-http "http://perso.wanadoo.fr/sebastien.godard/sysstat-&sysstat-version;.tar.gz">
  <!ENTITY sysstat-download-ftp  "ftp://ftp.surfnet.nl/pub/ibiblio/system/status/sysstat-&sysstat-version;.tar.gz">
  <!ENTITY sysstat-md5sum        "51569230bf82e434919a56b0c7c411ba">
  <!ENTITY sysstat-size          "124 KB">
  <!ENTITY sysstat-buildsize     "1.2 MB">
  <!ENTITY sysstat-time          "0.12 SBU">
]>

<sect1 id="sysstat" xreflabel="Sysstat-&sysstat-version;">
<sect1info>
<othername>$LastChangedBy: dj $</othername>
<date>$Date: 2005-07-29 07:17:28 $</date>
</sect1info>
<?dbhtml filename="sysstat.html"?>
<title>Sysstat-&sysstat-version;</title>
<indexterm zone="sysstat">
<primary sortas="a-Sysstat">Sysstat</primary></indexterm>

<sect2>
<title>Introduction à <application>Sysstat</application></title>

<para>Le paquetage <application>Sysstat</application> contient des outils pour
surveiller les performances et l'activité du système.
<application>Sysstat</application> contient l'outil <command>sar</command>,
commun avec les autres Unix commerciaux, et des outils dont vous pouvez planifier
l'exécution avec cron pour récupérer et conserver un historique des données de
performance et d'activité.</para>

<sect3><title>Informations sur le paquetage</title>
<itemizedlist spacing='compact'>
<listitem><para>Téléchargement (HTTP)&nbsp;: 
<ulink url="&sysstat-download-http;"/></para></listitem>
<listitem><para>Téléchargement (FTP)&nbsp;: 
<ulink url="&sysstat-download-ftp;"/></para></listitem>
<listitem><para>Téléchargement de la somme MD5&nbsp;: 
&sysstat-md5sum;</para></listitem>
<listitem><para>Taille du téléchargement&nbsp;:
&sysstat-size;</para></listitem>
<listitem><para>Estimation de l'espace disque requis&nbsp;: 
&sysstat-buildsize;</para></listitem>
<listitem><para>Estimation du temps de construction&nbsp;: 
&sysstat-time;</para></listitem></itemizedlist>
</sect3>

<sect3><title>Dépendances de <application>Sysstat</application></title>
<sect4><title>Recommandé</title>
<para><xref linkend="fcron"/></para></sect4>
</sect3>

</sect2>

<sect2>
<title>Installation de <application>Sysstat</application></title>

<para>Installez <application>Sysstat</application> en exécutant les commandes
suivantes&nbsp;:</para>

<screen><userinput><command>make config &amp;&amp;
make</command></userinput></screen>

<para>Maintenant, en tant qu'utilisateur root&nbsp;:</para>

<screen><userinput role='root'><command>make install</command></userinput></screen>

</sect2>

<sect2>
<title>Explications des commandes</title>

<para><command>make config</command>&nbsp;: exécute le processus de configuration
interactif. La première question vous demande un répertoire d'installation
(<quote>Installation directory</quote>). Répondez par
<filename class="directory">/usr</filename>, car c'est équivalent au paramètre
<parameter>--prefix=/usr</parameter> d'<application>Autoconf</application> passé
à <command>configure</command>. Pour tout le reste, vous pouvez simplement appuyé
sur <command>Enter</command> pour accepter les valeurs par défaut.</para>

</sect2>

<sect2>
<title>Configurer <application>Sysstat</application></title>

<sect3><title>Information sur cron</title>

<para>Pour commencer à conserver un historique avec
<application>Sysstat</application>, vous devez ajouter ou créer une table
de planification (crontab) pour un utilisateur privilégié. L'emplacement
par défaut des données de l'historique est <filename
class="directory">/var/log/sa</filename>. L'utilisateur exécutant les outils
<application>Sysstat</application> via cron doit avoir un accès en écriture
à cet endroit.</para>

<para>Ci-dessous est un exemple de ce que vous pouvez installer dans crontab.
Ajustez les paramètres pour que cela corresponde à vos besoins. Utilisez
<command>man sa1</command> et <command>man sa2</command> pour des informations
sur les commandes.</para>

<screen><userinput># 8am-7pm activity reports every 10 minutes during weekdays
0 8-18 * * 1-5 /usr/lib/sa/sa1 600 6 &amp;
 
# 7pm-8am activity reports every hour during weekdays
0 19-7 * * 1-5 /usr/lib/sa/sa1 &amp;
 
# Activity reports every hour on Saturday and Sunday
0 * * * 0,6 /usr/lib/sa/sa1 &amp;
 
# Daily summary prepared at 19:05
5 19 * * * /usr/lib/sa/sa2 -A &amp;</userinput></screen>

<para>Assurez-vous que vous soumettez la crontab modifiée au démon cron.</para>
</sect3>

<sect3 id="sysstat-init"><title>Informations au lancement du système</title>
<indexterm zone="sysstat sysstat-init">
<primary sortas="f-sysstat">sysstat</primary></indexterm>

<para>Au lancement du système, un message LINUX RESTART doi être inséré dans le
fichier du jour pour réinitialiser les compteurs du noyau. Ceci peut être
automatisé en installant le script de démarrage
<filename>/etc/rc.d/init.d/sysstat</filename> inclus dans le paquetage <xref 
linkend="intro-important-bootscripts"/> avec la commande suivante&nbsp;:</para>

<screen><userinput role='root'><command>make install-sysstat</command></userinput></screen>
</sect3>

</sect2>

<sect2>
<title>Contenu</title>

<segmentedlist>
<segtitle>Programmes installés</segtitle>
<segtitle>Bibliothèques installées</segtitle>
<segtitle>Répertoires installés</segtitle>

<seglistitem>
<seg>iostat, mpstat, sar, sa1, sa2 et sadc</seg>
<seg>Aucune</seg>
<seg>/usr/lib/sa and /var/log/sa</seg>
</seglistitem>
</segmentedlist>

<variablelist>
<bridgehead renderas="sect3">Descriptions courtes</bridgehead>
<?dbfo list-presentation="list"?>

<varlistentry id="iostat">
<term><command>iostat</command></term>
<listitem><para>rapporte des statistiques sur le <acronym>CPU</acronym> et
les entrées/sorties sur les périphériques et les partitions.</para>
<indexterm zone="sysstat iostat">
<primary sortas="b-iostat">iostat</primary>
</indexterm></listitem>
</varlistentry>

<varlistentry id="mpstat">
<term><command>mpstat</command></term>
<listitem><para>rapporte des statistiques relatives aux processeurs,
individuellement et ensemble.</para>
<indexterm zone="sysstat mpstat">
<primary sortas="b-mpstat">mpstat</primary>
</indexterm></listitem>
</varlistentry>

<varlistentry id="sar">
<term><command>sar</command></term>
<listitem><para> collecte, rapporte et sauvegarde les informations sur
l'activité systèmle.</para>
<indexterm zone="sysstat sar">
<primary sortas="b-sar">sar</primary>
</indexterm></listitem>
</varlistentry>

<varlistentry id="sa1">
<term><command>sa1</command></term>
<listitem><para>collecte et stocke des données binaire dans le fichier journalier
sur l'activité du système C'est une interface pour <filename>sadc</filename> et
conçue pour être lancée à partir de cron.</para>
<indexterm zone="sysstat sa1">
<primary sortas="b-sa1">sa1</primary>
</indexterm></listitem>
</varlistentry>

<varlistentry id="sa2">
<term><command>sa2</command></term>
<listitem><para>écrit un rapport d'activité journalier en résumé. C'est une
interface à <command>sar</command> concçu pour être lancée à partir de cron.</para>
<indexterm zone="sysstat sa2">
<primary sortas="b-sa2">sa2</primary>
</indexterm></listitem>
</varlistentry>

<varlistentry id="sadc">
<term><command>sadc</command></term>
<listitem><para>est le récupérateur de données sur l'activité système, utilisé
comme moteur de <command>sar</command>.</para>
<indexterm zone="sysstat sadc">
<primary sortas="b-sadc">sadc</primary>
</indexterm></listitem>
</varlistentry>
</variablelist>

</sect2>

</sect1>
