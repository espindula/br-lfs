<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

  <!ENTITY systemd-download-http "http://www.freedesktop.org/wiki/Software/systemd/"> 
  <!ENTITY systemd-download-ftp  " ">
  <!-- <!ENTITY udev-md5sum        " "> -->
  <!ENTITY systemd-size          "~1.3 Mio">
  <!ENTITY systemd-buildsize     "~16 Mio">
  <!ENTITY systemd-time          "~0.1 SBU">
]>

<sect1 id="udev-extras" xreflabel="udev-extras (from systemd)">
  <?dbhtml filename="udev-extras.html"?>

  <sect1info>
    <othername>$LastChangedBy: bdubbs $</othername>
    <date>$Date: 2012-07-18 20:12:14 +0200 (Wed, 18 Jul 2012) $</date>
  </sect1info>

  <title>Udev Extras (from systemd)</title>

  <indexterm zone="udev-extras">
    <primary sortas="a-udev-extras">udev extras (from systemd)</primary>
  </indexterm>

  <sect2 role="package">
    <title>Introduction à Udev Extras</title>

    <para>En 2012, la distribution du code d'<application>Udev</application> a
    été synchronisée avec <application>systemd</application>.
    <application>Systemd</application> est un ensemble de programmes qui 
    remplacent le paquet <application>SysVInit</application> utilisé par LFS et 
    il est beaucoup plus complexe. Il n'est pas compatible avec les scripts de 
    démarrage de LFS et il a de nombreux problèmes avec peu d'avantages pour la
    plupart des utilisateurs de LFS.</para>
   
    <para>Les procédures ci-dessous extraient des sources de systemd
    les bibliothèques et les programmes qui ne pourraient pas être construits 
    dans LFS à cause de problèmes de dépendance d'une bibliothèque.</para>

    <para>Contrairement à la plupart des autres paquets du livre BLFS, il n'y
    a aucune version figée de <application>systemd</application> indiquée comme
    à télécharger. Plusieurs mises à jour de versions dans LFS et BLFS signifient
    qu'il existe probablement de nombreuses versions différentes d'<application>Udev</application>
    sur les plateformes où est construit BLFS. Donc, vous devriez télécharger et
    installer  la version de <application>systemd</application> utilisée
    actuellement par votre ordinateur. L'équipe de BLFS n'a pas essayé de mettre
    à jour (ou de rétrograder vers une ancienne version) les programmes
    d'<application>Udev</application> <quote>à la volée.</quote> Pour connaître
    la version d'<application>Udev</application> utilisée actuellement par votre
    ordinateur, lancez <command>/sbin/udevadm --version</command>.</para>

    <para>Ce paquet est connu pour se construire et fonctionner correctement avec 
    une plateforme LFS de développement. (qui utilise systemd-186.)</para>

    <bridgehead renderas="sect3">Information sur le paquet </bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>Téléchargement (HTTP) : <ulink url="&systemd-download-http;"/></para>
      </listitem>
      <listitem>
        <para>Téléchargement (FTP) : <ulink url="&systemd-download-ftp;"/></para>
      </listitem>
      <!-- <listitem>
        <para>Somme de contrôle MD5 du téléchargement : &systemd-md5sum;</para>
      </listitem> -->
      <listitem>
        <para>Taille du téléchargement : &systemd-size;</para>
      </listitem>
      <listitem>
        <para>Estimation de l'espace disque requis : &systemd-buildsize;</para>
      </listitem>
      <listitem>
        <para>Estimation du temps de construction : &systemd-time;</para>
      </listitem>
    </itemizedlist>

    <bridgehead renderas="sect3">Dépendances d'Udev Extras</bridgehead>

    <bridgehead renderas="sect4">Requises</bridgehead>
    <para role="required">
      <ulink url="http://anduin.linuxfromscratch.org/sources/other/"/>
      (version de l'archive tar udev-lfs-???.tar.bz2 correspondant à la version
      de systemd utilisée dans LFS).
      <xref linkend="glib2"/> (pour la bibliothèque gudev),
      <xref linkend="gperf"/> (pour les plans de clavier), et
      <xref linkend="gobject-introspection"/> (pour gir-data, nécessaire pour Gnome) 
    </para>

    <bridgehead renderas="sect4">Facultative</bridgehead>
    <para role="optional">
      <xref linkend="acl"/>
    </para>

    <bridgehead renderas="sect4">Dépendances de Optional Runtime</bridgehead>
    <para role="optional">
      <xref linkend="pciutils"/> et
      <xref linkend="usbutils"/>
    </para>

    <para condition="html" role="usernotes">Notes utilisateur :
    <ulink url="&blfs-wiki;/udev-extras"/></para>

  </sect2>

  <sect2 role="installation">
    <title>Installation des suppléments d'Udev</title>

    <para>Tout d'abord, mettez en place les fichiers personnalisés par LFS&nbsp;:</para>

<screen><userinput>tar -xf ../udev-lfs-186.tar.bz2</userinput></screen>

    <sect3>
    <title>keymap</title>
    <para>Le support de touches spéciales de nombreux portables est fourni par
    le programme <command>keymap</command> et les fichiers supports. Si vous
    désirez la fonction <command>keymap</command>, utilisez&nbsp;:</para>

<screen><userinput>make -f udev-lfs-186/Makefile.lfs keymap</userinput></screen>

    <para>Pour installer <command>keymap</command> et ses fichiers associés,
    lancez en tant qu'utilisateur <systemitem class="username">root</systemitem>&nbsp;:</para>

<screen><userinput>make -f udev-lfs-186/Makefile.lfs install-keymap</userinput></screen>

    </sect3>

    <sect3>
    <title>gudev</title>

    <para>Pour construire la bibliothèque <application>libgudev-1.0</application>
    et les fichiers d'interface, lancez&nbsp;:</para>
   
<screen><userinput>make -f udev-lfs-186/Makefile.lfs gudev</userinput></screen>

    <para>Installaz la bibliothèque <filename class='libraryfile'>gudev</filename>,
    en lançant en tant qu'utilisateur <systemitem class="username">root</systemitem>&nbsp;:</para>

<screen><userinput>make -f udev-lfs-186/Makefile.lfs install-gudev</userinput></screen>

    </sect3>

    <sect3>
    <title>Fichiers GObject</title>

    <para>Pour construire les fichiers de <application>gobject-introspection</application>
    interface (gir) pour la bibliothèque <filename
    class='libraryfile'>libgudev-1.0</filename>, lancez&nbsp;:</para>
   
<screen><userinput>make -f udev-lfs-186/Makefile.lfs gir-data</userinput></screen>

    <para>Installez les données gir en tant qu'utilisateur <systemitem
    class="username">root</systemitem>&nbsp;:</para>

<screen><userinput>make -f udev-lfs-186/Makefile.lfs install-gir-data</userinput></screen>

    <caution><para>Il existe un raccourci pour construire et installer tous les
    composants <application>udev</application> en une fois, consistant à utiliser
    les cibles <emphasis>all</emphasis> et <emphasis>install-all</emphasis> de
    <filename>Makefile.lfs</filename>. L'installation de cette cible écrasera les
    fichiers udev de base issus de LFS et on ne l'a pas encore testée complètement.
    au moment de cette rédaction. Si vous utilisez cette procédure, vous devriez
    arrêter le démon udev avant d'écraser le <filename>udevd</filename> existant
    et les bibliothèques udev.</para></caution>

    </sect3>
  </sect2>

  <sect2 role="content">
    <title>Contenu</title>

    <para>Vous pouvez trouver une liste des fichiers installés, avec leurs descriptions courtes
    dans
    <ulink url="&lfs-root;/chapter06/udev.html#contents-udev"/>.</para>

    <para>Ce qui suit indique des informations supplémentaires sur le contenu.</para>

    <segmentedlist>
      <segtitle>Programmes installés</segtitle>
      <segtitle>Bibliothèque installée</segtitle>
      <segtitle>Répertoires installés</segtitle>

      <seglistitem>
        <seg>findkeyboards, keyboard-force-release.sh, et keymap</seg>
  
        <seg>libgudev-1.0.so</seg>
        
        <seg>/lib/udev/keymaps/force-release,
             /usr/include/gudev-1.0/gudev,
             /usr/lib/girepository-1.0,
             /usr/share/gir-1.0, et
             /usr/share/gtk-doc/html/gudev</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Description courte</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="keymap-systemd">
        <term><command>keymap</command></term>
        <listitem>
          <para>configure les plans de touches spécifique à votre modèle d'ordinateur.</para>
          <indexterm zone="udev-extras keymap-systemd">
            <primary sortas="b-keymap">keymap (from systemd)</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libgudev-1.0-systemd">
        <term><filename class='libraryfile'>libgudev-1.0.so</filename></term>
        <listitem>
          <para>est une bibliothèque enveloppe basée sur GObject pour libudev.</para>
          <indexterm zone="udev-extras libgudev-1.0-systemd">
            <primary sortas="c-libgudev-1.0-systemd">libgudev-1.0.so</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
