<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;
  <!ENTITY gc-download-http "http://www.hboehm.info/gc/gc_source/gc-&gc-version;.tar.gz">
  <!ENTITY gc-download-ftp  " ">
  <!ENTITY gc-md5sum        "12c05fd2811d989341d8c6d81f66af87">
  <!ENTITY gc-size          "1.1 Mo">
  <!ENTITY gc-buildsize     "9.7 Mo (additional 2.3 Mo for the tests)">
  <!ENTITY gc-time          "0.2 SBU (additional 0.2 SBU for the tests)">
]>
<sect1 id="gc" xreflabel="GC-&gc-version;">
  <?dbhtml filename="gc.html"?>
  <sect1info>
    <othername>$LastChangedBy&nbsp;: bdubbs $</othername>
    <date>$Date&nbsp;: 2012-07-23 22:27:31 +0200 (Mon, 23 Jul 2012) $</date>
  </sect1info>
  <title>GC-&gc-version;</title>
  <indexterm zone="gc">
    <primary sortas="a-GC">GC</primary>
  </indexterm>
  <sect2 role="package">
    <title>Introduction à GC</title>
    <para>Le paquet <application>GC</application> contient le collecteur de
    déchets recyclables Boehm-Demers-Weiser, qui peut être utilisé comme un collecteur de
    déchets remplaçant la fonction malloc de C ou le nouvel opérateur de C++.
    Il vous permet d'allouer de la mémoire de façon basique, comme vous le
    le feriez normalement sans désaffecter de la mémoire qui n'est plus
    utile. Le collecteur recycle automatiquement la mémoire quand il détermine
    qu'on ne peut plus y accéder autrement. Le collecteur est également
    utilisé par un certain nombre d'implémentations de langage de programmation
    qui utilisent soit C comme code intermédiaire, soit qui veulent faciliter
    une interéperation plus facile des bibliothèques, soit simplement
    préfèrent l'interface simple du collecteur. En alternative, le collecteur de
    déchets peut être utilisé comme un détecteur de fuites pour les programmes 
    C ou C++, bien que ce ne soit pas sa finalité première.</para>
    &lfs75_checked;
    <bridgehead renderas="sect3">Informations sur le paquet</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>Téléchargement (HTTP)&nbsp;: <ulink url="&gc-download-http;"/></para>
      </listitem>
      <listitem>
        <para>Téléchargement (FTP)&nbsp;: <ulink url="&gc-download-ftp;"/></para>
      </listitem>
      <listitem>
        <para>Somme de contrôle MD5 du téléchargement&nbsp;: &gc-md5sum;</para>
      </listitem>
      <listitem>
        <para>Taille du téléchargement&nbsp;: &gc-size;</para>
      </listitem>
      <listitem>
        <para>Estimation de l'espace disque requis&nbsp;: &gc-buildsize;</para>
      </listitem>
      <listitem>
        <para>Estimation du temps de construction&nbsp;: &gc-time;</para>
      </listitem>
    </itemizedlist>
    <bridgehead renderas="sect4">Requises</bridgehead>
    <para role="required">
      <xref linkend="libatomic_ops"/>
    </para>
    <para condition="html" role="usernotes">Notes utilisateur&nbsp;:
    <ulink url="&blfs-wiki;/gc"/></para>
  </sect2>
  <sect2 role="installation">
    <title>Installation de GC</title>
    <para>Installez <application>GC</application> en lançant les commandes
    suivantes&nbsp;:</para>
<screen>
<userinput>sed -i 's#pkgdata#doc#' doc/doc.am &amp;&amp;
autoreconf -fi  &amp;&amp;
./configure --prefix=/usr                  --enable-cplusplus             --disable-static               --docdir=/usr/share/doc/gc-&gc-version; &amp;&amp;
make</userinput>
</screen>
    <para>Pour tester les résultats, lancez&nbsp;: <command>make check</command>.</para>
    <para>Maintenant, en tant qu'utilisateur <systemitem class="username">root</systemitem>&nbsp;:</para>
<screen role="root">
<userinput>make install &amp;&amp;
install -v -m644 doc/gc.man /usr/share/man/man3/gc_malloc.3 &amp;&amp;
ln -sfv gc_malloc.3 /usr/share/man/man3/gc.3 </userinput>
</screen>
  </sect2>
  <sect2 role="commands">
    <title>Explication des commandes</title>
     <para>
      <command>sed -i 's#pkgdata#doc#' doc/doc.am</command> et
      <option>--docdir=/usr/share/doc/gc-&gc-version;</option>:
      Ces commandes sont utilisées pour que la paquet install la documentation 
      dans un répertoire versionné.
    </para>
    <para>
      <command>autoreconf -fi</command>: Cela régénère le script
      <command>configure</command> et les fichiers
      <filename>Makefile.in</filename>.
    </para>
    <para><parameter>--enable-cplusplus</parameter>&nbsp;: Ce paramètre oblife
    la construction et l'installation de la bibliothèque C++ avec la bibliothèque C standard.</para>
    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
      href="../../xincludes/static-libraries.xml"/>
  </sect2>
  <sect2 role="content">
    <title>Contenu</title>
    <segmentedlist>
      <segtitle>Programmes installés</segtitle>
	<segtitle>Bibliothèques installées</segtitle>
      <segtitle>Répertoires installés</segtitle>
      <seglistitem>
	<seg>Aucun</seg>
        <seg>
          libcord.so,
          libgc.so et
          libgccpp.so
        </seg>
        <seg>
          /usr/include/gc et
          /usr/share/doc/gc
        </seg>
      </seglistitem>
    </segmentedlist>
    <variablelist>
      <bridgehead renderas="sect3">Descriptions courtes</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>
      <varlistentry id="libgc">
        <term><filename class='libraryfile'>libgc.so</filename></term>
        <listitem>
          <para>contient une interface C avec le collecteur de déchets recyclables,
          destiné d'abord à remplacer la fonction C malloc.</para>
          <indexterm zone="gc libgc">
            <primary sortas="c-libgc">libgc.so</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="libgccpp">
        <term><filename class='libraryfile'>libgccpp.so</filename></term>
        <listitem>
          <para>contient une interface C++ avec le collecteur de déchets recyclables.</para>
          <indexterm zone="gc libgccpp">
            <primary sortas="c-libgccpp">libgccpp.so</primary>
          </indexterm>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect2>
</sect1>
