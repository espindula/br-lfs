<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;
  <!ENTITY python3-download-http
           "https://www.python.org/ftp/python/&python3-version;/Python-&python3-version;.tar.xz">
  <!ENTITY python3-download-ftp  " ">
  <!ENTITY python3-md5sum        "7d092d1bba6e17f0d9bd21b49e441dd5">
  <!ENTITY python3-size          "14 Mo">
  <!ENTITY python3-buildsize     "274 Mo (additional 38 Mo for the docs and 29 Mo for the tests)">
  <!ENTITY python3-time          "1.2 SBU (additional 1.8 SBU for the tests)">
  <!ENTITY python3htmldoc-download-http
           "https://docs.python.org/3/archives/python-&python3-version;-docs-html.tar.bz2">
]>
<sect1 id="python3" xreflabel="Python-&python3-version;">
  <?dbhtml filename="python3.html" ?>
  <sect1info>
    <othername>$LastChangedBy&nbsp;: krejzi $</othername>
    <date>$Date&nbsp;: 2013-04-24 11:37:16 +0200 (mer. 24 avril 2013) $</date>
  </sect1info>
  <title>Python-&python3-version;</title>
  <indexterm zone="python3">
    <primary sortas="a-Python3">Python3</primary>
  </indexterm>
  <sect2 role="package">
    <title>Introduction à Python 3</title>
    <para>Le paquet <application>Python 3</application> contient l'environnement
    de développement <application>Python</application>. C'est utile pour la
    programmation orientée objet, l'écriture de scripts,
    le prototypage de gros programmes ou le développement d'applications
    entières.</para>
    
	 
    &lfs78_checked;
    <bridgehead renderas="sect3">Informations sur le paquet</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>Téléchargement (HTTP)&nbsp;: <ulink url="&python3-download-http;"/></para>
      </listitem>
      <listitem>
        <para>Téléchargement (FTP)&nbsp;: <ulink url="&python3-download-ftp;"/></para>
      </listitem>
      <listitem>
        <para>Somme de contrôle MD5 du téléchargement&nbsp;: &python3-md5sum;</para>
      </listitem>
      <listitem>
        <para>Taille du téléchargement&nbsp;: &python3-size;</para>
      </listitem>
      <listitem>
        <para>Estimation de l'espace disque requis&nbsp;: &python3-buildsize;</para>
      </listitem>
      <listitem>
        <para>Estimation du temps de construction&nbsp;: &python3-time;</para>
      </listitem>
    </itemizedlist>
    <bridgehead renderas="sect3">Téléchargements supplémentaires</bridgehead>
    <itemizedlist spacing="compact">
      <title>Documentation HTML facultative</title>
      <listitem>
        <para>Téléchargement (HTTP)&nbsp;: <ulink url="&python3htmldoc-download-http;"/></para>
      </listitem>
    </itemizedlist>
    <bridgehead renderas="sect3">Dépendances de Python 3</bridgehead>
    <bridgehead renderas="sect4">Recommandées</bridgehead>
    <para role="recommended">
        <xref linkend="libffi"/>
    </para>
	
    <bridgehead renderas="sect4">Facultatives</bridgehead>
    <para role="optional">
      <xref linkend="bluez"/>
      <xref linkend="gdb"/>, et
      <xref linkend="valgrind"/>
    </para>
    <bridgehead renderas="sect4">Facultatives (pour les modules supplémentaires)</bridgehead>
    <para role="optional">
      <xref linkend="db"/>
      <xref linkend="openssl"/>,
      <xref linkend="sqlite"/> et
      <xref linkend="tk"/>
    </para>
    <para condition="html" role="usernotes">Notes utilisateur&nbsp;:
    <ulink url="&blfs-wiki;/Python3"/></para>
  </sect2>
  <sect2 role="installation">
    <title>Installation de Python</title>
    <para>Installez <application>Python 3</application> en lançant les commandes
    suivantes&nbsp;:</para>
<screen>
<userinput>CXX="/usr/bin/g++"              \
./configure --prefix=/usr       \
            --enable-shared     \
            --with-system-expat \
            --with-system-ffi   \
            --without-ensurepip &amp;&amp;
make</userinput>
</screen>
    <para>La suite de tests doit être lancée séparément, en utilisant un terminal X (voir après)
    </para>
    <para>Maintenant, en tant qu'utilisateur <systemitem class="username">root</systemitem>&nbsp;:</para>
<screen role="root">
<userinput>make install &amp;&amp;
chmod -v 755 /usr/lib/libpython&python3-majorver;m.so &amp;&amp;
chmod -v 755 /usr/lib/libpython3.so</userinput>
</screen>
    <para>
     Si vous avez téléchargé la documentation préformatée
    depuis <ulink
    url="http://docs.python.org/download.html"/>, installez la en tant qu'utilisateur
   <systemitem class="username">root</systemitem>&nbsp;:</para>
<screen role="root">
<userinput>install -v -dm755 /usr/share/doc/python-&python3-version;/html &amp;&amp;
tar --strip-components=1 \
    --no-same-owner \
    --no-same-permissions \
    -C /usr/share/doc/python-&python3-version;/html \
    -xvf ../python-&python3-version;-docs-html.tar.bz2</userinput>
</screen>
    <para>
      La suite de tests doit être lancée séparément de la construction, après que le paquet soit construit
      et installé. Ne lancez pas  <command>make install</command>, après avoir lancé la suite de tests.
       Pour installer
      le paquet, vous devez démarrer avec des sources fraichement déballées ou propres. Pour les tests,
      vous avez aussi besoin de sources propres, en déballant l'archive des sources ou en lançant
      <command>make clean</command>. Ensuite configurez le de nouveau,
      en ajoutant <quote>--with-pydebug</quote> à <command>configure</command>,
      lancez <command>make</command>, ensuite
      <command>make test</command>.
      Souvenez vous que quelques tests échouent, s'ils ne sont pas lancés dans un terminal X.
    </para>
  </sect2>
  <sect2 role="commands">
    <title>Explication des commandes</title>
    <para>
      <command> CXX="/usr/bin/g++" ./configure ...</command>: empêche un message idiot pendant la configuration.
    </para>
    <para>
      <option>--with-system-expat</option>&nbsp;: Ce paramètre active le lien contra la version
	  du système de <application>Expat</application>. Effacez le si vous n'avez pas installé
	  les dépendances recommandées d'Expat.
    </para>
 
    <para>
      <option>--with-system-ffi</option>&nbsp;: Ce paramètre active le lien contra la version
	  du système de <application>libffi</application>. Effacez le si vous n'avez pas installé
	  les dépendances recommandées de <xref linkend="libffi"/>.
    </para>
    <para><parameter>--with-dbmliborder=bdb:gdbm:ndbm</parameter>&nbsp;: Utilisez ce paramètre
    si vous voulez construire le module <application>Python</application> contre 
      <application>Berkeley DB</application> au lieu de 
      <application>GDBM</application>.
    </para>
     <para>
      <parameter>--without-ensurepip</parameter>: Ce paramètre désactive la construction des programmes
      <command>pip</command> et <command>setuptools</command>.
    </para>
    <para><command>chmod ...</command>&nbsp;: Corrige les droits pour que les
    bibliothèques soient cohérentes avec les autres.</para>
  </sect2>
  <sect2 role="configuration">
    <title>Configuration de Python 3</title>
    <para>Pour que <command>python3</command> trouve la documentation installée,
    vous devez ajouter la variable d'environnement suivante au profil individuel
    de l'utilisateur ou du système&nbsp;:</para>
<screen role="root">
<userinput>export PYTHONDOCS=/usr/share/doc/python-&python3-version;/html</userinput>
</screen>
  </sect2>
  <sect2 role="content">
    <title>Contenu</title>
    <segmentedlist>
      <segtitle>Programmes installés</segtitle>
      <segtitle>Bibliothèques installées</segtitle>
      <segtitle>Répertoires installés</segtitle>
      <seglistitem>
        <seg>
          2to3 (Lien symbolique),
          2to3-&python3-majorver;,
          pydoc3 (Lien symbolique),
          pydoc&python3-majorver;,
          python3 (Lien symbolique),
          python&python3-majorver; (Lien dur),
          python&python3-majorver;m,
          python3-config (Lien symbolique),
          python&python3-majorver;-config (Lien symbolique),
          python&python3-majorver;m-config,
          pyvenv (Lien symbolique),
          pyvenv&python3-majorver;,
          idle3 (lien symbolique),
          idle&python3-majorver;
        </seg>
        <seg>
           libpython&python3-majorver;m.so et libpython3.so
        </seg>
        <seg>
          /usr/include/python&python3-majorver;mu,
          /usr/lib/python&python3-majorver;, and
          /usr/share/doc/python-&python3-version;
        </seg>
      </seglistitem>
    </segmentedlist>
    <variablelist>
      <bridgehead renderas="sect3">Descriptions courtes</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>
      <varlistentry id="idle3">
        <term><command>idle3</command></term>
        <listitem>
          <para>est un script enveloppe qui ouvre un éditeur graphique
          <application>Python</application>. Pour que ce script fonctionne, vous devez avoir installé
       <application>Tk</application> avant Python pour que le module Python de Tkinter soit construit.</para>
          <indexterm zone="python3 idle3">
            <primary sortas="b-idle3">idle3</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="pydoc3">
        <term><command>pydoc3</command></term>
        <listitem>
          <para>est l'outil de documentation <application>Python</application>.</para>
          <indexterm zone="python3 pydoc3">
            <primary sortas="b-pydoc3">pydoc3</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="python3-prog">
        <term><command>python3</command></term>
        <listitem>
          <para>est une langage de programmation interprété, interactif, 
          orienté objet.</para>
          <indexterm zone="python3 python3-prog">
            <primary sortas="b-python3">python3</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="python-ver">
        <term><command>python&python3-majorver;</command></term>
        <listitem>
          <para>est un nom spécifique à la version pour le programme <command>python</command>.</para>
          <indexterm zone="python3 python-ver">
            <primary
            sortas="b-python&python3-majorver;">python&python3-majorver;</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="pyvenv">
        <term><command>pyvenv</command></term>
        <listitem>
          <para>
            crée des environnements <application>Python</application> virtuels dans un ou plusieurs répertoires cibles.
          </para>
          <indexterm zone="python3 pyvenv">
            <primary
            sortas="b-python&python3-majorver;">python&python3-majorver;</primary>
          </indexterm>
        </listitem>
      </varlistentry>   
    </variablelist>
  </sect2>
</sect1>
