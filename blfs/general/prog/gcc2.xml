<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

  <!ENTITY gcc2-download-http "http://ftp.gnu.org/gnu/gcc/gcc-&gcc2-version;.tar.gz">
  <!ENTITY gcc2-download-ftp  "ftp://ftp.gnu.org/gnu/gcc/gcc-&gcc2-version;.tar.gz">
  <!ENTITY gcc2-size          "9.4 Mio">
  <!ENTITY gcc2-buildsize     "150 Mio">
  <!ENTITY gcc2-time          "2.60 SBU">
]>

<sect1 id="gcc2" xreflabel="GCC-&gcc2-version;">
<sect1info>
<othername>$LastChangedBy: randy $</othername>
<date>$Date: 2010-04-21 20:48:34 +0200 (mer. 21 avril 2010) $</date>
</sect1info>
<?dbhtml filename="gcc2.html" ?>
<title>GCC-&gcc2-version;</title>

<sect2>
<title>Introduction à <application><acronym>GCC</acronym></application>-&gcc2-version;</title>

<para>Il y a deux raisons pour installer 
<acronym>GCC</acronym>-&gcc2-version;. La première est que
les développeurs du noyau ont certifié <acronym>GCC</acronym>-&gcc2-version; comme
le compilateur de préférence pour compiler le noyau. L'autre (et plus
importante) est que des paquets commerciaux au code fermé (tels que le navigateur
Netscape, Yahoo Pager) et des paquets précompilés (tels que Mozilla)
sont liés aux bibliothèques <acronym>GCC</acronym>-&gcc2-version;.</para>

<sect3><title>Package information</title>
<itemizedlist spacing='compact'>
<listitem><para>Téléchargement (HTTP)&nbsp;: <ulink
url="&gcc2-download-http;"/></para></listitem>
<listitem><para>Téléchargement (FTP)&nbsp;: <ulink
url="&gcc2-download-ftp;"/></para></listitem>
<listitem><para>Taille du téléchargement&nbsp;: &gcc2-size;</para></listitem>
<listitem><para>Estimation de l'espace disque requis&nbsp;:
&gcc2-buildsize;</para></listitem>
<listitem><para>Estimation du temps de construction&nbsp;:
&gcc2-time;</para></listitem></itemizedlist>
</sect3>

<sect3><title>Téléchargements supplémentaires</title>
<itemizedlist spacing='compact'>
<listitem><para>Requises Patch: <ulink
url="&patch-root;/gcc-&gcc2-version;-2.patch"/></para></listitem>
<listitem><para>Requises Patch: <ulink
url="&patch-root;/gcc-&gcc2-version;-no_fixinc-1.patch"/></para></listitem>
<listitem><para>Requises Patch: <ulink
url="&patch-root;/gcc-&gcc2-version;-returntype_fix-1.patch"/></para></listitem>
</itemizedlist>
</sect3>

</sect2>

<sect2>
<title>Installation de <application><acronym>GCC</acronym></application></title>

<para>Appliquez les correctifs&nbsp;:</para>

<screen><userinput><command>patch -Np1 -i ../gcc-&gcc2-version;-2.patch &amp;&amp;
patch -Np1 -i ../gcc-&gcc2-version;-no_fixinc-1.patch &amp;&amp;
patch -Np1 -i ../gcc-&gcc2-version;-returntype_fix-1.patch</command></userinput></screen>

<para>L'équipe de développement de <acronym>GCC</acronym> recommande de
construire dans un répertoire séparé.</para>

<screen><userinput><command>mkdir ../gcc-build &amp;&amp;
cd ../gcc-build</command></userinput></screen>

<para>Configurez <acronym>GCC</acronym> pour construire les compilateurs
<application>C</application> et <application>C++</application> et activer
les options <application>C++</application> liées.</para>

<screen><userinput><command>../gcc-&gcc2-version;/configure \
    --prefix=/opt/gcc-&gcc2-version; \
    --enable-shared --enable-languages=c,c++ \
    --enable-threads=posix</command></userinput></screen>

<para>Compilez et installez <acronym>GCC</acronym>&nbsp;:</para>

<screen><userinput><command>make bootstrap &amp;&amp;
make install</command></userinput></screen>

<para>Notez la bibliothèque qui a été installée.</para>

<screen><userinput><command>L=`find /opt/gcc-&gcc2-version;/lib -name "*libstdc++*.so" -type f` &amp;&amp;
IL=`basename $L`</command></userinput></screen>

<para>Déplacez les bibliothèques <application>C++</application> vers le
répertoire lib standard pour éviter de devoir ajouter
<userinput>/opt/gcc-&gcc2-version;/lib
</userinput> à <filename>/etc/ld.so.conf</filename>.</para>

<screen><userinput><command>for i in /opt/gcc-&gcc2-version;/lib/*.so*; do mv -f $i /usr/lib;
ln -sf /usr/lib/`basename $i` /opt/gcc-&gcc2-version;/lib; done</command></userinput></screen>

<para>Créez des liens symboliques requis par les paquets commerciaux et précompilés.</para>

<screen><userinput><command>ln -sf $IL /usr/lib/libstdc++-libc6.1-1.so.2 &amp;&amp;
ln -sf $IL /usr/lib/libstdc++-libc6.2-2.so.3 &amp;&amp;
ln -sf $IL /usr/lib/libstdc++-libc6.3-2.so.3</command></userinput></screen>

</sect2>

<sect2>
<title>Configuration de <application><acronym>GCC</acronym></application></title>

<sect3><title>Informations de configuration</title>

<xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="../../lib-config.xml"/>

<para>Les instructions données ci-dessus rendent les liens symboliques compatibles
avec les exigences des paquets précompilés <acronym>BLFS</acronym>. Vous pouvez
créer des liens de compatibilité supplémentaires basés sur vos exigences.</para>

<para>Si vous n'avez besoin que des bibliothèques de GCC-&gcc2-version;,
vous pouvez effacer <filename>/opt/gcc-&gcc2-version;</filename>.</para>

<para>Chaque fois que vous devez utiliser GCC-&gcc2-version; à la place du
compilateur de votre szstème installé, ajoutez
<filename class="directory">/opt/gcc-&gcc2-version;/bin</filename> en premier dans
votre <envar>PATH</envar> ou (mieux) initialisez la
variable d'environment <envar>CC</envar> avant de construire le paquet concerné.</para>

</sect3>

</sect2>

<sect2>
<title>Contenu</title>

<para>Le paquet GCC-&gcc2-version; contient les compilateurs
<command>gcc</command>-&gcc2-version; <application>C</application> et
<application>C++</application> et GCC-&gcc2-version;
<filename>libstdc++.so</filename> exigée par certains paquets commerciaux
et pré-compilées.</para>

</sect2>

</sect1>

