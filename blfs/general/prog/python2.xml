<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

  <!ENTITY python2-download-http "http://www.python.org/ftp/python/&python2-version;/Python-&python2-version;.tar.xz">
  <!ENTITY python2-download-ftp  " ">
  <!-- <!ENTITY python2-download-ftp  "&gentoo-ftp-repo;/Python-&python2-version;.tar.xz"> -->
  <!ENTITY python2-md5sum        "62c4c1699170078c469f79ddfed21bc0">
  <!ENTITY python2-size          "9.6 Mio">
  <!ENTITY python2-buildsize     "235 Mio (sans inclure la suite de tests)">
  <!ENTITY python2-time          "1.1 SBU (sans inclure la suite de tests)">
  <!ENTITY python2htmldoc-download-http "http://docs.python.org/ftp/python/doc/&python2-version;/python-&python2-version;-docs-html.tar.bz2">
  <!ENTITY python2htmldoc-md5sum        "101c13d39f76fd6706aac3a9196b2f01">
  <!ENTITY python2htmldoc-size          "4.2 Mio">
]>

<sect1 id="python2" xreflabel="Python-&python2-version;">
  <?dbhtml filename="python2.html" ?>

  <sect1info>
    <othername>$LastChangedBy&nbsp;: krejzi $</othername>
    <date>$Date&nbsp;: 2012-07-07 15:58:58 +0200 (Sat, 07 Jul 2012) $</date>
  </sect1info>

  <title>Python-&python2-version;</title>

  <indexterm zone="python2">
    <primary sortas="a-Python2">Python</primary>
  </indexterm>

  <sect2 role="package">
    <title>Introduction à Python 2</title>

    <para>Le paquet <application>Python 2</application> contient l'environnement
    de développement <application>Python</application>. C'est utile pour faire
    de la programmation orientée objet, écrire des scripts, faire des prototypes
    de gros programmes, ou développer des applications entières. Cette version
    est là pour des questions de rétro-compatibilité avec d'autres paquets qui 
    en dépendent.</para>

    &lfs71_checked;

    <bridgehead renderas="sect3">Informations sur le paquet</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>Téléchargement (HTTP)&nbsp;: <ulink url="&python2-download-http;"/></para>
      </listitem>
      <listitem>
        <para>Téléchargement (FTP)&nbsp;: <ulink url="&python2-download-ftp;"/></para>
      </listitem>
      <listitem>
        <para>Somme de contrôle MD5 du téléchargement&nbsp;: &python2-md5sum;</para>
      </listitem>
      <listitem>
        <para>Taille du téléchargement&nbsp;: &python2-size;</para>
      </listitem>
      <listitem>
        <para>Estimation de l'espace disque requis&nbsp;: &python2-buildsize;</para>
      </listitem>
      <listitem>
        <para>Estimation du temps de construction&nbsp;: &python2-time;</para>
      </listitem>
    </itemizedlist>

    <bridgehead renderas="sect3">Téléchargements supplémentaires</bridgehead>

    <itemizedlist spacing="compact">
      <title>Documentation HTML facultative</title>
      <listitem>
        <para>Téléchargement (HTTP)&nbsp;: <ulink url="&python2htmldoc-download-http;"/></para>
      </listitem>
      <listitem>
        <para>Somme de contrôle MD5 du téléchargement&nbsp;: &python2htmldoc-md5sum;</para>
      </listitem>
      <listitem>
        <para>Taille du téléchargement&nbsp;: &python2htmldoc-size;</para>
      </listitem>
    </itemizedlist>

    <bridgehead renderas="sect3">Dépendances de Python</bridgehead>

    <bridgehead renderas="sect4">Facultatives</bridgehead>
    <para role="optional">
      <!-- <xref linkend="pth"/> can only be used if you've overwritten glibc's
      libpthread. -->
      <xref linkend="libffi"/> and <xref linkend="pkgconfig"/>
      (<command>configure</command> utilise <command>pkgconfig</command> pour trouver
      <application>libffi</application>. Il y a une dépendance circulaire ici&nbsp;:
      <application>Pkgconfig</application> exige
      <application>Glib</application> qui exige
      <application>Python 2</application>),
      <!-- gcc's libffi does not install a pkgconfig file -->
      <ulink url="http://sphinx.pocoo.org/">Sphinx</ulink> (pour créer les docs),
      <xref linkend="bluez"/>,
      <xref linkend="openssl"/>,
      <xref linkend="tk"/> (il y a une dépendance circulaire avec
      le paquet <application>Tk</application> puisqu'il exige l'installation de 
      Xorg mais certaines parties de Xorg dépendent de 
      <application>Python</application>),
      <!--<xref linkend="db"/> and-->
      <ulink
      url="http://www.oracle.com/technetwork/products/berkeleydb/downloads/">BerkeleyDB</ulink>
      (seulement les versions supérieures à 4.8), et
     <xref linkend="sqlite"/>.
    </para>

    <para condition="html" role="usernotes">Notes utilisateur&nbsp;:
    <ulink url="&blfs-wiki;/Python"/></para>

  </sect2>

  <sect2 role="installation">
    <title>Installation de Python</title>

    <para>Installez <application>Python</application> en lançant les commandes
    suivantes&nbsp;:</para>

<screen><userinput>sed -i "s/ndbm_libs = \[\]/ndbm_libs = ['gdbm', 'gdbm_compat']/" setup.py &amp;&amp;
./configure --prefix=/usr --enable-shared &amp;&amp;
make</userinput></screen>

    <para>Pour tester les résultats, lancez&nbsp;: <command>make test</command>.</para>

    <para>
      Pour utiliser la fonction <command>help ('name_string')</command> de
      l'interpréteur <command>python</command> avec certaines options et certains
      mots-clés, vous devez créer ou télécharger la documentation HTML
      facultative.
    </para>

    <para>
      Si vous avez installé <ulink url="http://sphinx.pocoo.org/">Sphinx</ulink>
      et si vous souhaitez créer la documentation HTML&nbsp;:
    </para>

<screen><userinput>make -C Doc html</userinput></screen>

    <para>Maintenant, en tant qu'utilisateur the <systemitem class="username">root</systemitem>&nbsp;:</para>

<screen role="root"><userinput>make install</userinput></screen>

    <para>
      Si vous avez créé la documentation html avec
      <application>Sphinx</application> installez-la en tant qu'utilisateur
      <systemitem class="username">root</systemitem>&nbsp;:
    </para>
<screen role="root"><userinput>install -v -m755 -d /usr/share/doc/Python-&python2-version; &amp;&amp;
cp -rfv Doc/build/html/* /usr/share/doc/python-&python2-version;</userinput></screen>

    <para>
      Sinon, vous pouvez télécharger la documentation préformattée sur
      <ulink url="http://docs.python.org/download.html"/> et l'installer en
      tant qu'utilisatekr
      <systemitem class="username">root</systemitem>&nbsp;:
    </para>

<screen role="root"><userinput>install -v -m755 -d /usr/share/doc/Python-&python2-version; &amp;&amp;
tar --strip-components=1 -C /usr/share/doc/Python-&python2-version; \
    -xvf ../python-&python2-version;-docs-html.tar.bz2</userinput></screen>

  </sect2>

  <sect2 role="commands">
    <title>Explications des commandes</title>

   <para>
      <option>--with-system-ffi</option>&nbsp;: Si vous avez installé
      <application>Libffi</application> et
      <application>Pkgconfig</application>, ajoutez cette option pour compiler
      le module _ctypes de <application>Python</application> en utilisant
      la <application>Libffi</application> installée sur le système. Sinon,
      <application>Python</application> compilera sa propre copie de
      <application>Libffi</application>.
    </para>

    <para>
      <command>sed -i "s/ndbm_libs = ..." setup.py</command>&nbsp;: Cette
      commande est utilisée pour corriger un problème de construction avec la
      bibliothèque <application>GDBM</application>
    </para>
    
    <para><command>chmod ...</command>&nbsp;: Corrige les permissions pour que les bibliothèques soient 
    compatibles avec les autres bibliothèques.</para>

  </sect2>

  <sect2 role="configuration">
    <title>Configurer Python 2</title>

    <para>Pour que <command>python</command> trouve la
    documentation installée, vous devez ajouter la variable d'environnement
    suivante au profil individuel de l'utilisateur ou du système global&nbsp;:</para>

<screen role="root"><userinput>export PYTHONDOCS=/usr/share/doc/Python-&python2-version;</userinput></screen>

  </sect2>

  <sect2 role="content">
    <title>Contenu</title>

    <segmentedlist>
      <segtitle>Programmes installés</segtitle>
      <segtitle>Bibliothèques installées</segtitle>
      <segtitle>Répertoires installés</segtitle>

      <seglistitem>
        <seg>
          2to3, pydoc, python, python-config, python&python2-majorver;,
          python&python2-majorver;-config, smtpd.py, et éventuellement
          si <application>Tk</application> est installé, idle
        </seg>
        <seg>
          libpython&python2-majorver;.so et de nombreux modules installés dans
          /usr/lib/python&python2-majorver;/lib-dynload
        </seg>
        <seg>
          /usr/include/python&python2-majorver;,
          /usr/lib/python&python2-majorver;, et
          /usr/share/doc/python-&python2-version;</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Descriptions courtes</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="python2-2to3">
        <term><command>2to3</command></term>
        <listitem>
          <para>
            est un programme <application>Python</application> qui lit les codes sources
            <application>Python 2.x</application> et applique une série de corrections
	    pour le transformer en un code <application>Python 3.x</application> valide.
          </para>
         <indexterm zone="python2 python2-2to3">
            <primary sortas="b-2to3">2to3</primary>
          </indexterm>
        </listitem>
      </varlistentry>


      <varlistentry id="idle2">
        <term><command>idle</command></term>
        <listitem>
          <para>est un script enveloppe ouvrant un éditeur graphique de
          <application>Python</application>.</para>
          <indexterm zone="python2 idle2">
            <primary sortas="b-idle2">idle</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="pydoc2">
        <term><command>pydoc</command></term>
        <listitem>
          <para>est l'outil de documentation de <application>Python</application>.</para>
          <indexterm zone="python2 pydoc2">
            <primary sortas="b-pydoc2">pydoc</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="python">
        <term><command>python</command></term>
        <listitem>
          <para>est un langage de programmation interprété, interactif, orienté
          objet.</para>
          <indexterm zone="python2 python">
            <primary sortas="b-python2">python</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="python2-ver">
        <term><command>python&python2-majorver;</command></term>
        <listitem>
          <para>est un nom spécifique à la version du programme 
          <command>python</command>.</para>
          <indexterm zone="python2 python2-ver">
            <primary sortas="b-python&python2-majorver;">python&python2-majorver;</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="smtpd.py2">
        <term><command>smtpd.py</command></term>
        <listitem>
          <para>est une implémentation de proxy SMTP en 
          <application>Python</application>.</para>
          <indexterm zone="python2 smtpd.py2">
             <primary sortas="b-smtpd.py2">smtpd.py</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
