<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;
  <!ENTITY valgrind-download-http "http://valgrind.org/downloads/valgrind-&valgrind-version;.tar.bz2">
  <!ENTITY valgrind-download-ftp  " ">
  <!ENTITY valgrind-md5sum        "4ea62074da73ae82e0162d6550d3f129">
  <!ENTITY valgrind-size          "10.5 Mo">
  <!ENTITY valgrind-buildsize     "343 Mo (additional 228 Mo for tests)">
  <!ENTITY valgrind-time          "1.2 SBU (additional 5.1 SBU for tests)">
]>
<sect1 id="valgrind" xreflabel="Valgrind-&valgrind-version;">
  <?dbhtml filename="valgrind.html"?>
  <sect1info>
    <othername>$LastChangedBy: bdubbs $</othername>
    <date>$Date: 2014-03-16 00:51:18 +0100 (dim. 16 mars 2014) $</date>
  </sect1info>
  <title>Valgrind-&valgrind-version;</title>
  <indexterm zone="valgrind">
    <primary sortas="a-Valgrind">Valgrind</primary>
  </indexterm>
  <sect2 role="package">
    <title>Introduction à Valgrind</title>
    <para>
      <application>Valgrind</application> est une boite à outils d'instrumentation
      pour construire des outils d'analyses dynamiques. Il y a les outils de Valgrind
      qui peuvent automatiquement détecter plusieurs bogues de gestion de mémoires
      et de threading, et des programmes de profilages en détail. Valgrind peut 
      également être utilisé pour construire de nouveaux outils.
      ing dynamic analysis tools. There are Valgrind tools that can
      automatically detect many memory management et threading bugs, et
      profile programs in detail. Valgrind can also be used to build new
      tools. 
    </para>
    &lfs78_checked;
    <bridgehead renderas="sect3">Information sur le paquet </bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>
          Téléchargement (HTTP) : <ulink url="&valgrind-download-http;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Téléchargement (FTP) : <ulink url="&valgrind-download-ftp;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Somme de contrôle MD5 du téléchargement : &valgrind-md5sum;
        </para>
      </listitem>
      <listitem>
        <para>
          Taille du téléchargement : &valgrind-size;
        </para>
      </listitem>
      <listitem>
        <para>
          Estimation de l'espace disque requis : &valgrind-buildsize;
        </para>
      </listitem>
      <listitem>
        <para>
          Estimation du temps de construction : &valgrind-time;
        </para>
      </listitem>
    </itemizedlist>
    <bridgehead renderas="sect3">Dépendances de Valgrind</bridgehead>
    <bridgehead renderas="sect4">Facultative</bridgehead>
    <para role="optional">
      <xref linkend="boost"/>,
      <xref linkend="llvm"/> (avec Clang),
 <xref linkend="gdb"/> (pour les tests),  et
      <ulink url="http://www.openmp.org">OpenMP</ulink>
    </para>
    <bridgehead renderas="sect4">Facultative pour générer la documentation</bridgehead>
    <para role="optional">
      <xref linkend="libxslt"/> et 
      <xref linkend="texlive"/>  (ou <xref linkend="tl-installer"/>)
    </para>
    <para condition="html" role="usernotes">Notes utilisateur :
      <ulink url="&blfs-wiki;/valgrind"/>
    </para>
  </sect2>
  <sect2 role="installation">
    <title>Installation de Valgrind</title>
    <para>Installez <application>Valgrind</application> en lançant les commandes suivantes :
    </para>
<screen>
<userinput>sed -i 's|/doc/valgrind||' docs/Makefile.in &amp;&amp;
./configure --prefix=/usr \
            --datadir=/usr/share/doc/valgrind-&valgrind-version; &amp;&amp;
make</userinput>
</screen>
    <para>
      Pour tester le résultat, tapez : <command>make regtest</command>. Les tests peuvent planter
     si <xref linkend="gdb"/> n'est pas installé.
    </para>
    <para>
      Maintenant, en tant qu'utilisateur <systemitem class="username">root</systemitem> :
    </para>
<screen role="root">
<userinput>make install</userinput>
</screen>
  </sect2>
  <sect2 role="commands">
    <title>Explications des commandes</title>
    <para>
      <command>sed -i ... docs/Makefile.in </command> : This sed provides for 
      installing the documentation in a versioned directory.
    </para>
  </sect2>
  <sect2 role="content">
    <title>Contenu</title>
    <segmentedlist>
      <segtitle>Programmes installés</segtitle>
      <segtitle>Bibliothèque installée</segtitle>
      <segtitle>Répertoires installés</segtitle>
      <seglistitem>
        <seg>
          callgrind_annotate, 
          callgrind_control, 
          cg_annotate, 
          cg_diff, 
          cg_merge, 
          ms_print, 
          valgrind, 
          valgrind-di-server,
          valgrind-listener, et 
          vgdb
        </seg>
        <seg>
          libcoregrind-&lt;Arch&gt;-linux.a,
          libreplacemalloc_toolpreload-&lt;Arch&gt;-linux.a,
          libvex-&lt;Arch&gt;-linux.a,
          libvexmultiarch-amd64-linux.a,
          vgpreload_core-&lt;Arch&gt;-linux.so,
          vgpreload_drd-&lt;Arch&gt;-linux.so,
          vgpreload_exp-dhat-&lt;Arch&gt;-linux.so,
          vgpreload_exp-sgcheck-&lt;Arch&gt;-linux.so,
          vgpreload_helgrind-&lt;Arch&gt;-linux.so,
          vgpreload_massif-&lt;Arch&gt;-linux.so, and
          vgpreload_memcheck-&lt;Arch&gt;-linux.so, where
          &lt;Arch&gt; is x86, amd64        </seg>
        <seg>
          /usr/lib/valgrind,
          /usr/include/valgrind, et 
          /usr/share/doc/valgrind-&valgrind-version;
        </seg>
      </seglistitem>
    </segmentedlist>
    <variablelist>
      <bridgehead renderas="sect3">Description courte</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>
      <varlistentry id="valgrind-prog">
        <term><command>valgrind</command></term>
        <listitem>
          <para>
            is a program for debugging et profiling Linux executables.
          </para>
          <indexterm zone="valgrind valgrind-prog">
            <primary sortas="b-valgrind">valgrind</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="callgrind_annotate">
        <term><command>callgrind_annotate</command></term>
        <listitem>
          <para>
            takes an output file produced by the
            <application>Valgrind</application> tool Callgrind et prints the
            information in an easy-to-read form.
          </para>
          <indexterm zone="callgrind_annotate">
            <primary sortas="b-callgrind_annotate">callgrind_annotate</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="callgrind_control">
        <term><command>callgrind_control</command></term>
        <listitem>
          <para>
            controls programs being run by the <application>Valgrind</application> 
            tool Callgrind.
          </para>
          <indexterm zone="valgrind callgrind_control">
            <primary sortas="b-callgrind_control">callgrind_control</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="cg_annotate">
        <term><command>cg_annotate</command></term>
        <listitem>
          <para>
            is a post-processing tool for the <application>Valgrind</application> 
            tool Cachegrind.
          </para>
          <indexterm zone="valgrind cg_annotate">
            <primary sortas="b-cg_annotate">cg_annotate</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="cg_diff">
        <term><command>cg_diff</command></term>
        <listitem>
          <para>
            compares two Cachegrind output files.
          </para>
          <indexterm zone="valgrind cg_diff">
            <primary sortas="b-cg_diff">cg_diff</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="cg_merge">
        <term><command>cg_merge</command></term>
        <listitem>
          <para>
            merges multiple Cachegrind output files into one.
          </para>
          <indexterm zone="valgrind cg_merge">
            <primary sortas="b-cg_merge">cg_merge</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="ms_print">
        <term><command>ms_print</command></term>
        <listitem>
          <para>
            takes an output file produced by the <application>Valgrind</application>
            tool Massif et prints the information in an easy-to-read form.
          </para>
          <indexterm zone="valgrind ms_print">
            <primary sortas="b-ms_print">ms_print</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="valgrind-di-server">
        <term><command>valgrind-di-server</command></term>
        <listitem>
          <para>
            is a server that reads debuginfo from objects stored on a 
            different machine.
          </para>
          <indexterm zone="valgrind valgrind-di-server">
            <primary sortas="b-valgrind-di-server">valgrind-di-server</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="valgrind-listener">
        <term><command>valgrind-listener</command></term>
        <listitem>
          <para>
            listens on a socket for Valgrind commentary.
          </para>
          <indexterm zone="valgrind valgrind-listener">
            <primary sortas="b-valgrind-listener">valgrind-listener</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="vgdb">
        <term><command>vgdb</command></term>
        <listitem>
          <para>
            is an intermediary between Valgrind et GDB or a shell.
          </para>
          <indexterm zone="valgrind vgdb">
            <primary sortas="b-vgdb">vgdb</primary>
          </indexterm>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect2>
</sect1>
