<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;
  <!ENTITY subversion-download-http
  "http://archive.apache.org/dist/subversion/subversion-&subversion-version;.tar.bz2">
  <!ENTITY subversion-download-ftp  " ">
  <!ENTITY subversion-md5sum        "77349caf0ef5a612c9718c53516a9934">
  <!ENTITY subversion-size          "6.6 Mo">
  <!ENTITY subversion-buildsize     "150 Mo  (968 Mo supplémentaire pour les tests)">
  <!ENTITY subversion-time          "0.9 SBU (12.6 SBU supplémentaire pour les tests)">
]>
<sect1 id="subversion" xreflabel="Subversion-&subversion-version;">
  <?dbhtml filename="subversion.html"?>
  <sect1info>
    <othername>$LastChangedBy&nbsp;: bdubbs $</othername>
    <date>$Date&nbsp;: 2013-03-04 19:52:20 +0100 (Mon, 04 Mar 2013) $</date>
  </sect1info>
  <title>Subversion-&subversion-version;</title>
  <indexterm zone="subversion">
    <primary sortas="a-Subversion">Subversion</primary>
  </indexterm>
  <sect2 role="package">
    <title>Introduction à Subversion</title>
    <para><application>Subversion</application> est un système de contrôle
    des versions prévu pour être un superbe remplacement de
    <application>CVS</application> dans la communauté du libre. Il améliore et
    prend en charge les caractéristiques de <application>CVS</application>
    tout en conservant une interface identique pour ceux familiers 
    de <application>CVS</application>. Ces instructions installent le logiciels
    client et serveur utilisés pour manipuler un dépôt
    <application>Subversion</application>. La création d'un dépôt est couverte
    au <xref linkend="svnserver"/>.</para>
&lfs74_checked;
    <bridgehead renderas="sect3">Informations sur le paquet</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>Téléchargement (HTTP)&nbsp;: <ulink url="&subversion-download-http;"/></para>
      </listitem>
      <listitem>
        <para>Téléchargement (FTP)&nbsp;: <ulink url="&subversion-download-ftp;"/></para>
      </listitem>
      <listitem>
        <para>Somme de contrôle MD5 du téléchargement&nbsp;: &subversion-md5sum;</para>
      </listitem>
      <listitem>
        <para>Taille du téléchargement&nbsp;: &subversion-size;</para>
      </listitem>
      <listitem>
        <para>Estimation de l'espace disque requis&nbsp;: &subversion-buildsize;</para>
      </listitem>
      <listitem>
        <para>Estimation du temps de construction&nbsp;: &subversion-time;</para>
      </listitem>
    </itemizedlist>
 
    <bridgehead renderas="sect3">Dépendances de Subversion</bridgehead>
    <bridgehead renderas="sect4">Requises</bridgehead>
    <para role="required">
      <xref linkend="apr-util"/>,
      <xref linkend="sqlite"/>.
    </para>
    <bridgehead renderas="sect4">Recommandées</bridgehead>
    <para role="recommended">
      <xref linkend="openssl"/> et
      <xref linkend="serf"/> (pour gérer les adresses http:// et https://)
    </para>
    <bridgehead renderas="sect4">Facultatives</bridgehead>
    <para role="optional">
      <xref linkend="apache"/>,
       <xref linkend="cyrus-sasl"/>,
       <xref linkend="dbus"/>,
      <xref linkend="kdelibs"/> (pour <ulink url="http://utils.kde.org/projects/kwalletmanager/">KWallet</ulink> support),
      <xref linkend="python2"/> (avec le support sqlite pour les tests),
      <xref linkend="ruby"/>, et
      <xref linkend="swig"/> (pour construire les liaisons Perl, Python et Ruby)
    </para>
    <bridgehead renderas="sect4">Facultatives (pour les liaisons Java)</bridgehead>
    <para role="optional">
      Un de <xref linkend="openjdk"/>,
      
      <ulink url="http://www.inet.no/dante/">Dante</ulink>, or
      <ulink url="http://oss.software.ibm.com/developerworks/opensource/jikes/">Jikes</ulink>,
      et <xref linkend="junit"/> (pour tester les bindings Java)
    </para>
    <para condition="html" role="usernotes">Notes utilisateur&nbsp;:
    <ulink url="&blfs-wiki;/subversion"/></para>
  </sect2>
  <sect2 role="installation">
    <title>Installation de Subversion</title>
    <para>
      Installez <application>Subversion</application> en lançant les commandes
      suivantes&nbsp;:
    </para>
<screen>
<userinput>./configure --prefix=/usr    \
            --disable-static \
            --with-apache-libexecdir &amp;&amp;
make</userinput>
</screen>
    <para>Si vous avez installé <xref linkend="doxygen"/> et si vous souhaitez construire la
    documentation de l'API, lancez&nbsp;:
    <command>doxygen doc/doxygen.conf</command>.</para>
    <para>Si vous avez passé le paramètre <option>--enable-javahl</option> à
    <command>configure</command> et si vous souhaitez construire les liaisons Java, 
    tapez la commande:</para>
    <para>
      
<screen>
<command>make javahl</command>
</screen>
    </para>
      <para>
      Si vous avez un CPU multi-coeur et lancez normalement 
      <command>make</command> avec les compilations multiples (c'est à dire
      <command>make -j4</command>) alors un bogue dans le 
      <filename>Makefile</filename> empêchera les liaisons 
      <application>Perl</application> de compiler correctement. Corrigez le
      <filename>Makefile</filename> avec:
     </para>
    <para>
     
<screen>
<command>sed -i 's#Makefile.PL.in$#&amp; libsvn_swig_perl#' Makefile.in</command>
</screen>
    </para>
 
<para>
      Si vous voulez compiler les liaisons <application>Perl</application>,
      <application>Python2</application>, ou <application>Ruby</application>
      , tapez les commandes suivantes:
    </para>
    <para>
      <command>make swig-pl</command> pour <application>Perl</application>,
<screen>
<command>make swig-pl</command> # for <application>Perl</application>
<command>make swig-py \
     swig_pydir=/usr/lib/python&python2-majorver;/site-packages/libsvn \
     swig_pydir_extra=/usr/lib/python&python2-majorver;/site-packages/svn</command> # for <application>Python</application>
<command>make swig-rb</command> # for <application>Ruby</application>
</screen>
.
      
    </para>
    <para>Pour tester les résultats, lancez&nbsp;: <command>make -k check</command>. Un test
      (wc-queries-test) est connu pour échour avec la dernière version de SQLite.
      </para>
    <para>Pour tester les résultats de la construction des bindings Java,
    faites <command>make check-javahl</command>. Notez qu'il faut que
    l'environnement de tests <application>JUnit</application> soit installé.</para>
    <para>Pour tester les résultats de certains des
    bindings <application>SWIG</application>, vous pouvez utiliser 
    les commandes suivantes :
          <command>make check-swig-pl</command>,
      <command> make check-swig-py</command>, or
      <command>make check-swig-rb</command>.</para>
      <para>Maintenant, en tant qu'utilisateur <systemitem class="username">root</systemitem>&nbsp;:</para>
<screen role="root">
<userinput>make install &amp;&amp;
install -v -m755 -d /usr/share/doc/subversion-&subversion-version; &amp;&amp;
cp      -v -R       doc/* \
                    /usr/share/doc/subversion-&subversion-version;</userinput>
</screen>
        <para>
       Si vous construisez les liaisons Java, tapez les commandes suivantes en tant qu'utilisateur
       <systemitem class="username">root</systemitem> pour les installer:
     </para>
    <para>
     
<screen>
 <command>make install-javahl</command>
</screen>
    </para>
    <para>
      Si vous construisez les liaisons <application>Perl</application>,
      <application>Python2</application>, ou
      <application>Ruby</application>, tapez une des commandes suivantes
      en tant qu'utilisateur <systemitem class="username">root</systemitem>
      pour les installer:
    </para>
    <para>
      
<screen>
<command>make install-swig-pl</command>
<command>make install-swig-py \
      swig_pydir=/usr/lib/python&python2-majorver;/site-packages/libsvn \
      swig_pydir_extra=/usr/lib/python&python2-majorver;/site-packages/svn</command>
<command>make install-swig-rb</command>
</screen>
    </para>
  </sect2>
  <sect2 role="commands">
   <title>Explication des commandes</title>
    <para>
      <command>sed -i 's#Makefile.PL.in$...</command>: Corrige un
       bogue dans <filename>Makefile</filename>, qui empêche d'utiliser des travaux parallèles pour les liaisons Perl.
    </para>
<xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
      href="../../xincludes/static-libraries.xml"/>
    <para>
      <parameter>--with-apache-libexecdir</parameter>:
      Si <xref linkend="apache"/> est installé, les modules partagés de
      <application>Apache</application> sont construits.
      Ce paramètre permet d'avoir ces modules installé dans le répertoire
      configuré de <application>Apache</application> au lieu de 
      <filename class="directory">/usr/libexec</filename>. Il n'a pas d'effet
      si <application>Apache</application> n'est pas installé.
    </para>
    
  
  </sect2>
  <sect2 role="configuration">
    <title>Configuration de Subversion</title>
    <sect3 id="subversion-config">
      <title>Fichiers de configuration</title>
      <para><filename>~/.subversion/config</filename> et
      <filename>/etc/subversion/config</filename></para>
      <indexterm zone="subversion subversion-config">
        <primary sortas="e-AA.subversion/config">~/.subversion/config</primary>
      </indexterm>
      <indexterm zone="subversion subversion-config">
        <primary sortas="e-etc-subversion-config">/etc/subversion/config</primary>
      </indexterm>
    </sect3>
    <sect3>
      <title>Informations de configuration</title>
      <para><filename>/etc/subversion/config</filename> est le fichier de configuration
      général du système <application>Subversion</application>. Ce fichier est utilisé
      pour spécifier des paramètres par défaut pour différentes commandes
      <command>svn</command>.</para>
      <para><filename>~/.subversion/config</filename> est le fichier de configuration personnel de l'utilisateur.
      Il est utilisé pour remplacer les paramètres par défaut globaux réglés dans
      <filename>/etc/subversion/config</filename>.</para>
    </sect3>
  </sect2>
  <sect2 role="content">
    <title>Contenu</title>
    <segmentedlist>
      <segtitle>Programmes installés</segtitle>
      <segtitle>Bibliothèques installées</segtitle>
      <segtitle>Répertoires installés</segtitle>
      <seglistitem>
        <seg>
          svn, svnadmin, svndumpfilter, svnlook, svnmucc, svnrdump, svnserve,
          svnsync, et svnversion
        </seg>
        <seg>
          libsvn*-1.so et éventuellement une bibliothèque Java, mod_dav_svn.so
          et mod_authz_svn.so <application>Apache HTTP</application> modules DSO
          et divers modules <application>Perl</application> 
          <application>Python</application> et
          des modules <application>Ruby</application>.
        </seg>
        <seg>
          /usr/include/subversion-1,
          /usr/lib/perl5/site_perl/&lfs-perl-version;/auto/SVN (facultatif),
          /usr/lib/perl5/site_perl/&lfs-perl-version;/SVN (facultatif),
          /usr/lib/python&python2-majorver;/site-packages/libsvn (facultatif),
          /usr/lib/python&python2-majorver;/site-packages/svn (facultatif),
          /usr/lib/ruby/site_ruby/&lt;x.y&gt;/i686-linux/svn (facultatif),
          /usr/lib/ruby/site_ruby/&lt;x.y&gt;/svn (facultatif),
	   /usr/lib/svn-javahl (facultatif) et
          /usr/share/doc/subversion-&subversion-version;
        </seg>
      </seglistitem>
    </segmentedlist>
    <variablelist>
      <bridgehead renderas="sect3">Descriptions courtes</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>
      <varlistentry id="svn">
        <term><command>svn</command></term>
        <listitem>
          <para>est un programme de client en ligne de commande utilisé pour accéder
          à des dépôts <application>Subversion</application>.</para>
          <indexterm zone="subversion svn">
            <primary sortas="b-svn">svn</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="svnadmin">
        <term><command>svnadmin</command></term>
        <listitem>
          <para>est un outil pour la création, la modification ou la réparation 
          d'un dépôt <application>Subversion</application>.</para>
          <indexterm zone="subversion svnadmin">
            <primary sortas="b-svnadmin">svnadmin</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="svndumpfilter">
        <term><command>svndumpfilter</command></term>
        <listitem>
          <para>est un programme pour le filtrage des streamings de format dumpfile d'un dépôt 
          <application>Subversion</application>.</para>
          <indexterm zone="subversion svndumpfilter">
            <primary sortas="b-svndumpfilter">svndumpfilter</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="svnlook">
        <term><command>svnlook</command></term>
        <listitem>
          <para>est un outil pour examiner un dépôt
          <application>Subversion</application>.</para>
          <indexterm zone="subversion svnlook">
            <primary sortas="b-svnlook">svnlook</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="svnmucc">
        <term><command>svnmucc</command></term>
        <listitem>
          <para>
            est un client de commande de plusieurs URL pour <application>Subversion</application>.
          </para>
          <indexterm zone="subversion svnmucc">
            <primary sortas="b-svnmucc">svnmucc</primary>
          </indexterm>
        </listitem>
      </varlistentry>
     <varlistentry id="svnrdump">
        <term><command>svnrdump</command></term>
        <listitem>
          <para>
            est un outil pour écrire ou charger un dépôt
            <application>Subversion</application>.
          </para>
          <indexterm zone="subversion svnrdump">
            <primary sortas="b-svnrdump">svnrdump</primary>
          </indexterm>
        </listitem>
      </varlistentry>
       
      <varlistentry id="svnserve">
        <term><command>svnserve</command></term>
        <listitem>
          <para>est un programme de serveur autonome personnalisable capable
          de se lancer en tant qu'un processus démon ou s'il est invoqué
          par SSH.</para>
          <indexterm zone="subversion svnserve">
           <primary sortas="b-svnserve">svnserve</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="svnsync">
        <term><command>svnsync</command></term>
        <listitem>
          <para>est un outil de synchronisation de dépôts
          <application>Subversion</application>.</para>
          <indexterm zone="subversion svnsync">
            <primary sortas="b-svnsync">svnsync</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="svnversion">
        <term><command>svnversion</command></term>
        <listitem>
          <para>est utilisé pour signaler le numéro de version et l'état de la 
          copie d'un dépôt <application>Subversion</application>.</para>
          <indexterm zone="subversion svnversion">
            <primary sortas="b-svnversion">svnversion</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="libsvn_star-1">
        <term><filename class='libraryfile'>libsvn_*-1.so</filename></term>
        <listitem>
          <para>sont les bibliothèques de support utilisées par les programmes
          <application>Subversion</application>.</para>
          <indexterm zone="subversion libsvn_star-1">
            <primary sortas="c-libsvn_star">libsvn_*-1.so</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="mod_authz_svn">
        <term><filename class="libraryfile">mod_authz_svn.so</filename></term>
        <listitem>
          <para>est un module plug-in pour le serveur HTTP <application>Apache</application>,
          utilisé pour authentifier les utilisateurs sur un dépôt
          <application>Subversion</application> à travers Internet ou un réseau
          intranet.</para>
          <indexterm zone="subversion mod_authz_svn">
            <primary sortas="c-mod_authz_svn">mod_authz_svn.so</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="mod_dav_svn">
        <term><filename class="libraryfile">mod_dav_svn.so</filename></term>
        <listitem>
          <para>est un module plug-in pour le serveur HTTP <application>Apache</application>,
          utilisé pour rendre un dépôt <application>Subversion</application> disponible pour autrui à travers
          Internet or un réseau intranet.</para>
          <indexterm zone="subversion mod_dav_svn">
            <primary sortas="c-mod_authz_svn">mod_dav_svn.so</primary>
          </indexterm>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect2>
</sect1>
