<sect2>
<title>Installation of j2sdk</title>

<para>To install j2sdk, you need to download the following files into
your source directory:</para>
<screen>From the download location (registration required)
j2sdk-&cj2sdk-version;-src-scsl.zip
j2sdk-&cj2sdk-version;-motif-linux-i386.zip
j2sdk-&cj2sdk-version;-mozilla_headers-unix.zip
From <ulink url="ftp://ftp.linuxfromscratch.org/blfs-patch"/>
j2sdk-gcc31.patch</screen>

<para>You should be in the java directory under your source
directory.  Verifiy that environment is set as described in the
configuration section of the binary installation.  If not:</para>

<screen><userinput>export JAVA_HOME=$PWD/j2sdk&j2sdk-version;
export PATH=$PATH:$JAVA_HOME/bin</userinput></screen>

<para>Unzip and set the install of j2sdk by running the following commands:</para>

<para><screen><userinput>for i in ../j2sdk-1_4_0-*.zip; do unzip $i; done &amp;&amp;
patch -Np1 -i ../j2sdk-gcc31.patch &amp;&amp;
export SRC=$PWD &amp;&amp;
export ALT_BOOTDIR="$JAVA_HOME" &amp;&amp;
export ALT_MOTIF_DIR=$SRC &amp;&amp;
export ALT_MOZILLA_PATH=$SRC &amp;&amp;
export ALT_DEVTOOLS_PATH="/usr/bin" &amp;&amp;
export MILESTONE="blfscompiled" &amp;&amp;
export BUILD_NUMBER=`date +%s` &amp;&amp;
export DEV_ONLY=true &amp;&amp;
export OTHER_LDFLAGS="-lpthread" &amp;&amp;
unset JAVA_HOME &amp;&amp;
unset CLASSPATH &amp;&amp;
export OTHER_CFLAGS=${CFLAGS} &amp;&amp;
export OTHER_CXXFLAGS=${CXXFLAGS} &amp;&amp;
unset CFLAGS &amp;&amp;
unset CXXFLAGS</userinput></screen></para>

<para> Make and Install j2sdk with the following commands:</para>

<para><screen><userinput>cd $SRC/control/make &amp;&amp;
make &amp;&amp;
cd $SRC/control/build/linux-i386 &amp;&amp;
mkdir -p /opt/java &amp;&amp;
cp -a j2sdk-image /opt/java/j2sdk-&cj2sdk-version; &amp;&amp;
cd /opt/java &amp;&amp;
ln -s j2sdk-&cj2sdk-version; j2sdk</userinput></screen></para>

<para>Test the installation with the following commands:</para>

<para><screen><userinput>export JAVA_HOME=/opt/java/j2sdk  &amp;&amp;
$JAVA_HOME/jre/bin/java -version</userinput></screen></para>

<para>If you get a version line, a description of the runtime
environment and a desrciption of the client VM (virtual machine), you are ready
to go.</para>
</sect2>

