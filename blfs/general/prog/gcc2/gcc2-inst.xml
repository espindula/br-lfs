<sect2>
<title>Installation de gcc</title>

<para>Appliquez les deux correctifs, l'un pour corriger la compilation et
l'autre pour empêcher le script fixincludes de s'exécuter.</para>

<para><screen><userinput>patch -Np1 -i ../gcc-&gcc2-version;-1.patch &amp;&amp;
patch -Np1 -i ../gcc-&gcc2-version;-no-fixinc.patch</userinput></screen></para>

<para>L'équipe de développement de gcc recommende de construire dans un
répertoire séparé.</para>

<para><screen><userinput>mkdir ../gcc-build &amp;&amp;
cd ../gcc-build</userinput></screen></para>

<para>Configurez gcc pour ne construire que les compilateurs c et c++ et activez
les options en relation avec c++.</para>
<para><screen><userinput>../gcc-&gcc2-version;/configure \
--prefix=/opt/gcc2 \
--enable-shared --enable-languages=c,c++ \
--enable-threads=posix</userinput></screen></para>

<para>Compilez et installez gcc, puis supprimez les répertoires inutiles
(ajustez le tripé machine pour qu'ils correspondent à votre architecture).
</para>
<para><screen><userinput>make bootstrap &amp;&amp;
make install &amp;&amp;
ln -sf gcc /opt/gcc2/bin/cc &amp;&amp;
rm -rf /opt/gcc2/{i686-pc-linux-gnu,info,man}</userinput></screen></para>

<para>Assurez-vous que la bibliothèque a bien été installé.</para>
<para><screen><userinput>L=`find /opt/gcc2/lib -name "*libstdc++*.so" -type f` &amp;&amp;
IL=`basename $L`</userinput></screen></para>

<para>Déplacez les bibliothèques c++ dans le répertoire standard lib pour
éviter d'avoir à ajouter /opt/gcc2/lib à <userinput>/etc/ld.so.conf</userinput>.
</para>

<para><screen><userinput>for i in /opt/gcc2/lib/*.so*; do mv -f $i /usr/lib;
ln -sf /usr/lib/`basename $i` /opt/gcc2/lib; done</userinput></screen></para>

<para>Créez les liens symboliques requis par les packages commerciaux
pré-compilés.</para>
<para><screen><userinput>ln -sf $IL /usr/lib/libstdc++-libc6.1-1.so.2 &amp;&amp;
ln -sf $IL /usr/lib/libstdc++-libc6.2-2.so.3 &amp;&amp;
ln -sf $IL /usr/lib/libstdc++-libc6.3-2.so.3</userinput></screen></para>

</sect2>
