Révision 13048

fichiers modifiés :
   general/prog/prog.xml
   general/prog/junit.xml
   general/prog/openjdk.xml
   general/prog/apache-ant.xml
   introduction/welcome/changelog.xml
   general.ent

Log :
1 line Update to apache-ant 1.9.4 and rearange java page

Le robot a traité 24 % du commit anglais
Index: general.ent
===================================================================
--- general.ent	(revision 13047)
+++ general.ent	(revision 13048)
@@ -1,12 +1,12 @@
 <!-- $LastChangedBy$ $Date$ -->
 
+<!ENTITY day          "15">                   <!-- Always 2 digits -->
 <!ENTITY month        "05">                   <!-- Always 2 digits -->
 <!ENTITY year         "2014">
 <!ENTITY copyrightdate "2001-&year;">

Index: general/prog/apache-ant.xml
===================================================================
--- general/prog/apache-ant.xml	(revision 13047)
+++ general/prog/apache-ant.xml	(revision 13048)
@@ -63,6 +63,31 @@
       </listitem>
     </itemizedlist>
 
+    <bridgehead renderas="sect3">Additional Downloads</bridgehead>
+    <itemizedlist spacing="compact">
+      <listitem>
+        <para>
+          Required file: <ulink
+             url="http://anduin.linuxfromscratch.org/sources/other/junit-&junit-version;.jar">
+                  http://anduin.linuxfromscratch.org/sources/other/junit-&junit-version;.jar</ulink>
+        </para>
+      </listitem>
+      <listitem>
+        <para>
+          Required file: <ulink
+             url="http://hamcrest.googlecode.com/files/hamcrest-&hamcrest-version;.tgz">
+                  http://hamcrest.googlecode.com/files/hamcrest-&hamcrest-version;.tgz </ulink>
+        </para>
+      </listitem>
+      <listitem>
+        <para>Optional documentation: <ulink
+      url="https://archive.apache.org/dist/ant/manual/apache-ant-&apache-ant-version;-manual.tar.bz2">
+           https://archive.apache.org/dist/ant/manual/apache-ant-&apache-ant-version;-manual.tar.bz2
+                                      </ulink>
+        </para>
+      </listitem>
+    </itemizedlist>
     <bridgehead renderas="sect3">Apache Ant Dependencies</bridgehead>
 
     <bridgehead renderas="sect4">Required</bridgehead>
@@ -71,11 +96,11 @@
       <xref linkend="glib2"/>
     </para>
 
-<bridgehead renderas="sect4">Recommended</bridgehead>
+<!--    <bridgehead renderas="sect4">Recommended</bridgehead>
     <para role="recommended">
       <xref linkend="junit"/>
     </para>
+-->
     <para condition="html" role="usernotes">User Notes:
     <ulink url="&blfs-wiki;/apache-ant"/></para>
 
@@ -93,18 +118,25 @@
       in <filename>lib/optional</filename>.</para>
     </note>
 
-<para>If it is not possible to install the recommended
+<!--    <para>If it is not possible to install the recommended
     <application>JUnit</application> package, install
     <application>Apache Ant</application> by removing the reference to the test
     instructions (note that the tests will not be performed):</para>
 
 <screen><userinput>sed -i 's/jars,test-jar/jars/' build.xml</userinput></screen>
-<para>otherwise copy the <application>junit</application> jar file to the
+-->
+    <para>Unpack and copy the <application>junit</application> and
+    <application>hamcrest</application> jar files to the
     local directory tree.</para>
 
-<screen><userinput>cp -v /usr/share/java/junit-&junit-version;.jar lib/optional</userinput></screen>
+<screen><userinput>tar -xvf ../hamcrest-&hamcrest-version;.tgz &amp;&amp;
+cp -v ../junit-&junit-version;.jar \
+      hamcrest-&hamcrest-version;/hamcrest-core-&hamcrest-version;.jar lib/optional</userinput></screen>
 
+    <para>If you wish to install the documentation, unpack it:</para>
+<screen><userinput>tar -xvf ../apache-ant-&apache-ant-version;-manual.tar.bz2</userinput></screen>
     <para>Install <application>Apache Ant</application> by running the following
     commands:</para>
 
@@ -118,20 +150,25 @@
   <note><para>Make sure the JAVA_HOME environment variable is set for the
   <systemitem class="username">root</systemitem> user.</para></note>
 
+    <para>Install the documentation as the
+    <systemitem class="username">root</systemitem> user:</para>
+<screen role="root"><userinput>install -m755 -d /opt/ant-&apache-ant-version;/docs &amp;&amp;
+cp -Rv apache-ant-&apache-ant-version;/* /opt/ant-&apache-ant-version;/docs</userinput></screen>
   </sect2>
 
   <sect2 role="commands">
     <title>Command Explanations</title>
 
-<para><command>sed -i 's/jars...</command>: If the
+<!--    <para><command>sed -i 's/jars...</command>: If the
     <application>JUnit</application> package is not installed, the regression
     tests cannot be performed.</para>
+-->
+    <para><command>cp -v ... lib/optional</command>:
+    This command copies the JUnit and hamcrest jar files into the directory where
+    Apache Ant will look for it.</para>
 
-<para><command>cp -v
-/usr/share/java/junit-&junit-version;.jar ...</command>:
-This command copies the JUnit jar file into the directory where Apache Ant
-will look for it.</para>
     <para><command>./build.sh -Ddist.dir=/opt/ant-&apache-ant-version;
     dist</command>: This command does everything. It builds, tests, then
     installs the package into

Index: general/prog/junit.xml
===================================================================
--- general/prog/junit.xml	(revision 13047)
+++ general/prog/junit.xml	(revision 13048)
@@ -64,17 +64,10 @@
       <listitem>
         <para>
           Required file: <ulink 
-url="http://anduin.linuxfromscratch.org/sources/other/junit-4.11.jar">
-http://anduin.linuxfromscratch.org/sources/other/junit-4.11.jar</ulink>
+             url="http://hamcrest.googlecode.com/files/hamcrest-&hamcrest-version;.tgz">
+                  http://hamcrest.googlecode.com/files/hamcrest-&hamcrest-version;.tgz </ulink>
         </para>
       </listitem>
-<listitem>
-<para>
-Required file: <ulink 
-url="http://hamcrest.googlecode.com/files/hamcrest-1.3.tgz">
-http://hamcrest.googlecode.com/files/hamcrest-1.3.tgz </ulink>
-</para>
-</listitem>
     </itemizedlist>
  
     <bridgehead renderas="sect3">JUnit Dependencies</bridgehead>
@@ -93,7 +86,7 @@
   <sect2 role="installation">
     <title>Installation of JUnit</title>
 
-<para>To do a full build of JUnit from source, <xref linkend='apache-ant'/>
+<!--    <para>To do a full build of JUnit from source, <xref linkend='apache-ant'/>
     is required.  However JUnit is useful in building Apache Ant.  Copy the
     JUnit-&junit-version; jar file to get started.  Then come back to build
     from source, if desired.</para>
@@ -108,9 +101,12 @@
     with the source build and installation.  From the directory created when
     extracting the JUnit sources, place the required hamcrest jar files where
     needed and build the package:</para> 
+-->
+    <para>Place the required hamcrest jar files where needed and build the
+    package:</para>
 
-<screen><userinput>tar -xf ../hamcrest-1.3.tgz                              &amp;&amp;
-cp -v hamcrest-1.3/hamcrest-core-1.3{,-sources}.jar lib/ &amp;&amp;
+<screen><userinput>tar -xf ../hamcrest-&hamcrest-version;.tgz                              &amp;&amp;
+cp -v hamcrest-&hamcrest-version;/hamcrest-core-&hamcrest-version;{,-sources}.jar lib/ &amp;&amp;
 ant dist</userinput></screen>
 
     <para>Testing is automatically done as a part of the build step.</para>
@@ -123,7 +119,7 @@
 
 cp -v -R junit*/javadoc/*             /usr/share/doc/junit-&junit-version;  &amp;&amp;
 cp -v junit*/junit*.jar               /usr/share/java/junit-&junit-version; &amp;&amp;
-cp -v hamcrest-1.3/hamcrest-core*.jar /usr/share/java/junit-&junit-version;</userinput></screen>
+cp -v hamcrest-&hamcrest-version;/hamcrest-core*.jar /usr/share/java/junit-&junit-version;</userinput></screen>
     
     <para>Finally, update the <envar>CLASSPATH</envar> variable:</para>
 

Index: general/prog/openjdk.xml
===================================================================
--- general/prog/openjdk.xml	(revision 13047)
+++ general/prog/openjdk.xml	(revision 13048)
@@ -265,6 +265,7 @@
 
     <bridgehead renderas="sect4">Recommended</bridgehead>
     <para role="recommended">
+      <xref linkend="junit"/> and
       <xref linkend="nss"/>
     </para>
 

Index: introduction/welcome/changelog.xml
===================================================================
--- introduction/welcome/changelog.xml	(revision 13047)
+++ introduction/welcome/changelog.xml	(revision 13048)
@@ -45,6 +45,16 @@
 -->
 
     <listitem>
+      <para>May 15th, 2014</para>
+      <itemizedlist>
+        <listitem>
+          <para>[pierre] - Update to apache-ant-1.9.4 and rearange java pages.
+          Fixes <ulink url="&blfs-ticket-root;5032">#5032</ulink>.</para>
+        </listitem>
+      </itemizedlist>
+    </listitem>
+    <listitem>
       <para>May 14th, 2014</para>
       <itemizedlist>
         <listitem>

