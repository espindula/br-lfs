Révision 16786

fichiers modifiés :
M       scripts/summ-blfs.php
M       scripts/blfs-chapter39.php

Log :
Add proper check for qupzilla

Le robot a traité 24 % du commit anglais
Index: scripts/blfs-chapter39.php
===================================================================
--- scripts/blfs-chapter39.php	(révision 16785)
+++ scripts/blfs-chapter39.php	(révision 16786)
@@ -14,7 +14,7 @@
 
 $ignores = array();
 
-//$current="QScintilla-gpl";  // Debug
+//$current="qupzilla";  // Debug
 
 $regex = array();
 $regex[ 'libfm'   ] = "/^.*Download libfm-(\d[\d\.]+\d).tar.*$/";
@@ -102,6 +102,10 @@
    array( 'pkg'     => 'QScintilla-gpl',
           'match'   => '^.*$', 
           'replace' => "http://sourceforge.net/projects/pyqt/files/QScintilla2" ),
+   array( 'pkg'     => 'qupzilla',
+          'match'   => '^.*$', 
+          'replace' => "https://github.com/QupZilla/qupzilla/tags" ),
 );
 
 function get_packages( $package, $dirpath )
@@ -114,8 +118,7 @@
   if ( isset( $current ) && $book_index != "$current" ) return 0;
 
   if ( $book_index == 'obconf-qt' ||
-$book_index == 'juffed'    ||
-$book_index == 'qupzilla' ) 
+       $book_index == 'juffed' )
     return 'check manually';
 
   // Fix up directory path
@@ -168,6 +171,7 @@
             $book_index != "lxde-icon-theme" &&
             $book_index != "qtermwidget"     &&
             $book_index != "qterminal"       &&
+            $book_index != "qupzilla"        &&
             $book_index != "QScintilla-gpl" 
             ) // http
   {
@@ -299,6 +303,9 @@
   if ( $book_index == "QScintilla-gpl" )
     return find_max( $lines, "/QScintilla-/", "/^.*QScintilla-([\d\.]*\d).*$/" );
 
+  if ( $book_index == "qupzilla" )
+    return find_max( $lines, "/v\d/", "/^.*v([\d\.]*\d).*$/" );
   // Most packages are in the form $package-n.n.n
   // Occasionally there are dashes (e.g. 201-1)
 

