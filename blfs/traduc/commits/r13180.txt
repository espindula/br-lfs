Révision 13180

fichiers modifiés :
   introduction/welcome/changelog.xml
   networking/netprogs/nfs-utils.xml

Log :
Simplify the fstab options for nfs clients, and add some explanation.

Le robot a traité 6 % du commit anglais
Index: introduction/welcome/changelog.xml
===================================================================
--- introduction/welcome/changelog.xml	(révision 13179)
+++ introduction/welcome/changelog.xml	(révision 13180)
@@ -48,6 +48,10 @@
       <para>May 26th, 2014</para>
       <itemizedlist>
         <listitem>
+          <para>[ken] - Update fstab details / explanation for nfs clients.
+          Fixes <ulink url="&blfs-ticket-root;5041">#5041</ulink>.</para>
+        </listitem>
+        <listitem>
           <para>[ken] - Second attempt at fixes for both versions of
           gst-plugins-base with gcc-4.9.0 on i686.  Marked as "nodump" in the xml to
           avoid using it in other situations. 1.2.4 works, 0.10.36 compiles but I am

Index: networking/netprogs/nfs-utils.xml
===================================================================
--- networking/netprogs/nfs-utils.xml	(révision 13179)
+++ networking/netprogs/nfs-utils.xml	(révision 13180)
@@ -239,9 +239,25 @@
       and <filename class="directory">/usr</filename> partitions, add the
       following to the <filename>/etc/fstab</filename>:</para>
 
-<screen role="root"><userinput><replaceable>&lt;server-name&gt;</replaceable>:/home  /home nfs   rw,_netdev,rsize=8192,wsize=8192 0 0
-<replaceable>&lt;server-name&gt;</replaceable>:/usr   /usr  nfs   ro,_netdev,rsize=8192            0 0</userinput></screen>
+<screen role="root"><userinput><replaceable>&lt;server-name&gt;</replaceable>:/home  /home nfs   rw,_netdev 0 0
+<replaceable>&lt;server-name&gt;</replaceable>:/usr   /usr  nfs   ro,_netdev 0 0</userinput></screen>
 
+      <para>The options which can be used are specified in <command>man 5 nfs</command>.
+      If both the client and server are running recent versions of linux, most of the
+      options will be negotiated. You can specify either <literal>rw</literal> or
+      <literal>ro</literal>, <literal>_netdev</literal> if the filesystem is to be
+      automatically mounted at boot, or <literal>noauto</literal> (and perhaps
+      <literal>user</literal>) for other filesystems.</para>
+      <para>If the fileserver is not running a recent version of linux, you may need to
+      specifiy other options.</para>
+      <para>If you are using systemd, you may need to enable autofs v4 in your kernel,
+      and add the option <literal>comment=systemd.automount</literal>. Some machines
+      need this, because systemd tries to mount the external fs&apos;s before the network
+      is up, others do not need it. An alternative is for <systemitem
+      class="username">root</systemitem> to run <command>mount -a</command>.</para>
       <indexterm zone="nfs-utils nfs-utils-client-config">
         <primary sortas="e-etc-fstab">/etc/fstab</primary>
       </indexterm>

