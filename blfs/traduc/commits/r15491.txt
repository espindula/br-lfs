Révision 15491

fichiers modifiés :
   packages.ent
   pst/printing/cups-filters.xml
   pst/printing/cups.xml
   introduction/welcome/changelog.xml

Log :
Add patch to cups-filters to fix building with poppler-0.31.0. Update to cups-2.0.2.

Le robot a traité 32 % du commit anglais
Index: introduction/welcome/changelog.xml
===================================================================
--- introduction/welcome/changelog.xml	(révision 15490)
+++ introduction/welcome/changelog.xml	(révision 15491)
@@ -48,6 +48,14 @@
       <para>February 11th, 2015</para>
       <itemizedlist>
         <listitem>
+          <para>[bdubbs] - Add patch to cups-filters to fix
+          building with poppler-0.31.0.</para>
+        </listitem>
+        <listitem>
+          <para>[bdubbs] - Update to cups-2.0.2. Fixes
+          <ulink url="&blfs-ticket-root;6131">#6131</ulink>.</para>
+        </listitem>
+        <listitem>
           <para>[fernando] - Update to xorg-server-1.17.1. Fixes
           <ulink url="&blfs-ticket-root;6135">#6135</ulink>.</para>
         </listitem>

Index: pst/printing/cups-filters.xml
===================================================================
--- pst/printing/cups-filters.xml	(révision 15490)
+++ pst/printing/cups-filters.xml	(révision 15491)
@@ -73,6 +73,16 @@
       </listitem>
     </itemizedlist>
 
+    <bridgehead renderas="sect3">Additional Downloads</bridgehead>
+    <itemizedlist spacing="compact">
+      <listitem>
+        <para>
+          Required patch:
+          <ulink url="&patch-root;/cups-filters-&cups-filters-version;-poppler_fix-1.patch"/>
+        </para>
+      </listitem>
+    </itemizedlist>
     <bridgehead renderas="sect3">CUPS Filters Dependencies</bridgehead>
 
     <bridgehead renderas="sect4">Required</bridgehead>
@@ -119,14 +129,16 @@
       commands:
     </para>
 
-<screen><userinput>./configure --prefix=/usr                               \
---sysconfdir=/etc                           \
---localstatedir=/var                        \
---docdir=/usr/share/doc/cups-filters-&cups-filters-version; \
---without-rcdir                             \
---with-gs-path=/usr/bin/gs                  \
---with-pdftops-path=/usr/bin/gs             \
---disable-static                            &amp;&amp;
+<screen><userinput>patch -Np1 -i ../cups-filters-&cups-filters-version;-poppler_fix-1.patch &amp;&amp;
+./configure --prefix=/usr                   \
+            --sysconfdir=/etc               \
+            --localstatedir=/var            \
+            --without-rcdir                 \
+            --disable-static                \
+            --with-gs-path=/usr/bin/gs      \
+            --with-pdftops-path=/usr/bin/gs \
+            --docdir=/usr/share/doc/cups-filters-&cups-filters-version; &amp;&amp;
 make</userinput></screen>
 
     <para>
@@ -145,6 +157,11 @@
     <title>Command Explanations</title>
 
     <para>
+      <command>patch ...</command>: Allow the package to build with 
+      poppler-0.31.0 and later.
+    </para>
+    <para>
       <parameter>--without-rcdir</parameter>: This switch disables
       installation of the bundled bootscript which is not compatible
       with BLFS.

Index: pst/printing/cups.xml
===================================================================
--- pst/printing/cups.xml	(révision 15490)
+++ pst/printing/cups.xml	(révision 15491)
@@ -214,12 +214,10 @@
       Build <application>Cups</application> by running the following commands:
     </para>
 
-<screen><userinput>sed -i 's:555:755:g;s:444:644:g' Makedefs.in           &amp;&amp;
-sed -i '/MAN.*.EXT/s:.gz::g' \
-configure config-scripts/cups-manpages.m4       &amp;&amp;
-sed -i '/LIBGCRYPTCONFIG/d' config-scripts/cups-ssl.m4 &amp;&amp;
-sed -i 's@else /\* HAVE_AVAHI \*/@elif defined(HAVE_AVAHI)@' \
-test/ippserver.c                                &amp;&amp;
+<screen><userinput>sed -i 's:555:755:g;s:444:644:g' Makedefs.in                                  &amp;&amp;
+sed -i '/MAN.EXT/s:.gz::g' configure config-scripts/cups-manpages.m4          &amp;&amp;
+sed -i '/LIBGCRYPTCONFIG/d' config-scripts/cups-ssl.m4                        &amp;&amp;
+sed -i 's@else /\* HAVE_AVAHI \*/@elif defined(HAVE_AVAHI)@' test/ippserver.c &amp;&amp;
 
 aclocal  -I config-scripts &amp;&amp;
 autoconf -I config-scripts &amp;&amp;

