Révision 14964

fichiers modifiés :
   general/prog/java.xml
   general/prog/openjdk.xml
   introduction/welcome/changelog.xml
   packages.ent

Log :
Update to OpenJDK-1.8.0_25

Le robot a traité 16 % du commit anglais
 

Index: general/prog/openjdk.xml
===================================================================
--- general/prog/openjdk.xml	(révision 14963)
+++ general/prog/openjdk.xml	(révision 14964)




-<para>There are now two <application>OpenJDK</application> SDKs
-installed in <filename>/opt</filename>. You should decide on which one
-you would like to use as the default. For example if you decide to use
-the precompiled <application>OpenJDK</application>, do the following as
-the <systemitem class="username">root</systemitem> user:</para>
+      <para>
+        There are now two <application>OpenJDK</application> SDKs installed
+        in <filename class="directory">/opt</filename>. You should decide on
+        which one you would like to use as the default. For example if you
+        decide to use the precompiled <application>OpenJDK</application>, do
+        the following as the <systemitem class="username">root</systemitem>
+        user:
+      </para>
 
 <screen role="root"><userinput>ln -v -nsf OpenJDK-&openjdk-version;-bin /opt/jdk</userinput></screen>
 
@@ -564,8 +630,12 @@
     user:</para>
 
 <screen role="root"><userinput>cat >> /etc/profile.d/extrapaths.sh &lt;&lt; "EOF" &amp;&amp;
-# Begin Java addition
-<literal>pathappend /opt/jdk/man       MANPATH
+<literal># Begin Java addition
+if ! [ -n $MANPATH ]; then
+  MANPATH=:/opt/jdk/man
+else
+  pathappend /opt/jdk/man       MANPATH
+fi
 # End Java addition</literal>
 EOF
 
@@ -578,6 +648,7 @@
 # End Java addition</literal>
 EOF
 
+mkdir -p /var/cache/man
 mandb -c /opt/jdk/man</userinput></screen>
 
     <para>To test if the man pages are correctly installed, issue
@@ -590,24 +661,14 @@
       <title>Install or update the JRE Certificate Authority Certificates
       (cacerts) file</title>
 
-<para>Use the following procedure to check if the
-<filename>cacerts</filename> file was successfully installed during the
-OpenJDK build. Also, if the <xref linkend="cacerts"/> have been updated,
-the following instructions will generate a new JRE
-<filename>cacerts</filename> file. First, check if the
-<filename>cacerts</filename> have been successfully installed: </para>
+      <para>
+        Use the following procedure to install the
+        <filename>cacerts</filename> or to generate a new one if
+        <xref linkend="cacerts"/> have been updated. First, if it is not
+        already present, generate the <command>mkcacerts</command> script
+        as the <systemitem class="username">root</systemitem> user:
+      </para>
 
-<screen role="root"><userinput>cd /opt/jdk
-bin/keytool -list -keystore jre/lib/security/cacerts</userinput></screen>
-<para>At the prompt "Enter keystore password:", press the "Enter" key if
-there is no keystore password defined. If the
-<filename>cacerts</filename> were installed correctly, you will see a
-list of the certificates with related information for each one. If not,
-you need to manually install them. First, generate the
-<command>mkcacerts</command> script as the
-<systemitem class="username">root</systemitem> user:</para>
 <screen role="root"><userinput>cat &gt; /opt/jdk/bin/mkcacerts &lt;&lt; "EOF"
 <literal>#!/bin/sh
 # Simple script to extract x509 certificates and create a JRE cacerts file.
@@ -859,9 +920,9 @@
       <segtitle>Installed Directory</segtitle>
 
       <seglistitem>
-<seg>appletviewer, apt, extcheck, idlj, jar,
+        <seg>appletviewer, extcheck, idlj, jar,
         jarsigner, java, javac, javadoc, javah, javap, java-rmi.cgi,
-jcmd, jconsole, jdb, jhat, jinfo, jmap, jps,
+        jcmd, jconsole, jdb, jdeps, jhat, jinfo, jjs, jmap, jps,
         jrunscript, jsadebugd, jstack, jstat, jstatd, keytool, mkcacerts,
         native2ascii, orbd, pack200, policytool, rmic, rmid, rmiregistry,
         schemagen, serialver, servertool, tnameserv, unpack200,
@@ -880,23 +941,13 @@
       <varlistentry id="appletviewer">
         <term><command>appletviewer</command></term>
         <listitem>
-<para>allows you to run applets outside of a web browser.</para>
+          <para>allows to run applets outside of a web browser.</para>
           <indexterm zone="openjdk appletviewer">
             <primary sortas="b-appletviewer">appletviewer</primary>
           </indexterm>
         </listitem>
       </varlistentry>
 
-<varlistentry id="apt">
-<term><command>apt</command></term>
-<listitem>
-<para>is an annotation processing tool.</para>
-<indexterm zone="openjdk apt">
-<primary sortas="b-apt">apt</primary>
-</indexterm>
-</listitem>
-</varlistentry>
       <varlistentry id="extcheck">
         <term><command>extcheck</command></term>
         <listitem>
@@ -1040,10 +1091,21 @@
         </listitem>
       </varlistentry>
 
+      <varlistentry id="jdeps">
+        <term><command>jdeps</command></term>
+        <listitem>
+          <para>shows the package-level or class-level dependencies of
+          Java class files.</para>
+          <indexterm zone="openjdk jdeps">
+            <primary sortas="b-jdeps">jdeps</primary>
+          </indexterm>
+        </listitem>
+      </varlistentry>
       <varlistentry id="jhat">
         <term><command>jhat</command></term>
         <listitem>
@@ -1062,6 +1124,18 @@
         </listitem>
       </varlistentry>
 
+      <varlistentry id="jjs">
+        <term><command>jjs</command></term>
+        <listitem>
+          <para>is a command-line tool used to invoke the Nashorn engine. It
+          can be used to interpret one or several script files, or to run
+          an interactive shell.</para>
+          <indexterm zone="openjdk jjs">
+            <primary sortas="b-jjs">jjs</primary>
+          </indexterm>
+        </listitem>
+      </varlistentry>
       <varlistentry id="jmap">
         <term><command>jmap</command></term>
         <listitem>

Index: introduction/welcome/changelog.xml
===================================================================
--- introduction/welcome/changelog.xml	(révision 14963)
+++ introduction/welcome/changelog.xml	(révision 14964)
@@ -48,6 +48,8 @@
       <para>November 19th, 2014</para>
       <itemizedlist>
         <listitem>
+          <para>[pierre] - Update to OpenJDK-1.8.0_25. Fixes
+          <ulink url="&blfs-ticket-root;5686">#5686</ulink>.</para>
           <para>[fernando] - Update to unbound-1.5.0. Fixes
           <ulink url="&blfs-ticket-root;5838">#5838</ulink>.</para>
         </listitem>

