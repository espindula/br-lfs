Révision 16037

fichiers modifiés :
M       scripts/blfs-chapter25.php

Log :
There's no GTK+2 version of GOffice in BLFS anymore. Fix Qt4 detection - 4.8 is last major release, with 4.8.7 being the last release in the cycle.

Le robot a traité 3 % du commit anglais
Index: scripts/blfs-chapter25.php
===================================================================
--- scripts/blfs-chapter25.php	(révision 16036)
+++ scripts/blfs-chapter25.php	(révision 16037)
@@ -9,7 +9,6 @@
 $STOP_PACKAGE  = 'webkitgtk-2.8';
 
 $renames = array();
-$renames[ 'goffice'                        ] = 'goffice (gtk+2)';
 $renames[ 'gtk+'                           ] = 'gtk+2';
 $renames[ 'gtk+1'                          ] = 'gtk+3';
 $renames[ 'gtkmm'                          ] = 'gtkmm2';
@@ -140,6 +139,18 @@
   }
   else // http
   {
+    if ( $book_index == "qt-everywhere-opensource-src" )
+    {
+      // Customize http directories as needed
+      $dirpath  = rtrim  ( $dirpath, "/" );    // Trim any trailing slash
+      $position = strrpos( $dirpath, "/" );
+      $dirpath  = substr ( $dirpath, 0, $position ); // Up 1
+      $position = strrpos( $dirpath, "/" );
+      $dirlines = http_get_file( $dirpath );
+      $dir      = find_max( $dirlines, '/^[\d\.]+.*$/', '/^([\d\.]+).*$/' );
+      $dirpath .= "/$dir";
+    }
     if ( $book_index == "qt-everywhere-opensource-src1" )
     {
       // Customize http directories as needed

