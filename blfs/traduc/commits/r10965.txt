Révision 10965

fichiers modifiés :
   pst/printing/cups.xml

Log :
Add a fix for security issue in CUPS.

Le robot a traité 0 % du commit anglais
Index: pst/printing/cups.xml
===================================================================
--- pst/printing/cups.xml	(revision 10964)
+++ pst/printing/cups.xml	(revision 10965)
@@ -77,15 +77,21 @@
       <listitem>
         <para>
           Required patch:
-          <ulink url="&patch-root;/cups-&cups-version;-upstream-fixes-2.patch"/>
+          <ulink url="&patch-root;/cups-&cups-version;-CVE-2012-5519-1.patch"/>
         </para>
       </listitem>
       <listitem>
         <para>
           Required patch:
-          <ulink url="&patch-root;/cups-&cups-version;-blfs-1.patch"/>
+          <ulink url="&patch-root;/cups-&cups-version;-upstream-fixes-3.patch"/>
         </para>
       </listitem>
+      <listitem>
+        <para>
+          Required patch:
+          <ulink url="&patch-root;/cups-&cups-version;-blfs-2.patch"/>
+        </para>
+      </listitem>
     </itemizedlist>
 
     <bridgehead renderas="sect3">Cups Dependencies</bridgehead>
@@ -222,15 +228,22 @@
     <!-- docdir is also document root for cups administration interface, so
     let's just put it in /usr/share/cups/doc and create symlink in 
     /usr/share/doc -->
-<screen><userinput>patch -Np1 -i ../cups-&cups-version;-upstream-fixes-2.patch &amp;&amp;
-patch -Np1 -i ../cups-&cups-version;-blfs-1.patch &amp;&amp;
-./configure --with-rcdir=/tmp/cupsinit \
+    <!-- When not using libdir switch, CUPS will install libraries into /usr/lib64
+    on a 64 bit system, and since /usr/lib64 is symlink to /usr/lib it might
+    introduce some difficulties with packaging -->
+<screen><userinput>patch -Np1 -i ../cups-&cups-version;-CVE-2012-5519-1.patch &amp;&amp;
+patch -Np1 -i ../cups-&cups-version;-upstream-fixes-3.patch &amp;&amp;
+patch -Np1 -i ../cups-&cups-version;-blfs-2.patch &amp;&amp;
+aclocal -I config-scripts &amp;&amp;
+autoconf -I config-scripts &amp;&amp;
+./configure --libdir=/usr/lib \
+            --with-rcdir=/tmp/cupsinit \
             --with-docdir=/usr/share/cups/doc \
             --with-system-groups=lpadmin &amp;&amp;
 make</userinput></screen>
 
    <para>
-     This package does not have working testsuite.
+     This package does not have a working testsuite.
    </para>
 
 <!-- Testsuite is broken. It fails at colord tests, and before that I get

