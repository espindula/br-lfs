Révision 16776

fichiers modifiés :
M       scripts/summ-blfs.php
M       scripts/blfs-chapter11.php

Log :
Chapter 11 script fixups

Le robot a traité 35 % du commit anglais
Index: scripts/blfs-chapter11.php
===================================================================
--- scripts/blfs-chapter11.php	(révision 16775)
+++ scripts/blfs-chapter11.php	(révision 16776)
@@ -19,9 +19,13 @@
 $regex[ 'intltool'      ] = "/^.*Latest version is (\d[\d\.]+\d).*$/";
 $regex[ 'xscreensaver'  ] = "/^.*xscreensaver-(\d[\d\.]+\d).tar.*$/";
 
-//$current="ImageMagick";  // For debugging
+//$current="rep-gtk";  // For debugging
 
 $url_fix = array (
+   array( 'pkg'     => 'chrpath',
+          'match'   => '^.*$',
+          'replace' => "https://alioth.debian.org/projects/chrpath" ),
    array( //'pkg'     => 'gnome',
           'match'   => '^ftp:\/\/ftp.gnome',
           'replace' => "http://ftp.gnome" ),
@@ -127,6 +131,9 @@
      return 0;  // This is an error
   }
 
+  if ( $book_index == "chrpath" )
+    return find_max( $lines, '/0\./', '/^\s*([\d\.]+).*$/' );
   if ( $book_index == "hd2u" )
     return find_max( $lines, '/hd2u/', '/^.*hd2u-([\d\.]+).tgz.*$/' );
 
@@ -136,17 +143,17 @@
  if ( $book_index == "tidy-cvs" )
     return find_max( $lines, '/tidy-cvs/', '/^.*_(\d+).tar.*$/' );
 
-if ( $book_index == "rep-gtk_" )
-return find_max( $lines, '/rep-gtk/', '/^.*[_-]([\d\.]+).tar.*$/' );
+  if ( $book_index == "rep-gtk" )
+    return find_max( $lines, '/rep-gtk/', '/^.*rep-gtk[_-]([\d\.]+).tar.*$/' );
 
   // Most packages are in the form $package-n.n.n
   // Occasionally there are dashes (e.g. 201-1)

Index: scripts/summ-blfs.php
===================================================================
--- scripts/summ-blfs.php	(révision 16775)
+++ scripts/summ-blfs.php	(révision 16776)
@@ -79,13 +79,6 @@
        $pkg == "kde-baseapps"     ||
        $pkg == "kdepimlibs" ) continue;
 
-if ( $pkg == "goffice" ) 
-{
-$c[1] .= $c[2];
-$c[2]  = $c[3];
-$c[3]  = $c[4];
-}
   if ( $c[3] == "0" ) $c[3] .= " ";
   $x    = substr("chapter $c[0]: $c[1]                         ", 0, 32);
   $x   .= substr("$c[2]                          ",  0, 25);

