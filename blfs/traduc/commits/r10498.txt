Révision 10498

fichiers modifiés :
   introduction/welcome/changelog.xml
   general.ent
   pst/printing/cups.xml

Log :
Added a patch to fix installed files permissions for CUPS and removed instructions for changing default permissions of the USB backend. Also added instructions to remove filters that are now part of cups filters package and to create basic client configuration file. CUPS is now done.

Le robot a traité 23 % du commit anglais
Index: introduction/welcome/changelog.xml
===================================================================
--- introduction/welcome/changelog.xml	(revision 10497)
+++ introduction/welcome/changelog.xml	(revision 10498)
@@ -44,6 +44,15 @@
 
 -->
     <listitem>
+      <para>August 12th, 2012</para>
+      <itemizedlist>
+        <listitem>
+          <para>[krejzi] - Updated CUPS instructions.</para>
+        </listitem>
+      </itemizedlist>
+    </listitem>
+    <listitem>
       <para>August 9th, 2012</para>
       <itemizedlist>
         <listitem>

Index: pst/printing/cups.xml
===================================================================
--- pst/printing/cups.xml	(revision 10497)
+++ pst/printing/cups.xml	(revision 10498)
@@ -77,9 +77,15 @@
       <listitem>
         <para>
           Required patch:
-          <ulink url="&patch-root;/cups-&cups-version;-upstream-fixes-1.patch"/>
+          <ulink url="&patch-root;/cups-&cups-version;-upstream-fixes-2.patch"/>
         </para>
       </listitem>
+      <listitem>
+        <para>
+          Required patch:
+          <ulink url="&patch-root;/cups-&cups-version;-blfs-1.patch"/>
+        </para>
+      </listitem>
     </itemizedlist>
 
     <bridgehead renderas="sect3">Cups Dependencies</bridgehead>
@@ -211,12 +217,8 @@
     <!-- docdir is also document root for cups administration interface, so
     let's just put it in /usr/share/cups/doc and create symlink in 
     /usr/share/doc -->
-<screen><userinput>sed -e "s|MAN1EXT=1.gz|MAN1EXT=1|g" \
-    -e "s|MAN5EXT=5.gz|MAN5EXT=5|g" \
-    -e "s|MAN7EXT=7.gz|MAN7EXT=7|g" \
-    -e "s|MAN8EXT=8.gz|MAN8EXT=8|g" \
-    -i configure &amp;&amp;
-patch -Np1 -i ../cups-&cups-version;-upstream-fixes-1.patch &amp;&amp;
+<screen><userinput>patch -Np1 -i ../cups-&cups-version;-upstream-fixes-2.patch &amp;&amp;
+patch -Np1 -i ../cups-&cups-version;-blfs-1.patch &amp;&amp;
 ./configure --with-rcdir=/tmp/cupsinit \
             --with-docdir=/usr/share/cups/doc \
             --with-system-groups=lpadmin &amp;&amp;
@@ -248,18 +250,23 @@
 ln -sv ../cups/doc /usr/share/doc/cups-&cups-version;</userinput></screen>
 
     <para>
-      If you have built <application>Cups</application> with
-      <application>libusb</application> support, fix the
-      backend permissions so that it will be executed as the
-      <systemitem class="username">root</systemitem> user.
-      Run the following command as the
+      Create basic <application>Cups</application> client configuration
+      file by running the following command as the
       <systemitem class="username">root</systemitem> user:
     </para>
 
-<screen role="root"><userinput>chmod -v 744 /usr/lib/cups/backend/usb</userinput></screen>
+<screen role="root"><userinput>echo "ServerName /var/run/cups/cups.sock" > /etc/cups/client.conf</userinput></screen>
 
+    <para>
+      Remove filters that are now part of <application>Cups Filters</application>
+      package by running the following commands as the
+      <systemitem class="username">root</systemitem> user:
+    </para>
+<screen role="root"><userinput>rm -rf /usr/share/cups/banners &amp;&amp;
+rm -rf /usr/share/cups/data/testprint</userinput></screen>
   </sect2>
 
   <sect2 role="commands">

