Révision 11584

fichiers supprimés :
   kde/add/kdenetwork.xml

fichiers modifiés :
   general.ent
   xsoft/other/gnash.xml
   x/installing/x7driver.xml
   general/graphlib/giflib.xml
   general/graphlib/imlib2.xml
   introduction/welcome/changelog.xml
   multimedia/videoutils/mplayer.xml

Log :
giflib 5.0.4 and xf86-video-intel 2.21.14.

Le robot a traité 37 % du commit anglais
Index: general/graphlib/giflib.xml
===================================================================
--- general/graphlib/giflib.xml	(révision 11583)
+++ general/graphlib/giflib.xml	(révision 11584)
@@ -31,9 +31,7 @@
 
     <para>The <application>giflib</application> package contains libraries
     for reading and writing GIFs as well as programs for converting and
-working with GIF files. The libraries are useful for any graphics program
-wishing to deal with GIF files while the programs are useful for conversion
-purposes as well as cleaning up images.</para>
+    working with GIF files.</para>
 
     &lfs73_checked;
 
@@ -60,31 +58,24 @@
 
     <bridgehead renderas="sect4">Optional</bridgehead>
     <para role="optional">
-<xref linkend="x-window-system"/>,
-<xref linkend="xmlto"/> (for html documentation), and 
-<ulink url="http://www.cs.utah.edu/gdc/projects/urt/">Utah Raster Toolkit</ulink> (or 
-<ulink url="http://www.mcmurchy.com/urt/urt-3.1b.tar.gz">URT-3.1b</ulink>)</para>
+      <xref linkend="xmlto"/> (for html documentation)
+    </para>
 
     <para condition="html" role="usernotes">User Notes:
      <ulink url="&blfs-wiki;/giflib"/>
@@     @@
   <sect2 role="installation">
     <title>Installation of giflib</title>
 
-<para>If you don't have the optional <xref linkend="xmlto"/> package installed, disable
-building the html documentation:</para>
-<screen><userinput>sed -i "s/all: allhtml/all:/" doc/Makefile.in</userinput></screen>
     <para>Install <application>giflib</application> by running the following
     commands:</para>
 
 <screen><userinput>./configure --prefix=/usr --disable-static &amp;&amp;
 make</userinput></screen>
 
-<para>This package does not come with a test suite.</para>
+    <para>This package does not have a working test suite.</para>
 
     <para>Now, as the <systemitem class="username">root</systemitem> user:</para>
 
@@ -93,7 +84,7 @@
     <para>If you generated html documentation, install it as the
     <systemitem class="username">root</systemitem> user:</para>
 
-<screen role="root"><userinput>install -v -m755 -d         /usr/share/doc/giflib-&giflib-version;/html &amp;&amp;
+<screen role="root"><userinput>install -v -dm755           /usr/share/doc/giflib-&giflib-version;/html &amp;&amp;
 install -v -m644 doc/*.html /usr/share/doc/giflib-&giflib-version;/html</userinput></screen>
 
   </sect2>
@@ -115,10 +106,8 @@
       <segtitle>Installed Directory</segtitle>
 
       <seglistitem>
-<seg>gif2rgb, gif2x11, gifasm, gifbg, gifburst, gifclip,
-gifclrmp, gifcolor, gifcomb, gifcompose, giffiltr, giffix, gifflip, gifhisto,
-gifinfo, gifinter, gifinto, gifovly, gifpos, gifrotat, gifrsize, gifspnge,
-giftext, gifwedge, icon2gif, raw2gif, rgb2gif, and text2gif</seg>
+        <seg>gif2raw, gif2rgb, gifbuild, gifclrmp, gifecho, giffix, gifinto,
+        giftext and giftool</seg>
         <seg>libgif.so</seg>
         <seg>/usr/share/doc/giflib-&giflib-version;</seg>
       </seglistitem>
@@ -129,6 +118,16 @@
       <?dbfo list-presentation="list"?>
       <?dbhtml list-presentation="table"?>
 
+      <varlistentry id="gif2raw">
+        <term><command>gif2raw</command></term>
+        <listitem>
+          <para>converts images saved as GIF to raw pixel data.</para>
+          <indexterm zone="giflib gif2raw">
+            <primary sortas="b-gif2raw">gif2raw</primary>
+          </indexterm>
+        </listitem>
+      </varlistentry>
       <varlistentry id="gif2rgb">
         <term><command>gif2rgb</command></term>
         <listitem>
@@ -139,56 +138,16 @@
         </listitem>
       </varlistentry>
 
-<varlistentry id="gif2x11">
-<term><command>gif2x11</command></term>
+      <varlistentry id="gifbuild">
+        <term><command>gifbuild</command></term>
         <listitem>
-<para>displays images saved as GIF files under X Window System.</para>
-<indexterm zone="giflib gif2x11">
-<primary sortas="b-gif2x11">gif2x11</primary>
+          <para>dumps GIF data in a textual format, or undumps it to a GIF.</para>
+          <indexterm zone="giflib gifbuild">
+            <primary sortas="b-gifbuild">gifbuild</primary>
           </indexterm>
         </listitem>
       </varlistentry>
 
-<varlistentry id="gifasm">
-<term><command>gifasm</command></term>
-<listitem>
-<para>assembles multiple GIFs into one, or burst a multiple-image GIF.</para>
-<indexterm zone="giflib gifasm">
-<primary sortas="b-gifasm">gifasm</primary>
-</indexterm>
-</listitem>
-</varlistentry>
-<varlistentry id="gifbg">
-<term><command>gifbg</command></term>
-<listitem>
-<para>generates a single-color test pattern GIF.</para>
-<indexterm zone="giflib gifbg">
-<primary sortas="b-gifbg">gifbg</primary>
-</indexterm>
-</listitem>
-</varlistentry>
-<varlistentry id="gifburst">
-<term><command>gifburst</command></term>
-<listitem>
-<para>bursts a GIF image into subrectangles.</para>
-<indexterm zone="giflib gifburst">
-<primary sortas="b-gifburst">gifburst</primary>
-</indexterm>
-</listitem>
-</varlistentry>
-<varlistentry id="gifclip">
-<term><command>gifclip</command></term>
-<listitem>
-<para>clips or crops a GIF image.</para>
-<indexterm zone="giflib gifclip">
-<primary sortas="b-gifclip">gifclip</primary>
-</indexterm>
-</listitem>
-</varlistentry>
       <varlistentry id="gifclrmp">
         <term><command>gifclrmp</command></term>
         <listitem>
@@ -199,46 +158,16 @@
         </listitem>
       </varlistentry>
 
-<varlistentry id="gifcolor">
-<term><command>gifcolor</command></term>
+      <varlistentry id="gifecho">
+        <term><command>gifecho</command></term>
         <listitem>
-<para>generates color test patterns.</para>
-<indexterm zone="giflib gifcolor">
-<primary sortas="b-gifcolor">gifcolor</primary>
+          <para>generates a GIF from ASCII text.</para>
+          <indexterm zone="giflib gifecho">
+            <primary sortas="b-gifecho">gifecho</primary>
           </indexterm>
         </listitem>
       </varlistentry>
 
-<varlistentry id="gifcomb">
-<term><command>gifcomb</command></term>
-<listitem>
-<para>combines two GIF images of exactly the same size into one.</para>
-<indexterm zone="giflib gifcomb">
-<primary sortas="b-gifcomb">gifcomb</primary>
-</indexterm>
-</listitem>
-</varlistentry>
-<varlistentry id="gifcompose">
-<term><command>gifcompose</command></term>
-<listitem>
-<para>uses giflib tools to compose images.</para>
-<indexterm zone="giflib gifcompose">
-<primary sortas="b-gifcompose">gifcompose</primary>
-</indexterm>
-</listitem>
-</varlistentry>
-<varlistentry id="giffiltr">
-<term><command>giffiltr</command></term>
-<listitem>
-<para>is a template for filtering a GIF sequentially.</para>
-<indexterm zone="giflib giffiltr">
-<primary sortas="b-giffiltr">giffiltr</primary>
-</indexterm>
-</listitem>
-</varlistentry>
       <varlistentry id="giffix">
         <term><command>giffix</command></term>
         <listitem>
@@ -249,47 +178,6 @@
         </listitem>
       </varlistentry>
 
-<varlistentry id="gifflip">
-<term><command>gifflip</command></term>
-<listitem>
-<para>flips a GIF image along the X or Y axis or
-rotates an image by 90 degrees.</para>
-<indexterm zone="giflib gifflip">
-<primary sortas="b-gifflip">gifflip</primary>
-</indexterm>
-</listitem>
-</varlistentry>
-<varlistentry id="gifhisto">
-<term><command>gifhisto</command></term>
-<listitem>
-<para>generate a color-frequency histogram from a GIF.</para>
-<indexterm zone="giflib gifhisto">
-<primary sortas="b-gifhisto">gifhisto</primary>
-</indexterm>
-</listitem>
-</varlistentry>
-<varlistentry id="gifinfo">
-<term><command>gifinfo</command></term>
-<listitem>
-<para>gives information about a GIF file.</para>
-<indexterm zone="giflib gifinfo">
-<primary sortas="b-gifinfo">gifinfo</primary>
-</indexterm>
-</listitem>
-</varlistentry>
-<varlistentry id="gifinter">
-<term><command>gifinter</command></term>
-<listitem>
-<para>converts between interlaced and non-interlaced images.</para>
-<indexterm zone="giflib gifinter">
-<primary sortas="b-gifinter">gifinter</primary>
-</indexterm>
-</listitem>
-</varlistentry>
       <varlistentry id="gifinto">
         <term><command>gifinto</command></term>
         <listitem>
@@ -300,56 +188,6 @@
         </listitem>
       </varlistentry>
 
-<varlistentry id="gifovly">
-<term><command>gifovly</command></term>
-<listitem>
-<para>generates one composite GIF from a multiple-image GIF.</para>
-<indexterm zone="giflib gifovly">
-<primary sortas="b-gifovly">gifovly</primary>
-</indexterm>
-</listitem>
-</varlistentry>
-<varlistentry id="gifpos">
-<term><command>gifpos</command></term>
-<listitem>
-<para>changes a GIF's screen size or reconditions it.</para>
-<indexterm zone="giflib gifpos">
-<primary sortas="b-gifpos">gifpos</primary>
-</indexterm>
-</listitem>
-</varlistentry>
-<varlistentry id="gifrotat">
-<term><command>gifrotat</command></term>
-<listitem>
-<para>rotates a GIF through any desired angle.</para>
-<indexterm zone="giflib gifrotat">
-<primary sortas="b-gifrotat">gifrotat</primary>
-</indexterm>
-</listitem>
-</varlistentry>
-<varlistentry id="gifrsize">
-<term><command>gifrsize</command></term>
-<listitem>
-<para>resizes a GIF by deletion or duplication of bits.</para>
-<indexterm zone="giflib gifrsize">
-<primary sortas="b-gifrsize">gifrsize</primary>
-</indexterm>
-</listitem>
-</varlistentry>
-<varlistentry id="gifspnge">
-<term><command>gifspnge</command></term>
-<listitem>
-<para>is a template for filtering a GIF with in-core operations.</para>
-<indexterm zone="giflib gifspnge">
-<primary sortas="b-gifspnge">gifspnge</primary>
-</indexterm>
-</listitem>
-</varlistentry>
       <varlistentry id="giftext">
         <term><command>giftext</command></term>
         <listitem>
@@ -360,59 +198,18 @@
         </listitem>
       </varlistentry>
 
-<varlistentry id="gifwedge">
-<term><command>gifwedge</command></term>
+      <varlistentry id="giftool">
+        <term><command>giftool</command></term>
         <listitem>
-<para>creates a test GIF image resembling a color monitor test pattern.</para>
-<indexterm zone="giflib gifwedge">
-<primary sortas="b-gifwedge">gifwedge</primary>
+          <para>is a GIF transformation tool.</para>
+          <indexterm zone="giflib giftool">
+            <primary sortas="b-giftool">giftool</primary>
           </indexterm>
         </listitem>
       </varlistentry>
 
-<varlistentry id="icon2gif">
-<term><command>icon2gif</command></term>
-<listitem>
-<para>is a converter/deconverter to/from an editable text format.</para>
-<indexterm zone="giflib icon2gif">
-<primary sortas="b-icon2gif">icon2gif</primary>
-</indexterm>
-</listitem>
-</varlistentry>
-<varlistentry id="raw2gif">
-<term><command>raw2gif</command></term>
-<listitem>
-<para>converts raw 8-bit image data into GIF files.</para>
-<indexterm zone="giflib raw2gif">
-<primary sortas="b-raw2gif">raw2gif</primary>
-</indexterm>
-</listitem>
-</varlistentry>
-<varlistentry id="rgb2gif">
-<term><command>rgb2gif</command></term>
-<listitem>
-<para>converts 24 bit images to a GIF image using
-color quantization.</para>
-<indexterm zone="giflib rgb2gif">
-<primary sortas="b-rgb2gif">rgb2gif</primary>
-</indexterm>
-</listitem>
-</varlistentry>
-<varlistentry id="text2gif">
-<term><command>text2gif</command></term>
-<listitem>
-<para>generates GIF images out of regular text in 8x8 font.</para>
-<indexterm zone="giflib text2gif">
-<primary sortas="b-text2gif">text2gif</primary>
-</indexterm>
-</listitem>
-</varlistentry>
       <varlistentry id="libgif">
-<term><filename class='libraryfile'>libgif.so</filename></term>
+        <term><filename class="libraryfile">libgif.so</filename></term>
         <listitem>
           <para>contains API functions required by the
           <application>giflib</application> programs and any other programs needing

Index: general/graphlib/imlib2.xml
===================================================================
--- general/graphlib/imlib2.xml	(révision 11583)
+++ general/graphlib/imlib2.xml	(révision 11584)
@@ -82,7 +82,8 @@
     <para>Install <application>Imlib2</application> by running the
     following commands:</para>
 
-<screen><userinput>./configure --prefix=/usr --disable-static &amp;&amp;
+<screen><userinput>sed -i "/DGifOpen/s:fd:&amp;, NULL:" src/modules/loaders/loader_gif.c &amp;&amp;
+./configure --prefix=/usr --disable-static &amp;&amp;
 make</userinput></screen>
 
     <para>This package does not come with a test suite.</para>
@@ -99,6 +100,12 @@
   <sect2 role="commands">
     <title>Command Explanations</title>
 
+    <para>
+      <command>sed -i "/DGifOpen/s:fd:&amp;, NULL:" ...</command>:
+      This sed fixes building with recent versions of
+      <application>Giflib</application>.
+    </para>
     <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
       href="../../xincludes/static-libraries.xml"/>
 

Index: introduction/welcome/changelog.xml
===================================================================
--- introduction/welcome/changelog.xml	(révision 11583)
+++ introduction/welcome/changelog.xml	(révision 11584)
@@ -50,6 +50,12 @@
           <para>[fernando] - Tag xsane for lfs73_checked, add
           xscanimage.desktop, add a note for xscanimage GIMP plugin</para>
         </listitem>
+        <listitem>
+          <para>[krejzi] - giflib 5.0.4.</para>
+        </listitem>
+        <listitem>
+          <para>[krejzi] - Xorg Intel Driver 2.21.14.</para>
+        </listitem>
       </itemizedlist>
     </listitem>
 

Index: multimedia/videoutils/mplayer.xml
===================================================================
--- multimedia/videoutils/mplayer.xml	(révision 11583)
+++ multimedia/videoutils/mplayer.xml	(révision 11584)
@@ -86,6 +86,21 @@
 
     <bridgehead renderas="sect3">Additional Downloads</bridgehead>
 
+    <itemizedlist spacing="compact">
+      <listitem>
+        <para>
+          Required patch:
+          <ulink url="&patch-root;/MPlayer-&mplayer-version;-giflib_fixes-1.patch"/>
+        </para>
+      </listitem>
+      <listitem>
+        <para>
+          Required patch:
+          <ulink url="&patch-root;/MPlayer-&mplayer-version;-live_fixes-1.patch"/>
+        </para>
+      </listitem>
+    </itemizedlist>
     <itemizedlist spacing='compact'>
       <title>Skins</title>
       <listitem>
@@ -249,7 +264,9 @@
         commands:
       </para>
 
-<screen><userinput>sed -i 's:libsmbclient.h:samba-4.0/&amp;:' configure stream/stream_smb.c &amp;&amp;
+<screen><userinput>patch -Np1 -i ../MPlayer-&mplayer-version;-giflib_fixes-1.patch &amp;&amp;
+patch -Np1 -i ../MPlayer-&mplayer-version;-live_fixes-1.patch &amp;&amp;
+sed -i 's:libsmbclient.h:samba-4.0/&amp;:' configure stream/stream_smb.c &amp;&amp;
 ./configure --prefix=/usr            \
             --confdir=/etc/mplayer   \
             --enable-dynamic-plugins \

Index: xsoft/other/gnash.xml
===================================================================
--- xsoft/other/gnash.xml	(révision 11583)
+++ xsoft/other/gnash.xml	(révision 11584)
@@ -131,6 +131,7 @@
 <screen><userinput>patch -Np1 -i ../gnash-&gnash-version;-CVE-2012-1175-1.patch &amp;&amp;
 sed -i '/^LIBS/s/\(.*\)/\1 -lboost_system/' \
   gui/Makefile.in utilities/Makefile.in &amp;&amp;
+sed -i "/DGifOpen/s:Data:&amp;, NULL:" libbase/GnashImageGif.cpp &amp;&amp;
 ./configure --prefix=/usr --sysconfdir=/etc               \
   --with-npapi-incl=/usr/include/npapi --enable-media=gst \
   --with-npapi-plugindir=/usr/lib/mozilla/plugins         \
@@ -158,6 +159,12 @@
     </para>
 
     <para>
+      <command>sed -i "/DGifOpen/s:Data:&amp;, NULL:" ...</command>:
+      This sed fixes building with recent versions of
+      <application>Giflib</application>.
+    </para>
+    <para>
       <option>--enable-media=gst</option>: This tells it to use Gstreamer for
       to play video and audio (--enable-media=ffmpeg is broken with
       FFmpeg-0.11.1).

