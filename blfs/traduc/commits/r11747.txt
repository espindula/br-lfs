Révision 11747

fichiers modifiés :
   pst/ps/psutils.xml
   pst/ps/fop.xml
   pst/ps/a2ps.xml
   pst/ps/enscript.xml
   pst/printing/cups.xml
   pst/typesetting/texlive.xml

Log :
LFS 7.4 tags Ensure gcc is used for cups

Le robot a traité 23 % du commit anglais
Index: pst/printing/cups.xml
===================================================================
--- pst/printing/cups.xml	(révision 11746)
+++ pst/printing/cups.xml	(révision 11747)
@@ -220,10 +220,12 @@
 <screen><userinput>patch -Np1 -i ../cups-&cups-version;-blfs-1.patch &amp;&amp;
 aclocal -I config-scripts &amp;&amp;
 autoconf -I config-scripts &amp;&amp;
-./configure --libdir=/usr/lib \
---with-rcdir=/tmp/cupsinit \
+CC=gcc \             
+./configure --libdir=/usr/lib                 \
+            --with-rcdir=/tmp/cupsinit        \
             --with-docdir=/usr/share/cups/doc \
            --with-system-groups=lpadmin      &amp;&amp;
 make</userinput></screen>
@@ -265,6 +267,11 @@
     <title>Command Explanations</title>
 
     <para>
+      <envar>CC=gcc</envar>: This environment variable ensures that gcc
+      is used if clang is installed.  The build fails with the clang compiler.
+    </para>
+    <para>
       <parameter>--with-rcdir=/tmp/cupsinit</parameter>: This switch tells
       the build process to install the shipped bootscript into
       <filename class="directory">/tmp</filename> instead of

Index: pst/ps/a2ps.xml
===================================================================
--- pst/ps/a2ps.xml	(révision 11746)
+++ pst/ps/a2ps.xml	(révision 11747)
@@ -36,7 +36,7 @@
     every input format into PostScript output. The application's name
     expands appropriately to <quote>all to PostScript</quote>.</para>
 
-&lfs73_checked;
+    &lfs74_checked;
 
     <caution>
       <para><application>a2ps</application> cannot convert UTF-8 encoded
@@ -114,13 +114,15 @@
     commands:</para>
 
 <screen><userinput>autoconf &amp;&amp;
-sed -i "s/GPERF --version |/&amp; head -n 1 |/" configure &amp;&amp;
-sed -i "s|/usr/local/share|/usr/share|" configure &amp;&amp;
-./configure --prefix=/usr \
+sed -i -e "s/GPERF --version |/&amp; head -n 1 |/" \
+       -e "s|/usr/local/share|/usr/share|" configure &amp;&amp;
+./configure --prefix=/usr  \
     --sysconfdir=/etc/a2ps \
---enable-shared \
---with-medium=letter &amp;&amp;
-make</userinput></screen>
+    --enable-shared        \
+    --with-medium=letter   &amp;&amp;
+make                       &amp;&amp;
+touch doc/*.info</userinput></screen>
 
     <para>To test the results, issue: <command>make check</command>.
     The <filename>printers.tst</filename> test will fail, as there is no default
@@ -179,6 +181,11 @@
     wider paper-handling margins. See <filename>/etc/a2ps/a2ps.cfg</filename>
     after installation.</para>
 
+    <para><command>touch doc/*.info</command>: This command avoids trying to
+    regenerate the info files. This is an older package and the current
+    .texi files will produce errors preventing <command>make install</command>
+    from working properly.</para>
   </sect2>
 
   <sect2 role="configuration">

Index: pst/ps/enscript.xml
===================================================================
--- pst/ps/enscript.xml	(révision 11746)
+++ pst/ps/enscript.xml	(révision 11747)
@@ -36,7 +36,7 @@
     <para><application>Enscript</application> converts ASCII text files
     to PostScript, HTML, RTF, ANSI and overstrikes.</para>
 
-&lfs73_checked;
+    &lfs74_checked;
 
     <caution>
       <para><application>Enscript</application> cannot convert UTF-8 encoded
@@ -95,8 +95,7 @@
 make &amp;&amp;
 
 pushd docs &amp;&amp;
-texi2html enscript.texi &amp;&amp;
-makeinfo --plaintext -o enscript.txt enscript.texi &amp;&amp;
+  makeinfo --plaintext -o enscript.txt enscript.texi &amp;&amp;
 popd</userinput></screen>
 
     <para>If you have <xref linkend="texlive"/> installed, you can create
@@ -110,7 +109,7 @@
 <screen role="root"><userinput>make install &amp;&amp;
 
 install -v -m755 -d /usr/share/doc/enscript-&enscript-version; &amp;&amp;
-install -v -m644    README* *.txt docs/*.{html,txt} \
+install -v -m644    README* *.txt docs/*.txt \
                     /usr/share/doc/enscript-&enscript-version;</userinput></screen>
 
     <para>If you built Postscript and PDF documentation, install it

Index: pst/ps/fop.xml
===================================================================
--- pst/ps/fop.xml	(révision 11746)
+++ pst/ps/fop.xml	(révision 11747)
@@ -51,7 +51,7 @@
     SVG, XML (area tree representation), print, AWT, MIF and ASCII text. The
     primary output target is PDF.</para>
 
-&lfs73_checked;
+    &lfs74_checked;
 
     <bridgehead renderas="sect3">Package Information</bridgehead>
     <itemizedlist spacing="compact">

Index: pst/ps/psutils.xml
===================================================================
--- pst/ps/psutils.xml	(révision 11746)
+++ pst/ps/psutils.xml	(révision 11747)
@@ -32,7 +32,7 @@
     <para><application>PSUtils</application> is a set of utilities to manipulate
     PostScript files.</para>
 
-&lfs73_checked;
+    &lfs74_checked;
 
     <bridgehead renderas="sect3">Package Information</bridgehead>
     <itemizedlist spacing="compact">

Index: pst/typesetting/texlive.xml
===================================================================
--- pst/typesetting/texlive.xml	(révision 11746)
+++ pst/typesetting/texlive.xml	(révision 11747)
@@ -39,7 +39,7 @@
     of macros, fonts and documentation; and support for typesetting in many
     different scripts from around the world.</para>
 
-&lfs73_checked;
+    &lfs74_checked;
 
     <bridgehead renderas="sect3">Package Information</bridgehead>
     <itemizedlist spacing="compact">

