Révision 10697

fichiers modifiés :
   introduction/welcome/changelog.xml
   networking/netlibs/geoclue.xml
   xincludes/gnome-old-sysconfdir.xml
   general.ent
   xsoft/other/balsa.xml
   xsoft/office/gnucash.xml
   gnome/deprecated/gnome-mime-data.xml
   gnome/deprecated/gnome-vfs.xml
   gnome/deprecated/orbit2.xml
   gnome/deprecated/libbonoboui.xml
   gnome/deprecated/libbonobo.xml
   gnome/deprecated/libgnomecanvas.xml
   gnome/deprecated/libgnomeui.xml
   gnome/deprecated/libgnome.xml
   general/genlib/slib.xml
   general/genlib/libidl.xml
   general/graphlib/libart_lgpl.xml

Log :
Update to gnucash-2.4.11 Tag several packages for 7.2. Formatting and other general touchups. Remove references to GNOME_PREFIX for several GNOME2 packages.

Le robot a traité 45 % du commit anglais
Index: general/genlib/slib.xml
===================================================================
--- general/genlib/slib.xml	(revision 10696)
+++ general/genlib/slib.xml	(revision 10697)
@@ -89,12 +89,15 @@
makeinfo -o slib.txt --plaintext slib.texi                      &amp;&amp;
 makeinfo -o slib.html --html --no-split slib.texi</userinput></screen>
 
+<!-- Thee are errors in slib.texi
     <para>If you have <xref linkend="texlive"/> installed and wish to build PDF
     or Postscript documentation, issue any or all of the following
     commands:</para>
@@ -102,24 +105,26 @@
 <screen><userinput>texi2pdf slib.texi &amp;&amp;
 texi2dvi slib.texi &amp;&amp;
 dvips -o slib.ps slib.dvi</userinput></screen>
+-->
     <para>This package does not come with a functional test suite.</para>
 
     <para>Now, as the <systemitem class="username">root</systemitem>
@@     @@
install -v -m755 -d /usr/share/doc/slib-&slib-version;             &amp;&amp;
 install -v -m644 ANNOUNCE FAQ README slib.{txt,html} /usr/share/doc/slib-&slib-version;</userinput></screen>
 
+<!--
     <para>If you built any of the optional documentation, install it using the
     following command as the <systemitem class="username">root</systemitem>
     user:</para>
 
 <screen role="root"><userinput>install -v -m644 slib.{pdf,dvi,ps} /usr/share/doc/slib-&slib-version;</userinput></screen>
-  </sect2>
+ --> 
+ </sect2>
 
   <sect2 role="commands">
     <title>Command Explanations</title>
@@ -141,9 +146,6 @@
     'printf)"</command>: This command creates a guile catalog of the
     <application>slib</application> files.</para>
 
-    <para><command>make ... install installinfo</command>: This command
-    installs the package and the <command>info</command> documentation into the
-    indicated directories.</para>
   </sect2>
 
   <sect2 role="content">

Index: gnome/deprecated/gnome-mime-data.xml
===================================================================
--- gnome/deprecated/gnome-mime-data.xml	(revision 10696)
+++ gnome/deprecated/gnome-mime-data.xml	(revision 10697)
@@ -77,9 +77,10 @@
     the following commands:</para>
 
 <screen><userinput>ORBit_prefix=$(pkg-config --variable=prefix ORBit-2.0) &amp;&amp;
-./configure --prefix=$$ORBit_prefix                    \
-            --sysconfdir=&gnome-etc-dir;               \
-            --mandir=$$ORBit_prefix/share/man          &amp;&amp;
+./configure --prefix=$ORBit_prefix            \
+            --sysconfdir=&gnome-old-etc-dir;    \
+            --mandir=$$ORBit_prefix/share/man &amp;&amp;
 make</userinput></screen>
 
     <para>This package does not come with a test suite.</para>
@@ -91,7 +92,7 @@
                     $ORBit_prefix/share/man/man5/gnome-vfs-mime.5</userinput></screen>
 
   </sect2>
+<!--
   <sect2 role="commands">
     <title>Command Explanations</title>
 
@@ -105,6 +106,7 @@
     href="../../xincludes/gnome-mandir.xml"/>
 
   </sect2>
+-->
 
   <sect2 role="content">
     <title>Contents</title>

Index: gnome/deprecated/libbonoboui.xml
===================================================================
--- gnome/deprecated/libbonoboui.xml	(revision 10696)
+++ gnome/deprecated/libbonoboui.xml	(revision 10697)
@@ -150,8 +152,9 @@
         <systemitem class="username">root</systemitem> user:
       </para>
 
-<screen role="root"><userinput>echo export LIBGLADE_MODULE_PATH=$(pkg-config \
-        --variable=prefix ORBit-2.0)/lib/libglade/2.0 &gt;&gt; /etc/profile</userinput></screen>
+<screen role="root"><userinput>echo export \
+   LIBGLADE_MODULE_PATH=$(pkg-config --variable=prefix ORBit-2.0)/lib/libglade/2.0 \
+   &gt;&gt; /etc/profile</userinput></screen>
   </sect2>
 
   <sect2 role="content">
@@ -166,10 +169,10 @@
         <seg>bonobo-browser and test-moniker</seg>
         <seg>libbonoboui-2.so and libbonobo.so Glade library</seg>
         <seg>
-          <envar>${GNOME_PREFIX}</envar>/include/libbonoboui-2.0/bonobo,
-          <envar>${GNOME_PREFIX}</envar>/share/doc/libbonoboui-2.24.3,
-          <envar>${GNOME_PREFIX}</envar>/share/gnome-2.0/ui and
-          <envar>${GNOME_PREFIX}</envar>/share/gtk-doc/html/libbonoboui
+          /usr/include/libbonoboui-2.0/bonobo,
+          /usr/share/doc/libbonoboui-2.24.3,
+          /usr/share/gnome-2.0/ui and
+          /usr/share/gtk-doc/html/libbonoboui
         </seg>
       </seglistitem>
     </segmentedlist>

Index: gnome/deprecated/libgnome.xml
===================================================================
--- gnome/deprecated/libgnome.xml	(revision 10696)
+++ gnome/deprecated/libgnome.xml	(revision 10697)
@@ -83,11 +83,12 @@
     <para>Install <application>libgnome</application> by running the following
     commands:</para>
 
-<screen><userinput>
-./configure --prefix=$(pkg-config --variable=prefix ORBit-2.0) \
-            --sysconfdir=&gnome-old-etc-dir;                                \
-            --localstatedir=/var/lib                           \
-            --mandir=$(pkg-config --variable=prefix ORBit-2.0)/share/man &amp;&amp;
+<screen><userinput>ORBit=$(pkg-config --variable=prefix ORBit-2.0) &amp;&amp;
+./configure --prefix=$ORBit                \
+            --sysconfdir=&gnome-old-etc-dir; \
+            --localstatedir=/var/lib       \
+            --mandir=$ORBit/share/man &amp;&amp;
 make</userinput></screen>
 
     <para>This package does not come with a test suite.</para>
@@ -110,14 +111,11 @@
     installation and properly record high scores in
     <filename class='directory'>/var/lib/games</filename>.</para>
 
-    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
-    href="../../xincludes/gnome-mandir.xml"/>
     <!-- change dashes to pluses, otherwise not treated as a comment!
     esound seems to have fallen out as a dep, probably because of pulse.
     <para><option>++disable-esd</option>: This parameter is required if

Index: gnome/deprecated/libgnomecanvas.xml
===================================================================
--- gnome/deprecated/libgnomecanvas.xml	(revision 10696)
+++ gnome/deprecated/libgnomecanvas.xml	(revision 10697)
@@ -123,7 +123,7 @@
       <seglistitem>
         <seg>None</seg>
         <seg>libgnomecanvas-2.{so,a}</seg>
-        <seg><envar>$GNOME_PREFIX</envar>/{include/libgnomecanvas-2.0/libgnomecanvas,
+        <seg>/usr/{include/libgnomecanvas-2.0/libgnomecanvas,
         share/gtk-doc/html/libgnomecanvas}</seg>
       </seglistitem>
     </segmentedlist>

Index: gnome/deprecated/libgnomeui.xml
===================================================================
--- gnome/deprecated/libgnomeui.xml	(revision 10696)
+++ gnome/deprecated/libgnomeui.xml	(revision 10697)
@@ -32,7 +32,7 @@
     <para>The <application>libgnomeui</application> package contains
     <filename class="libraryfile">libgnomeui</filename> libraries.</para>
 
-    &lfs70_built;
+    &lfs72_checked;
 
     <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
     href="../../xincludes/gnome2.xml"/>
@@ -155,8 +155,8 @@
       <seglistitem>
         <seg>None</seg>
         <seg>libgnomeui-2.{so,a} and libgnome.{so,a} Glade library</seg>
-        <seg><envar>$GNOME_PREFIX</envar>/{include/libgnomeui-2.0/libgnomeui,
-        share/gtk-doc/html/libgnomeui}</seg>
+        <seg>/usr/include/libgnomeui-2.0/libgnomeui,
+             /usr/share/gtk-doc/html/libgnomeui</seg>
       </seglistitem>
     </segmentedlist>
 

Index: gnome/deprecated/orbit2.xml
===================================================================
--- gnome/deprecated/orbit2.xml	(revision 10696)
+++ gnome/deprecated/orbit2.xml	(revision 10697)
@@ -97,12 +97,6 @@
   <sect2 role="commands">
     <title>Command Explanations</title>
 
-    <para><parameter>--prefix=$GNOME_PREFIX</parameter>: This is the base
-    installation for <application>GNOME-2</application> from which all future
-    package installations will receive their prefix parameter. Be sure that
-    <envar>$GNOME_PREFIX</envar> is set for this install or globally to your
-    install directory as described in the introduction of this Chapter.</para>
     <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
     href="../../xincludes/gnome-old-sysconfdir.xml"/>
 

Index: introduction/welcome/changelog.xml
===================================================================
--- introduction/welcome/changelog.xml	(revision 10696)
+++ introduction/welcome/changelog.xml	(revision 10697)
@@ -46,6 +46,10 @@
    <listitem>
       <para>September 26th, 2012</para>
       <itemizedlist>
+        <listitem>
+          <para>[bdubbs] - Update to gnucash-2.4.11. Fixes
+          <ulink url="&blfs-ticket-root;3469">#3469</ulink>.</para>
+        </listitem>
       <listitem>
         <para>[krejzi] - At-Spi2 Core 2.6.0.</para>
       </listitem>

Index: xsoft/office/gnucash.xml
===================================================================
--- xsoft/office/gnucash.xml	(revision 10696)
+++ xsoft/office/gnucash.xml	(revision 10697)
@@ -162,24 +162,28 @@
     <para>Install <application>GnuCash</application> by running the following
     commands:</para>
 
-<screen><userinput>patch -p1 &lt; ../gnucash-&gnucash-version;-guile-2_fixes-1.patch &amp;&amp;
-./configure --prefix=${GNOME_PREFIX} --sysconfdir=${GNOME_SYSCONFDIR} \
-  --disable-dbi \
-  --with-html-engine=webkit &amp;&amp;
+<screen><userinput>patch -Np1 -i ../gnucash-&gnucash-version;-guile-2_fixes-1.patch &amp;&amp;
+./configure --prefix=/usr           \
+            --sysconfdir=/etc/gnome \
+            --disable-dbi           \
+            --with-html-engine=webkit &amp;&amp;
 make</userinput></screen>
 
-    <para>
-      If you wish to create the API documentation in HTML format, you must
-      have <xref linkend="doxygen"/> and <xref linkend="graphviz"/> installed,
-      then issue: <command>make doc</command>. If you wish to create the API
-      Design Guide in several formats, you must have <xref linkend="texlive"/>
-      installed and issue: <command>make -C src/doc/design html pdf
-      ps</command>.
-    </para>
+    <para> If you wish to create the API documentation in HTML format, you must
+    have <xref linkend="doxygen"/> and <xref linkend="graphviz"/> installed,
+    then issue:</para>
+      
+<screen><userinput>make doc</userinput></screen>
+      
+      <para>If you wish to create the API Design Guide in several formats, you
+      must have <xref linkend="texlive"/> installed and issue:</para>
+      
+<screen><userinput>make -C src/doc/design html pdf ps</userinput></screen>
 
     <para>
      The test suite is currently broken due to problems with 
@@ -198,7 +202,7 @@
       user:
     </para>
 
-<screen><userinput>./configure --prefix=${GNOME_PREFIX} &amp;&amp;
+<screen><userinput>./configure --prefix=/usr &amp;&amp;
 make</userinput></screen>
 
     <para>
@@ -224,23 +228,21 @@
       <systemitem class="username">root</systemitem> user:
     </para>
 
-<screen role="root"><userinput>mkdir -p ${GNOME_PREFIX}/share/doc/gnucash-&gnucash-docs-version; &amp;&amp;
-cp -v -R guide/C/gnucash-guide/* ${GNOME_PREFIX}/share/doc/gnucash-&gnucash-docs-version; &amp;&amp;
-cp -v guide/C/gnucash-guide.pdf ${GNOME_PREFIX}/share/doc/gnucash-&gnucash-docs-version;</userinput></screen>
+<screen role="root"><userinput>mkdir -p                           /usr/share/doc/gnucash-&gnucash-docs-version; &amp;&amp;
+cp -v -R guide/C/gnucash-guide/*   /usr/share/doc/gnucash-&gnucash-docs-version; &amp;&amp;
+cp -v    guide/C/gnucash-guide.pdf /usr/share/doc/gnucash-&gnucash-docs-version;</userinput></screen>
   </sect2>
 
   <sect2 role="commands">
     <title>Command Explanations</title>
 
-    <para>
-      <parameter>--sysconfdir=${GNOME_SYSCONFDIR}</parameter>: This installs
-      configuration files in
-      <filename class="directory">${GNOME_SYSCONFDIR}/gnucash</filename> instead
-      of <filename class="directory">/usr/etc/gnucash</filename>.
-    </para>
+    <para><parameter>--sysconfdir=/etc/gnome</parameter>: This installs
+    configuration files in 
+    <filename class="directory">/etc/gnome/gnucash</filename> instead of 
+    <filename class="directory">/usr/etc/gnucash</filename>.</para>
 
     <para>
-      <command>--with-html-engine=webkit</command>: Use
+      <parameter>--with-html-engine=webkit</parameter>: Use
       <xref linkend="webkitgtk"/> (configured <option>--with-gtk=2.0</option>)
       instead of gtkhtml : the default is Gtkhtml-3 which does not build on
       current <application>Glib2</application> without various changes, and
@@ -296,9 +298,11 @@
           installed in <filename class="directory">/usr/lib/gnucash</filename>
         </seg>
         <seg>
-          ${GNOME_SYSCONFDIR}/gnucash, ${GNOME_PREFIX}/include/gnucash,
-          ${GNOME_PREFIX}/lib/gnucash, ${GNOME_PREFIX}/libexec/gnucash and
-          ${GNOME_PREFIX}/share/doc/gnucash-&gnucash-version;.
+          /opt/gnome/gnucash, 
+          /usr/include/gnucash,
+          /usr/lib/gnucash, 
+          /usr/libexec/gnucash and
+          /usr/share/doc/gnucash-&gnucash-version;.
         </seg>
       </seglistitem>
     </segmentedlist>

Index: xsoft/other/balsa.xml
===================================================================
--- xsoft/other/balsa.xml	(revision 10696)
+++ xsoft/other/balsa.xml	(revision 10697)
@@ -107,8 +107,8 @@
     <para>Install <application>Balsa</application> by running the following
     commands:</para>
 
-<screen><userinput>./configure --prefix=$GNOME_PREFIX   \
-            --sysconfdir=$GNOME_SYSCONFDIR \
+<screen><userinput>./configure --prefix=/usr            \
+            --sysconfdir=/etc/gnome  \
             --localstatedir=/var/lib \
             --with-rubrica           \
             --without-html-widget    \
@@ -130,12 +130,6 @@
   <sect2 role="commands">
     <title>Command Explanations</title>
 
-    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
-    href="../../xincludes/gnome-prefix.xml"/>
-    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
-    href="../../xincludes/gnome-sysconfdir.xml"/>
     <para><parameter>--with-rubrica</parameter>: This parameter is used
     to provide Rubrica2 address book support.</para>
 

