Révision 14890

fichiers modifiés :
   introduction/welcome/changelog.xml
   xsoft/office/libreoffice.xml
   general/genlib/qca.xml

Log :
Make man pages for qca and libreoffice accessible

Le robot a traité 2 % du commit anglais
Index: general/genlib/qca.xml
===================================================================
--- general/genlib/qca.xml	(révision 14889)
+++ general/genlib/qca.xml	(révision 14890)
@@ -97,10 +97,11 @@
 <screen><userinput>mkdir build &amp;&amp;
 cd    build &amp;&amp;
 
-cmake -DCMAKE_INSTALL_PREFIX=&qt4-dir; \
--DCMAKE_BUILD_TYPE=Release     \
--DQT4_BUILD=ON                 \
-..                             &amp;&amp;
+cmake -DCMAKE_INSTALL_PREFIX=&qt4-dir;            \
+      -DCMAKE_BUILD_TYPE=Release                \
+      -DQT4_BUILD=ON                            \
+      -DQCA_MAN_INSTALL_DIR:PATH=/usr/share/man \
+      ..                                        &amp;&amp;
 
 make</userinput></screen>
 
@@ -121,6 +122,9 @@
     <para><parameter>-DCMAKE_BUILD_TYPE=Release</parameter>: This switch is
     used to force building with Qt4 even if Qt5 is found.</para>
 
+    <para><parameter>-DQCA_MAN_INSTALL_DIR:PATH=/usr/share/man</parameter>: 
+    Install the qca man page in the normal location.</para>
   </sect2>
 
   <sect2 role="content">

Index: introduction/welcome/changelog.xml
===================================================================
--- introduction/welcome/changelog.xml	(révision 14889)
+++ introduction/welcome/changelog.xml	(révision 14890)
@@ -48,6 +48,11 @@
       <para>November 12th, 2014</para>
       <itemizedlist>
         <listitem>
+          <para>[bdubbs] - Make man pages for qca and libreoffice
+          accessible. Fixes
+          <ulink url="&blfs-ticket-root;5807">#5807</ulink>.</para>
+        </listitem>
+        <listitem>
           <para>[fernando] - Update to firefox-33.1. Fixes
           <ulink url="&blfs-ticket-root;5806">#5806</ulink>.</para>
         </listitem>

Index: xsoft/office/libreoffice.xml
===================================================================
--- xsoft/office/libreoffice.xml	(révision 14889)
+++ xsoft/office/libreoffice.xml	(révision 14890)
@@ -42,7 +42,7 @@
   dependencies (with-system... -->
 ]>
 
-<sect1 id="libreoffice" xreflabel="LibreOffice-&libreoffice-version;">
+<sect1 id="libreoffice" xreflabel="LibreOffice-&libreoffice-dlversion;">
   <?dbhtml filename="libreoffice.html"?>
 
   <sect1info>
@@ -50,7 +50,7 @@
     <date>$Date$</date>
   </sect1info>
 
-<title>LibreOffice-&libreoffice-version;</title>
+  <title>LibreOffice-&libreoffice-dlversion;</title>
 
   <indexterm zone="libreoffice">
     <primary sortas="a-LibreOffice">LibreOffice</primary>
@@ -444,22 +444,39 @@
                     $LO_PREFIX/share/appdata</userinput></screen>
 
     <para>
-If installed in <filename class="directory">/opt/libreoffice-&libreoffice-dlversion;</filename>
-and the icons in the new items of the desktop menu are not properly displayed,
-optionally run the following commands, as
-<systemitem class="username">root</systemitem> user (it may be necessary
-to logout the session, before the icons appear):
+       If installed in <filename
+       class="directory">/opt/libreoffice-&libreoffice-dlversion;</filename>
+       and the icons in the new items of the desktop menu are not properly
+       displayed, optionally run the following commands, as <systemitem
+       class="username">root</systemitem> user (it may be necessary to log out
+       of the current session, before the icons appear):
     </para>
 
-<screen role="root"><userinput>mkdir -pv /usr/share/pixmaps &amp;&amp;
+<screen role="root"><userinput>if [ "$LO_PREFIX" != "/usr" ]; then
+   mkdir -pv /usr/share/pixmaps 
 
-for i in writer base calc draw impress math startcenter writer
-do
-ln -svf /opt/libreoffice-&libreoffice-dlversion;/share/icons/hicolor/32x32/apps/libreoffice-$i.png \
-/usr/share/pixmaps/
-done
-unset i</userinput></screen>
+   for i in writer base calc draw impress math startcenter writer
+   do
+     ln -svf $LO_PREFIX/share/icons/hicolor/32x32/apps/libreoffice-$i.png \
+             /usr/share/pixmaps/
+   done
+   unset i
+fi</userinput></screen>
 
+    <para>
+       If installed in <filename
+       class="directory">/opt/libreoffice-&libreoffice-dlversion;</filename>,
+       create links to the man pages.   Be sure the LO_PREFIX environment
+       variable is defined for the root user.
+    </para>
+<screen role="root"><userinput>if [ "$LO_PREFIX" != "/usr" ]; then
+   for i in $LO_PREFIX/share/man/man1/*; do
+      ln -svf $i /usr/share/man/man1/
+   done
+   unset i
+fi</userinput></screen>
   </sect2>
 
   <sect2 role="commands">

