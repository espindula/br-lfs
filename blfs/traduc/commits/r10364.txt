Révision 10364

fichiers modifiés :
   pst/printing/gs.xml

Log :
A note about --with-install-cups for the Ghostscript page

Le robot a traité 60 % du commit anglais
Index: pst/printing/gs.xml
===================================================================
--- pst/printing/gs.xml	(revision 10363)
+++ pst/printing/gs.xml	(revision 10364)
@@ -101,63 +101,85 @@
     <bridgehead renderas="sect3">Ghostscript Dependencies</bridgehead>
 
     <bridgehead renderas="sect4">Recommended</bridgehead>
-    <para role="optional"><xref linkend="expat"/>,
-    <xref linkend="freetype2"/>,
-    <xref linkend="libjpeg"/>,
-    <xref linkend="libpng"/>,
-    <xref linkend="libtiff"/>, and
-    <xref linkend="lcms2"/>.</para>
+    <para role="recommended">
+      <xref linkend="expat"/>,
+      <xref linkend="freetype2"/>,
+      <xref linkend="libjpeg"/>,
+      <xref linkend="libpng"/>,
+      <xref linkend="libtiff"/>, and
+      <xref linkend="lcms2"/>
+    </para>
 
     <bridgehead renderas="sect4">Optional</bridgehead>
-    <para role="optional"><xref linkend="cairo"/>,
-    <xref linkend="fontconfig"/>,
-    <xref linkend="gtk2"/>,
-    <xref linkend="cups"/>,
-    <xref linkend="jasper"/>,
-    <xref linkend="lcms"/>,
-    <xref linkend="libidn"/>,
-    <xref linkend="x-window-system"/>, and <ulink
-    url="http://packages.debian.org/unstable/source/libpaper">libpaper</ulink>.</para>
+    <para role="optional">
+      <xref linkend="cairo"/>,
+      <xref linkend="fontconfig"/>,
+      <xref linkend="gtk2"/>,
+      <xref linkend="cups"/>,
+      <xref linkend="jasper"/>,
+      <xref linkend="lcms"/>,
+      <xref linkend="libidn"/>,
+      <xref linkend="x-window-system"/> and
+      <ulink url="http://packages.debian.org/unstable/source/libpaper">libpaper</ulink>
+    </para>
 
    <para condition="html" role="usernotes">
      User Notes: <ulink url="&blfs-wiki;/gs"/>
@@     @@
   <sect2 role="installation">
     <title>Installation of Ghostscript</title>
 
-    <para>Install <application>GPL Ghostscript</application> by running the
-    following commands:</para>
+    <note>
+      <para>
+        The <application>Ghostscript</application> build system is not
+        user-friendly. In order to use system copies of various graphics
+        libraries, you must do it using unconventional methods.
+      </para>
+    </note>
 
-      <note>
-      <para>The <application>Ghostscript</application> build system is not
-      user-friendly. In order to use system copies of various graphics
-      libraries, you must do it using unconventional methods.</para>
-      </note>
-      <para><application>GPL Ghostscript</application> includes (old) copies of
+    <para>
+      <application>GPL Ghostscript</application> includes (old) copies of
       several libraries. Some of these seem to have been patched to fix known
       vulnerabilities, but others of these copies are less-well maintained.
       To ensure that any future fixes are applied throughout the whole system,
-      it is recommended that you install the released versions of these
+      it is recommended that you first install the released versions of these
       libraries and then configure <application>GPL Ghostscript</application>
      to link to them.
    </para>
@@     @@
 <screen><userinput>rm -rf expat freetype jpeg lcms2 libpng tiff</userinput></screen>
 
     <note>
-      <para>If you have a multicore computer and try to run make with multiple
-      jobs (eg, make -j4) then the build may fail due to race conditions in the
-      <application>Ghostscript</application> build system.</para>
+      <para>
+        If you have a multicore computer and try to run make with multiple
+        jobs (eg, make -j4) then the build may fail due to race conditions in
+        the <application>Ghostscript</application> build system. You can work
+        around that problem by simply running make again (eg,
+        <command>make -j4 || make -j4</command>).
+      </para>
     </note>
 
+    <note>
+      <para>
+        If you have installed Cups and your printer is <emphasis>not</emphasis>
+        a postscript printer you will need to add
+        <option>--with-install-cups</option> to the configure options below.
+        (This option makes Ghostscript compile and install the gstoraster filter
+        and the gstoraster.convs configuration file that allow Cups to convert a
+        PostScript file to raster.)
+      </para>
+    </note>
     <para>Compile <application>Ghostscript</application>:</para>
 
 <screen><userinput>rm -rf jasper lcms zlib &amp;&amp;
@@ -210,34 +241,45 @@
   <sect2 role="commands">
     <title>Command Explanations</title>
 
-    <para><command>rm -rf jasper lcms zlib</command>: The
-    <application>Ghostscript</application> build system defaults to using its
-    own version of <ulink url="http://www.openjpeg.org/">OpenJpeg</ulink> for
-    JPEG 2000 files <!-- I can't get it to compile using a system installed
-    version of openjpeg. It seems the ghostscript version has been heavily
-    modified... --> so we can all remove the jasper source. The default color
-    management system is now <application>lcms2</application> so the
-    <application>lcms</application> source is not needed.
-    <application>Zlib</application> was installed as part of LFS.</para>
+    <para>
+      <command>rm -rf jasper lcms zlib</command>: The
+      <application>Ghostscript</application> build system defaults to using its
+      own version of <ulink url="http://www.openjpeg.org/">OpenJpeg</ulink> for
+      JPEG 2000 files <!-- I can't get it to compile using a system installed
+      version of openjpeg. It seems the ghostscript version has been heavily
+      modified... --> so we can all remove the jasper source. The default color
+      management system is now <application>lcms2</application> so the
+      <application>lcms</application> source is not needed.
+      <application>Zlib</application> was installed as part of LFS.
+    </para>
 
    <para>
      <option>--with-system-libtiff</option>: Remove this option if you've not

