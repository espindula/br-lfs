Révision 16942

fichiers modifiés :
   x/installing/libinput.xml
   introduction/welcome/changelog.xml
   packages.ent
   xsoft/office/libreoffice.xml
   xsoft/graphweb/firefox.xml

Log :
• Firefox-44.0.1: still crashing with system cairo. Comment ac_add_options --enable-default-toolkit=cairo-gtk3. • Update to libinput-1.1.7. • Update to libreoffice-5.1.0 (libreoffice-5.1.0.3).

Le robot a traité 30 % du commit anglais
Index: introduction/welcome/changelog.xml
===================================================================
--- introduction/welcome/changelog.xml	(révision 16941)
+++ introduction/welcome/changelog.xml	(révision 16942)
@@ -48,6 +48,14 @@
       <para>February 10th, 2016</para>
       <itemizedlist>
         <listitem>
+          <para>[fernando] - Update to libreoffice-5.1.0 (libreoffice-5.1.0.3).
+          Fixes <ulink url="&blfs-ticket-root;7449">#7449</ulink>.</para>
+        </listitem>
+        <listitem>
+          <para>[fernando] - Update to libinput-1.1.7. Fixes
+          <ulink url="&blfs-ticket-root;7448">#7448</ulink>.</para>
+        </listitem>
+        <listitem>
           <para>[ken] - Add more external perl modules required by
           the testsuites of other modules. Note that Test::MockModule
           uses Module::Build.</para>

Index: xsoft/graphweb/firefox.xml
===================================================================
--- xsoft/graphweb/firefox.xml	(révision 16941)
+++ xsoft/graphweb/firefox.xml	(révision 16942)
@@ -189,7 +189,7 @@
 #ac_add_options --enable-gstreamer=1.0
 
 # Uncomment this option if you wish to build with gtk+-3
-ac_add_options --enable-default-toolkit=cairo-gtk3
+#ac_add_options --enable-default-toolkit=cairo-gtk3
 
 # Uncomment these lines if you have installed optional dependencies:
 #ac_add_options --enable-system-hunspell
@@ -229,8 +229,7 @@
 
 # From firefox-40, using system cairo causes firefox to crash
 # frequently when it is doing background rendering in a tab.
-# Apparently fixed at firefox-44.0.1
-ac_add_options --enable-system-cairo
+#ac_add_options --enable-system-cairo
 ac_add_options --enable-system-ffi
 ac_add_options --enable-system-pixman
 

Index: xsoft/office/libreoffice.xml
===================================================================
--- xsoft/office/libreoffice.xml	(révision 16941)
+++ xsoft/office/libreoffice.xml	(révision 16942)
@@ -150,13 +150,13 @@
           Translations size: &libreoffice-translations-size;
         </para>
       </listitem>
+<!--
       <listitem>
         <para>
           Required patch to use <xref linkend="boost"/>:
@@ -175,11 +175,13 @@
       <para>
         Most of these packages are recommended because if they're not installed,
         the build process will compile and install its own (often older)
-version.
+        version, with the side effect of increasing build and installed disk
+        space and build time.
       </para>
     </note>
 
     <para role="recommended">
+      <xref linkend="apr"/>,
       <xref linkend="boost"/> <!--(currently, broken with boost-1.60.0)-->,
       <xref linkend="clucene"/>,
       <xref linkend="cups"/>,
@@ -192,6 +194,7 @@
       <xref linkend="gtk2"/>,
       <xref linkend="harfbuzz"/>,
       <xref linkend="icu"/>,
+      <xref linkend="libatomic_ops"/>,
       <xref linkend="lcms2"/>,
       <xref linkend="librsvg"/>,
       <xref linkend="libxml2"/> and
@@ -204,8 +207,10 @@
       <xref linkend="openssl"/> or
       <xref linkend="gnutls"/>,
       <xref linkend="poppler"/>,
+      <xref linkend="postgresql"/>,
       <xref linkend="python3"/>,
-<xref linkend="redland"/>, and
+      <xref linkend="redland"/>,
+      <xref linkend="serf"/>, and
       <xref linkend="unixodbc"/>
     </para>
 
@@ -214,18 +219,16 @@
       <xref linkend="apache-ant"/>,
       <xref linkend="avahi"/>,
       <xref linkend="bluez"/>,
+      <xref linkend="dconf"/>,
       <xref linkend="desktop-file-utils"/>,
       <xref linkend="doxygen"/> (not relevant if using --disable-odk),
-<xref linkend="GConf"/>,
       <xref linkend="gdb"/>,
       <xref linkend="gtk3"/> (see <quote>Command Explanations</quote>),
       <xref linkend="kdelibs"/>,
-<xref linkend="libatomic_ops"/>,
       <xref linkend="mariadb"/> or <ulink url="http://www.mysql.com/">MySQL</ulink>,
       <xref linkend="mitkrb"/>,
       <xref linkend="nasm"/>,
       <xref linkend="openjdk"/>,
-<xref linkend="postgresql"/>,
       <xref linkend="sane"/>,
       <xref linkend="valgrind"/>,
       <xref linkend="vlc"/>,
@@ -238,6 +241,7 @@
       <ulink url="http://sourceforge.net/projects/cppunit/">Cppunit</ulink>,
       <ulink url="http://www.firebirdsql.org/">Firebird</ulink>,
       <ulink url="http://downloads.sourceforge.net/glew/">glew (OpenGL Extension Wrangler Library)</ulink>,
+      <ulink url="https://github.com/behdad/glyphy">glyphy</ulink>,
       <ulink url="http://ftp.gnome.org/pub/gnome/sources/gnome-vfs/">Gnome VFS</ulink>,
 
       <ulink url="https://code.google.com/p/hamcrest/">hamcrest</ulink>,
@@ -362,12 +366,12 @@
     </para>
 
 <screen><userinput>export LO_PREFIX=<replaceable>&lt;PREFIX&gt;</replaceable></userinput></screen>
+<!--
     <para>
      Fix build failures introduced by <application>boost-&boost-version;</application>:
     </para>
@@ -393,21 +397,21 @@
 
 ./autogen.sh --prefix=$LO_PREFIX         \
              --sysconfdir=/etc           \
---with-vendor="BLFS"        \
---with-lang="fr en-GB"      \
+             --with-vendor=BLFS          \
+             --with-lang=fr en-GB        \
              --with-help                 \
              --with-myspell-dicts        \
              --with-alloc=system         \
              --without-java              \
              --without-system-dicts      \
---disable-gconf             \
+             --disable-dconf             \
              --disable-odk               \
---disable-postgresql-sdbc   \
              --enable-release-build=yes  \
              --enable-python=system      \
---with-system-boost         \
+             --with-system-apr           \
+             --with-system-boost=yes     \
+             --with-system-cairo         \
              --with-system-clucene       \
---with-system-cairo         \
              --with-system-curl          \
              --with-system-expat         \
              --with-system-graphite      \
@@ -415,9 +419,9 @@
              --with-system-icu           \
              --with-system-jpeg          \
              --with-system-lcms2         \
+             --with-system-libatomic_ops \
              --with-system-libpng        \
              --with-system-libxml        \
---with-system-mesa-headers  \
              --with-system-neon          \
              --with-system-npapi-headers \
              --with-system-nss           \
@@ -425,7 +429,9 @@
              --with-system-openldap      \
              --with-system-openssl       \
              --with-system-poppler       \
+             --with-system-postgresql    \
              --with-system-redland       \
+             --with-system-serf          \
              --with-system-zlib          \
              --with-parallelism=$(getconf _NPROCESSORS_ONLN)</userinput></screen>
 
@@ -525,7 +531,7 @@
     </para>
 
     <para>
-<parameter>--with-lang="fr en-GB"</parameter>: This switch sets
+      <parameter>--with-lang=fr en-GB</parameter>: This switch sets
       what languages to support. To list several languages, separate them with
       a space. For all languages, use
       <parameter>--with-lang=ALL</parameter>.
@@ -555,13 +561,22 @@
       instead of the internal one.
     </para>
 
+    <para>
+      <parameter>--with-system-boost=<replaceable>&lt;yes/no&gt;</replaceable></parameter>:
+      This switch enables/disables use of system boost, so bundled one may be or
+      not used, because currently, depending on the user decision, or if the
+      build is broken with latest <application>Boost</application> in BLFS,
+      which frequently occurs and there is a delay until either a fix is found
+      or it is fixed upstream.
+    </para>
 
     <para>
+      <parameter>--disable-dconf</parameter>: This switch disables compiling
+      <application>LibreOffice</application> with the
+      <application>GNOME DConf</application> configuration system support.
+    </para>
+    <para>
       <parameter>--without-system-dicts</parameter>: This switch disables use
       of  dictionaries from system paths, so the ones installed by this package
       are used.
@@ -574,30 +589,12 @@
     </para>
 
     <para>
-<parameter>--disable-gconf</parameter>: This switch disables compiling
-<application>LibreOffice</application> with the deprecated
-<application>GNOME</application> configuration system support.
-</para>
-<para>
       <parameter>--disable-odk</parameter>: This switch disables installing the
       office development kit. Remove if you want to develop a
       <application>LibreOffice</application> based application.
     </para>
 
     <para>
-<parameter>--disable-postgresql-sdbc</parameter>: This switch disables
-compiling <application>LibreOffice</application> with the ability to
-connect to a <application>PostgreSQL</application> database. Remove it if
-you would like <application>LibreOffice</application> to be able to
-connect to a <application>PostgreSQL</application> database. If you have
-installed <application>PostgreSQL</application> on your system and would
-like <application>LibreOffice</application> to use that rather than
-compile its own copy, use the <option>--with-system-postgresql</option>
-switch.
-</para>
-<para>
       <parameter>--enable-release-build=yes</parameter>: This switch enables a
       Release Build.  <application>LibreOffice</application> can be built as a
       Release Build or as a Developer Build, because their default installation
@@ -642,6 +639,17 @@
     </para>
 
     <para>
+      <option>--disable-postgresql-sdbc</option>: This switch disables compiling
+      <application>LibreOffice</application> with the ability to connect to a
+      <application>PostgreSQL</application> database. Remove it if you would
+      like <application>LibreOffice</application> to be able to connect to a
+      <application>PostgreSQL</application> database. If you have installed
+      <application>PostgreSQL</application> on your system and would like
+      <application>LibreOffice</application> to use that rather than compile its
+      own copy, use the <option>--with-system-postgresql</option> switch.
+    </para>
+    <para>
       <option>--enable-gtk3</option>: Use this switch if you want to build the
       <application>GTK+ 3</application> integration module. This is
       experimental and may not work.

