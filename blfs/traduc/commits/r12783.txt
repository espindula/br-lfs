Révision 12783

fichiers supprimés :
   general/genutils/qtchooser.xml

fichiers déplacés (avec ou sans changements) :
qtchooser.xml

fichiers ajoutés :
   xincludes/setqt.xml
   xincludes/qt-alternatives.xml

fichiers modifiés :
   general/sysutils/udisks.xml
   general/prog/guile.xml
   general/genutils/genutils.xml
   networking/netlibs/glib-networking.xml
   networking/netlibs/libsoup.xml
   postlfs/config/profile.xml
   multimedia/libdriv/libmpeg2.xml
   general.ent
   kde/core/phonon-backend-gstreamer.xml
   kde/intro/pre-install-config.xml
   x/lib/qt4.xml
   x/lib/qt5.xml

Log :
Rewrite Qt pages Add corrections for some paths (e.g. man pages) Tags

Le robot a traité 35 % du commit anglais

ATTENTION : il faut relire les fichiers suivants qui sont ajoutés
Index: archive/qtchooser.xml
===================================================================
--- general/genutils/qtchooser.xml	2014-03-03 13:23:31.089162176 +0100
+++ general/genutils/qtchooser.xml	2014-03-03 13:23:31.149162176 +0100
@@ -246,3 +246,7 @@
   </sect2>
 
 </sect1>
+Modification de propriétés sur archive/qtchooser.xml
+___________________________________________________________________
+Ajouté : svn:keywords
+   + Date LastChangedBy

Index: general/genutils/genutils.xml
===================================================================
--- general/genutils/genutils.xml	(révision 12782)
+++ general/genutils/genutils.xml	(révision 12783)
@@ -33,7 +33,6 @@
   <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="iso-codes.xml"/>
   <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="lsof.xml"/>
   <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="pinentry.xml"/>
-<xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="qtchooser.xml"/>
   <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="rarian.xml"/>
   <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="rep-gtk.xml"/>
   <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="screen.xml"/>

Index: general/prog/guile.xml
===================================================================
--- general/prog/guile.xml	(révision 12782)
+++ general/prog/guile.xml	(révision 12783)
@@ -98,9 +98,7 @@
       commands:
     </para>
 
-<screen><userinput>./configure --prefix=/usr    \
---disable-static \
---docdir=/usr/share/doc/guile-&guile-version; &amp;&amp;
+<screen><userinput>./configure --prefix=/usr --disable-static &amp;&amp;
 make      &amp;&amp;
 make html &amp;&amp;
 
@@ -108,6 +106,17 @@
 makeinfo --plaintext -o doc/ref/guile.txt doc/ref/guile.texi</userinput></screen>
 
     <para>
+      If you have <xref linkend="texlive"/> installed and wish to build alternate
+      formats (PDF and postscript) of the documentation, issue the following
+      commands:
+    </para>
+<screen><userinput>for DIRNAME in r5rs ref; do
+   make -k -C doc/${DIRNAME} pdf ps
+done &amp;&amp;
+unset DIRNAME</userinput></screen>
+    <para>
       To test the results, issue: <command>make check</command>.
     </para>
 
@@ -115,22 +124,38 @@
 
<screen role="root"><userinput>make install &amp;&amp;
 
-mv /usr/share/doc/guile-&guile-version;/{guile.html,ref} &amp;&amp;
-mv /usr/share/doc/guile-&guile-version;/r5rs{.html,}     &amp;&amp;
+find examples -name "Makefile*" -delete      &amp;&amp;
+install -v -dm755 /usr/share/doc/guile-&guile-version; &amp;&amp;
+cp -vR examples   /usr/share/doc/guile-&guile-version; &amp;&amp;
 
-find examples -name "Makefile*" -exec rm {} \; &amp;&amp;
-cp -vR examples   /usr/share/doc/guile-&guile-version;   &amp;&amp;
-for DIRNAME in r5rs ref
-do
+for DIRNAME in r5rs ref; do
+  install -v -dm755 /usr/share/doc/guile-&guile-version;/${DIRNAME} &amp;&amp;
+  
   install -v -m644  doc/${DIRNAME}/*.txt \
+                    /usr/share/doc/guile-&guile-version;/${DIRNAME} &amp;&amp;
+  
+  if [ -d           doc/${DIRNAME}/${DIRNAME}.html ]; then
+    cp -Rv          doc/${DIRNAME}/${DIRNAME}.html \
                     /usr/share/doc/guile-&guile-version;/${DIRNAME}
-done &amp;&amp;
-unset DIRNAME</userinput></screen>
+  fi
+done
 
+cp -vR doc/ref/guile.html /usr/share/doc/guile-&guile-version;/ref</userinput></screen>
+    <para>
+      If you built the alternate formats of the documentation, install them
+      using the following commands issued by the
+      <systemitem class="username">root</systemitem> user:
+    </para>
+<screen role="root"><userinput>for DIRNAME in r5rs ref
+do
+  install -v -m644 doc/${DIRNAME}/*.{pdf,ps,dvi} \
+                   /usr/share/doc/guile-&guile-version;/${DIRNAME}
+done</userinput></screen>
   </sect2>
 
   <sect2 role="commands">

Index: general/sysutils/udisks.xml
===================================================================
--- general/sysutils/udisks.xml	(révision 12782)
+++ general/sysutils/udisks.xml	(révision 12783)
@@ -116,7 +116,7 @@
       Now, as the <systemitem class="username">root</systemitem> user:
     </para>
 
-<screen role="root"><userinput>make install</userinput></screen>
+<screen role="root"><userinput>make profiledir=/etc/bash_completion.d install</userinput></screen>
 
   </sect2>
 

Index: kde/core/phonon-backend-gstreamer.xml
===================================================================
--- kde/core/phonon-backend-gstreamer.xml	(révision 12782)
+++ kde/core/phonon-backend-gstreamer.xml	(révision 12783)
@@ -32,7 +32,7 @@
     <para>This package provides a <application>Phonon</application> backend which
     utilizes the <application>GStreamer</application> media framework.</para>
 
-&lfs74_checked;
+    &lfs75_checked;
 
     <bridgehead renderas="sect3">Package Information</bridgehead>
     <itemizedlist spacing="compact">

Index: kde/intro/pre-install-config.xml
===================================================================
--- kde/intro/pre-install-config.xml	(révision 12782)
+++ kde/intro/pre-install-config.xml	(révision 12783)
@@ -38,7 +38,7 @@
     additional configuration changes. Best practice is to add those to your
     system or personal profile:</para>
 
-<screen><userinput>cat &gt; /etc/profile.d/kde.sh &lt;&lt; EOF
+<screen><userinput>cat &gt; /etc/profile.d/kde.sh &lt;&lt; 'EOF'
 <literal># Begin /etc/profile.d/kde.sh
 
 &kde-dir-var;=/opt/kde

Index: multimedia/libdriv/libmpeg2.xml
===================================================================
--- multimedia/libdriv/libmpeg2.xml	(révision 12782)
+++ multimedia/libdriv/libmpeg2.xml	(révision 12783)
@@ -36,7 +36,7 @@
     This is useful for programs and applications needing to decode MPEG-2 and
     MPEG-1 video streams.</para>
 
-&lfs74_checked;
+    &lfs75_checked;
 
     <bridgehead renderas="sect3">Package Information</bridgehead>
     <itemizedlist spacing="compact">

Index: networking/netlibs/libsoup.xml
===================================================================
--- networking/netlibs/libsoup.xml	(révision 12782)
+++ networking/netlibs/libsoup.xml	(révision 12783)
@@ -35,7 +35,7 @@
       The <application>libsoup</application> is HTTP client/server library for
       <application>GNOME</application>. It uses GObject and the GLib main loop
       to integrate with <application>GNOME</application> applications and
-it also has asynchronous API for use in threaded applications.
+      it also has an asynchronous API for use in threaded applications.
     </para>
 
     &lfs75_checked;

Index: postlfs/config/profile.xml
===================================================================
--- postlfs/config/profile.xml	(révision 12782)
+++ postlfs/config/profile.xml	(révision 12783)
@@ -128,6 +128,7 @@
         export $PATHVARIABLE="${!PATHVARIABLE:+${!PATHVARIABLE}:}$1"
 }
 
+export -f pathremove pathprepend pathappend
 
 # Set the initial path
 export PATH=/bin:/usr/bin
@@ -157,9 +158,6 @@
         fi
 done
 
-# Now to clean up
-unset pathremove pathprepend pathappend
 # End /etc/profile</literal>
 EOF</userinput></screen>
 

Index: x/lib/qt4.xml
===================================================================
--- x/lib/qt4.xml	(révision 12782)
+++ x/lib/qt4.xml	(révision 12783)
@@ -105,10 +105,8 @@
       <xref linkend="gst-plugins-base"/> (For QtWebKit HTML5 Video),
       <xref linkend="mariadb"/> or <xref linkend="mysql"/>,
       <xref linkend="postgresql"/>,
-<xref linkend="pulseaudio"/>,
-<xref linkend="unixodbc"/>, and
-<xref linkend="qtchooser"/> (runtime, if also installing Qt5 and 
-installing in /usr)
+      <xref linkend="pulseaudio"/>, and
+      <xref linkend="unixodbc"/>
     </para>
 
     <para condition="html" role="usernotes">User Notes:
@@ -116,63 +114,11 @@
     </para>
   </sect2>
 
+  <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="../../xincludes/qt-alternatives.xml"/>
   <sect2 role="installation">
     <title>Installation of Qt</title>
 
-<para>
-There are several ways to install a complicated package such as
-<application>Qt</application>. The files are not completely position
-independent. Installation procedures execute the program
-<command>pkg-config</command> to determine the location of package
-executables, libraries, headers, and other files. For
-<application>Qt</application>, <command>pkg-config</command> will look
-for the appropriate <filename>lib/pkgconfig/Qt*.pc</filename> files
-which must be modified if relocating the package. These files are set up
-correctly by the build process.
-</para>
-
-<para>
-The default installation places the files in <filename
-class='directory'>/usr/local/qt/</filename>. Many commercial
-distributions place the files in the system's <filename
-class='directory'>/usr</filename> hierarchy. The package can also be
-installed in an arbitrary directory.
-</para>
-
-<para>
-The advantage of installing in <filename
-class='directory'>/usr</filename> is that no updates to the
-<filename>/etc/ld.so.conf</filename> or
-<filename>/etc/man_db.conf</filename> files are required. The package
-files are distributed within several subdirectories of the <filename
-class='directory'>/usr</filename> hierarchy.  This is the method that
-most commercial distributions use.  It is also supported by the 
-optional <application>qtchooser</application> application.
-</para>
-<para>
-The disadvantage of installing in <filename
-class='directory'>/usr</filename> is that the executable filenames
-for  <application>Qt4</application> and <application>Qt5</application>
-conflict if both packages are installed in the
-same directory.  The instructions below give a workaround for
-this problem using the helper program <xref linkend='qtchooser'/>.
-This requires renaming the Qt executables with a version suffix.
-</para>
-<para>
-The advantage of installing <application>Qt4</application> in a custom
-directory such as <filename
-class='directory'>/opt/qt-&qt4-version;</filename> is that it keeps all
-the package files consolidated in a dedicated directory hierarchy. By
-using this method, an update can be made without overwriting a previous
-installation and users can easily revert to a previous version by
-changing one symbolic link or merely changing the PATH variable.  It
-also allows a developer to maintain multiple versions of 
-<application>Qt4</application> or <application>Qt5</application>
-for testing.
-</para>
     <caution>
       <para>
         If you did not install some of the recommended dependencies, examine
@@ -200,26 +146,25 @@
       </para>
     </note>
 
+<!-- ==== Method 1 ====== -->
     <bridgehead renderas="sect3">Method 1: Installing in /usr</bridgehead>
 
     <para>
-Install <application>Qt4</application> by running the
-following commands:
+      Install <application>Qt4</application> into the <filename
+      class='directory'>/usr</filename> hierarchy by running the following
+      commands:
     </para>
 
-<note><para>
-If <emphasis>not</emphasis> also installing <application>Qt5</application>
-into the /usr directory, change the entry for -bindir below to /usr/bin.
-</para></note>
+<screen><userinput>export QTLINK=/usr
 
-<screen><userinput>sed -i -e "/#if/d" -e "/#error/d" -e "/#endif/d" \
+sed -i -e "/#if/d" -e "/#error/d" -e "/#endif/d" \
      config.tests/unix/libmng/libmng.cpp &amp;&amp;
 sed -i '/CONFIG -/ a\isEmpty(OUTPUT_DIR): OUTPUT_DIR = ../..' \
      src/3rdparty/webkit/Source/WebKit2/DerivedSources.pro &amp;&amp;
 
 ./configure -prefix         /usr                 \
--bindir         /usr/lib/qt4/bin     \
+            -bindir         /usr/bin             \
             -plugindir      /usr/lib/qt4/plugins \
             -importdir      /usr/lib/qt4/imports \
             -headerdir      /usr/include/qt4     \
@@ -257,22 +202,10 @@
    <para>Now as the <systemitem class="username">root</systemitem> user:</para>
 
 <screen role="root"><userinput>make install &amp;&amp;
-rm -rf /usr/tests &amp;&amp;
-install -v -Dm644 src/gui/dialogs/images/qtlogo-64.png \
-/usr/share/pixmaps/qt4logo.png       &amp;&amp;
-install -v -Dm644 tools/assistant/tools/assistant/images/assistant-128.png \
-/usr/share/pixmaps/assistant-qt4.png &amp;&amp;
-install -v -Dm644 tools/designer/src/designer/images/designer.png \
-/usr/share/pixmaps/designer-qt4.png  &amp;&amp;
-install -v -Dm644 tools/linguist/linguist/images/icons/linguist-128-32.png \
-/usr/share/pixmaps/linguist-qt4.png  &amp;&amp;
-install -v -Dm644 tools/qdbus/qdbusviewer/images/qdbusviewer-128.png \
-/usr/share/pixmaps/qdbusviewer-qt4.png</userinput></screen>
+rm -rf /usr/tests</userinput></screen>
 
     <para>
       Remove references to the build directory from installed files by
@@ -282,51 +215,32 @@
 
 <screen role="root"><userinput>for file in 3Support CLucene Core DBus Declarative DesignerComponents \
             Designer Gui Help Multimedia Network OpenGL Script \
-ScriptTools Sql Svg Test UiTools WebKit XmlPatterns Xml phonon
-do
-[ -e /usr/lib/libQt${file}.prl ] &amp;&amp; sed -i -e '/^QMAKE_PRL_BUILD_DIR/d;s/\(QMAKE_PRL_LIBS =\).*/\1/' \
-/usr/lib/libQt${file}.prl
+            ScriptTools Sql Svg Test UiTools WebKit XmlPatterns Xml phonon; do
+     [ -e /usr/lib/libQt${file}.prl ] &amp;&amp; 
+     sed -r '/^QMAKE_PRL_BUILD_DIR/d;s/(QMAKE_PRL_LIBS =).*/\1/' \
+         -i /usr/lib/libQt${file}.prl
 done
 unset file</userinput></screen>
 
-<para>
-If also installing Qt5 into /usr, 
-symlink the <application>Qt4</application> executables into
-<filename class="directory">/usr/bin</filename> by running the
-following commands as the
-<systemitem class="username">root</systemitem> user:
-</para>
-<screen role="root"><userinput>for file in /usr/lib/qt4/bin/*
-do
-ln -sfv ../lib/qt4/bin/$(basename $file) /usr/bin/$(basename $file)-qt4
-done</userinput></screen>
+<!-- ==== Method 2 ====== -->
     <bridgehead renderas="sect3">Method 2: Installing in /opt/qt-&qt4-version;</bridgehead>
 
     <para>
-This section provides an alternate way to install Qt4 by installing
-almost all of the files in the <filename class="directory">/opt</filename>
-directory. This allows management of all Qt4 related files in one unit.
-For instance, a new version of Qt4 can be installed without over-writing
-the existing installation and entire Qt4 instances can be easily removed.
-However, it has the disadvantage of needing some extra configuration.
+      This section provides for installing Qt4 almost all of the files in the
+      <filename class="directory">/opt</filename> directory.
     </para>
 
-<para>
-Install <application>Qt</application> in  /opt/qt-&qt4-version; 
-by running the following commands:
-</para>
+<screen><userinput>export QTDIR=/opt/qt-&qt4-version; &amp;&amp;
+export QTLINK=/opt/qt &amp;&amp;
 
-<screen><userinput>sed -i -e "/#if/d" -e "/#error/d" -e "/#endif/d" \
+sed -i -e "/#if/d" -e "/#error/d" -e "/#endif/d" \
      config.tests/unix/libmng/libmng.cpp &amp;&amp;
 sed -i '/CONFIG -/ a\isEmpty(OUTPUT_DIR): OUTPUT_DIR = ../..' \
      src/3rdparty/webkit/Source/WebKit2/DerivedSources.pro &amp;&amp;
 
-export QTDIR=/opt/qt-&qt4-version;
-./configure -prefix     $QTDIR   \
+./configure -prefix $QTDIR       \
             -sysconfdir /etc/xdg \
             -confirm-license     \
             -opensource          \
@@ -349,46 +263,114 @@
       Now, as the <systemitem class="username">root</systemitem> user:
     </para>
 
-<screen role="root"><userinput>make install &amp;&amp;
+<screen role="root"><userinput>make install
+ln -svfn $QTDIR /opt/qt</userinput></screen>
 
-install -v -dm755 /usr/share/pixmaps/                 &amp;&amp; 
-install -v -Dm644 src/gui/dialogs/images/qtlogo-64.png \
+    <para>
+      Remove references to the build directory from installed files by
+      running the following command as the
+      <systemitem class="username">root</systemitem> user:
+    </para>
+<screen role="root"><userinput>for file in `basename -a -s .prl $QTDIR/lib/lib*.prl`; do
+   sed -r '/^QMAKE_PRL_BUILD_DIR/d'    \
+       -r 's/(QMAKE_PRL_LIBS =).*/\1/' \
+       -i $QTDIR/lib/${file}.prl
+   perl -pi -e "s, -L$PWD/?\S+,,g" $QTDIR/lib/pkgconfig/${file##lib}.pc
+done
+unset file</userinput></screen>
+<!-- ==== Common  ====== -->
+    <bridgehead renderas="sect3">Continuing for Both Methods</bridgehead>
+      <para>
+        For all methods, install images and create the menu entries 
+        for installed applications.  Be sure that the <envar>QTLINK</envar>
+        variable is defined in root's environment and 
+        as the <systemitem class="username">root</systemitem> user:
+      </para>
+<screen role="root"><userinput>install -v -Dm644 src/gui/dialogs/images/qtlogo-64.png \
                   /usr/share/pixmaps/qt4logo.png       &amp;&amp;
 install -v -Dm644 tools/assistant/tools/assistant/images/assistant-128.png \
                   /usr/share/pixmaps/assistant-qt4.png &amp;&amp;
@@     @@
 install -v -Dm644 tools/linguist/linguist/images/icons/linguist-128-32.png \
                   /usr/share/pixmaps/linguist-qt4.png  &amp;&amp;
 install -v -Dm644 tools/qdbus/qdbusviewer/images/qdbusviewer-128.png \
-/usr/share/pixmaps/qdbusviewer-qt4.png</userinput></screen>
+                  /usr/share/pixmaps/qdbusviewer-qt4.png &amp;&amp;
 
-<para>
-Remove references to the build directory from installed files by
-running the following command as the
-<systemitem class="username">root</systemitem> user:
-</para>
+install -dm755 /usr/share/applications &amp;&amp;
 
-<screen role="root"><userinput>for file in `basename -a -s .prl $QTDIR/lib/lib*.prl`; do
-sed -i -e '/^QMAKE_PRL_BUILD_DIR/d;s/\(QMAKE_PRL_LIBS =\).*/\1/' \
-$QTDIR/lib/${file}.prl
-perl -pi -e "s, -L$PWD/?\S+,,g" $QTDIR/lib/pkgconfig/${file##lib}.pc
-done
+cat &gt; /usr/share/applications/assistant-qt4.desktop &lt;&lt; EOF
+<literal>[Desktop Entry]
+Name=Qt4 Assistant 
+Comment=Shows Qt4 documentation and examples
+Exec=$QTLINK/bin/assistant
+Icon=assistant-qt4.png
+Terminal=false
+Encoding=UTF-8
+Type=Application
+Categories=Qt;Development;Documentation;</literal>
+EOF
 
-unset file</userinput></screen>
+cat &gt; /usr/share/applications/designer-qt4.desktop &lt;&lt; EOF
+<literal>[Desktop Entry]
+Name=Qt4 Designer
+Comment=Design GUIs for Qt4 applications
+Exec=$QTLINK/bin/designer
+Icon=designer-qt4.png
+MimeType=application/x-designer;
+Terminal=false
+Encoding=UTF-8
+Type=Application
+Categories=Qt;Development;</literal>
+EOF
 
-<para>
-Symlink the <application>Qt4</application> executables into
-<filename class="directory">/usr/bin</filename> by running the
-following commands as the
-<systemitem class="username">root</systemitem> user:
-</para>
+cat &gt; /usr/share/applications/linguist-qt4.desktop &lt;&lt; EOF
+<literal>[Desktop Entry]
+Name=Qt4 Linguist 
+Comment=Add translations to Qt4 applications
+Exec=$QTLINK/bin/linguist
+Icon=linguist-qt4.png
+MimeType=text/vnd.trolltech.linguist;application/x-linguist;
+Terminal=false
+Encoding=UTF-8
+Type=Application
+Categories=Qt;Development;</literal>
+EOF
 
-<screen role="root"><userinput>ln -svf $QTDIR /opt/qt &amp;&amp;
+cat &gt; /usr/share/applications/qdbusviewer-qt4.desktop &lt;&lt; EOF
+<literal>[Desktop Entry]
+Name=Qt4 QDbusViewer 
+GenericName=D-Bus Debugger
+Comment=Debug D-Bus applications
+Exec=$QTLINK/bin/qdbusviewer
+Icon=qdbusviewer-qt4.png
+Terminal=false
+Encoding=UTF-8
+Type=Application
+Categories=Qt;Development;Debugger;</literal>
+EOF
 
-for file in /opt/qt/bin/*; do
-ln -sfvn $file /usr/bin/$(basename $file)-qt4
-done</userinput></screen>
+cat &gt; /usr/share/applications/qtconfig-qt4.desktop &lt;&lt; EOF
+<literal>[Desktop Entry]
+Name=Qt4 Config 
+Comment=Configure Qt4 behavior, styles, fonts
+Exec=$QTLINK/bin/qtconfig-qt4
+Icon=qt4logo.png
+Terminal=false
+Encoding=UTF-8
+Type=Application
+Categories=Qt;Settings;</literal>
+EOF</userinput></screen>
 
   </sect2>
 
@@ -398,7 +380,7 @@
     <para>
       <command>sed -i ...</command>: First command fixes detection of
       <application>libmng</application> 2.0 and second one prevents configure
-script to write in root directory if building as privileged user.
+      script from writing to the root directory if building as privileged user.
     </para>
 
     <para>
@@ -419,7 +401,7 @@
     <para>
       <parameter>-nomake examples -nomake demos</parameter>:
       These switches disable building programs that are only of
-interest to a <application>Qt</application> developer.
+      interest to a developer using <application>Qt</application>.
     </para>
 
     <para>
@@ -532,78 +513,11 @@
 # End /etc/profile.d/qt.sh</literal>
 EOF</userinput></screen>
 
-<para>
-For all methods, create the menu entries for installed applications.
-As the <systemitem class="username">root</systemitem> user:
-</para>
 
-<screen role="root"><userinput>install -dm755 /usr/share/applications
-cat &gt; /usr/share/applications/qtconfig-qt4.desktop &lt;&lt; "EOF"
-<literal>[Desktop Entry]
-Name=Qt4 Config 
-Comment=Configure Qt4 behavior, styles, fonts
-Exec=qtconfig-qt4
-Icon=qt4logo
-Terminal=false
-Encoding=UTF-8
-Type=Application
-Categories=Qt;Settings;</literal>
-EOF
-cat &gt; /usr/share/applications/assistant-qt4.desktop &lt;&lt; "EOF"
-<literal>[Desktop Entry]
-Name=Qt4 Assistant 
-Comment=Shows Qt4 documentation and examples
-Exec=assistant-qt4
-Icon=assistant-qt4
-Terminal=false
-Encoding=UTF-8
-Type=Application
-Categories=Qt;Development;Documentation;</literal>
-EOF
-cat &gt; /usr/share/applications/designer-qt4.desktop &lt;&lt; "EOF"
-<literal>[Desktop Entry]
-Name=Qt4 Designer
-Comment=Design GUIs for Qt4 applications
-Exec=designer-qt4
-Icon=designer-qt4
-MimeType=application/x-designer;
-Terminal=false
-Encoding=UTF-8
-Type=Application
-Categories=Qt;Development;</literal>
-EOF
-cat &gt; /usr/share/applications/linguist-qt4.desktop &lt;&lt; "EOF"
-<literal>[Desktop Entry]
-Name=Qt4 Linguist 
-Comment=Add translations to Qt4 applications
-Exec=linguist-qt4
-Icon=linguist-qt4
-MimeType=text/vnd.trolltech.linguist;application/x-linguist;
-Terminal=false
-Encoding=UTF-8
-Type=Application
-Categories=Qt;Development;</literal>
-EOF
-cat &gt; /usr/share/applications/qdbusviewer-qt4.desktop &lt;&lt; "EOF"
-<literal>[Desktop Entry]
-Name=Qt4 QDbusViewer 
-GenericName=D-Bus Debugger
-Comment=Debug D-Bus applications
-Exec=qdbusviewer-qt4
-Icon=qdbusviewer-qt4
-Terminal=false
-Encoding=UTF-8
-Type=Application
-Categories=Qt;Development;Debugger;</literal>
-EOF</userinput></screen>
     </sect3>
+   
+    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" 
+                href="../../xincludes/setqt.xml"/>
   </sect2>
 
   <sect2 role="content">
@@ -616,13 +530,13 @@
 
       <seglistitem>
         <seg>
-assistant-qt4, designer-qt4, lconvert-qt4, linguist-qt4,
-lrelease-qt4, lupdate-qt4, moc-qt4, pixeltool-qt4,
-qcollectiongenerator-qt4, qdbuscpp2xml-qt4, qdbus-qt4,
-qdbusviewer-qt4, qdbusxml2cpp-qt4, qdoc3-qt4, qhelpconverter-qt4,
-qhelpgenerator-qt4, qmake-qt4, qmlplugindump-qt4, qmlviewer-qt4,
-qt3to4-qt4, qtconfig-qt4, qttracereplay-qt4, rcc-qt4, uic3-qt4,
-uic-qt4, xmlpatterns-qt4 and xmlpatternsvalidator-qt4
+          assistant, designer, lconvert, linguist,
+          lrelease, lupdate, moc, pixeltool,
+          qcollectiongenerator, qdbuscpp2xml, qdbus,
+          qdbusviewer, qdbusxml2cpp, qdoc3, qhelpconverter,
+          qhelpgenerator, qmake, qmlplugindump, qmlviewer,
+          qt3to4, qtconfig, qttracereplay, rcc, uic3,
+          uic, xmlpatterns, and xmlpatternsvalidator
         </seg>
         <seg>
           libQt3Support.so, libQtCLucene.so, libQtCore.so, libQtDBus.so,
@@ -630,14 +544,16 @@
           /usr/include/qt4,
           /usr/lib/qt4,
           /usr/share/doc/qt4, and
-/usr/share/qt4 (OR $QTDIR)
-(OR $QTDIR)
+          /usr/share/qt4 
+          OR 
+          /opt/qt and 
+          /opt/qt-&qt4-version;
         </seg>
       </seglistitem>
     </segmentedlist>
@@ -648,19 +564,19 @@
       <?dbhtml list-presentation="table"?>
 
       <varlistentry id="assistant-qt4">
-<term><command>assistant-qt4</command></term>
+        <term><command>assistant</command></term>
         <listitem>
           <para>
             is a tool for presenting on-line documentation.
           </para>
           <indexterm zone="qt4 assistant-qt4">
-<primary sortas="b-assistant-qt4">assistant-qt4</primary>
+            <primary sortas="b-assistant-qt4">assistant</primary>
           </indexterm>
         </listitem>
       </varlistentry>
 
       <varlistentry id="designer-qt4">
-<term><command>designer-qt4</command></term>
+        <term><command>designer</command></term>
         <listitem>
           <para>
             is a full-fledged GUI builder. It includes
@@ -669,39 +585,39 @@
             property editor.
           </para>
           <indexterm zone="qt4 designer-qt4">
-<primary sortas="b-designer-qt4">designer-qt4</primary>
+            <primary sortas="b-designer-qt4">designer</primary>
           </indexterm>
         </listitem>
       </varlistentry>
 
       <varlistentry id="linguist-qt4">
-<term><command>linguist-qt4</command></term>
+        <term><command>linguist</command></term>
         <listitem>
           <para>
             provides support for translating applications into
             local languages.
           </para>
           <indexterm zone="qt4 linguist-qt4">
-<primary sortas="b-linguist-qt4">linguist-qt4</primary>
+            <primary sortas="b-linguist-qt4">linguist</primary>
           </indexterm>
         </listitem>
       </varlistentry>
 
       <varlistentry id="lrelease-qt4">
-<term><command>lrelease-qt4</command></term>
+        <term><command>lrelease</command></term>
         <listitem>
           <para>
             is a simple command line tool. It reads a Qt project
             file and produces message files used by the application.
           </para>
           <indexterm zone="qt4 lrelease-qt4">
-<primary sortas="b-lrelease-qt4">lrelease-qt4</primary>
+            <primary sortas="b-lrelease-qt4">lrelease</primary>
           </indexterm>
         </listitem>
       </varlistentry>
 
       <varlistentry id="lupdate-qt4">
-<term><command>lupdate-qt4</command></term>
+        <term><command>lupdate</command></term>
         <listitem>
           <para>
             reads a Qt project file, finds the translatable
@@ -710,38 +626,38 @@
             files listed in the project file.
           </para>
           <indexterm zone="qt4 lupdate-qt4">
-<primary sortas="b-lupdate-qt4">lupdate-qt4</primary>
+            <primary sortas="b-lupdate-qt4">lupdate</primary>
           </indexterm>
         </listitem>
       </varlistentry>
 
       <varlistentry id="moc-qt4">
-<term><command>moc-qt4</command></term>
+        <term><command>moc</command></term>
         <listitem>
           <para>
             generates Qt meta object support code.
           </para>
           <indexterm zone="qt4 moc-qt4">
-<primary sortas="b-moc-qt4">moc-qt4</primary>
+            <primary sortas="b-moc-qt4">moc</primary>
           </indexterm>
         </listitem>
       </varlistentry>
 
       <varlistentry id="pixeltool-qt4">
-<term><command>pixeltool-qt4</command></term>
+        <term><command>pixeltool</command></term>
         <listitem>
           <para>
             is a desktop magnifier and as you move your mouse around
             the screen it will show the magnified contents in its window.
           </para>
           <indexterm zone="qt4 pixeltool-qt4">
-<primary sortas="b-pixeltool-qt4">pixeltool-qt4</primary>
+            <primary sortas="b-pixeltool-qt4">pixeltool</primary>
           </indexterm>
         </listitem>
       </varlistentry>
 
       <varlistentry id="qmake-qt4">
-<term><command>qmake-qt4</command></term>
+        <term><command>qmake</command></term>
         <listitem>
           <para>
             uses information stored in project files to
@@ -749,61 +665,61 @@
             generates.
           </para>
           <indexterm zone="qt4 qmake-qt4">
-<primary sortas="b-qmake-qt4">qmake-qt4</primary>
+            <primary sortas="b-qmake-qt4">qmake</primary>
           </indexterm>
         </listitem>
       </varlistentry>
 
       <varlistentry id="qt3to4-qt4">
-<term><command>qt3to4-qt4</command></term>
+        <term><command>qt3to4</command></term>
         <listitem>
           <para>
             qt3to4 is a tool to help update Qt3 code to Qt4.
           </para>
           <indexterm zone="qt4 qt3to4-qt4">
-<primary sortas="b-qt3to4-qt4">qt3to4-qt4</primary>
+            <primary sortas="b-qt3to4-qt4">qt3to4</primary>
           </indexterm>
         </listitem>
       </varlistentry>
 
       <varlistentry id="qtconfig-qt4">
-<term><command>qtconfig-qt4</command></term>
+        <term><command>qtconfig</command></term>
         <listitem>
           <para>
             is used to customize the appearance of Qt applications.
           </para>
           <indexterm zone="qt4 qtconfig-qt4">
-<primary sortas="b-qtconfig-qt4">qtconfig-qt4</primary>
+            <primary sortas="b-qtconfig-qt4">qtconfig</primary>
           </indexterm>
         </listitem>
       </varlistentry>
 
       <varlistentry id="rcc-qt4">
-<term><command>rcc-qt4</command></term>
+        <term><command>rcc</command></term>
         <listitem>
           <para>
             is a resource compiler used in conjunction with designer.
           </para>
           <indexterm zone="qt4 rcc-qt4">
-<primary sortas="b-rcc-qt4">rcc-qt4</primary>
+            <primary sortas="b-rcc-qt4">rcc</primary>
           </indexterm>
         </listitem>
       </varlistentry>
 
       <varlistentry id="uic-qt4">
-<term><command>uic-qt4</command></term>
+        <term><command>uic</command></term>
         <listitem>
           <para>
             is a Qt user interface compiler.
           </para>
           <indexterm zone="qt4 uic-qt4">
-<primary sortas="b-uic-qt4">uic-qt4</primary>
+            <primary sortas="b-uic-qt4">uic</primary>
           </indexterm>
         </listitem>
       </varlistentry>
 
       <varlistentry id="uic3-qt4">
-<term><command>uic3-qt4</command></term>
+        <term><command>uic3</command></term>
         <listitem>
           <para>
             is a tool to generate Qt4 code out of
@@ -811,7 +727,7 @@
             version of designer.
           </para>
           <indexterm zone="qt4 uic3-qt4">
-<primary sortas="b-uic3-qt4">uic3-qt4</primary>
+            <primary sortas="b-uic3-qt4">uic3</primary>
           </indexterm>
         </listitem>
       </varlistentry>

Index: x/lib/qt5.xml
===================================================================
--- x/lib/qt5.xml	(révision 12782)
+++ x/lib/qt5.xml	(révision 12783)
@@ -38,11 +38,10 @@
      and consoles for servers. 
     </para>
 
-&lfs74_checked;
+    &lfs75_checked;
 
     <bridgehead renderas="sect3">Package Information</bridgehead>
     <itemizedlist spacing="compact">
@@ -97,7 +96,7 @@
       <xref linkend="dbus"/>,
       <xref linkend="glib2"/>,
       <xref linkend="gst-plugins-base"/>,<!--
-<xref linkend="harfbuzz"/>, Doesn't have all the features that the shipped one has. -->
+      <xref linkend="harfbuzz"/>, Doesn't have all the features that the included one has. -->
       <xref linkend="icu"/>,
       <xref linkend="libjpeg"/>,
       <xref linkend="libmng"/>,
@@ -122,75 +121,17 @@
       <xref linkend="unixodbc"/>
     </para>
 
-<bridgehead renderas="sect4">Required (Runtime)</bridgehead>
-<para role="required">
-<xref linkend="qtchooser"/> (if installing both
-<application>Qt4</application> and <application>Qt5</application>
-and installing in <filename class="directory">/usr</filename>)
-</para>
     <para condition="html" role="usernotes">User Notes:
       <ulink url="&blfs-wiki;/qt5"/>
     </para>
   </sect2>
 
+   <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" 
+               href="../../xincludes/qt-alternatives.xml"/>
   <sect2 role="installation">
     <title>Installation of Qt5</title>
 
-<para>
-There are several ways to install a complicated package such as
-<application>Qt5</application>. The files are not completely position
-independent. Installation procedures execute the program
-<command>pkg-config</command> to determine the location of package
-executables, libraries, headers, and other files. For
-<application>Qt5</application>, <command>pkg-config</command> will look
-for the appropriate <filename>lib/pkgconfig/Qt5*.pc</filename> files
-which must be modified if relocating the package. These files are set up
-correctly by the build process.
-</para>
-<para>
-The default installation places the files in <filename
-class="directory">/usr/local/qt</filename>. Many
-distributions place the files in the system's <filename
-class="directory">/usr</filename> hierarchy. The package can
-also be installed in an arbitrary directory.
-</para>
-<para>
-The advantage of installing in <filename
-class="directory">/usr</filename> is that no updates to the
-<filename>/etc/ld.so.conf</filename> or
-<filename>/etc/man_db.conf</filename> files are required. The package
-files are distributed within several subdirectories of the <filename
-class="directory">/usr</filename> hierarchy. This is the method that
-most distributions use.
-</para>
-<para>
-The disadvantage of installing in <filename
-class="directory">/usr</filename> is that the executable filenames 
-for  <application>Qt4</application> and <application>Qt5</application>
-conflict if both packages are installed in the 
-same directory. The instructions below give a workaround for 
-this problem using the helper programs from <xref linkend="qtchooser"/>.
-<!-- renaming is not required because of this, only using a different
-bindir is -->
-</para>
-<para>
-The advantage of installing <application>Qt5</application> in a custom
-directory such as <filename
-class="directory">/opt/qt-&qt5-version;</filename> is that it keeps all
-the package files consolidated in a dedicated directory hierarchy. By
-using this method, an update can be made without overwriting a previous
-installation and users can easily revert to a previous version by
-changing one symbolic link or merely changing the <envar>PATH</envar>
-variable.  It also allows a developer to maintain multiple versions of
-<application>Qt4</application> or <application>Qt5</application> 
-for testing.
-</para>
-
     <caution>
       <para>
         If you did not install some of the recommended dependencies, examine
@@ -208,7 +149,7 @@
         not be in use during the install process.
       </para>
     </warning>
+<!-- ==== Method 1 ====== -->
     <bridgehead renderas="sect3">Method 1: Installing in /usr</bridgehead>
 
     <para>
@@ -226,9 +168,11 @@
       </para>
     </note> -->
 
-<screen><userinput>./configure -prefix         /usr               \
+<screen><userinput>export QTLINK=/usr
+./configure -prefix         /usr               \
             -sysconfdir     /etc/xdg           \
--bindir         /usr/lib/qt5/bin   \
+            -bindir         /usr/bin           \
             -headerdir      /usr/include/qt5   \
             -archdatadir    /usr/lib/qt5       \
             -datadir        /usr/share/qt5     \
@@ -248,6 +192,10 @@
 make</userinput></screen>
 
     <para>
+      This package does not come with a test suite.
+    </para>
+    <para>
       Remove references to the build directory from the
       <filename class="extension">.pc</filename> files by running
       the following command:
@@ -256,22 +204,10 @@
 <screen><userinput>find . -name "*.pc" -exec perl -pi -e "s, -L$PWD/?\S+,,g" {} \;</userinput></screen>
 
     <para>
-This package does not come with a test suite.
-</para>
-<para>
       Now, as the <systemitem class="username">root</systemitem> user:
     </para>
 
-<screen role="root"><userinput>make install &amp;&amp;
-install -v -Dm644 qttools/src/assistant/assistant/images/assistant-128.png \
-/usr/share/pixmaps/assistant-qt5.png &amp;&amp;
-install -v -Dm644 qttools/src/designer/src/designer/images/designer.png \
-/usr/share/pixmaps/designer-qt5.png &amp;&amp;
-install -v -Dm644 qttools/src/linguist/linguist/images/icons/linguist-128-32.png \
-/usr/share/pixmaps/linguist-qt5.png &amp;&amp;
-install -v -Dm644 qttools/src/qdbus/qdbusviewer/images/qdbusviewer-128.png \
-/usr/share/pixmaps/qdbusviewer-qt5.png</userinput></screen>
+<screen role="root"><userinput>make install</userinput></screen>
 
     <para>
       Remove references to the build directory from installed files by
@@ -279,39 +215,24 @@
       <systemitem class="username">root</systemitem> user:
     </para>
 
-<screen role="root"><userinput>sed -i -e "s:$PWD/qtbase:/usr/lib/qt5:g" \
-/usr/lib/qt5/mkspecs/modules/qt_lib_bootstrap_private.pri &amp;&amp;
-find /usr/lib/lib{qgsttools_p,Qt5*}.prl -exec sed -i -e \
-'/^QMAKE_PRL_BUILD_DIR/d;s/\(QMAKE_PRL_LIBS =\).*/\1/' {} \;</userinput></screen>
+<screen role="root"><userinput>
+sed -e "s:$PWD/qtbase:/usr/lib/qt5:g" \
+    -i /usr/lib/qt5/mkspecs/modules/qt_lib_bootstrap_private.pri &amp;&amp;
 
-<para>
-<!-- If you didn't modify the -bindir switch above, -->Symlink the
-<application>Qt5</application> executables into
-<filename class="directory">/usr/bin</filename> by running the
-following commands as the
-<systemitem class="username">root</systemitem> user:
-</para>
+find /usr/lib/lib{qgsttools_p,Qt5*}.prl -exec sed -i -r \
+     '/^QMAKE_PRL_BUILD_DIR/d;s/(QMAKE_PRL_LIBS =).*/\1/' {} \;</userinput></screen>
 
-<screen role="root"><userinput>for file in /usr/lib/qt5/bin/*
-do
-ln -sfv ../lib/qt5/bin/$(basename $file) /usr/bin/$(basename $file)-qt5
-done</userinput></screen>
+<!-- ==== Method 2 ====== -->
 
   <bridgehead renderas="sect3">Method 2: Installing in /opt/qt-&qt5-version;</bridgehead>
 
-<para>
-This section provides an alternate way to install <application>Qt5</application>
-by installing  almost all of the files in the <filename
-class="directory">/opt</filename> directory. This allows management of all
-<application>Qt5</application> related files in one unit. For instance, a new
-version of <application>Qt5</application> can be installed without over-writing 
-the existing installation and entire <application>Qt5</application> instances can
-be easily removed. However, it has the disadvantage of needing some extra
-configuration and you need to switch manually between <application>Qt4</application>
-and <application>Qt5</application> executables when needed.
-</para>
+  <para>
+        This section provides for installing Qt4 almost all of the files in the
+        <filename class="directory">/opt</filename> directory.
+   </para>
 
<screen><userinput>export QT5DIR=/opt/qt-&qt5-version; &amp;&amp;
export QTLINK=/opt/qt5 &amp;&amp;
@@ -332,17 +253,8 @@
     </para>
 
 <screen role="root"><userinput>make install &amp;&amp;
+ln -svfn $QT5DIR /opt/qt5</userinput></screen>
 
-install -v -dm755 /usr/share/pixmaps/                  &amp;&amp;
-install -v -Dm644 qttools/src/assistant/assistant/images/assistant-128.png \
-/usr/share/pixmaps/assistant-qt5.png &amp;&amp;
-install -v -Dm644 qttools/src/designer/src/designer/images/designer.png \
-/usr/share/pixmaps/designer-qt5.png  &amp;&amp;
-install -v -Dm644 qttools/src/linguist/linguist/images/icons/linguist-128-32.png \
-/usr/share/pixmaps/linguist-qt5.png  &amp;&amp;
-install -v -Dm644 qttools/src/qdbus/qdbusviewer/images/qdbusviewer-128.png \
-/usr/share/pixmaps/qdbusviewer-qt5.png</userinput></screen>
     <para>
       Remove references to the build directory from installed files by
       running the following commands as the
@@ -355,8 +267,7 @@
 find $QT5DIR -name \*.prl \
    -exec sed -i -e '/^QMAKE_PRL_BUILD_DIR/d' {} \;</userinput></screen>
 
+<!-- This is useful for packages looking explicitly for Qt apps with -qt5 suffix.
 
     <para>
       Symlink the <application>Qt5</application> executables into
@@ -369,8 +280,86 @@
   ln -sfv $file /usr/bin/$(basename $file)-qt5
done</userinput></screen> -->
 
+<!-- ==== Common  ====== -->
+    <bridgehead renderas="sect3">Continuing for Both Methods</bridgehead>
+    <para>
+      For all methods, install images and create the menu entries
+      for installed applications.  Be sure that the <envar>QTLINK</envar>
+      variable is defined in root's environment and
+      as the <systemitem class="username">root</systemitem> user:
+    </para>
+<screen role="root"><userinput>install -v -dm755 /usr/share/pixmaps/                  &amp;&amp;
+install -v -Dm644 qttools/src/assistant/assistant/images/assistant-128.png \
+                  /usr/share/pixmaps/assistant-qt5.png &amp;&amp;
+install -v -Dm644 qttools/src/designer/src/designer/images/designer.png \
+                  /usr/share/pixmaps/designer-qt5.png  &amp;&amp;
+install -v -Dm644 qttools/src/linguist/linguist/images/icons/linguist-128-32.png \
+                  /usr/share/pixmaps/linguist-qt5.png  &amp;&amp;
+install -v -Dm644 qttools/src/qdbus/qdbusviewer/images/qdbusviewer-128.png \
+                  /usr/share/pixmaps/qdbusviewer-qt5.png &amp;&amp;
+install -dm755 /usr/share/applications &amp;&amp;
+cat &gt; /usr/share/applications/assistant-qt5.desktop &lt;&lt; EOF
+<literal>[Desktop Entry]
+Name=Qt5 Assistant 
+Comment=Shows Qt5 documentation and examples
+Exec=$QTLINK/bin/assistant
+Icon=assistant-qt5.png
+Terminal=false
+Encoding=UTF-8
+Type=Application
+Categories=Qt;Development;Documentation;</literal>
+EOF
+cat &gt; /usr/share/applications/designer-qt5.desktop &lt;&lt; EOF
+<literal>[Desktop Entry]
+Name=Qt5 Designer
+GenericName=Interface Designer
+Comment=Design GUIs for Qt5 applications
+Exec=$QTLINK/bin/designer
+Icon=designer-qt5.png
+MimeType=application/x-designer;
+Terminal=false
+Encoding=UTF-8
+Type=Application
+Categories=Qt;Development;</literal>
+EOF
+cat &gt; /usr/share/applications/linguist-qt5.desktop &lt;&lt; EOF
+<literal>[Desktop Entry]
+Name=Qt5 Linguist
+Comment=Add translations to Qt5 applications
+Exec=$QTLINK/bin/linguist
+Icon=linguist-qt5.png
+MimeType=text/vnd.trolltech.linguist;application/x-linguist;
+Terminal=false
+Encoding=UTF-8
+Type=Application
+Categories=Qt;Development;</literal>
+EOF
+cat &gt; /usr/share/applications/qdbusviewer-qt5.desktop &lt;&lt; EOF
+<literal>[Desktop Entry]
+Name=Qt5 QDbusViewer 
+GenericName=D-Bus Debugger
+Comment=Debug D-Bus applications
+Exec=$QTLINK/bin/qdbusviewer
+Icon=qdbusviewer-qt5.png
+Terminal=false
+Encoding=UTF-8
+Type=Application
+Categories=Qt;Development;Debugger;</literal>
+EOF</userinput></screen>
   </sect2>
 
   <sect2 role="commands">
@@ -455,58 +444,6 @@
         user:
       </para>
 
-<screen role="root"><userinput>install -dm755 /usr/share/applications
-cat &gt; /usr/share/applications/assistant-qt5.desktop &lt;&lt; "EOF"
-<literal>[Desktop Entry]
-Name=Qt5 Assistant 
-Comment=Shows Qt5 documentation and examples
-Exec=assistant-qt5
-Icon=assistant-qt5
-Terminal=false
-Encoding=UTF-8
-Type=Application
-Categories=Qt;Development;Documentation;</literal>
-EOF
-cat &gt; /usr/share/applications/designer-qt5.desktop &lt;&lt; "EOF"
-<literal>[Desktop Entry]
-Name=Qt5 Designer
-GenericName=Interface Designer
-Comment=Design GUIs for Qt5 applications
-Exec=designer-qt5
-Icon=designer-qt5
-MimeType=application/x-designer;
-Terminal=false
-Encoding=UTF-8
-Type=Application
-Categories=Qt;Development;</literal>
-EOF
-cat &gt; /usr/share/applications/linguist-qt5.desktop &lt;&lt; "EOF"
-<literal>[Desktop Entry]
-Name=Qt5 Linguist
-Comment=Add translations to Qt5 applications
-Exec=linguist-qt5
-Icon=linguist-qt5
-MimeType=text/vnd.trolltech.linguist;application/x-linguist;
-Terminal=false
-Encoding=UTF-8
-Type=Application
-Categories=Qt;Development;</literal>
-EOF
-cat &gt; /usr/share/applications/qdbusviewer-qt5.desktop &lt;&lt; "EOF"
-<literal>[Desktop Entry]
-Name=Qt5 QDbusViewer 
-GenericName=D-Bus Debugger
-Comment=Debug D-Bus applications
-Exec=qdbusviewer-qt5
-Icon=qdbusviewer-qt5
-Terminal=false
-Encoding=UTF-8
-Type=Application
-Categories=Qt;Development;Debugger;</literal>
-EOF</userinput></screen>
-<!-- No package uses this at the moment.
       <para>
         If you installed <application>Qt5</application> in
         <filename class="directory">/usr</filename>, create an
@@ -518,22 +455,11 @@
 # End /etc/profile.d/qt5.sh</literal>
 EOF</userinput></screen>
 
--->
-<note>
-<para>
-If you have installed <application>Qt5</application> in
-<filename class="directory">/usr</filename>, you can skip
-rest of this section.
-</para>
-</note>
       <para>
         If you installed <application>Qt5</application> in a location other
         than <filename class="directory">/usr</filename>, you need to update the
@@ -579,19 +505,10 @@
 # End /etc/profile.d/qt5.sh</literal>
 EOF</userinput></screen>
 
-<note>
-<para>
-If you also installed <application>Qt4</application> and need to use
-the <application>Qt5</application> version of an executable such as
-<command>qmake</command> for building a program, make sure that 
-the <application>Qt5</application> bin directory is listed prior to
-the <application>Qt5</application> bin directory in the
-<envar>PATH</envar> variable.
-</para>
-</note>
     </sect3>
 
+   <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" 
+               href="../../xincludes/setqt.xml"/>
   </sect2>
 
   <sect2 role="content">
@@ -604,13 +521,13 @@
 
       <seglistitem>
         <seg>
-assistant-qt5, designer-qt5, lconvert-qt5, linguist-qt5, lrelease-qt5,
-lupdate-qt5, moc-qt5, pixeltool-qt5, qcollectiongenerator-qt5, qdbuscpp2xml-qt5,
-qdbus-qt5, qdbusviewer-qt5, qdbusxml2cpp-qt5, qdoc-qt5, qhelpconverter-qt5,
-qhelpgenerator-qt5, qmake-qt5, qml1plugindump-qt5, qmlbundle-qt5,
-qmlimportscanner-qt5, qmlmin-qt5, qmlplugindump-qt5, qmlprofiler-qt5, qml-qt5,
-qmlscene-qt5, qmltestrunner-qt5, qmlviewer-qt5, qtpaths-qt5, rcc-qt5,
-syncqt.pl-qt5, uic-qt5, xmlpatterns-qt5, and xmlpatternsvalidator-qt5
+          assistant, designer, lconvert, linguist, lrelease,
+          lupdate, moc, pixeltool, qcollectiongenerator, qdbuscpp2xml,
+          qdbus, qdbusviewer, qdbusxml2cpp, qdoc, qhelpconverter,
+          qhelpgenerator, qmake, qml1plugindump, qmlbundle,
+          qmlimportscanner, qmlmin, qmlplugindump, qmlprofiler, qml,
+          qmlscene, qmltestrunner, qmlviewer, qtpaths, rcc,
+          syncqt.pl, uic, xmlpatterns, and xmlpatternsvalidator
         </seg>
         <seg>
           libqgsttools_p.so, libQt5Bluetooth.so, libQt5Bootstrap.a, libQt5CLucene.so,
@@ -630,6 +547,9 @@
           /usr/lib/qt5,
           /usr/share/doc/qt5, and
           /usr/share/qt5
+          OR
+          /opy/qt5 and
+          /opt/qt-&qt5-version;
         </seg>
       </seglistitem>
     </segmentedlist>
@@ -640,19 +560,19 @@
       <?dbhtml list-presentation="table"?>
 
       <varlistentry id="assistant-qt5">
-<term><command>assistant-qt5</command></term>
+        <term><command>assistant</command></term>
         <listitem>
           <para>
             is a tool for presenting on-line documentation.
           </para>
           <indexterm zone="qt5 assistant-qt5">
-<primary sortas="b-assistant-qt5">assistant-qt5</primary>
+            <primary sortas="b-assistant-qt5">assistant</primary>
           </indexterm>
         </listitem>
       </varlistentry>
 
       <varlistentry id="designer-qt5">
-<term><command>designer-qt5</command></term>
+        <term><command>designer</command></term>
         <listitem>
           <para>
             is a full-fledged GUI builder. It includes
@@ -661,39 +581,39 @@
             property editor.
           </para>
           <indexterm zone="qt5 designer-qt5">
-<primary sortas="b-designer-qt5">designer-qt5</primary>
+            <primary sortas="b-designer-qt5">designer</primary>
           </indexterm>
         </listitem>
       </varlistentry>
 
       <varlistentry id="linguist-qt5">
-<term><command>linguist-qt5</command></term>
+        <term><command>linguist</command></term>
         <listitem>
           <para>
             provides support for translating applications into
             local languages.
           </para>
           <indexterm zone="qt5 linguist-qt5">
-<primary sortas="b-linguist-qt5">linguist-qt5</primary>
+            <primary sortas="b-linguist-qt5">linguist</primary>
           </indexterm>
         </listitem>
       </varlistentry>
 
       <varlistentry id="lrelease-qt5">
-<term><command>lrelease-qt5</command></term>
+        <term><command>lrelease</command></term>
         <listitem>
           <para>
             is a simple command line tool. It reads a Qt project
             file and produces message files used by the application.
           </para>
           <indexterm zone="qt5 lrelease-qt5">
-<primary sortas="b-lrelease-qt5">lrelease-qt5</primary>
+            <primary sortas="b-lrelease-qt5">lrelease</primary>
           </indexterm>
         </listitem>
       </varlistentry>
 
       <varlistentry id="lupdate-qt5">
-<term><command>lupdate-qt5</command></term>
+        <term><command>lupdate</command></term>
         <listitem>
           <para>
             reads a Qt project file, finds the translatable
@@ -702,38 +622,38 @@
             files listed in the project file.
           </para>
           <indexterm zone="qt5 lupdate-qt5">
-<primary sortas="b-lupdate-qt5">lupdate-qt5</primary>
+            <primary sortas="b-lupdate-qt5">lupdate</primary>
           </indexterm>
         </listitem>
       </varlistentry>
 
       <varlistentry id="moc-qt5">
-<term><command>moc-qt5</command></term>
+        <term><command>moc</command></term>
         <listitem>
           <para>
             generates Qt meta object support code.
           </para>
           <indexterm zone="qt5 moc-qt5">
-<primary sortas="b-moc-qt5">moc-qt5</primary>
+            <primary sortas="b-moc-qt5">moc</primary>
           </indexterm>
         </listitem>
       </varlistentry>
 
       <varlistentry id="pixeltool-qt5">
-<term><command>pixeltool-qt5</command></term>
+        <term><command>pixeltool</command></term>
         <listitem>
           <para>
             is a desktop magnifier and as you move your mouse around
             the screen it will show the magnified contents in its window.
           </para>
           <indexterm zone="qt5 pixeltool-qt5">
-<primary sortas="b-pixeltool-qt5">pixeltool-qt5</primary>
+            <primary sortas="b-pixeltool-qt5">pixeltool</primary>
           </indexterm>
         </listitem>
       </varlistentry>
 
       <varlistentry id="qmake-qt5">
-<term><command>qmake-qt5</command></term>
+        <term><command>qmake</command></term>
         <listitem>
           <para>
             uses information stored in project files to
@@ -741,31 +661,31 @@
             generates.
           </para>
           <indexterm zone="qt5 qmake-qt5">
-<primary sortas="b-qmake-qt5">qmake-qt5</primary>
+            <primary sortas="b-qmake-qt5">qmake</primary>
           </indexterm>
         </listitem>
       </varlistentry>
 
       <varlistentry id="rcc-qt5">
-<term><command>rcc-qt5</command></term>
+        <term><command>rcc</command></term>
         <listitem>
           <para>
             is a resource compiler used in conjunction with designer.
           </para>
           <indexterm zone="qt5 rcc-qt5">
-<primary sortas="b-rcc-qt5">rcc-qt5</primary>
+            <primary sortas="b-rcc-qt5">rcc</primary>
           </indexterm>
         </listitem>
       </varlistentry>
 
       <varlistentry id="uic-qt5">
-<term><command>uic-qt5</command></term>
+        <term><command>uic</command></term>
         <listitem>
           <para>
             is a Qt user interface compiler.
           </para>
           <indexterm zone="qt5 uic-qt5">
-<primary sortas="b-uic-qt5">uic-qt5</primary>
+            <primary sortas="b-uic-qt5">uic</primary>
           </indexterm>
         </listitem>
       </varlistentry>

