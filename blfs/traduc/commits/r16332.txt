Révision 16332

fichiers modifiés :
   postlfs/shells/tcsh.xml
   multimedia/libdriv/sdl.xml
   general.ent
   xsoft/graphweb/firefox.xml
   packages.ent
   server/databases/mariadb.xml
   general/prog/subversion.xml
   general/graphlib/fribidi.xml
   introduction/welcome/changelog.xml

Log :
• Update to tcsh-6.19.00. • Update to fribidi-0.19.7. • Update to subversion-1.9.0. • Update to mariadb-10.0.21. • Update to firefox-39.0.3. • SDL-1.2.15: Move "--disable-sdl-dlopen" to option.

Le robot a traité 39 % du commit anglais
Index: general/graphlib/fribidi.xml
===================================================================
--- general/graphlib/fribidi.xml	(révision 16331)
+++ general/graphlib/fribidi.xml	(révision 16332)
@@ -92,10 +92,8 @@
       commands:
     </para>
 
-<screen><userinput>sed -i "s|glib/gstrfuncs\.h|glib.h|" charset/fribidi-char-sets.c &amp;&amp;
-sed -i "s|glib/gmem\.h|glib.h|"      lib/mem.h                   &amp;&amp;
+<screen><userinput>./configure --prefix=/usr &amp;&amp;
 
-./configure --prefix=/usr                                        &amp;&amp;
 make</userinput></screen>
 
     <para>
@@ -108,14 +106,14 @@
 
 <screen role="root"><userinput>make install</userinput></screen>
   </sect2>
+<!--
   <sect2 role="commands">
     <title>Command Explanations</title>
 

Index: general/prog/subversion.xml
===================================================================
--- general/prog/subversion.xml	(révision 16331)
+++ general/prog/subversion.xml	(révision 16332)
@@ -121,7 +121,7 @@
     <para role="optional">
       One of <xref linkend="openjdk"/>,
       <ulink url="http://www.inet.no/dante/">Dante</ulink> or
-<ulink url="http://oss.software.ibm.com/developerworks/opensource/jikes/">Jikes</ulink>,
+      <ulink url="http://jikes.sourceforge.net/">Jikes</ulink>,
       and <xref linkend="junit"/> (to test the Java bindings)
     </para>
 
@@ -158,17 +158,6 @@
     </para>
 
     <para>
-If you have a multi core CPU and normally run <command>make</command> with
-multiple jobs (eg <command>make -j4</command>) then a bug in the
-<filename>Makefile</filename> will prevent the
-<application>Perl</application> bindings compiling correctly. Fix the
-<filename>Makefile</filename> with:
-</para>
-<para>
-<screen><command>sed -i 's#Makefile.PL.in$#&amp; libsvn_swig_perl#' Makefile.in</command></screen>
-</para>
-<para>
       If you want to compile <application>Perl</application>,
       <application>Python2</application>, or <application>Ruby</application>
       bindings, issue any of the following command:
@@ -209,7 +198,8 @@
       Now, as the <systemitem class="username">root</systemitem> user:
     </para>
 
-<screen role="root"><userinput>make -j1 install &amp;&amp;
+<screen role="root"><userinput>make install &amp;&amp;
 install -v -m755 -d /usr/share/doc/subversion-&subversion-version; &amp;&amp;
 cp      -v -R       doc/* \
                     /usr/share/doc/subversion-&subversion-version;</userinput></screen>
@@ -255,6 +245,11 @@
       if <application>Apache</application> is not installed.
     </para>
 
+    <para>
+      <option>---disable-gmock</option>: Do not use the Googlemock testing
+      framework.
+    </para>
   </sect2>
 
   <sect2 role="configuration">
@@ -306,8 +301,8 @@
 
       <seglistitem>
         <seg>
-svn, svnadmin, svndumpfilter, svnlook, svnmucc, svnrdump, svnserve,
-svnsync, and svnversion
+          svn, svnadmin, svnbench, svndumpfilter, svnfsfs, svnlook, svnmucc,
+          svnrdump, svnserve, svnsync, and svnversion
         </seg>
         <seg>
           libsvn_*-1.so and optionally, a Java library, the mod_dav_svn.so and
@@ -361,6 +356,18 @@
         </listitem>
       </varlistentry>
 
+      <varlistentry id="svnbench">
+        <term><command>svnbench</command></term>
+        <listitem>
+          <para>
+            is a benchmarking tool.
+          </para>
+          <indexterm zone="subversion svnbench">
+            <primary sortas="b-svnbench">svnbench</primary>
+          </indexterm>
+        </listitem>
+      </varlistentry>
       <varlistentry id="svndumpfilter">
         <term><command>svndumpfilter</command></term>
         <listitem>
@@ -374,6 +381,20 @@
         </listitem>
       </varlistentry>
 
+      <varlistentry id="svnfsfs">
+        <term><command>svnfsfs</command></term>
+        <listitem>
+          <para>
+            is the FSFS (FileSystem atop of the FileSystem -
+            <application>Subversion</application> filesystem implementation)
+            repository manipulation tool.
+          </para>
+          <indexterm zone="subversion svnfsfs">
+            <primary sortas="b-svnfsfs">svnfsfs</primary>
+          </indexterm>
+        </listitem>
+      </varlistentry>
       <varlistentry id="svnlook">
         <term><command>svnlook</command></term>
         <listitem>

Index: introduction/welcome/changelog.xml
===================================================================
--- introduction/welcome/changelog.xml	(révision 16331)
+++ introduction/welcome/changelog.xml	(révision 16332)
@@ -45,6 +45,32 @@
 -->
 
       <listitem>
+        <para>August 7th, 2015</para>
+        <itemizedlist>
+          <listitem>
+            <para>[fernando] - Update to firefox-39.0.3.  Fixes
+            <ulink url="&blfs-ticket-root;6794">#6794</ulink>.</para>
+          </listitem>
+          <listitem>
+            <para>[fernando] - Update to mariadb-10.0.21.  Fixes
+            <ulink url="&blfs-ticket-root;6793">#6793</ulink>.</para>
+          </listitem>
+          <listitem>
+            <para>[fernando] - Update to subversion-1.9.0.  Fixes
+            <ulink url="&blfs-ticket-root;6792">#6792</ulink>.</para>
+          </listitem>
+          <listitem>
+            <para>[fernando] - Update to fribidi-0.19.7.  Fixes
+            <ulink url="&blfs-ticket-root;6791">#6791</ulink>.</para>
+          </listitem>
+          <listitem>
+            <para>[fernando] - Update to tcsh-6.19.00.  Fixes
+            <ulink url="&blfs-ticket-root;6790">#6790</ulink>.</para>
+          </listitem>
+        </itemizedlist>
+      </listitem>
+      <listitem>
         <para>August 6th, 2015</para>
         <itemizedlist>
           <listitem>

Index: multimedia/libdriv/sdl.xml
===================================================================
--- multimedia/libdriv/sdl.xml	(révision 16331)
+++ multimedia/libdriv/sdl.xml	(révision 16332)
@@ -61,19 +61,18 @@
 
     <bridgehead renderas="sect4">Optional</bridgehead>
     <para role="optional">
+      <xref linkend="aalib"/>,
       <xref linkend="alsa"/>,
-<xref linkend='pulseaudio'/>
+      <xref linkend="glu"/>,
       <xref linkend="nasm"/>,
+      <xref linkend="pulseaudio"/>,
+      <xref linkend="pth"/>,
       <xref linkend="x-window-system"/>,
-<xref linkend="glu"/>,
-<xref linkend="aalib"/>,
-<xref linkend="pth"/>,
       <ulink url="http://www.directfb.org/">DirectFB</ulink>,
-<ulink url="http://www.ggi-project.org/">GGI</ulink>,
-<ulink url="http://my.arava.co.il/~matan/svgalib/">SVGAlib-1.9.5</ulink>
-(<ulink url="&patch-root;/svgalib-1.9.25-megafixes-1.patch">patched</ulink>),
-<ulink url="http://caca.zoy.org/wiki/libcaca">libcaca</ulink> and
-<ulink url="http://picogui.org/">PicoGUI</ulink>
+      <ulink url="http://ibiblio.org/ggicore/">GGI</ulink>,
+      <ulink url="http://caca.zoy.org/wiki/libcaca">libcaca</ulink>,
+      <ulink url="http://picogui.org/">PicoGUI</ulink>, and
+      <ulink url="http://arava.co.il/matan/svgalib/">SVGAlib</ulink>
     </para>
 
     <para condition="html" role="usernotes">User Notes:
@@ -87,9 +86,11 @@
     <para>Install <application>SDL</application> by running the
     following commands:</para>
 
-<screen><userinput>sed -i '/_XData32/s:register long:register _Xconst long:' src/video/x11/SDL_x11sym.h &amp;&amp;
+<screen><userinput>sed -e '/_XData32/s:register long:register _Xconst long:' \
+    -i src/video/x11/SDL_x11sym.h &amp;&amp;
 
-./configure --prefix=/usr --disable-static --disable-sdl-dlopen &amp;&amp;
+./configure --prefix=/usr --disable-static &amp;&amp;
 make</userinput></screen>
 
     <para>Now, as the <systemitem class="username">root</systemitem> user:</para>
@@ -117,22 +118,30 @@
   <sect2 role="commands">
     <title>Command Explanations</title>
 
-<para><command>sed -i ...</command>: This command fixes compilation with libX11-1.6.0</para>
+    <para><command>sed -e ...</command>: This command fixes compilation with
+    libX11-1.6.0</para>
 
     <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
       href="../../xincludes/static-libraries.xml"/>
 
-<para><parameter>--disable-sdl-dlopen</parameter>: This switch disables
-using dlopen for shared object loading.</para>
+    <para><option>--disable-alsa-shared</option>: This switch disables
+    dynamically loading ALSA shared libraries.</para>
 
+    <para><option>--disable-sdl-dlopen</option>: This switch disables using
+    dlopen for shared object loading. Loading image backend libraries like
+    libpng dynamically on the fly does not work.</para>
+    <para><option>--disable-x11-shared</option>: This switch disables
+    dynamically loading X11 shared libraries.</para>
   </sect2>
 
   <sect2 role="configuration">

Index: postlfs/shells/tcsh.xml
===================================================================
--- postlfs/shells/tcsh.xml	(révision 16331)
+++ postlfs/shells/tcsh.xml	(révision 16332)
@@ -4,12 +4,15 @@
   <!ENTITY % general-entities SYSTEM "../../general.ent">
   %general-entities;
 
+  <!-- Following URL does not have previous versions
+  <!-- Following URL does have previous versions -->
   <!ENTITY tcsh-download-ftp  "ftp://ftp.astron.com/pub/tcsh/tcsh-&tcsh-version;.tar.gz">
 ]>
 
@@ -68,12 +71,21 @@
   <sect2 role="installation">
     <title>Installation of Tcsh</title>
 
+    <para>
+      First, fix the package for gcc5 optimizations:
+    </para>
+<screen><userinput>sed -e 's/ i)/ k)/' \
+    -e '/ k)/  i \    k = i;' \
+    -e '/\*cp/ a \    volatile size_t k;' \
+    -i tc.alloc.c</userinput></screen>
     <para>Install <application>Tcsh</application> by running the following
     commands:</para>
 
-<screen><userinput>sed -i -e 's|\$\*|#&amp;|' -e 's|fR/g|&amp;m|' tcsh.man2html &amp;&amp;
+<screen><userinput>sed -i 's|fR/g|&amp;m|' tcsh.man2html       &amp;&amp;
+./configure --prefix=/usr --bindir=/bin &amp;&amp;
 
-./configure --prefix=/usr --bindir=/bin &amp;&amp;
 make &amp;&amp;
 sh ./tcsh.man2html</userinput></screen>
 
@@ -93,7 +107,7 @@
   <sect2 role="commands">
     <title>Command Explanations</title>
 
-<para><command>sed -i -e 's|\$\*|#&amp;|' -e 's|fR/g|&amp;m|' tcsh.man2html</command>:
+    <para><command>sed -i 's|fR/g|&amp;m|' tcsh.man2html</command>:
     This updates some deprecated Perl code.</para>
 
     <para><parameter>--bindir=/bin</parameter>: This installs the
@@ -176,6 +190,48 @@
 /bin/csh</literal>
 EOF</userinput></screen>
 
+      <para>
+        The following <filename>~/.cshrc</filename> provides two alternative
+        colour prompts and coloured <command>ls</command> output. If you prefer
+        a global modification, issue the command as the <systemitem
+        class="username">root</systemitem> user, replacing
+        <filename>~/.cshrc</filename> by <filename>/etc/csh.cshrc</filename>.
+      </para>
+<screen><userinput>cat &gt; ~/.cshrc &lt;&lt; "EOF"
+<literal># Original at:
+# https://www.cs.umd.edu/~srhuang/teaching/code_snippets/prompt_color.tcsh.html
+# Modified BLFS Development Team:
+# Add these lines to your ~/.cshrc (or to /etc/csh.cshrc).
+# Colors!
+set     red="%{\033[1;31m%}"
+set   green="%{\033[0;32m%}"
+set  yellow="%{\033[1;33m%}"
+set    blue="%{\033[1;34m%}"
+set magenta="%{\033[1;35m%}"
+set    cyan="%{\033[1;36m%}"
+set   white="%{\033[0;37m%}"
+set     end="%{\033[0m%}" # This is needed at the end...
+# Setting the actual prompt.  Two separate versions for you to try, pick
+# whichever one you like better, and change the colors as you want.
+# Just don't mess with the ${end} guy in either line...  Comment out or
+# delete the prompt you don't use.
+set prompt="${green}%n${blue}@%m ${white}%~ ${green}%%${end} "
+set prompt="[${green}%n${blue}@%m ${white}%~ ]${end} "
+# This was not in the original URL above
+# Provides coloured ls
+alias ls ls --color=always
+# Clean up after ourselves...
+unset red green yellow blue magenta cyan yellow white end</literal>
+EOF</userinput></screen>
     </sect3>
 
   </sect2>

Index: server/databases/mariadb.xml
===================================================================
--- server/databases/mariadb.xml	(révision 16331)
+++ server/databases/mariadb.xml	(révision 16332)
@@ -409,12 +409,8 @@
           and several under /usr/lib/mysql/plugin/
         </seg>
         <seg>
-/etc/mysql,
-/srv/mysql,
-/usr/include/mysql,
-/usr/lib/mysql,
-/usr/share/doc/mariadb-&mariadb-version;, and
-/usr/share/mysql
+          /{etc,srv,usr/{include,lib,share}}/mysql and
+          /usr/share/doc/mariadb-&mariadb-version;
         </seg>
       </seglistitem>
     </segmentedlist>

Index: xsoft/graphweb/firefox.xml
===================================================================
--- xsoft/graphweb/firefox.xml	(révision 16331)
+++ xsoft/graphweb/firefox.xml	(révision 16332)
@@ -4,14 +4,14 @@
   <!ENTITY % general-entities SYSTEM "../../general.ent">
   %general-entities;
 
-"&mozilla-http;/firefox/releases/&firefox-version;/source/firefox-&firefox-version;.source.tar.bz2">
-"&mozilla-ftp;/firefox/releases/&firefox-version;/source/firefox-&firefox-version;.source.tar.bz2">
+<!-- 550 Permission denied.
   <!ENTITY firefox-size          "172 MB">
   <!ENTITY firefox-buildsize     "3.7 GB (74 MB installed)">
 ]>
@@ -125,15 +125,15 @@
       <xref linkend="gst10-plugins-good"/> and
       <xref linkend="gst10-libav"/> at runtime),
       <xref linkend="libnotify"/>,
-<ulink url="https://code.google.com/p/libproxy/">libproxy</ulink>,
       <xref linkend="openjdk"/>,
       <xref linkend="pulseaudio"/>,
       <xref linkend="startup-notification"/>,
       <xref linkend="valgrind"/>,
       <xref linkend="wget"/>,
       <xref linkend="wireless_tools"/>,
-<ulink url="http://hunspell.sourceforge.net/">Hunspell</ulink>, and
-<ulink url="http://sourceforge.net/projects/liboauth/files/">liboauth</ulink>
+      <ulink url="http://hunspell.sourceforge.net/">Hunspell</ulink>,
+      <ulink url="http://sourceforge.net/projects/liboauth/files/">liboauth</ulink>, and
+      <ulink url="https://code.google.com/p/libproxy/">libproxy</ulink>,
     </para>
 
     <para condition="html" role="usernotes">
@@ -230,12 +230,6 @@
 EOF</userinput></screen>
 
     <para>
-First, fix building with system freetype-2.6 or later:
-</para>
-<screen><userinput>sed -i '/^ftglyph.h/ i ftfntfmt.h' config/system-headers</userinput></screen>
-<para>
       Compile <application>Firefox</application> by issuing the following
       commands:
     </para>

