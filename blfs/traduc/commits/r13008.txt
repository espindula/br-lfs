Révision 13008

fichiers modifiés :
   general/prog/gcc.xml
   introduction/welcome/changelog.xml

Log :
1 line Remove unneeded switches for GCC compilation antidy up tests instruction

Le robot a traité 4 % du commit anglais
Index: general/prog/gcc.xml
===================================================================
--- general/prog/gcc.xml	(revision 13007)
+++ general/prog/gcc.xml	(revision 13008)
@@ -195,11 +195,12 @@
 <screen><userinput>sed -i 's/\(install.*:\) install-.*recursive/\1/' libffi/Makefile.in         &amp;&amp;
 sed -i 's/\(install-data-am:\).*/\1/'             libffi/include/Makefile.in &amp;&amp;
 
+<!-- fomit-frame-pointer is the defaults since GCC-4.6
 case `uname -m` in
       i?86) sed -i 's/^T_CFLAGS =$/&amp; -fomit-frame-pointer/' gcc/Makefile.in ;;
 esac &amp;&amp;
+--><!-- Those are not needed anymore:
+sed -i -e /autogen/d -e /check.sh/d fixincludes/Makefile.in
 mv -v libmudflap/testsuite/libmudflap.c++/pass41-frag.cxx{,.disable}
 -->
 mkdir ../gcc-build &amp;&amp;
@@ -224,10 +225,16 @@
     (pass when expected to FAIL). To run the tests, issue:</para>
 
 <screen><userinput>ulimit -s 32768 &amp;&amp;
-make -k check   &amp;&amp;
+make -k check</userinput></screen>
+<!-- The command above may error out, so using && may prevent the summary
+to be run. -->
 
-../gcc-&gcc-version;/contrib/test_summary</userinput></screen>
+    <para>The tests are very long, and the results may be hard to find in the
+    logs, specially if you use job control with make. You can get a summary
+    of the tests with:</para>
 
+<screen><userinput>../gcc-&gcc-version;/contrib/test_summary</userinput></screen>
     <para>Now, as the <systemitem class="username">root</systemitem> user:</para>
 
 <screen role="root"><userinput>make install &amp;&amp;
@@ -254,11 +261,10 @@
   <sect2 role="commands">
     <title>Command Explanations</title>
 
-<para>The first two <command>sed</command> commands prevent the
+    <para>The two <command>sed</command> commands prevent the
     installation of the <application>libffi</application> library bundled
     with <application>GCC</application>, since it is outdated compared to
-<xref linkend="libffi"/>. The following three commands are the same
-ones used during the build of LFS.</para>
+    <xref linkend="libffi"/>.</para>
 
     <para><command>mkdir ../gcc-build; cd ../gcc-build</command>: The
     <application>GCC</application> documentation recommends

Index: introduction/welcome/changelog.xml
===================================================================
--- introduction/welcome/changelog.xml	(revision 13007)
+++ introduction/welcome/changelog.xml	(revision 13008)
@@ -48,6 +48,10 @@
       <para>April 29th, 2014</para>
       <itemizedlist>
         <listitem>
+          <para>[pierre] - Remove unneeded flags for compiling GCC-4.9.0
+          and correct test instructions.</para>
+        </listitem>
+        <listitem>
           <para>[pierre] - Update to GCC-4.9.0. Fixes
           <ulink url="&blfs-ticket-root;4986">#4986</ulink>.</para>
         </listitem>

