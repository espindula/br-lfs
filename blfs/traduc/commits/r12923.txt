Révision 12923

fichiers modifiés :
   general.ent
   gnome/platform/gjs.xml
   gnome/platform/gnome-icon-theme.xml
   gnome/platform/gnome-desktop.xml
   gnome/platform/libpeas.xml
   gnome/applications/eog.xml
   general/prog/python2.xml
   introduction/welcome/changelog.xml

Log :
Fix Python-2.7.6 to build with Readline-6.3, thanks to Igor Z. Updates to gjs-1.40.0,libpeas-1.10.0, gnome-icon-theme-3.12.0, gnome-desktop-3.12.0 and eog-3.12.0.

Le robot a traité 48 % du commit anglais
Index: general/prog/python2.xml
===================================================================
--- general/prog/python2.xml	(révision 12922)
+++ general/prog/python2.xml	(révision 12923)
@@ -100,6 +100,16 @@
       </listitem>
     </itemizedlist>
 
+    <itemizedlist spacing="compact">
+      <listitem>
+        <para>
+           Required patch for systems running
+           <application>Readline</application>-6.x (x>2):
+           <ulink url="&patch-root;/Python-&python2-version;-readline_6_3-1.patch"/>
+        </para>
+      </listitem>
+    </itemizedlist>
     <bridgehead renderas="sect3">Python 2 Dependencies</bridgehead>
 
     <bridgehead renderas="sect4">Recommended</bridgehead>
@@ -134,7 +144,8 @@
       commands:
     </para>
 
-<screen><userinput>./configure --prefix=/usr       \
+<screen><userinput>patch -Np1 -i ../Python-&python2-version;-readline_6_3-1.patch &amp;&amp;
+./configure --prefix=/usr       \
             --enable-shared     \
             --with-system-expat \
             --with-system-ffi   \

Index: gnome/applications/eog.xml
===================================================================
--- gnome/applications/eog.xml	(révision 12922)
+++ gnome/applications/eog.xml	(révision 12923)
@@ -145,7 +147,7 @@
           eog
         </seg>
         <seg>
-None
+          several libraries under /usr/lib/eog/plugins/
         </seg>
         <seg>
           /usr/include/eog-3.0,

Index: gnome/platform/gjs.xml
===================================================================
--- gnome/platform/gjs.xml	(révision 12922)
+++ gnome/platform/gjs.xml	(révision 12923)
@@ -76,7 +76,7 @@
     <para role="required">
       <xref linkend="cairo"/>,
       <xref linkend="gobject-introspection"/>, and
-<xref linkend="JS"/>
+      <xref linkend="JS2"/>
     </para>
 
     <para condition="html" role="usernotes">User Notes:
@@ -96,8 +96,8 @@
 make</userinput></screen>
 
     <para>
+      To test the results, issue: <command>make check</command>.
+      <!-- The package comes with a testsuite, but it fails for yet unknown reasons. -->
     </para>
 
     <para>
@@ -129,16 +129,15 @@
 
       <seglistitem>
         <seg>
-gjs and gjs-console
+          gjs (symlink) and gjs-console
         </seg>
         <seg>
           libgjs.so
         </seg>
         <seg>
           /usr/include/gjs-1.0,
-/usr/lib/gjs,
-/usr/libexec/gjs, and
-/usr/share/gjs-1.0
+          /usr/lib/gjs, and
+          /usr/libexec/gjs
         </seg>
       </seglistitem>
     </segmentedlist>

Index: gnome/platform/gnome-desktop.xml
===================================================================
--- gnome/platform/gnome-desktop.xml	(révision 12922)
+++ gnome/platform/gnome-desktop.xml	(révision 12923)
@@ -153,7 +157,8 @@
         </seg>
         <seg>
           /usr/include/gnome-desktop-3.0,
-(module.xml 2).xml/usr/share/gtk-doc/html/gnome-desktop3,
+          /usr/share/gnome (module.xml 2),
+          /usr/share/gtk-doc/html/gnome-desktop3,
           /usr/share/help/*/gpl,
           /usr/share/help/*/lgpl,
           /usr/share/help/*/fdl, and

Index: gnome/platform/libpeas.xml
===================================================================
--- gnome/platform/libpeas.xml	(révision 12922)
+++ gnome/platform/libpeas.xml	(révision 12923)
@@ -82,7 +82,6 @@
 
     <bridgehead renderas="sect4">Recommended</bridgehead>
     <para role="recommended">
-<xref linkend="gjs"/> and
       <xref linkend="pygobject3"/>
       (<application>Python</application> 2 and
        <application>Python</application> 3 modules)
@@ -114,8 +113,8 @@
 make</userinput></screen>
 
     <para>
-To test the results, issue: <command>make -k check</command>. About 45
-tests are "OK".
+      To test the results, issue: <command>make check</command>. An active
+      graphical session with bus address is necessary to run the tests.
     </para>
 
     <para>

Index: introduction/welcome/changelog.xml
===================================================================
--- introduction/welcome/changelog.xml	(révision 12922)
+++ introduction/welcome/changelog.xml	(révision 12923)
@@ -48,6 +48,31 @@
       <para>March 31st, 2014</para>
       <itemizedlist>
         <listitem>
+          <para>[fernando] - Update to eog-3.12.0. Partially fixes
+          <ulink url="&blfs-ticket-root;4862">#4862</ulink>.</para>
+        </listitem>
+        <listitem>
+          <para>[fernando] - Update to gnome-desktop-3.12.0. Partially fixes
+          <ulink url="&blfs-ticket-root;4862">#4862</ulink>.</para>
+        </listitem>
+        <listitem>
+          <para>[fernando] - Update to gnome-icon-theme-3.12.0. Partially fixes
+          <ulink url="&blfs-ticket-root;4862">#4862</ulink>.</para>
+        </listitem>
+        <listitem>
+          <para>[fernando] - Update to libpeas-1.10.0. Fixes
+          <ulink url="&blfs-ticket-root;4882">#4882</ulink>.</para>
+        </listitem>
+        <listitem>
+          <para>[fernando] - Update to gjs-1.40.0. Fixes
+          <ulink url="&blfs-ticket-root;4879">#4879</ulink>.</para>
+        </listitem>
+        <listitem>
+          <para>[fernando] - Python-2.7.6 fails to build readline module with
+          Readline version 6.3. Thanks Igor Živković. Fixes
+          <ulink url="&blfs-ticket-root;4880">#4880</ulink>.</para>
+        </listitem>
+        <listitem>
           <para>[fernando] - Fix Poppler-0.24.5 to build both, qt4 and 5
           libraries. Fixes
           <ulink url="&blfs-ticket-root;4880">#4880</ulink>.</para>

