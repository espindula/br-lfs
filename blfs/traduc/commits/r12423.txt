Révision 12423

fichiers modifiés :
   general/prog/subversion.xml

Log :
Move swig and python to optional in subversion

Le robot a traité 4 % du commit anglais
Index: general/prog/subversion.xml
===================================================================
--- general/prog/subversion.xml	(révision 12422)
+++ general/prog/subversion.xml	(révision 12423)
@@ -87,11 +87,8 @@
 
     <bridgehead renderas="sect4">Recommended</bridgehead>
     <para role="recommended">
-<xref linkend="openssl"/>,
-<xref linkend="python2"/> (with sqlite support for the tests),
-<xref linkend="serf"/> (for handling http:// and https:// URLs), and
-<xref linkend="swig"/> (for building Perl, Python and optionally Ruby
-bindings)
+      <xref linkend="openssl"/> and
+      <xref linkend="serf"/> (for handling http:// and https:// URLs)
     </para>
 
 <!-- support for berkeley db is deprecated since 1.8
@@ -114,7 +111,9 @@
       <xref linkend="cyrus-sasl"/>,
       <xref linkend="dbus"/>,
       <xref linkend="kdelibs"/> (for <ulink url="http://utils.kde.org/projects/kwalletmanager/">KWallet</ulink> support),
-<xref linkend="ruby"/>
+      <xref linkend="python2"/> (with sqlite support for the tests),
+      <xref linkend="ruby"/>, and
+      <xref linkend="swig"/> (for building Perl, Python and Ruby bindings)
     </para>
 
     <bridgehead renderas="sect4">Optional (for the Java Bindings)</bridgehead>
@@ -138,14 +137,10 @@
       commands:
     </para>
 
-<screen><userinput>sed -i 's#Makefile.PL.in$#&amp; libsvn_swig_perl#' Makefile.in &amp;&amp;
-./configure --prefix=/usr    \
+<screen><userinput>./configure --prefix=/usr    \
             --disable-static \
             --with-apache-libexecdir &amp;&amp;
-make &amp;&amp;
-make swig-pl &amp;&amp;
-make swig-py swig_pydir=/usr/lib/python&python2-majorver;/site-packages/libsvn \
-swig_pydir_extra=/usr/lib/python&python2-majorver;/site-packages/svn</userinput></screen>
+make</userinput></screen>
 
     <para>
       If you have <xref linkend="doxygen"/> installed and you wish to build the
@@ -155,26 +150,32 @@
      the following command: <command>make javahl</command>
     </para>
 
-<screen><userinput>make javahl</userinput></screen>
 
+    <para>
       If you have a multi core CPU and normally run <command>make</command> with
       multiple jobs (eg <command>make -j4</command>) then a bug in the
       <filename>Makefile</filename> will prevent the
       <application>Perl</application> bindings compiling correctly. Fix the
       <filename>Makefile</filename> with this sed:
+      <command>sed -i 's#Makefile.PL.in$#&amp; libsvn_swig_perl#' Makefile.in</command>
     </para>
 
-<screen><userinput>sed -i 's#Makefile.PL.in$#&amp; libsvn_swig_perl#' Makefile.in</userinput></screen>
--->
     <para>
-To compile <application>Ruby</application>
-bindings, issue the following command:
+      If you want to compile <application>Perl</application>,
+      <application>Python2</application>, or <application>Ruby</application>
+      bindings, issue any of the following command:
     </para>
-<screen><userinput>make swig-rb</userinput></screen>
+    <para>
+      <literallayout><command>make swig-pl</command> for <application>Perl</application>,
+<command>make swig-py \
+     swig_pydir=/usr/lib/python&python2-majorver;/site-packages/libsvn \
+     swig_pydir_extra=/usr/lib/python&python2-majorver;/site-packages/svn</command> for <application>Python</application>,
+<command>make swig-rb</command> for <application>Ruby</application>.
+      </literallayout>
+    </para>
 
     <para>
       To test the results, issue: <command>make -k check</command>. One test
@@ -190,20 +191,17 @@
     <para>
       To test the results of any of the <application>SWIG</application>
       bindings, you can use any of the following commands:
+      <command>make check-swig-pl</command>,
+      <command> make check-swig-py</command>, or
+      <command>make check-swig-rb</command>.
     </para>
 
-<screen><userinput>make check-swig-pl &amp;&amp;
-make check-swig-py &amp;&amp;
-make check-swig-rb </userinput></screen>
 
     <para>
       Now, as the <systemitem class="username">root</systemitem> user:
     </para>
 
 <screen role="root"><userinput>make install &amp;&amp;
-make install-swig-pl &amp;&amp;
-make install-swig-py swig_pydir=/usr/lib/python&python2-majorver;/site-packages/libsvn    \
-swig_pydir_extra=/usr/lib/python&python2-majorver;/site-packages/svn &amp;&amp;
 install -v -m755 -d /usr/share/doc/subversion-&subversion-version; &amp;&amp;
 cp      -v -R       doc/* \
                     /usr/share/doc/subversion-&subversion-version;</userinput></screen>
@@ -211,49 +209,43 @@
     <para>
       If you built the Java bindings, issue the following command as the
       <systemitem class="username">root</systemitem> user to install them:
+      <command>make install-javahl</command>
     </para>
 
-<screen role="root"><userinput>make install-javahl</userinput></screen>
 
     <para>
-If you built the <application>SWIG</application>
-<application>Ruby</application> bindings, issue the following commands
-as the <systemitem class="username">root</systemitem> user to install
-them:
+      If you built the <application>Perl</application>,
+      <application>Python2</application>, or
+      <application>Ruby</application> bindings, issue any of the following
+      commands as the <systemitem class="username">root</systemitem> user
+      to install them:
     </para>
+    <para>
+      <literallayout><command>make install-swig-pl</command>
+<command>make install-swig-py \
+      swig_pydir=/usr/lib/python&python2-majorver;/site-packages/libsvn \
+      swig_pydir_extra=/usr/lib/python&python2-majorver;/site-packages/svn</command>
+<command>make install-swig-rb</command></literallayout>
+    </para>
 
-<screen role="root"><userinput>make install-swig-rb</userinput></screen>
   </sect2>
 
   <sect2 role="commands">
     <title>Command Explanations</title>
 
-<para>
-<command>sed -i 's#Makefile.PL.in$...</command>: Corrects a
-bug in the <filename>Makefile</filename>, which prevents using
-parallel jobs for Perl bindings.
-</para>
     <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
       href="../../xincludes/static-libraries.xml"/>
 
     <para>
       <parameter>--with-apache-libexecdir</parameter>:
-This switch sets <application>Apache HTTPD</application>
-module install dir.
+      If <xref linkend="apache"/> is installed, the shared
+      <application>Apache</application> modules are
+      built. This switch allows to have those modules installed to
+      <application>Apache</application>'s configured module dir instead
+      of <filename class="directory">/usr/libexec</filename>. It has no effect
+      if <application>Apache</application> is not installed.
     </para>
 
-<para>
-<command>make swig-&lt;language&gt;</command>: Builds &lt;language&gt;
-bindings.
-</para>
-<para>
-<command>make install-swig-&lt;language&gt;</command>: Installs
-&lt;language&gt; bindings.
-</para>
   </sect2>
 
   <sect2 role="configuration">
@@ -317,10 +309,10 @@
         </seg>
         <seg>
           /usr/include/subversion-1,
-/usr/lib/perl5/site_perl/&lfs-perl-version;/auto/SVN,
-/usr/lib/perl5/site_perl/&lfs-perl-version;/SVN,
-/usr/lib/python&python2-majorver;/site-packages/libsvn,
-/usr/lib/python&python2-majorver;/site-packages/svn,
+          /usr/lib/perl5/site_perl/&lfs-perl-version;/auto/SVN (optional),
+          /usr/lib/perl5/site_perl/&lfs-perl-version;/SVN (optional),
+          /usr/lib/python&python2-majorver;/site-packages/libsvn (optional),
+          /usr/lib/python&python2-majorver;/site-packages/svn (optional),
           /usr/lib/ruby/site_ruby/&lt;x.y&gt;/i686-linux/svn (optional),
           /usr/lib/ruby/site_ruby/&lt;x.y&gt;/svn (optional),
 <!--      /usr/lib/svn-python/libsvn (optional),

