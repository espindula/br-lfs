Révision 10834

fichiers modifiés :
   introduction/welcome/changelog.xml
   postlfs/filesystems/sshfs-fuse.xml
   general.ent
   xsoft/other/blueman.xml
   xsoft/other/inkscape.xml
   pst/sgml/docbook-dsssl.xml
   general/prog/gcc.xml

Log :
Update to gcc-4.7.2 Tag blueman and inkscape Update sshfs-fuse dependencies Fix install permissions in dsssl-stylesheets

Le robot a traité 34 % du commit anglais
Index: general/prog/gcc.xml
===================================================================
--- general/prog/gcc.xml	(revision 10833)
+++ general/prog/gcc.xml	(revision 10834)
@@ -36,7 +36,7 @@
 
     <para>The <application>GCC</application> package contains GNU compilers.
     This package is useful for compiling programs written in C, C++, Fortran,
-    Java, Objective C, Objective C++, and Ada. You should ensure you actually
+    Java, Objective C, and Objective C++. You should ensure you actually
     need one of these additional compilers (C and C++ are installed in LFS)
     before you install them. Additionally, there are instructions in the BLFS
     book to install <xref linkend="openjdk"/>, which can be used instead of
@@ -89,26 +89,24 @@
     <para role="recommended"><xref linkend="dejagnu"/></para>
 
     <note>
-      <para>If you plan to compile Ada, you will need to install
-      <application>GNAT</application> temporarily to satisfy the circular
-      dependency when you recompile <application>GCC</application>
-      to include Ada. At the AdaCore download page, choose your platform and
-      2010, then select the file to download. You probably want the x86-linux
-      or x86_64-linux file.</para>
+      <para>Building Ada from source is no longer supported by BLFS.  The
+      upstream binary package is based on gcc-4.5.4 and is not suitable
+      for building Ada from the current <application>GCC</application>
+      package.</para>
     </note>
<!--
    <bridgehead renderas="sect3">GNAT GPL 2012 Package Information</bridgehead>
@@     @@
         <para>Download (HTTP): <ulink url="&gnat-download-http;"/></para>
       </listitem>
     </itemizedlist>
+-->
     <para condition="html" role="usernotes">User Notes:
     <ulink url="&blfs-wiki;/gcc"/></para>
 
   </sect2>
+<!--
   <sect2 role="installation">
     <title>Installation of GNAT</title>
 
@@ -139,7 +137,7 @@
 export PATH=<replaceable>&lt;Your build directory&gt;</replaceable>/gnat/bin:$PATH_HOLD</userinput></screen>
 
   </sect2>
+-->
   <sect2 role="installation">
     <title>Installation of GCC</title>
 
@@ -147,21 +145,22 @@
     <important>
       <para>The installation process may overwrite your existing
       <application>GCC</application> <command>gcc</command> and
-      <command>c++</command> compilers and libraries. It is highly recommended
-      that you have the <application>Tcl</application>,
-      <application>Expect</application> and <application>DejaGnu</application>
-      packages installed before beginning the build so you can run the full
-      suite of tests.</para>
+      <command>c++</command> compilers and libraries. Having the the
+      <application>Tcl</application>, <application>Expect</application> and
+      <application>DejaGnu</application> packages installed before beginning
+      the build is highly recommended so you can run the full suite of
+      tests.</para>
 
       <para>Do not continue with the <command>make install</command> command
       until you are confident the build was successful. You can compare your
@@ -169,17 +168,15 @@
     bootstrap</command></quote> instead of just a plain
     <quote><command>make</command></quote> intentionally. Even though it is
     assumed that the current version of <application>GCC</application> is
-    installed in LFS, because this installation includes the Ada compiler as an
-    installed language, a bootstrap is required. The GNAT compiler must be used
-    for stage1 of the bootstrap in order to build Ada. If the process didn't
-    use a <quote>bootstrap</quote> you could end up having a
-    <command>gcc</command> installed on the system that was produced by a
-    foreign compiler.</para>
+    installed in LFS, a bootstrap is recommended for robustness.  </para>
 
 <screen><userinput>sed -i 's/install_to_$(INSTALL_DEST) //' libiberty/Makefile.in &amp;&amp;
 sed -i 's@\./fixinc\.sh@-c true@'        gcc/Makefile.in       &amp;&amp;
-sed -i 's/Standard/Types/'               gcc/ada/uintp.adb     &amp;&amp;
 
+case `uname -m` in
+      i?86) sed -i 's/^T_CFLAGS =$/&amp; -fomit-frame-pointer/' gcc/Makefile.in ;;
+esac &amp;&amp;
 mkdir ../gcc-build &amp;&amp;
 cd    ../gcc-build &amp;&amp;
 
@@ -193,7 +190,7 @@
     --disable-multilib         \
     --enable-bootstrap         \
     --enable-clocale=gnu       \
-    --enable-languages=c,c++,ada,fortran,java,objc,obj-c++ &amp;&amp;
+    --enable-languages=c,c++,fortran,java,objc,obj-c++ &amp;&amp;
 
 make bootstrap &amp;&amp;
 make -k check  &amp;&amp;
@@ -205,12 +202,13 @@
 <screen role="root"><userinput>make install &amp;&amp;
 
 ln -v -sf ../usr/bin/cpp /lib &amp;&amp;
-ln -v -sf gcc /usr/bin/cc &amp;&amp;
+ln -v -sf gcc /usr/bin/cc </userinput></screen>
 
+<!--
 chown -v -R root:root \
     /usr/lib/gcc/i686-pc-linux-gnu/&gcc-version;/include \
     /usr/lib/gcc/i686-pc-linux-gnu/&gcc-version;/ada{lib,include}</userinput></screen>
+-->
     <para>The <filename class='libraryfile'>libffi</filename> interface header
     is installed in a location where other packages will not be able to find
     it. If you included Java as one of the installed languages, create a
@@ -219,6 +217,7 @@
 
 <screen role="root"><userinput>ln -v -sf `find /usr/lib/gcc -name ffitarget.h` /usr/include</userinput></screen>
 
+<!--
     <para>You should now become the unprivileged user and remove the
     <application>GNAT</application> installation and perform other
     cleanups:</para>
@@ -227,15 +226,14 @@
 
 <screen><userinput>export PATH=$PATH_HOLD &amp;&amp;
 unset PATH_HOLD</userinput></screen>
+-->
   </sect2>
 
   <sect2 role="commands">
     <title>Command Explanations</title>
 
-    <para>The two <command>sed</command> commands are the same ones used
-    during the build of LFS. The third one fixes an issue with the ADA
-    build.</para>
+    <para>The three <command>sed</command> commands are the same ones used
+    during the build of LFS.</para>
 
     <para><command>mkdir ../gcc-build; cd ../gcc-build</command>: The
     <application>GCC</application> documentation recommends
@@ -255,7 +253,7 @@
     failsafe for incomplete locale data.</para>
 
     <para>
-    <parameter>--enable-languages=c,c++,ada,fortran,java,objc,obj-c++</parameter>:
+    <parameter>--enable-languages=c,c++,fortran,java,objc,obj-c++</parameter>:
     This command identifies which languages to build. You may modify this command
     to remove undesired languages.</para>
 
@@ -275,7 +273,7 @@
 
     <para><command>ln -v -sf gcc /usr/bin/cc</command>: This link is created as
     some packages refer to the C compiler using an alternate name.</para>
+<!--
     <para><command>chown -v -R root:root
     /usr/lib/gcc/i686-pc-linux-gnu/...</command>:
     If the package is built by a user other than root, the ownership of the
@@ -285,7 +283,7 @@
     <systemitem class="username">root</systemitem> user and group . Omit the
     command changing the Ada directories if you did not include Ada as one of
     the installed languages.</para>
+-->
   </sect2>
 
   <sect2 role="content">
@@ -298,15 +296,13 @@
 
       <seglistitem>
         <seg>addr2name.awk, fastjar, gcj, gcj-dbtool,gcjh, gfortran, gij,
-        gjnih, gnat, gnatbind, gnatbl, gnatchop, gnatclean, gnatfind, gnatkr,
-        gnatlink, gnatls, gnatmake, gnatname, gnatprep, gnatxref, gprmake,
+        gjnih, gprmake,
         grepjar, grmic, grmiregistry, gtreelang, jcf-dump, jv-convert, jv-scan
         and architecture specific names for gcj and gcjh</seg>
         <seg>libffi.{so,a}, libgcj.{so,a}, libgfortran.{so,a},
         libgfortranbegin.a, libgij.{so,a}, libobjc.{so,a} and numerous other
         run-time libraries and executables in /usr/lib/gcc</seg>
         <seg>/usr/include/c++/&gcc-version;/{gcj,gnu,java,javax,org},
-        /usr/lib/gcc/i686-pc-linux-gnu/&gcc-version;/ada{include,lib},
         /usr/lib/gcj-&gcc-version;,
         /usr/lib/security,
         and /usr/share/java</seg>
@@ -408,7 +404,7 @@
           </indexterm>
         </listitem>
       </varlistentry>
+<!--
       <varlistentry id="gnat">
         <term><command>gnat</command></term>
         <listitem>
@@ -543,7 +539,7 @@
           </indexterm>
         </listitem>
       </varlistentry>
+-->
       <varlistentry id="gprmake">
         <term><command>gprmake</command></term>
         <listitem>

Index: introduction/welcome/changelog.xml
===================================================================
--- introduction/welcome/changelog.xml	(revision 10833)
+++ introduction/welcome/changelog.xml	(revision 10834)
@@ -47,6 +47,10 @@
       <para>October 31st, 2012</para>
       <itemizedlist>
         <listitem>
+          <para>[bdubbs] - Update to gcc-4.7.2. Removed instructions
+          for Ada.</para>
+        </listitem>
+        <listitem>
           <para>[bdubbs] - Update to vsftpd-3.0.2. Fixes
           <ulink url="&blfs-ticket-root;3643">#3643</ulink>.</para>
         </listitem>

Index: pst/sgml/docbook-dsssl.xml
===================================================================
--- pst/sgml/docbook-dsssl.xml	(revision 10833)
+++ pst/sgml/docbook-dsssl.xml	(revision 10834)
@@ -112,17 +112,15 @@
   <sect2 role="installation">
     <title>Installation of DocBook DSSSL Stylesheets</title>
 
-    <para>Ensure you unpack both the source and documentation tarballs before
-    beginning the build. If you downloaded the documentation, run:</para>
+    <para>If you downloaded the documentation, run:</para>
 
-<screen><userinput>tar -xf ../docbook-dsssl-doc-1.79.tar.bz2</userinput></screen>
+<screen><userinput>tar -xf ../docbook-dsssl-doc-1.79.tar.bz2 --strip-components=1</userinput></screen>
 
     <para>Install <application>DocBook DSSSL Stylesheets</application> by running
     the following commands as the <systemitem class="username">root</systemitem>

