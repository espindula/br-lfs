Révision 10245

fichiers modifiés :
   introduction/welcome/changelog.xml
   general.ent
   general/genlib/libcroco.xml
   general/prog/llvm.xml
   general/prog/doxygen.xml
   general/graphlib/lcms.xml
   general/graphlib/libmng.xml
   general/genutils/graphviz.xml

Log :
Update to llvm-3.1 Tag a few packages for LFS-7.1

Le robot a traité 57 % du commit anglais
Index: general/prog/llvm.xml
===================================================================
--- general/prog/llvm.xml	(revision 10244)
+++ general/prog/llvm.xml	(revision 10245)
@@ -68,7 +68,7 @@
     <itemizedlist spacing='compact'>
       <listitem>
         <para>Optional package: 
-          <ulink url="http://llvm.org/releases/&llvm-version;/clang-&llvm-version;.tar.gz"/>
+          <ulink url="http://llvm.org/releases/&llvm-version;/clang-&llvm-version;.src.tar.gz"/>
         </para>
       </listitem>
     </itemizedlist>
@@ -97,27 +97,13 @@
     <para>If you downloaded the optional <application>clang</application> package,
     install it into the source tree:</para>
 
-<screen><userinput>tar -xf ../clang-3.0.tar.gz -C tools &amp;&amp;
-mv tools/clang-3.0.src tools/clang</userinput></screen>
+<screen><userinput>tar -xf ../clang-&llvm-version;.src.tar.gz -C tools &amp;&amp;
+mv tools/clang-&llvm-version;.src tools/clang</userinput></screen>
 
     <para>Install <application>llvm</application> by running the following
     commands:</para>
 
-<screen><userinput>touch tools/edis/EnhancedDisassembly.exports &amp;&amp;
-CFLAGS="$CFLAGS -fno-tree-pre"               &amp;&amp;
-CXXFLAGS="$CXXFLAGS -fno-tree-pre"           &amp;&amp;
-sed -i -e 's:\$(PROJ_prefix)/etc/llvm:/etc/llvm:'                      \
-       -e 's:\$(PROJ_prefix)/lib:$(PROJ_prefix)/lib/llvm:'             \
-       -e 's:\$(PROJ_prefix)/docs/llvm:$(PROJ_prefix)/share/doc/llvm:' \
-       Makefile.config.in  &amp;&amp;
-sed -i 's:$(RPATH) -Wl,$(\(ToolDir\|LibDir\|ExmplDir\))::g' Makefile.rules &amp;&amp;
-export CPPFLAGS="$CPPFLAGS $(pkg-config --cflags libffi)"                  &amp;&amp;
-CC=gcc                                 \
+<screen><userinput>CC=gcc                                 \
 CXX=g++                                \
 ./configure --prefix=/usr              \
             --libdir=/usr/lib/llvm     \
@@ -139,21 +125,18 @@
 <screen role="root"><userinput>make install</userinput></screen>
 
   </sect2>
+<!--
   <sect2 role="commands">
     <title>Command Explanations</title>
 
-    <para><userinput>CFLAGS=... CXXFLAGS=...</userinput>:  Build without 
-    -ftree-pre as a workaround for clang segfaulting on x86_64 systems.</para>
     <para><userinput>sed ... Makefile.config.in</userinput>: This fixes 
     installation directories.</para>
 
     <para><userinput>sed ... Makefile.rules</userinput>: This fixes an insecure
-    rpath that points ot the build directory.</para>
+    rpath that points to the build directory.</para>
 
   </sect2>
+-->
   <sect2 role="content">
     <title>Contents</title>
 

Index: introduction/welcome/changelog.xml
===================================================================
--- introduction/welcome/changelog.xml	(revision 10244)
+++ introduction/welcome/changelog.xml	(revision 10245)
@@ -45,6 +45,10 @@
       <para>May 26th, 2012</para>
       <itemizedlist>
         <listitem>
+          <para>[bdubbs] - Update to llvm-3.1. Fixes
+          <ulink url="&blfs-ticket-root;3388">#3388</ulink>.</para>
+        </listitem>
+        <listitem>
           <para>[bdubbs] - Update to cracklib 2.8.19. Fixes
           <ulink url="&blfs-ticket-root;3379">#3379</ulink>.</para>
         </listitem>

