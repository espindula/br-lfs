Révision 16061

fichiers modifiés :
   general/prog/openjdk.xml

Log :
OpenJDK: add a sed to a hotspot file,in order to generate sane code with gcc-5 + change cp -R to cp -RT

Le robot a traité 6 % du commit anglais
Index: general/prog/openjdk.xml
===================================================================
--- general/prog/openjdk.xml	(révision 16060)
+++ general/prog/openjdk.xml	(révision 16061)
@@ -320,6 +320,16 @@
     -e '/DGifOpen/s/c)/c, NULL)/'     \
     -i jdk/src/share/native/sun/awt/splashscreen/splashscreen_gif.c</userinput></screen>
 
+    <para>
+      One file in hotspot needs a change, since it relies on a non-normative
+      compiler behavior, which has changed with GCC version 5. Note that the change
+      works also with previous versions.
+    </para>
+<screen><userinput>sed -e 's/(hi - lo)/ hi - lo /' \
+    -e 's/(lo - hi)/ lo - hi /' \
+    -i hotspot/src/share/vm/opto/type.cpp</userinput></screen>
     <note>
       <para>
         Before proceeding, you should ensure that your environment
@@ -464,7 +474,7 @@
     <para>Install the package with the following commands as the
     <systemitem class="username">root</systemitem> user:</para>
 
-<screen role="root"><userinput>cp -R build/*/images/j2sdk-image /opt/OpenJDK-&openjdk-version; &amp;&amp;
+<screen role="root"><userinput>cp -RT build/*/images/j2sdk-image /opt/OpenJDK-&openjdk-version; &amp;&amp;
 chown -R root:root /opt/OpenJDK-&openjdk-version;</userinput></screen>
 
     <para>

