Révision 10377

fichiers modifiés :
   introduction/welcome/changelog.xml
   xsoft/other/gimp.xml

Log :
gimp-help-2.8.0

Le robot a traité 18 % du commit anglais
Index: introduction/welcome/changelog.xml
===================================================================
--- introduction/welcome/changelog.xml	(revision 10376)
+++ introduction/welcome/changelog.xml	(revision 10377)
@@ -52,6 +52,10 @@
           <para>[rthomsen] - Upgrade to UPower 0.9.17.
           Fixes <ulink url="&blfs-ticket-root;3437">#3437</ulink>.</para>
         </listitem>
+        <listitem>
+          <para>[ken] - Updated gimp-help to 2.8.0. Fixes <ulink
+          url="&blfs-ticket-root;3443">#3443</ulink>.</para>
+        </listitem>
       </itemizedlist>
     </listitem>
 

Index: xsoft/other/gimp.xml
===================================================================
--- xsoft/other/gimp.xml	(revision 10376)
+++ xsoft/other/gimp.xml	(revision 10377)
@@ -65,9 +65,7 @@
     <bridgehead renderas="sect3">Additional Downloads</bridgehead>
     <itemizedlist spacing="compact">
       <listitem>
-        <para>Optional help files: <ulink url="&gimp-help-download;"/> or one
-        of the other available languages - see <ulink
-        url="http://www.gimp.org/docs">gimp.org</ulink> for details.</para>
+        <para>Optional help files: <ulink url="&gimp-help-download;"/></para>
       </listitem>
       <listitem>
         <para>Download MD5 sum: &gimp-help-md5sum;</para>
@@ -75,6 +73,17 @@
       <listitem>
         <para>Download size: &gimp-help-size;</para>
       </listitem>
+      <listitem>
+        <para>Optional compressed patch for the help files: <ulink
+        url="&patch-root;/gimp-help-&gimp-help-version;-build_fixes-1.patch"/>
+        (to build the catalan translations)</para>
+      </listitem>
+      <listitem>
+        <para>Compressed Patch MD5 sum: 5312793a67132131a6e3360e76f392e4</para>
+      </listitem>
+      <listitem>
+        <para>Compressed Patch size: 486 KB</para>
+      </listitem>
     </itemizedlist>
 
     <bridgehead renderas="sect3">Gimp Dependencies</bridgehead>
@@ -115,6 +124,12 @@
     <application>Gimp</application> to use it to create its help browser)
     and <xref linkend="gtk-doc"/></para>
 
+    <bridgehead renderas="sect4">Optional, for the help files</bridgehead>
+    <para role="optional">
+    <ulink url="http://pngnq.sourceforge.net/">pngnq</ulink> and
+    <ulink url="http://pmt.sourceforge.net/pngcrush/">pngcrush</ulink>
+    </para>
     <para condition="html" role="usernotes">User Notes:
     <ulink url="&blfs-wiki;/gimp"/></para>
   </sect2>
@@ -136,24 +151,51 @@
 
 <screen role="root"><userinput>make install</userinput></screen>
 
-    <para>The <filename>gimp-help</filename> tarball contains preformatted HTML
-    for use with external web browsers, the internal
-    <application>Gimp</application> help browser, and HTML renderers. Some of
-    the details have changed in <application>gimp-2.8</application>, but much of
-    this is still relevant. Please also consult
-    <ulink url="http://www.gimp.org/release-notes/gimp-2.8.html"/>.</para>
+    <para>The <filename>gimp-help</filename> tarball contains images and English
+    text help for help files, together with translations. It is
+    &quot;work in progress&quot;.</para>
 
     <para>If you downloaded the <filename>gimp-help</filename> tarball, unpack
-    it and change into the root of the newly created source tree. Issue the
-    following commands as the <systemitem class="username">root</systemitem>
-    user to install the help files:</para>
+    it and change into the root of the newly created source tree. This release
+    fails to build for its first language, catalan (&quot;ca&quot;) but those
+    who wish to build the remaining languages can prepare for the build with the
+    following command:</para>
+<screen><userinput>ALL_LINGUAS=&quot;da de el en en_GB es fi fr hr it ja ko lt nl nn pl ru sl sv zh_CN&quot; \
+./configure --prefix=/usr &amp;&amp;</userinput></screen>
 
-<screen role="root"><userinput>make install</userinput></screen>
+    <para>Remove from <envar>ALL_LINGUAS</envar> the codes for any languages which
+    you do not wish to install.</para>
+    <para>Alternatively, if you wish to build languages including catalan,
+    apply the patch:</para>
+<screen role="nodump"><userinput>xzcat ../gimp-help-2.8.0-build_fixes-1.patch.xz \
+ | patch -p1 &amp;&amp;
+./autogen.sh --prefix=/usr &amp;&amp;</userinput></screen>
+    <para>Again, you can specify a subset of languages by specifying
+    <envar>ALL_LINGUAS</envar> in front of <command>./autogen.sh</command>, but
+    this time including &quot;ca&quot;.</para>
+    <para>Now build the help files:</para>
+<screen><userinput>make</userinput></screen>
+    <para> Issue the following commands as the
+    <systemitem class="username">root</systemitem> user to install the help
+    files:</para>
+<screen role="root"><userinput>make install &amp;&amp;
+chown -R root:root /usr/share/gimp/2.0/help</userinput></screen>
   </sect2>
 
   <sect2 role="commands" id="gimp-cmd-explanations">
     <title>Command Explanations</title>
 
+    <para><command>LINGUAS=&quot;ca da de en en_GB ...&quot;</command>: by
+    default, the help files will be rendered in all the available languages.
+    Remove the codes of any languages you do not wish to build.</para>
     <para><parameter>--without-gvfs</parameter>: the choice of the backend to
     handle URI information, e.g. when dragging images from a browser into the
     <application>gimp</application>, is made at compile time.  This parameter will
@@ -174,6 +216,17 @@
     <para><option>--disable-python</option>: This option is necessary if
     you have not installed <application>pygtk</application>.</para>
 
+    <para><option>./autogen.sh --prefix=/usr</option>: in this case, using
+    <command>autoreconf</command> to regenerate <filename>configure</filename>
+    does not work, because of how the gimp-help developers chose to address
+    problems with the autotools.</para>
+    <para><option>xzcat ../gimp-help-2.8.0-build_fixes-1.patch.xz</option>:
+    this patch is large, so it has been compressed with
+    <application>xz</application>.  You are encouraged to be suspicious of
+    all patches until you have looked at them. You use <command>view</command>
+    to read the compressed patch before you apply it.</para>
     <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
     href="../../xincludes/gtk-doc-rebuild.xml"/>
   </sect2>

