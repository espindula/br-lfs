Révision 10651

fichiers modifiés :
   introduction/welcome/changelog.xml
   multimedia/videoutils/transcode.xml
   xsoft/other/gnash.xml

Log :
Fix gnash, and add comment in transcode.

Le robot a traité 17 % du commit anglais
Index: introduction/welcome/changelog.xml
===================================================================
--- introduction/welcome/changelog.xml	(revision 10650)
+++ introduction/welcome/changelog.xml	(revision 10651)
@@ -53,9 +53,14 @@
         <listitem>
           <para>[rthomsen] - Update to attica 0.4.1.</para>
         </listitem>
+        <listitem>
+          <para>[ken] - Fix gnash for recent versions of boost, and add a
+          comment about the ffmpeg functionality in transcode.</para>
+        </listitem>
       </itemizedlist>
     </listitem>
 

Index: multimedia/videoutils/transcode.xml
===================================================================
--- multimedia/videoutils/transcode.xml	(revision 10650)
+++ multimedia/videoutils/transcode.xml	(revision 10651)
@@ -37,7 +37,7 @@
       <ulink url="http://www.transcoding.org/"/>.
     </para>
 
-    &lfs71_checked;
+    &lfs72_checked;
 
     <bridgehead renderas="sect3">Package Information</bridgehead>
     <itemizedlist spacing="compact">
@@ -79,6 +79,12 @@
         <para>
           Required patch:
           <ulink url="&patch-root;/transcode-&transcode-version;-ffmpeg-1.patch"/>
+          : Note that although this allows <application>transcode</application>
+          to compile with current <application>ffmpeg</application>, it fails if
+          it calls ffmpeg at runtime, e.g. for certain format conversions.  The
+	  remaining parts of the application, such as <command>tccat</command>,
+          work and <command>ffmpeg</command> can be invoked outside of
+          <command>transcode</command> if needed.
         </para>
       </listitem>
     </itemizedlist>

Index: xsoft/other/gnash.xml
===================================================================
--- xsoft/other/gnash.xml	(revision 10650)
+++ xsoft/other/gnash.xml	(revision 10651)
@@ -129,6 +129,8 @@
     </para>
 
 <screen><userinput>patch -Np1 -i ../gnash-&gnash-version;-CVE-2012-1175-1.patch &amp;&amp;
+sed -i '/^LIBS/s/\(.*\)/\1 -lboost_system/' \
+  gui/Makefile.in utilities/Makefile.in &amp;&amp;
 ./configure --prefix=/usr --sysconfdir=/etc               \
   --with-npapi-incl=/usr/include/npapi --enable-media=gst \
   --with-npapi-plugindir=/usr/lib/mozilla/plugins         &amp;&amp;
@@ -150,6 +152,11 @@
     <title>Command Explanations</title>
 
     <para>
+      <command>sed -i '/^LIBS/s/\(.*\)/\1 -lboost_system/' ...</command>:
+      This fixes linking to the current <application>boost</application> libraries.
+    </para>
+    <para>
       <option>--enable-media=gst</option>: This tells it to use Gstreamer for
       to play video and audio (--enable-media=ffmpeg is broken with
       FFmpeg-0.11.1).

