Révision 16695

fichiers modifiés :
   packages.ent
   introduction/welcome/changelog.xml
   networking/netlibs/libtirpc.xml
   networking/netprogs/rpcbind.xml

Log :
Update to libtirpc-1.0.1

Le robot a traité 24 % du commit anglais
Index: introduction/welcome/changelog.xml
===================================================================
--- introduction/welcome/changelog.xml	(révision 16694)
+++ introduction/welcome/changelog.xml	(révision 16695)
@@ -48,6 +48,11 @@
       <para>November 29th, 2015</para>
       <itemizedlist>
         <listitem>
+          <para>[bdubbs] - Update to libtirpc-1.0.1.  This update
+          requires a new patch to rpcbind.  Fixes
+          <ulink url="&blfs-ticket-root;7181">#7181</ulink>.</para>
+        </listitem>
+        <listitem>
           <para>[fernando] - Update to libisoburn-1.4.2. Fixes
           <ulink url="&blfs-ticket-root;7190">#7190</ulink>.</para>
         </listitem>

Index: networking/netlibs/libtirpc.xml
===================================================================
--- networking/netlibs/libtirpc.xml	(révision 16694)
+++ networking/netlibs/libtirpc.xml	(révision 16695)
@@ -72,29 +72,6 @@
       </listitem>
     </itemizedlist>
 
-<bridgehead renderas="sect3">Additional Downloads</bridgehead>
-<itemizedlist spacing="compact">
-<listitem>
-<para>
-Required patch:
-<ulink url="&patch-root;/libtirpc-&libtirpc-version;-api_fixes-1.patch"/>
-</para>
-</listitem>
-</itemizedlist>
-<!-- Not needed for LFS 7.5, Glibc RPC interface is exported again
-<bridgehead renderas="sect3">Additional Downloads</bridgehead>
-<itemizedlist spacing='compact'>
-<listitem>
-<para>
-Required patch (Remove nis dependencies):
-<ulink url="&patch-root;/libtirpc-&libtirpc-version;-remove_nis-1.patch"/>
-</para>
-</listitem>
-</itemizedlist> -->
     <bridgehead renderas="sect3">libtirpc Dependencies</bridgehead>
 
     <bridgehead renderas="sect4">Optional</bridgehead>
@@ -110,12 +87,9 @@
   <sect2 role="installation">
     <title>Installation of libtirpc</title>
 
-<para>
-First, fix some API issues:
-</para>
+    <note><para>If updating this package, you will also need to update 
+    any existing version of <xref linkend='rpcbind'/></para></note>
 
-<screen><userinput>patch -Np1 -i ../libtirpc-0.3.2-api_fixes-1.patch</userinput></screen>
     <para>
       Install <application>libtirpc</application> by running the following
       commands:
@@ -137,7 +111,7 @@
 
 <screen role="root"><userinput>make install &amp;&amp;
 mv -v /usr/lib/libtirpc.so.* /lib &amp;&amp;
-ln -sfv ../../lib/libtirpc.so.1.0.10 /usr/lib/libtirpc.so</userinput></screen>
+ln -sfv ../../lib/libtirpc.so.3.0.0 /usr/lib/libtirpc.so</userinput></screen>
 
   </sect2>
 

Index: networking/netprogs/rpcbind.xml
===================================================================
--- networking/netprogs/rpcbind.xml	(révision 16694)
+++ networking/netprogs/rpcbind.xml	(révision 16695)
@@ -57,6 +57,16 @@
       </listitem>
     </itemizedlist>
 
+    <bridgehead renderas="sect3">Additional Downloads</bridgehead>
+    <itemizedlist spacing="compact">
+      <listitem>
+        <para>
+          Required patch:
+          <ulink url="&patch-root;/rpcbind-&rpcbind-version;-tirpc_fix-1.patch"/>
+        </para>
+      </listitem>
+    </itemizedlist>
     <bridgehead renderas="sect3">rpcbind Dependencies</bridgehead>
 
     <bridgehead renderas="sect4">Required</bridgehead>
@@ -81,8 +91,9 @@
     <para>Install <application>rpcbind</application> by running the following
     commands:</para>
 
-<!-- specifying rpcuser only needed in 0.2.1, already fixed upstream -->
-<screen><userinput>./configure --prefix=/usr       \
+<screen><userinput>patch -Np1 -i ../rpcbind-&rpcbind-version;-tirpc_fix-1.patch &amp;&amp;
+./configure --prefix=/usr       \
             --bindir=/sbin      \
             --with-rpcuser=root \
             --without-systemdsystemunitdir &amp;&amp;

