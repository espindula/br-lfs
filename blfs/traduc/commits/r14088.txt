Révision 14088

fichiers modifiés :
   general.ent
   general/prog/openjdk.xml

Log :
Minor changes to the OpenJDK/Icedtea page

Le robot a traité 45 % du commit anglais
Index: general/prog/openjdk.xml
===================================================================
--- general/prog/openjdk.xml	(révision 14087)
+++ general/prog/openjdk.xml	(révision 14088)
@@ -243,6 +254,16 @@
         </para>
       </listitem>
     </itemizedlist>
+    <bridgehead renderas="sect4">Optional package (to obtain an icon for the
+      <filename>openjdk-7-policytool.desktop</filename> file)</bridgehead>
+    <itemizedlist spacing='compact'>
+      <listitem>
+        <para>
+          <ulink url="&icedtea-web-download;"/>
+        </para>
+      </listitem>
+    </itemizedlist>
     <bridgehead renderas="sect3">OpenJDK Dependencies</bridgehead>
 
     <bridgehead renderas="sect4">Required Dependencies</bridgehead>
@@ -271,8 +292,6 @@
 
     <bridgehead renderas="sect4">Optional</bridgehead>
     <para role="optional">
-<xref linkend="icedtea-web"/> (to obtain one icon for the
-<filename>openjdk-7-policytool.desktop</filename> file),
       <xref linkend="libxslt"/>,
       <xref linkend="lsb-release"/>,
       <xref linkend="mercurial"/>,
@@ -395,13 +416,15 @@
     in a desktop menu for <command>policytool</command>. First, you need to
     obtain an icon from <xref linkend="icedtea-web"/>:</para>
 
-<screen role="root"><userinput>tar -xf ../icedtea-web-&icedtea-web-version;.tar.gz  \
+<screen><userinput>tar -xf ../icedtea-web-&icedtea-web-version;.tar.gz  \
         icedtea-web-&icedtea-web-version;/javaws.png \
         --strip-components=1</userinput></screen>
 
     <para>Now, as <systemitem class="username">root</systemitem> user:</para>
 
-<screen role="root"><userinput>cat &gt;&gt; /usr/share/applications/openjdk-7-policytool.desktop &lt;&lt; "EOF" &amp;&amp;
+<screen role="root"><userinput>mkdir -pv /usr/share/applications &amp;&amp;
+cat &gt; /usr/share/applications/openjdk-7-policytool.desktop &lt;&lt; "EOF" &amp;&amp;
 <literal>[Desktop Entry]
 Name=OpenJDK Java 7 Policy Tool
 Name[pt_BR]=OpenJDK Java 7 - Ferramenta de Pol&#237;tica
@@ -416,9 +439,10 @@
 
 install -v -Dm0644 javaws.png /usr/share/pixmaps/javaws.png</userinput></screen>
 
-<para>The choice of pt_BR is just an example. You can delete those lines
-or replace them by corresponding ones in your locale, e.g. fr_FR, with the
-"Name[fr_FR]" and "Comment[fr_FR]" values given by your translations.</para>
+    <para>The choice of pt_BR is just an example. You can add any translation
+    by adding lines corresponding to your locale, e.g. for fr_FR,
+    "Name[fr_FR]=" and "Comment[fr_FR]=" with the appropriate text as
+    values.</para>
 
   </sect2>
 
@@ -487,14 +513,18 @@
       following commands as the <systemitem class="username">root</systemitem>
       user:</para>
 
-<screen role="root"><userinput>cat &gt;&gt; /etc/profile.d/openjdk.sh &lt;&lt; "EOF"
+<screen role="root"><userinput>cat &gt; /etc/profile.d/openjdk.sh &lt;&lt; "EOF"
 <literal># Begin /etc/profile.d/openjdk.sh
 
 # Set JAVA_HOME directory
 JAVA_HOME=/opt/jdk
 
+# Set ANT_HOME directory
+ANT_HOME=/opt/ant
 # Adjust PATH
 pathappend $JAVA_HOME/bin PATH
+pathappend $ANT_HOME/bin PATH
 
 # Auto Java CLASSPATH
 # Copy jar files to, or create symlinks in this directory
@@ -511,7 +541,7 @@
     pathappend $jar CLASSPATH
 done
 
-export JAVA_HOME CLASSPATH
+export JAVA_HOME ANT_HOME CLASSPATH
 unset AUTO_CLASSPATH_DIR dir jar
 
 # End /etc/profile.d/openjdk.sh</literal>
@@ -656,19 +687,23 @@
     {
         echo "`basename ${0}` creates a valid cacerts file for use with IcedTea."
         echo ""
-echo "        -f  --cafile        The path to a file containing PEM formated CA"
-echo "                            certificates.  May not be used with -d/--cadir."
-echo "        -d  --cadir         The path to a diectory of PEM formatted CA"
-echo "                            certificates.  May not be used with -f/--cafile."
-echo "        -o  --outfile       The path to the output file."
+        echo "        -f  --cafile     The path to a file containing PEM"
+        echo "                         formated CA certificates. May not be"
+        echo "                         used with -d/--cadir."
         echo ""
-echo "        -k  --keytool       The path to the java keytool utility."
+        echo "        -d  --cadir      The path to a directory of PEM formatted"
+        echo "                         CA certificates. May not be used with"
+        echo "                         -f/--cafile."
         echo ""
-echo "        -s  --openssl       The path to the openssl utility."
+        echo "        -o  --outfile    The path to the output file."
         echo ""
-echo "        -h  --help          Show this help message and exit."
+        echo "        -k  --keytool    The path to the java keytool utility."
         echo ""
+        echo "        -s  --openssl    The path to the openssl utility."
         echo ""
+        echo "        -h  --help       Show this help message and exit."
+        echo ""
+        echo ""
     }
 
 # Initialize empty variables so that the shell does not pollute the script
@@ -764,8 +799,11 @@
     certbegin=`grep -n "^-----BEGIN" "${cert}" | cut -d ":" -f 1`
     certend=`grep -n "^-----END" "${cert}" | cut -d ":" -f 1`
     sed -n "${certbegin},${certend}p" "${cert}" > "${tempfile}"
-echo yes | env LC_ALL=C "${KEYTOOL}" -import -alias `basename "${cert}"` -keystore \
-"${OUTFILE}" -storepass 'changeit' -file "${tempfile}"
+    echo yes | env LC_ALL=C "${KEYTOOL}" -import                     \
+                                         -alias `basename "${cert}"` \
+                                         -keystore "${OUTFILE}"      \
+                                         -storepass 'changeit'       \
+                                         -file "${tempfile}"
     rm "${tempfile}"
 done
 
@@ -790,8 +828,11 @@
     is better to make a backup. Then, you can create a new one, as the
     <systemitem class="username">root</systemitem> user:</para>
 
-<screen role="root"><userinput>/opt/jdk/bin/mkcacerts -d "/etc/ssl/certs/"  -k "/opt/jdk/bin/keytool" \
--s "/usr/bin/openssl" -o "/opt/jdk/jre/lib/security/cacerts"</userinput></screen>
+<screen role="root"><userinput>/opt/jdk/bin/mkcacerts            \
+        -d "/etc/ssl/certs/"      \
+        -k "/opt/jdk/bin/keytool" \
+        -s "/usr/bin/openssl"     \
+        -o "/opt/jdk/jre/lib/security/cacerts"</userinput></screen>
 
     </sect3>
 

