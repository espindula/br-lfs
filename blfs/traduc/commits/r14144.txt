Révision 14144

fichiers modifiés :
   introduction/welcome/changelog.xml
   multimedia/libdriv/alsa-tools.xml
   general.ent
   xsoft/office/libreoffice.xml
   packages.ent

Log :
Update to libreoffice-4.3.1.2. Completely modify and fix instructions for alsa-tools-1.0.28.

Le robot a traité 33 % du commit anglais
Index: introduction/welcome/changelog.xml
===================================================================
--- introduction/welcome/changelog.xml	(révision 14143)
+++ introduction/welcome/changelog.xml	(révision 14144)
@@ -45,6 +45,21 @@
 -->
 
     <listitem>
+      <para>August 31st, 2014</para>
+      <itemizedlist>
+        <listitem>
+          <para>[fernando] - Completely modify and fix instructions for
+          alsa-tools-1.0.28. Fixes
+          <ulink url="&blfs-ticket-root;5453">#5453</ulink>.</para>
+        </listitem>
+        <listitem>
+          <para>[fernando] - Update to libreoffice-4.3.1.2. Fixes
+          <ulink url="&blfs-ticket-root;5445">#5445</ulink>.</para>
+        </listitem>
+      </itemizedlist>
+    </listitem>
+    <listitem>
       <para>August 30th, 2014</para>
       <itemizedlist>
         <listitem>

Index: multimedia/libdriv/alsa-tools.xml
===================================================================
--- multimedia/libdriv/alsa-tools.xml	(révision 14143)
+++ multimedia/libdriv/alsa-tools.xml	(révision 14144)
@@ -98,27 +98,57 @@
   <sect2 role="installation">
     <title>Installation of ALSA Tools</title>
 
+&as_root;
+    <para>First, start a subshell that will exit on error:</para>
+<screen><userinput>bash -e</userinput></screen>
     <para>
-The <application>ALSA Tools</application> package is only
-needed by those with advanced requirements for their sound
-card. The tools are not all built together, instead you
-need to <command>cd</command> into the directory of each
-tool you wish to compile and run the following commands:
+      Now, remove a tool that needs <application>Qt2 or 3</application> and two
+      unneed files (for the BLFS instructions below):
     </para>
 
-<screen><userinput>./configure --prefix=/usr &amp;&amp;
-make</userinput></screen>
+<screen><userinput>rm -rf qlo10k1 Makefile gitcompile</userinput></screen>
 
     <para>
-This package does not come with a test suite.
+      The <application>ALSA Tools</application> package is only needed by those
+      with advanced requirements for their sound card. The tools can be built
+      all together at once, but if only a subset is needed, you need to
+      <command>cd</command> into the directory of each tool you wish to compile
+      and run the commands. Here, we present instructions to build all tools.
     </para>
 
     <para>
-Now, as the <systemitem class="username">root</systemitem> user:
+      Install all <application>ALSA Tools</application> by running the
+      following commands:
     </para>
 
-<screen role="root"><userinput>make install</userinput></screen>
+<screen><userinput>for tool in *
+do
+  case $tool in
+    seq )
+      tool_dir=seq/sbiload
+    ;;
+    * )
+      tool_dir=$tool
+    ;;
+  esac
 
+  pushd $tool_dir
+    ./configure --prefix=/usr
+    make
+    as_root make install
+    as_root /sbin/ldconfig
+  popd
+done
+unset tool tool_dir</userinput></screen>
+    <para>Finally, exit the shell that was started earlier:</para>
+<screen><userinput>exit</userinput></screen>
   </sect2>
 
   <sect2 role="content">

Index: xsoft/office/libreoffice.xml
===================================================================
--- xsoft/office/libreoffice.xml	(révision 14143)
+++ xsoft/office/libreoffice.xml	(révision 14144)
@@ -27,8 +27,11 @@
   measured by editors, depending on architecture and sometimes installed
   dependencies (with-system... -->
 
+  <!-- [fo] For version 4.3.1.2 I've got, for i686, SBU larger than the upper
+  limit, thus, temporarily, decided to used a single SBU, instead of a range.
+  -->
   <!-- This package has some peculiarities, some discussed in the text.
   Two values for SBU and buildsize are given due to the large difference
   measured by editors, depending on architecture and sometimes installed
@@ -138,6 +141,12 @@
       </listitem>
       <listitem>
         <para>
+          Required patch for to fix building with system Boost:
+          <ulink url="&patch-root;/libreoffice-&libreoffice-dlversion;-boost_1_56_0-1.patch"/>
+        </para>
+      </listitem>
+      <listitem>
+        <para>
           Required patch for i686 systems, in order to fix a problem inroduced
           by <application>&gcc-490;</application>:
           <ulink url="&patch-root;/libreoffice-&libreoffice-dlversion;-gcc_4_9_0-1.patch"/>
@@ -166,7 +175,7 @@
     </note>
 
     <para role="recommended">
+      <xref linkend="boost"/>,
       <xref linkend="clucene"/>,
       <xref linkend="cups"/>,
       <xref linkend="curl"/>,
@@ -250,7 +259,7 @@
 
   <sect2 role="installation">
     <title>Installation of LibreOffice</title>
+<!--
     <warning>
       <para>
         Untaring the libreoffice-&libreoffice-dlversion; tarball as
@@ -270,11 +279,11 @@
         <emphasis>not</emphasis> untaring it as
         <systemitem class="username">root</systemitem>. If you must untar it as
         <systemitem class="username">root</systemitem> pass the option
-<option>--no-overwrite-dir</option> to tar. This is the default when you
+        <option>-\-no-overwrite-dir</option> to tar. This is the default when you
         untar as a user but has to be passed as an option when untaring as
         <systemitem class="username">root</systemitem>:
       </para>
@@ -309,7 +318,7 @@
       If you have downloaded the translations tarball, create a symlink:
     </para>
 
-<screen><userinput>ln -sv ../../libreoffice-translations-&libreoffice-dlversion;.tar.xz external/tarballs/</userinput></screen>
+<screen><userinput>ln -sv ../../../libreoffice-translations-&libreoffice-dlversion;.tar.xz external/tarballs/</userinput></screen>
 
     <note>
       <para>
@@ -349,16 +358,14 @@
       the following commands:
     </para>
 
-<screen><userinput>sed -e "/gzip -f/d"   \
+<screen><userinput>patch -Np1 -i ../libreoffice-&libreoffice-dlversion;-boost_1_56_0-1.patch &amp;&amp;
+sed -e "/gzip -f/d"   \
     -e "s|.1.gz|.1|g" \
     -i bin/distro-install-desktop-integration        &amp;&amp;
 sed -e "/distro-install-file-lists/d" -i Makefile.in &amp;&amp;
 
-sed -e "/distro-install-file-lists/d"           \
--e "s:fetch_Download_item:&amp;_unchecked:" \
--e "/fetch_Download_item/s:,no-check::"     \
--i Makefile.in                                  &amp;&amp;
 chmod -v +x bin/unpack-sources                     &amp;&amp;
 sed -e "s/target\.mk/langlist\.mk/"                \
     -e "s/tar -xf/tar -x --strip-components=1 -f/" \
@@ -457,8 +464,7 @@
     <para>
       <command>sed -e ...</command>: First sed prevents compression of the
       manual pages, the second one prevents a script that causes install to
-fail from running, the third one fixes the download location and the
-fourth one fixes the unpack script.
+      fail from running, the third one fixes the unpack script.
     </para>
 
     <para>

