Révision 11564

fichiers modifiés :
   introduction/welcome/changelog.xml
   general.ent
   x/installing/mesalib.xml

Log :
mesalib 9.1.6.

Le robot a traité 29 % du commit anglais
Index: introduction/welcome/changelog.xml
===================================================================
--- introduction/welcome/changelog.xml	(révision 11563)
+++ introduction/welcome/changelog.xml	(révision 11564)
@@ -49,6 +49,9 @@
         <listitem>
           <para>[igor] - Mercurial-2.7.</para>
         </listitem>
+        <listitem>
+          <para>[krejzi] - MesaLib 9.1.6.</para>
+        </listitem>
       </itemizedlist>
     </listitem>
 

Index: x/installing/mesalib.xml
===================================================================
--- x/installing/mesalib.xml	(révision 11563)
+++ x/installing/mesalib.xml	(révision 11564)
@@ -194,6 +194,7 @@
     </para>
 
 <screen><userinput>patch -Np1 -i ../MesaLib-&mesalib-version;-llvm_fixes-1.patch &amp;&amp;
+sed -i "/LLVM_VERSION_INT/s:-ne:-lt:" configure.ac &amp;&amp;
 autoreconf -fi &amp;&amp;
 ./configure CFLAGS="-O2" CXXFLAGS="-O2"    \
             --prefix=/usr                  \
@@ -228,7 +229,10 @@
       Now, as the <systemitem class="username">root</systemitem> user:
     </para>
 
-<screen role="root"><userinput>make install</userinput></screen>
+<screen role="root"><userinput>make install &amp;&amp;
+install -v -m755 lib/swrast_dri.so /usr/lib/dri/swrast_dri.so</userinput></screen>
+<!-- remove when mesa 9.2 gets released, llvm 3.3 breaks llvmpipe (gallium swrast
+driver which installed by default) -->
 
     <para>
       If you have built the demo programs, install them by running the
@@ -276,6 +280,13 @@
     <title>Command Explanations</title>
 
     <para>
+      <command>sed -i "..."</command>: This sed fixes building with
+      <application>LLVM</application> 3.3. Please note that
+      R600 LLVM Compiler and Gallium LLVMPipe driver are currently
+      broken with <application>LLVM</application> 3.3.
+    </para>
+    <para>
       <parameter>CFLAGS="-O2" CXXFLAGS="-O2"</parameter>: By default,
       <application>Autoconf</application> sets CFLAGS and CXXFLAGS to
       "-g -O2". That results in binaries and libraries being built with
@@ -359,11 +370,13 @@
     <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
       href="../../xincludes/static-libraries.xml"/>
 
+<!-- broken with llvm 3.3
     <para>
      <option>- -enable-r600-llvm-compiler</option>: Use this switch to
       enable experimental <application>LLVM</application> backend for
       graphics shaders which claims to speed up the driver.
     </para>
+-->
 
   </sect2>
 

