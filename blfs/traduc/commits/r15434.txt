Révision 15434

fichiers modifiés :
   introduction/welcome/changelog.xml
   xsoft/office/libreoffice.xml
   packages.ent

Log :
Update to libreoffice-4.4.0.

Le robot a traité 33 % du commit anglais
Index: introduction/welcome/changelog.xml
===================================================================
--- introduction/welcome/changelog.xml	(révision 15433)
+++ introduction/welcome/changelog.xml	(révision 15434)
@@ -48,6 +48,10 @@
       <para>February 1st, 2015</para>
       <itemizedlist>
         <listitem>
+          <para>[fernando] - Update to libreoffice-4.4.0. Fixes
+          <ulink url="&blfs-ticket-root;6094">#6094</ulink>.</para>
+        </listitem>
+        <listitem>
           <para>[pierre] - Update to LVM2-2.02.116. Fixes
           <ulink url="&blfs-ticket-root;6096">#6096</ulink>.</para>
         </listitem>

Index: xsoft/office/libreoffice.xml
===================================================================
--- xsoft/office/libreoffice.xml	(révision 15433)
+++ xsoft/office/libreoffice.xml	(révision 15434)
@@ -143,12 +143,12 @@
           Translations size: &libreoffice-translations-size;
         </para>
       </listitem>
-<listitem>
+<!--      <listitem>
         <para>
           Required patch to fix building with system Boost:
           <ulink url="&patch-root;/libreoffice-&libreoffice-dlversion;-boost_1_56_0-1.patch"/>
@@ -223,11 +223,14 @@
       <xref linkend="postgresql"/>,
       <xref linkend="sane"/>,
       <xref linkend="vlc"/>,
+      <ulink url="https://projects.coin-or.org/CoinMP/">CoinMP</ulink>,
       <ulink url="http://sourceforge.net/projects/cppunit/">Cppunit</ulink>,
       <ulink url="http://www.firebirdsql.org/">firebird</ulink>,
       <ulink url="http://downloads.sourceforge.net/glew/">glew (OpenGL Extension Wrangler Library)</ulink>,
+      <ulink url="https://code.google.com/p/hamcrest/">hamcrest</ulink>,
       <ulink url="http://hunspell.sourceforge.net/">Hunspell</ulink>,
       <ulink url="http://sourceforge.net/projects/hunspell/files/Hyphen/">Hyphen</ulink>,
+      <ulink url="https://code.google.com/p/include-what-you-use/">iwyu</ulink>,
       <ulink url="http://www.freedesktop.org/wiki/Software/libabw/">libabw</ulink>,
       <ulink url="http://www.freedesktop.org/wiki/Software/libcdr/">libcdr</ulink>,
       <ulink url="http://sourceforge.net/projects/libcmis/">libcmis</ulink>,
@@ -238,6 +241,7 @@
       <ulink url="http://www.freedesktop.org/wiki/Software/libmspub/">libmspub</ulink>,
       <ulink url="http://sourceforge.net/projects/libmwaw/">libmwaw</ulink>,
       <ulink url="http://sourceforge.net/projects/libwpd/files/libodfgen/">libodfgen</ulink>,
+      <ulink url="https://wiki.documentfoundation.org/DLP/Libraries/libpagemaker/">libpagemaker</ulink>,
       <ulink url="http://sourceforge.net/projects/libwpd/files/librevenge/">librevenge (WordPerfect Document importer)</ulink>,
       <ulink url="http://www.freedesktop.org/wiki/Software/libvisio/">libvisio</ulink>,
       <ulink url="http://libwpd.sourceforge.net/">libwpd</ulink>,
@@ -247,6 +251,7 @@
       <ulink url="http://code.google.com/p/multidimalgorithm/">mdds</ulink>,
       <ulink url="http://sourceforge.net/projects/hunspell/files/MyThes/">MyThes</ulink>,
       <ulink url="http://sourceforge.net/projects/ogl-math/">ogl-math - OpenGL Mathematics (GLM)</ulink>,
+      <ulink url="https://github.com/KhronosGroup/OpenCOLLADA/">OpenCOLLADA</ulink>,
       <ulink url="https://gitorious.org/orcus/">Orcus</ulink>,
       <ulink url="http://hci.iwr.uni-heidelberg.de/vigra/">VIGRA</ulink>, and
       <ulink url="&gnome-download-http;/zenity/">Zenity</ulink>
@@ -374,14 +379,15 @@
       the following commands:
     </para>
 
-<screen><userinput>patch -Np1 -i ../libreoffice-&libreoffice-dlversion;-boost_1_56_0-1.patch &amp;&amp;
-sed -e "/gzip -f/d"   \
+<screen><userinput>sed -e "/gzip -f/d"   \
     -e "s|.1.gz|.1|g" \
     -i bin/distro-install-desktop-integration &amp;&amp;
 
 sed -e "/distro-install-file-lists/d" -i Makefile.in &amp;&amp;
 
+sed -e "/ustrbuf/a #include &lt;algorithm&gt;" \
+    -i svl/source/misc/gridprinter.cxx   &amp;&amp;
 chmod -v +x bin/unpack-sources &amp;&amp;
 
 ./autogen.sh --prefix=$LO_PREFIX         \
@@ -447,37 +453,37 @@
     <para>
        If installed in <filename
        class="directory">/opt/libreoffice-&libreoffice-dlversion;</filename>
-and the icons in the new items of the desktop menu are not properly
-displayed, optionally run the following commands, as <systemitem
-class="username">root</systemitem> user (it may be necessary to log out
-of the current session, before the icons appear):
+       some additional steps are necessary. Issue the following commands, as
+       <systemitem class="username">root</systemitem> user:
     </para>
 
 <screen role="root"><userinput>if [ "$LO_PREFIX" != "/usr" ]; then
-mkdir -pv /usr/share/pixmaps 
 
-for i in writer base calc draw impress math startcenter writer
-do
-ln -svf $LO_PREFIX/share/icons/hicolor/32x32/apps/libreoffice-$i.png \
-/usr/share/pixmaps/
-done
-unset i
-fi</userinput></screen>
+  # This symlink is necessary for the desktop menu entries
+  ln -sv -f $LO_PREFIX/lib/libreoffice/program/soffice \
+            /usr/bin/libreoffice &amp;&amp;
 
-<para>
-If installed in <filename
-class="directory">/opt/libreoffice-&libreoffice-dlversion;</filename>,
-create links to the man pages.   Be sure the LO_PREFIX environment
-variable is defined for the root user.
-</para>
+  # Icons
+  for i in $LO_PREFIX/share/icons/hicolor/32x32/apps/*; do
+    ln -svf $i /usr/share/pixmaps
+  done; unset i &amp;&amp;
 
-<screen role="root"><userinput>if [ "$LO_PREFIX" != "/usr" ]; then
-for i in $LO_PREFIX/share/man/man1/*; do
-ln -svf $i /usr/share/man/man1/
-done
-unset i
-fi</userinput></screen>
+  # Desktop menu entries
+  pushd $LO_PREFIX/lib/libreoffice/share/xdg &amp;&amp;
+  for i in *; do
+    ln -svf $LO_PREFIX/lib/libreoffice/share/xdg/$i \
+            /usr/share/applications/libreoffice-$i
+  done; unset i &amp;&amp;
+  popd &amp;&amp;
 
+  # Man pages
+  for i in $LO_PREFIX/share/man/man1/*; do
+     ln -svf $i /usr/share/man/man1/
+  done; unset i
+fi &amp;&amp;
+update-desktop-database</userinput></screen>
   </sect2>
 
   <sect2 role="commands">
@@ -485,7 +491,9 @@
 
     <para>
       <command>sed -e ...</command>: The first sed prevents compression of the
-manual pages and the second one prevents install from failing.
+      manual pages, the second one prevents install from failing and the third
+      one includes a missing header without which <command>make build</command>
+      fails.
     </para>
 
     <para>
@@ -614,19 +622,20 @@
     </para>
 
     <para>
-<option>--disable-gstreamer-0-10</option>: Use this switch if you have
-not installed <xref linkend="gst-plugins-base"/>.
+      <option>--enable-gstreamer-0-10</option>:  Use this switch if you want to
+      use <xref linkend="gst-plugins-base"/> instead of
+      <xref linkend="gst10-plugins-base"/> for the avmedia module.
     </para>
 
     <para>
-<option>--enable-gstreamer</option>: Use this switch if you want to use
-<xref linkend="gst10-plugins-base"/> instead of <xref
-linkend="gst-plugins-base"/> for the avmedia module.
+      <option>--disable-gstreamer-1-0</option>: Use this switch if you have not
+      installed <xref linkend="gst10-plugins-base"/>.
     </para>
 
     <para>

