Révision 15613

fichiers modifiés :
   introduction/welcome/changelog.xml
   general.ent
   x/installing/x7driver-vmmouse.xml

Log :
fix detection of VMMouse under a Qemu environment in the vmmouse Xorg driver

Le robot a traité 50 % du commit anglais
Index: introduction/welcome/changelog.xml
===================================================================
--- introduction/welcome/changelog.xml	(révision 15612)
+++ introduction/welcome/changelog.xml	(révision 15613)
@@ -45,6 +45,17 @@
 -->
 
     <listitem>
+      <para>March 6th, 2015</para>
+      <itemizedlist>
+        <listitem>
+          <para>[pierre] - Fix vmmouse_detect to correctly detect a VMMouse
+          under Qemu.</para>
+        </listitem>
+      </itemizedlist>
+    </listitem>
+    <listitem>
       <para>March 5th, 2015</para>
       <itemizedlist>
         <listitem>

Index: x/installing/x7driver-vmmouse.xml
===================================================================
--- x/installing/x7driver-vmmouse.xml	(révision 15612)
+++ x/installing/x7driver-vmmouse.xml	(révision 15613)
@@ -95,11 +96,12 @@
       </para>
 
 <screen><userinput>patch -Np1 -i ../xf86-input-vmmouse-&xorg-vmmouse-driver-version;-build_fix-1.patch &amp;&amp;
+sed -i -e '/__i386__/a iopl(3);' tools/vmmouse_detect.c &amp;&amp;
 ./configure $XORG_CONFIG               \
             --without-hal-fdi-dir      \
             --without-hal-callouts-dir \
@@ -121,6 +123,12 @@
       <title>Command Explanations</title>
 
       <para>
+        <command>sed -i -e '/__i386__/a iopl(3);' ...</command>: This command
+        allows <command>vmmouse_detect</command> to detect the VMMouse protocol
+        in a <application>Qemu</application> virtual machine.
+      </para>
+      <para>
         <parameter>--with-udev-rules-dir=/lib/udev/rules.d</parameter>:
         This switch specifies where udev rules should be installed.
       </para>

