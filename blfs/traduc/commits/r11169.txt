Révision 11169

fichiers modifiés :
   introduction/welcome/changelog.xml
   networking/netlibs/libpcap.xml
   postlfs/security/cyrus-sasl.xml
   postlfs/security/gnutls.xml
   postlfs/security/gnupg2.xml
   multimedia/videoutils/ffmpeg.xml
   multimedia/videoutils/mplayer.xml
   multimedia/libdriv/alsa-lib.xml
   general.ent
   kde/add/kdepim.xml
   server/other/soprano.xml
   server/databases/postgresql.xml
   x/wm/fluxbox.xml
   general/prog/git.xml
   general/genlib/sbc.xml

Log :
Package updates and fixes. kdepim patch unnecesary with 4.10.3. Fix alsa-lib issues when building libkcompactdisc.

Le robot a traité 53 % du commit anglais
Index: general/genlib/sbc.xml
===================================================================
--- general/genlib/sbc.xml	(révision 11168)
+++ general/genlib/sbc.xml	(révision 11169)
@@ -34,7 +34,7 @@
       transfer data to Bluetooth audio output devices like headphones or loudspeakers.
     </para>
 
-&lfs72_checked;
+    &lfs73_checked;
 
     <bridgehead renderas="sect3">Package Information</bridgehead>
     <itemizedlist spacing="compact">

Index: introduction/welcome/changelog.xml
===================================================================
--- introduction/welcome/changelog.xml	(révision 11168)
+++ introduction/welcome/changelog.xml	(révision 11169)
@@ -44,6 +44,42 @@
 
 -->
     <listitem>
+      <para>May 12th, 2013</para>
+      <itemizedlist>
+        <listitem>
+          <para>[krejzi] - Cyrus SASL 2.1.26.</para>
+        </listitem>
+        <listitem>
+          <para>[krejzi] - FFmpeg 1.2.1.</para>
+        </listitem>
+        <listitem>
+          <para>[krejzi] - Fluxbox 1.3.5. Thanks to Igor &#381;ivkovi&#263; for the patch.</para>
+        </listitem>
+        <listitem>
+          <para>[krejzi] - Git 1.8.2.3.</para>
+        </listitem>
+        <listitem>
+          <para>[krejzi] - GnuPG 2.0.20.</para>
+        </listitem>
+        <listitem>
+          <para>[krejzi] - GnuTLS 3.1.1.</para>
+        </listitem>
+        <listitem>
+          <para>[krejzi] - libpcap 1.4.0.</para>
+        </listitem>
+        <listitem>
+          <para>[krejzi] - MPlayer 1.1.1.</para>
+        </listitem>
+        <listitem>
+          <para>[krejzi] - SBC 1.1.</para>
+        </listitem>
+        <listitem>
+          <para>[krejzi] - Soprano 2.9.2.</para>
+        </listitem>
+      </itemizedlist>
+    </listitem>
+    <listitem>
       <para>May 9th, 2013</para>
       <itemizedlist>
         <listitem>

Index: kde/add/kdepim.xml
===================================================================
--- kde/add/kdepim.xml	(révision 11168)
+++ kde/add/kdepim.xml	(révision 11169)
@@ -57,14 +57,6 @@
         <para>Estimated build time: &kdepim-time;</para>
       </listitem>
     </itemizedlist>
-<bridgehead renderas="sect3">Additional Downloads</bridgehead>
-<itemizedlist spacing='compact'>
-<listitem>
-<para>Required patch: <ulink
-url="&patch-root;/kdepim-&kde-version;-boost_fix-1.patch"/></para>
-</listitem>
-</itemizedlist>
     
     <bridgehead renderas="sect3">Kdepim Dependencies</bridgehead>
 
@@ -99,8 +91,7 @@
     <para>Install <application>Kdepim</application> by running
     the following commands:</para>
     
-<screen><userinput>patch -Np1 -i ../kdepim-&kde-version;-boost_fix-1.patch &amp;&amp;
-mkdir build &amp;&amp;
+<screen><userinput>mkdir build &amp;&amp;
 cd build &amp;&amp;
 cmake -DCMAKE_INSTALL_PREFIX=&kde-dir; \
       -DSYSCONF_INSTALL_DIR=/etc \

Index: multimedia/libdriv/alsa-lib.xml
===================================================================
--- multimedia/libdriv/alsa-lib.xml	(révision 11168)
+++ multimedia/libdriv/alsa-lib.xml	(révision 11169)
@@ -72,6 +72,16 @@
       </listitem>
     </itemizedlist>
 
+    <bridgehead renderas="sect3">Additional Downloads</bridgehead>
+    <itemizedlist spacing="compact">
+      <listitem>
+        <para>
+          Required patch:
+          <ulink url="&patch-root;/alsa-lib-&alsa-lib-version;-upstream_fixes-1.patch"/>
+        </para>
+      </listitem>
+    </itemizedlist>
     <bridgehead renderas="sect3">ALSA Library Dependencies</bridgehead>
 
     <bridgehead renderas="sect4">Optional</bridgehead>
@@ -111,7 +121,8 @@
       running the following commands:
     </para>
 
-<screen><userinput>./configure &amp;&amp;
+<screen><userinput>patch -Np1 -i ../alsa-lib-&alsa-lib-version;-upstream_fixes-1.patch &amp;&amp;
+./configure &amp;&amp;
 make</userinput></screen>
 
     <para>

Index: multimedia/videoutils/mplayer.xml
===================================================================
--- multimedia/videoutils/mplayer.xml	(révision 11168)
+++ multimedia/videoutils/mplayer.xml	(révision 11169)
@@ -48,7 +48,7 @@
       installed.
     </para>
 
-&lfs72_checked;
+    &lfs73_checked;
 
     <bridgehead renderas="sect3">Package Information</bridgehead>
     <itemizedlist spacing="compact">

Index: networking/netlibs/libpcap.xml
===================================================================
--- networking/netlibs/libpcap.xml	(révision 11168)
+++ networking/netlibs/libpcap.xml	(révision 11169)
@@ -34,7 +34,7 @@
       packet capture, used in low-level network monitoring.
     </para>
 
-&lfs72_checked;
+    &lfs73_checked;
 
     <bridgehead renderas="sect3">Package Information</bridgehead>
     <itemizedlist spacing="compact">
@@ -77,8 +77,8 @@
       <xref linkend="bluez"/>,
       Software distribution for the
       <ulink url="http://www.endace.com/">DAG</ulink>,
-<ulink url="http://www.infradead.org/~tgr/libnl/">
-libnl (version 1 or 2)</ulink> and
+      <xref linkend="libnl"/>,
+      <xref linkend="libusb"/> and
       <ulink url="http://www.intel.com/">Septel</ulink> range of passive
       network monitoring cards.
     </para>

Index: postlfs/security/cyrus-sasl.xml
===================================================================
--- postlfs/security/cyrus-sasl.xml	(révision 11168)
+++ postlfs/security/cyrus-sasl.xml	(révision 11169)
@@ -29,142 +29,194 @@
    </para>
 
     <bridgehead renderas="sect4">Optional</bridgehead>
-<para role="optional"><xref linkend="linux-pam"/>,
-<xref linkend="openldap"/>,
-<xref linkend="mitkrb"/>,
-<xref linkend="openjdk"/><!-- or <xref linkend="jdk"/>-->,
-<xref linkend="mysql"/>,
-<xref linkend="postgresql"/>,
-<xref linkend="sqlite"/>,
-<ulink url="http://www.pdc.kth.se/kth-krb/">krb4</ulink>, and
-<ulink url="http://dmalloc.com/">Dmalloc</ulink></para>
+    <para role="optional">
+      <xref linkend="linux-pam"/>,
+      <xref linkend="mitkrb"/>,
+      <xref linkend="mysql"/>,
+      <xref linkend="openjdk"/>,
+      <xref linkend="openldap"/>,
+      <xref linkend="postgresql"/>,
+      <xref linkend="sqlite"/>,
+      <ulink url="http://www.pdc.kth.se/kth-krb/">krb4</ulink> and
+      <ulink url="http://dmalloc.com/">Dmalloc</ulink>
+    </para>
 
     <para condition="html" role="usernotes">User Notes:
      <ulink url="&blfs-wiki;/cyrus-sasl"/>
@@     @@
    </para>
 
 <screen><userinput>patch -Np1 -i ../cyrus-sasl-&cyrus-sasl-version;-fixes-1.patch &amp;&amp;
+autoreconf -fi &amp;&amp;
+pushd saslauthd
+autoreconf -fi &amp;&amp;
+popd
 ./configure --prefix=/usr \
             --sysconfdir=/etc \
             --with-dbpath=/var/lib/sasl/sasldb2 \
@@     @@
    </para>
 
 <screen role="root"><userinput>make install &amp;&amp;
-install -v -m755 -d /usr/share/doc/cyrus-sasl-&cyrus-sasl-version; &amp;&amp;
-install -v -m644 doc/{*.{html,txt,fig},ONEWS,TODO} \
+install -v -dm755 /usr/share/doc/cyrus-sasl-&cyrus-sasl-version; &amp;&amp;
+install -v -m644  doc/{*.{html,txt,fig},ONEWS,TODO} \
     saslauthd/LDAP_SASLAUTHD /usr/share/doc/cyrus-sasl-&cyrus-sasl-version; &amp;&amp;
-install -v -m700 -d /var/lib/sasl</userinput></screen>
+install -v -dm700 /var/lib/sasl</userinput></screen>
 
   </sect2>
 
   <sect2 role="commands">
     <title>Command Explanations</title>
 
-<para><parameter>--with-dbpath=/var/lib/sasl/sasldb2</parameter>: This
-parameter forces the <command>sasldb</command> database to be created
-in <filename class='directory'>/var/lib/sasl</filename> instead of
-<filename class='directory'>/etc</filename>.</para>
+    <para>
+      <parameter>--with-dbpath=/var/lib/sasl/sasldb2</parameter>: This
+      switch forces the <command>sasldb</command> database to be created
+      in <filename class="directory">/var/lib/sasl</filename> instead of
+      <filename class="directory">/etc</filename>.
+    </para>
 
-<para><parameter>--with-saslauthd=/var/run/saslauthd</parameter>: This
-parameter forces <command>saslauthd</command> to use the FHS compliant
-directory <filename class='directory'>/var/run/saslauthd</filename> for
-variable run-time data.</para>
+    <para>
+      <parameter>--with-saslauthd=/var/run/saslauthd</parameter>: This
+      switch forces <command>saslauthd</command> to use the FHS compliant
+      directory <filename class="directory">/var/run/saslauthd</filename>
+      for variable run-time data.
+    </para>
 
-<para><parameter>--with-dblib=gdbm</parameter>: This parameter forces
-<application>GDBM</application> to be used instead of
-<application>Berkeley DB</application>.</para>
+    <para>
+      <parameter>--with-dblib=gdbm</parameter>: This switch forces
+      <application>GDBM</application> to be used instead of
+      <application>Berkeley DB</application>.
+    </para>
 
-<para><option>--with-ldap</option>: This parameter enables use
-with <application>OpenLDAP</application>.</para>
+    <para>
+      <option>--with-ldap</option>: This switch enables the
+      <application>OpenLDAP</application> support.
+    </para>
 
-<para><option>--enable-ldapdb</option>: This parameter enables the
-LDAPDB authentication backend. There is a circular dependency with this
-parameter. See <ulink url="&blfs-wiki;/cyrus-sasl"/> for a solution to
-this problem.</para>
+    <para>
+      <option>--enable-ldapdb</option>: This switch enables the
+      LDAPDB authentication backend. There is a circular dependency with this
+      parameter. See <ulink url="&blfs-wiki;/cyrus-sasl"/> for a solution to
+      this problem.
+    </para>
 
-<para><option>--enable-java</option>: This option enables compiling of
-<application>Java</application> support libraries</para>
+    <para>
+      <option>--enable-java</option>: This switch enables compiling of the
+      <application>Java</application> support libraries.
+    </para>
 
-<para><option>--enable-login</option>: This option enables unsupported
-LOGIN authentication</para>
+    <para>
+      <option>--enable-login</option>: This option enables unsupported
+      LOGIN authentication.
+    </para>
 
-<para><option>--enable-ntlm</option>: This option enables unsupported
-NTLM authentication</para>
+    <para>
+      <option>--enable-ntlm</option>: This option enables unsupported
+      NTLM authentication.
+    </para>
 
    <para>
      <command>install -v -m644 ...</command>: These commands
@@ -188,29 +242,36 @@
        for information on what to include in the application configuration files.
       </para>
 
+      <para>
+        See
+        <ulink url="file:///usr/share/doc/cyrus-sasl-&cyrus-sasl-version;/LDAP_SASLAUTHD"/>
+        for configuring <command>saslauthd</command> with
+        <application>OpenLDAP</application>.
+      </para>
+      <para>
+        See
+        <ulink url="file:///usr/share/doc/cyrus-sasl-&cyrus-sasl-version;/gssapi.html"/>
+        for configuring <command>saslauthd</command> with <application>Kerberos</application>.
+      </para>
     </sect3>
 
     <sect3 id="cyrus-sasl-init">
@@ -233,14 +296,23 @@
 
     <segmentedlist>
       <segtitle>Installed Programs</segtitle>
-<segtitle>Installed Libraries</segtitle>
+      <segtitle>Installed Library</segtitle>
       <segtitle>Installed Directories</segtitle>
 
       <seglistitem>
-<seg>pluginviewer, saslauthd, sasldblistusers2, saslpasswd2 and testsaslauthd</seg>
-<seg>libsasl2.so, and numerous SASL plugins</seg>
-<seg>/usr/include/sasl, /usr/lib/sasl2,
-/usr/share/doc/cyrus-sasl-&cyrus-sasl-version;, and /var/lib/sasl</seg>
+        <seg>
+          pluginviewer, saslauthd, sasldblistusers2, saslpasswd2 and
+          testsaslauthd
+        </seg>
+        <seg>
+          libsasl2.so
+        </seg>
+        <seg>
+          /usr/include/sasl,
+          /usr/lib/sasl2,
+          /usr/share/doc/cyrus-sasl-&cyrus-sasl-version; and
+          /var/lib/sasl
+        </seg>
       </seglistitem>
     </segmentedlist>
 
@@ -303,10 +385,12 @@
       </varlistentry>
 
       <varlistentry id="libsasl2">
-<term><filename class='libraryfile'>libsasl2.so</filename></term>
+        <term><filename class="libraryfile">libsasl2.so</filename></term>
         <listitem>
          <para>
            is a general purpose authentication library for server

Index: postlfs/security/gnupg2.xml
===================================================================
--- postlfs/security/gnupg2.xml	(révision 11168)
+++ postlfs/security/gnupg2.xml	(révision 11169)
@@ -38,7 +38,7 @@
     S/MIME. It does not conflict with an installed <xref linkend="gnupg"/>
     OpenPGP-only version.</para>
 
-&lfs72_checked;
+    &lfs73_checked;
 
     <bridgehead renderas="sect3">Package Information</bridgehead>
     <itemizedlist spacing="compact">
@@ -105,16 +105,16 @@
 <screen><userinput>./configure --prefix=/usr \
             --libexecdir=/usr/lib/gnupg2 \
             --docdir=/usr/share/doc/gnupg-&gnupg2-version; &amp;&amp;
+make &amp;&amp;
 
makeinfo --html --no-split -o doc/gnupg_nochunks.html doc/gnupg.texi &amp;&amp;
makeinfo --plaintext       -o doc/gnupg.txt           doc/gnupg.texi</userinput></screen>
@@ -123,7 +123,7 @@
     <filename>/usr/share/man/man1/gpg-zip.1</filename>. Now, as the
     <systemitem class="username">root</systemitem> user:</para>
 
+<screen role="root"><userinput>make install &amp;&amp;
 
 install -v -m755 -d /usr/share/doc/gnupg-&gnupg2-version;/html &amp;&amp;
 install -v -m644    doc/gnupg_nochunks.html \

Index: server/databases/postgresql.xml
===================================================================
--- server/databases/postgresql.xml	(révision 11168)
+++ server/databases/postgresql.xml	(révision 11169)
@@ -93,7 +93,9 @@
     <para>Install <application>PostgreSQL</application> with the
     following commands: </para>
 
-<screen><userinput>./configure --prefix=/usr          \
+<screen><userinput>sed -e "s@DEFAULT_PGSOCKET_DIR  \"/tmp\"@DEFAULT_PGSOCKET_DIR  \"/run/postgresql\"@" \
+    -i src/include/pg_config_manual.h &amp;&amp;
+./configure --prefix=/usr          \
             --enable-thread-safety \
             --docdir=/usr/share/doc/postgresql-&postgresql-version; &amp;&amp;
 make</userinput></screen>
@@ -117,11 +119,12 @@
     <para>Initialize a database cluster with the following commands issued by the
     <systemitem class="username">root</systemitem> user:</para>
 
-<screen role="root"><userinput>install -v -m700 -d /srv/pgsql/data &amp;&amp;
+<screen role="root"><userinput>install -v -dm700 /srv/pgsql/data &amp;&amp;
+install -v -dm755 /run/postgresql &amp;&amp;
 groupadd -g 41 postgres &amp;&amp;
 useradd -c "PostgreSQL Server" -g postgres -d /srv/pgsql/data \
         -u 41 postgres &amp;&amp;
-chown -v postgres /srv/pgsql/data &amp;&amp;
+chown -Rv postgres:postgres /srv/pgsql /run/postgresql &amp;&amp;
 su - postgres -c '/usr/bin/initdb -D /srv/pgsql/data'</userinput></screen>
 
     <para>As the <systemitem class="username">root</systemitem> user, start the
@@ -149,6 +152,12 @@
   <sect2 role="commands">
     <title>Command Explanations</title>
 
+    <para>
+      <command>sed -e ...</command>: This sed changes server socket location
+      from <filename class="directory">/tmp</filename> to
+      <filename class="directory">/run/postgresql</filename>.
+    </para>
     <para><parameter>--docdir=/usr/share/doc/postgresql-&postgresql-version;</parameter>:
     This switch puts the documentation in a versioned directory.</para>
 

Index: x/wm/fluxbox.xml
===================================================================
--- x/wm/fluxbox.xml	(révision 11168)
+++ x/wm/fluxbox.xml	(révision 11169)
@@ -5,11 +5,12 @@
   %general-entities;
 
   <!ENTITY fluxbox-download-http "&sourceforge-repo;/fluxbox/fluxbox-&fluxbox-version;.tar.bz2">
+           "&jaist-ftp-repo;/f/fl/fluxbox/fluxbox/&fluxbox-version;/fluxbox-&fluxbox-version;.tar.bz2">
 ]>
 
 <sect1 id="fluxbox" xreflabel="Fluxbox-&fluxbox-version;">
@@ -62,7 +63,11 @@
     <para role="required"><xref linkend="x-window-system"/></para>
 
     <bridgehead renderas="sect4">Optional</bridgehead>
-<para role="optional"><xref linkend="imlib2"/> Image display library</para>
+    <para role="optional">
+      <xref linkend="fribidi"/>,
+      <xref linkend="imlib2"/> (if you wish to use other image formats in addition to XPM) and
+      <ulink url="http://xorg.freedesktop.org/releases/individual/app/">xmessage</ulink> (runtime only)
+    </para>
 
     <para condition="html" role="usernotes">User Notes:
     <ulink url="&blfs-wiki;/fluxbox"/></para>
@@ -78,7 +83,7 @@
 <screen><userinput>./configure --prefix=/usr &amp;&amp;
 make</userinput></screen>
 
-<para>To test the results, issue: <command>make check</command>.</para>
+    <para>This package does not have a working testsuite.</para>
 
     <para>Now, as the <systemitem class="username">root</systemitem> user:</para>
 
@@ -86,14 +91,6 @@
 
   </sect2>
 
-<sect2 role="commands">
-<title>Command Explanations</title>
-<para><option>--enable-imlib2</option>:
-Use this option if you wish to use other image formats in addition to xpm.</para>
-</sect2>
   <sect2 role="configuration">
     <title>Configuring Fluxbox</title>
 

