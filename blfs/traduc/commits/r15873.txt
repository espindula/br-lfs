Révision 15873

fichiers modifiés :
   multimedia/libdriv/libvpx.xml
   multimedia/libdriv/gst-plugins-bad.xml
   xsoft/other/thunderbird.xml
   packages.ent
   introduction/welcome/changelog.xml

Log :
Update to libvpx-1.4.0. gst-plugins-bad-0.10.23: fix some code when building with libvpx-1.4.0 and later. thunderbird-31.6.0: fix some code when building with libvpx-1.4.0 and later.

Le robot a traité 35 % du commit anglais
Index: introduction/welcome/changelog.xml
===================================================================
--- introduction/welcome/changelog.xml	(révision 15872)
+++ introduction/welcome/changelog.xml	(révision 15873)
@@ -48,6 +48,18 @@
       <para>April 24th, 2015</para>
       <itemizedlist>
         <listitem>
+          <para>[fernando] - thunderbird-31.6.0: fix some code when building
+          with libvpx-1.4.0 and later.</para>
+        </listitem>
+        <listitem>
+          <para>[fernando] - gst-plugins-bad-0.10.23: fix some code when
+          building with libvpx-1.4.0 and later.</para>
+        </listitem>
+        <listitem>
+          <para>[fernando] - Update to libvpx-1.4.0. Fixes
+          <ulink url="&blfs-ticket-root;6432">#6432</ulink>.</para>
+        </listitem>
+        <listitem>
           <para>[fernando] - Update to libevdev-1.4.2. Fixes
           <ulink url="&blfs-ticket-root;6434">#6434</ulink>.</para>
         </listitem>

Index: multimedia/libdriv/gst-plugins-bad.xml
===================================================================
--- multimedia/libdriv/gst-plugins-bad.xml	(révision 15872)
+++ multimedia/libdriv/gst-plugins-bad.xml	(révision 15873)
@@ -152,6 +152,12 @@
       needs to be installed before this application.
     </para></note>
 
+    <para>Fix some code when building with libvpx-1.4.0 and later:</para>
+<screen><userinput>sed -e '/Some compatibility/ s:*/::' \
+    -e '/const char/ i*/'            \
+    -i  ext/vp8/gstvp8utils.h</userinput></screen>
     <para>
       Install <application>Gstreamer Bad Plug-ins</application> by running the following
       commands:

Index: multimedia/libdriv/libvpx.xml
===================================================================
--- multimedia/libdriv/libvpx.xml	(révision 15872)
+++ multimedia/libdriv/libvpx.xml	(révision 15873)
@@ -21,7 +21,7 @@
     <date>$Date$</date>
   </sect1info>
 
-<title>libvpx-v&libvpx-version;</title>
+  <title>libvpx-&libvpx-version;</title>
 
   <indexterm zone="libvpx">
     <primary sortas="a-libvpx">libvpx</primary>
@@ -58,13 +58,6 @@
       </listitem>
     </itemizedlist>
 
-<para>The <application>libvpx</application> tarballs are no longer generated
-by the maintainers. To build from source, the
-<application>libvpx</application> developers recommend using current git.
-The source tarball shown above was created by the BLFS team by pulling a
-git version, and removing .git, .gitattributes and .gitignore. BLFS made
-no changes to the existing source files.</para>
     <bridgehead renderas="sect3">libvpx Dependencies</bridgehead>
 
     <bridgehead renderas="sect4">Required</bridgehead>
@@ -87,11 +80,14 @@
     <para>Install <application>libvpx</application> by running the
     following commands:</para>
 
-<screen><userinput>sed -i 's/cp -p/cp/' build/make/Makefile &amp;&amp;
-chmod -v 644 vpx/*.h &amp;&amp;
+<screen><userinput>sed   -e 's/cp -p/cp/'       \
+      -i build/make/Makefile &amp;&amp;
+chmod -v 644 vpx/*.h         &amp;&amp;
 mkdir ../libvpx-build &amp;&amp;
-cd ../libvpx-build &amp;&amp;
-../libvpx-v&libvpx-version;/configure --prefix=/usr \
+cd    ../libvpx-build &amp;&amp;
+../libvpx-&libvpx-version;/configure --prefix=/usr \
                            --enable-shared \
                            --disable-static &amp;&amp;
 make</userinput></screen>
@@ -135,8 +131,7 @@
       <segtitle>Installed Directories</segtitle>
 
       <seglistitem>
-<seg>vp8_scalable_patterns, vp9_spatial_scalable_encoder,
-vpxdec and vpxenc</seg>
+        <seg>vpxdec and vpxenc</seg>
         <seg>libvpx.so</seg>
         <seg>/usr/include/vpx</seg>
       </seglistitem>

Index: xsoft/other/thunderbird.xml
===================================================================
--- xsoft/other/thunderbird.xml	(révision 15872)
+++ xsoft/other/thunderbird.xml	(révision 15873)
@@ -246,6 +246,14 @@
 test $(uname -m) = "i686" && sed -i 's/enable-optimize/disable-optimize/' mozconfig || true &&-\->
 <screen><userinput>mkdir -vp mozilla/thunderbuild</userinput></screen>-->
 
+    <para>Fix some code when building with libvpx-1.4.0 and later:</para>
+<screen><userinput>pushd mozilla/media/webrtc/trunk/webrtc/modules/video_coding/codecs/vp8 &amp;&amp;
+  sed -e 's/IMG_FMT_I420/VPX_&amp;/'    \
+      -e 's/\[PLANE_/\[VPX_PLANE_/' \
+      -i  vp8_impl.cc               &amp;&amp;
+popd</userinput></screen>
     <para>
       Compile <application>Thunderbird</application> by issuing the following
       commands:

