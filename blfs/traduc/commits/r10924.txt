Révision 10924

fichiers modifiés :
   introduction/welcome/changelog.xml
   postlfs/security/iptables.xml
   general.ent

Log :
Iptables 1.4.17.

Le robot a traité 27 % du commit anglais
Index: introduction/welcome/changelog.xml
===================================================================
--- introduction/welcome/changelog.xml	(revision 10923)
+++ introduction/welcome/changelog.xml	(revision 10924)
@@ -57,6 +57,9 @@
           <para>[krejzi] - GnuTLS 3.1.6.</para>
         </listitem>
         <listitem>
+          <para>[krejzi] - Iptables 1.4.17.</para>
+        </listitem>
+        <listitem>
           <para>[krejzi] - KDE 4.9.5..</para>
         </listitem>
         <listitem>

Index: postlfs/security/iptables.xml
===================================================================
--- postlfs/security/iptables.xml	(revision 10923)
+++ postlfs/security/iptables.xml	(revision 10924)
@@ -136,7 +136,7 @@
 
 <screen><userinput>./configure --prefix=/usr                          \
             --exec-prefix=                         \
-            --bindir=/sbin                         \
+            --bindir=/usr/bin                      \
             --with-xtlibdir=/lib/xtables           \
             --with-pkgconfigdir=/usr/lib/pkgconfig \
             --enable-libipq                        \
@@ -148,7 +148,14 @@
     <para>Now, as the <systemitem class="username">root</systemitem> user:</para>
 
 <screen role="root"><userinput>make install &amp;&amp;
-ln -sfv xtables-multi /sbin/iptables-xml</userinput></screen>
+ln -sfv ../../sbin/xtables-multi /usr/bin/iptables-xml &amp;&amp;
+for file in libip4tc libip6tc libipq libiptc libxtables
+do
+  ln -sfv ../../lib/`readlink /lib/${file}.so` /usr/lib/${file}.so &amp;&amp;
+  rm -v /lib/${file}.so &amp;&amp;
+  mv -v /lib/${file}.la /usr/lib &amp;&amp;
+  sed -i "s@libdir='@&amp;/usr@g" /usr/lib/${file}.la
+done</userinput></screen>
 
   </sect2>
 
@@ -162,13 +169,8 @@
     </para>
 
     <para>
-      <parameter>--bindir=/sbin</parameter>: Ensure all the executables go
-      in <filename class="directory">/sbin</filename>.
-    </para>
-    <para>
       <parameter>--with-xtlibdir=/lib/xtables</parameter>: Ensure all 
-      Iptables modules are installed in the 
+      <application>Iptables</application> modules are installed in the 
       <filename class="directory">/lib/xtables</filename> directory.
     </para>
 
@@ -190,8 +192,8 @@
     </para>
 
     <para>
-      <command>ln -sfv xtables-multi /sbin/iptables-xml</command>: Ensure
-      the symbolic link for <command>iptables-xml</command> is relative.
+      <command>ln -sfv ../../sbin/xtables-multi /usr/bin/iptables-xml</command>:
+      Ensure  the symbolic link for <command>iptables-xml</command> is relative.
     </para>
 
   </sect2>

