Révision 12374

fichiers modifiés :
   postlfs/virtualization/qemu.xml

Log :
allow users to use the kvm device

Le robot a traité 22 % du commit anglais
Index: postlfs/virtualization/qemu.xml
===================================================================
--- postlfs/virtualization/qemu.xml	(révision 12373)
+++ postlfs/virtualization/qemu.xml	(révision 12374)
@@ -159,7 +159,30 @@
 
 <screen role="root"><userinput>make install &amp;&amp;
 [ -e  /usr/lib/libcacard.so ] &amp;&amp; chmod -v 755 /usr/lib/libcacard.so</userinput></screen>
+    <para>
+      You will need a dedicated group that will contain users (other than root)
+      allowed to access the KVM device. Add the group by running the following
+      command as the <systemitem class="username">root</systemitem> user:
+    </para>
+<screen role="root"><userinput>groupadd -g 61 kvm</userinput></screen>
+    <para>
+      Add any users that might use the KVM device to that group:
+    </para>
+<screen role="root"><userinput>usermod -a -G kvm <replaceable>&lt;username&gt;</replaceable></userinput></screen>
+    <para>
+      You will also need to add an Udev rule so that the KVM device gets correct
+      permissions:
+    </para>
+<screen role="root"><userinput>cat > /lib/udev/rules.d/65-kvm.rules &lt;&lt; "EOF"
+<literal>KERNEL=="kvm", NAME="%k", GROUP="kvm", MODE="0660"</literal>
+EOF</userinput></screen>
     <note><!--<para>The main program <command>qemu-system-x86_64</command> doesn't
     make a distinction between i386 and x86_64 so even on an i386 system you
     should use <emphasis>qemu-system-x86_64</emphasis></para>

