Révision 12874

fichiers modifiés :
   networking/netutils/avahi.xml
   multimedia/libdriv/x264.xml
   general.ent
   server/major/apache.xml
   x/installing/x7lib.xml
   general/prog/python3.xml
   general/graphlib/lcms2.xml
   general/sysutils/upower.xml
   general/genlib/apr-util.xml
   introduction/welcome/changelog.xml

Log :
Updates to httpd-2.4.9, Python-3.4.0, lcms2-2.6, libFS-1.0.6 and x264-20140316-2245. Several small fixes to Apr-Util-1.5.3, UPower-0.9.23 and Avahi-0.6.3. Thanks Armin K. for discussions.

Le robot a traité 25 % du commit anglais
Index: general/genlib/apr-util.xml
===================================================================
--- general/genlib/apr-util.xml	(révision 12873)
+++ general/genlib/apr-util.xml	(révision 12874)
@@ -145,11 +145,17 @@
     </para>
 
     <para>
-<parameter>--with-berkeley-db=/usr</parameter>: If you have
-installed <xref linkend="db"/>, use this switch to compile the
+      <option>--with-berkeley-db=/usr</option>: If you have installed
+      <xref linkend="db"/>, use this switch to compile the
       <filename class="libraryfile">apr_dbm_db-1.so</filename> plugin.
     </para>
 
+    <para>
+      <option>--with-ldap</option>: If you have installed
+      <xref linkend="openldap"/>, use this switch to compile the
+      <filename class="libraryfile">apr_ldap.so</filename> plugin.
+    </para>
   </sect2>
 
   <sect2 role="content">
@@ -166,6 +172,7 @@
         </seg>
         <seg>
           libaprutil-1.so
+          and several under /usr/lib/apr-util-1/
         </seg>
         <seg>
           /usr/lib/apr-util-1

Index: general/graphlib/lcms2.xml
===================================================================
--- general/graphlib/lcms2.xml	(révision 12873)
+++ general/graphlib/lcms2.xml	(révision 12874)
@@ -6,10 +6,10 @@
 
   <!ENTITY lcms2-download-http "&sourceforge-repo;/lcms/lcms2-&lcms2-version;.tar.gz">
   <!ENTITY lcms2-download-ftp  " ">
-<!ENTITY lcms2-md5sum        "396d106600251441ff195fcaa277d10b">
-<!ENTITY lcms2-size          "6.7 MB">
-<!ENTITY lcms2-buildsize     "19 MB">
-<!ENTITY lcms2-time          "0.2 SBU">
+  <!ENTITY lcms2-md5sum        "f4c08d38ceade4a664ebff7228910a33">
+  <!ENTITY lcms2-size          "4.4 MB">
+  <!ENTITY lcms2-buildsize     "15 MB (additional 1 MB for the tests)">
+  <!ENTITY lcms2-time          "0.1 SBU (additional 0.1 SBU for the tests)">
 ]>
 
 <sect1 id="lcms2" xreflabel="Little CMS-&lcms2-version;">

Index: general/prog/python3.xml
===================================================================
--- general/prog/python3.xml	(révision 12873)
+++ general/prog/python3.xml	(révision 12874)
@@ -7,14 +7,14 @@
   <!ENTITY python3-download-http
            "http://www.python.org/ftp/python/&python3-version;/Python-&python3-version;.tar.xz">
   <!ENTITY python3-download-ftp  " ">
-<!ENTITY python3-md5sum        "b2a4df195d934e5b229e8328ca864960">
-<!ENTITY python3-size          "12 MB">
-<!ENTITY python3-buildsize     "261 MB (226 MB without docs or 144 MB for the tests)">
-<!ENTITY python3-time          "1.0 SBU (or 2.2 SBU for the tests)">
+  <!ENTITY python3-md5sum        "77c22725e14af3d71022cbfdebff4903">
+  <!ENTITY python3-size          "14 MB">
+  <!ENTITY python3-buildsize     "279 MB (241 MB without docs or additional 143 MB for the tests)">
+  <!ENTITY python3-time          "1.1 SBU (or 2.8 SBU for the tests)">
 
   <!ENTITY python3htmldoc-download-http
            "http://docs.python.org/ftp/python/doc/&python3-version;/python-&python3-version;-docs-html.tar.bz2">
-<!ENTITY python3htmldoc-md5sum        "71495f2214dc43a7c24d9a562f45b5ea">
+  <!ENTITY python3htmldoc-md5sum        "cdbef126ee7ef0908352fabc4dc5bee5">
   <!ENTITY python3htmldoc-size          "4.8 MB">
 ]>
 
@@ -134,10 +134,12 @@
       commands:
     </para>
 
-<screen><userinput>./configure --prefix=/usr       \
+<screen><userinput>CXX="/usr/bin/g++"              \
+./configure --prefix=/usr       \
             --enable-shared     \
             --with-system-expat \
---with-system-ffi &amp;&amp;
+            --with-system-ffi   \
+            --without-ensurepip &amp;&amp;
 make</userinput></screen>
 
     <para>
@@ -185,6 +187,11 @@
     <title>Command Explanations</title>
 
     <para>
+      <command> CXX="/usr/bin/g++" ./configure ...</command>: Avoid an annoying
+      message during configuration.
+    </para>
+    <para>
       <option>--with-system-expat</option>: This switch enables linking against
       system version of <application>Expat</application>. Remove if you have
       not installed recommended dependency <xref linkend="expat"/>.
@@ -204,6 +211,12 @@
     </para>
 
     <para>
+      <parameter>--without-ensurepip</parameter>: This switch disables building
+      <command>pip</command> and <command>setuptools</command>
+      packaging programs.
+    </para>
+    <para>
       <command>chmod ...</command>: Fix permissions for shared libraries to be
       consistent with other libraries.
     </para>

Index: introduction/welcome/changelog.xml
===================================================================
--- introduction/welcome/changelog.xml	(révision 12873)
+++ introduction/welcome/changelog.xml	(révision 12874)
@@ -45,6 +45,38 @@
 -->
 
     <listitem>
+      <para>March 17th, 2014</para>
+      <itemizedlist>
+        <listitem>
+          <para>[fernando] - Several small fixes to Apr-Util-1.5.3,
+          UPower-0.9.23 and Avahi-0.6.3 (thanks Armin K.
+          for discussions).</para>
+        </listitem>
+        <listitem>
+          <para>[fernando] - Update to x264-20140316-2245. Fixes
+          <ulink url="&blfs-ticket-root;4732">#4732</ulink>.</para>
+        </listitem>
+        <listitem>
+          <para>[fernando] - Update to libFS-1.0.6. Fixes
+          <ulink url="&blfs-ticket-root;4817">#4817</ulink>.</para>
+        </listitem>
+        <listitem>
+          <para>[fernando] - Update to lcms2-2.6. Fixes
+          <ulink url="&blfs-ticket-root;4816">#4816</ulink>.</para>
+        </listitem>
+        <listitem>
+          <para>[fernando] - Update to Python-3.4.0. Fixes
+          <ulink url="&blfs-ticket-root;4815">#4815</ulink>.
+          Thanks Armin K. for discussions.</para>
+        </listitem>
+        <listitem>
+          <para>[fernando] - Update to httpd-2.4.9. Fixes
+          <ulink url="&blfs-ticket-root;4814">#4814</ulink>.</para>
+        </listitem>
+      </itemizedlist>
+    </listitem>
+    <listitem>
       <para>March 16th, 2014</para>
       <itemizedlist>
         <listitem>

Index: multimedia/libdriv/x264.xml
===================================================================
--- multimedia/libdriv/x264.xml	(révision 12873)
+++ multimedia/libdriv/x264.xml	(révision 12874)
@@ -6,10 +6,10 @@
 
   <!ENTITY x264-download-http " ">
   <!ENTITY x264-download-ftp  "ftp://ftp.videolan.org/pub/videolan/x264/snapshots/x264-snapshot-&x264-version;-stable.tar.bz2">
-<!ENTITY x264-md5sum        "d8728ab9879a37f88970992a435298b5">
-<!ENTITY x264-size          "609 KB">
+  <!ENTITY x264-md5sum        "204ee6df1a8b3bf8c4314f3f06fb36f7">
+  <!ENTITY x264-size          "608 KB">
   <!ENTITY x264-buildsize     "8.7 MB">
-<!ENTITY x264-time          "0.7 SBU">
+  <!ENTITY x264-time          "0.2 SBU">
 ]>
 
 <sect1 id="x264" xreflabel="x264-&x264-version;">

Index: networking/netutils/avahi.xml
===================================================================
--- networking/netutils/avahi.xml	(révision 12873)
+++ networking/netutils/avahi.xml	(révision 12874)
@@ -80,7 +80,6 @@
 
     <bridgehead renderas="sect4">Recommended</bridgehead>
     <para role="optional">
-<xref linkend="dbus-python"/>,
       <xref linkend="gobject-introspection"/>,
       <xref linkend="gtk2"/>,
       <xref linkend="gtk3"/>,
@@ -90,6 +89,8 @@
 
     <bridgehead renderas="sect4">Optional</bridgehead>
     <para role="optional">
+      <xref linkend="dbus-python"/>,
+      <xref linkend="pygtk"/> and
       <xref linkend="qt4"/>
     </para>
 

Index: server/major/apache.xml
===================================================================
--- server/major/apache.xml	(révision 12873)
+++ server/major/apache.xml	(révision 12874)
@@ -7,9 +7,9 @@
   <!ENTITY apache-download-http
            "http://archive.apache.org/dist/httpd/httpd-&apache-version;.tar.bz2">
   <!ENTITY apache-download-ftp  " ">
-<!ENTITY apache-md5sum        "170d7fb6fe5f28b87d1878020a9ab94e">
+  <!ENTITY apache-md5sum        "2ef4e65353497606b24fa9bb3e5a3c40">
   <!ENTITY apache-size          "4.8 MB">
-<!ENTITY apache-buildsize     "107 MB">
+  <!ENTITY apache-buildsize     "97 MB">
   <!ENTITY apache-time          "0.7 SBU">
 ]>
 
@@ -99,8 +99,10 @@
     <para role="optional">
       <xref linkend="db"/>,
       <xref linkend="doxygen"/>,
+      <xref linkend="libxml2"/>,
       <xref linkend="lynx"/>,
      <xref linkend="openldap"/> (<xref linkend="apr-util"/> needs to be
      installed with ldap suport),
@@ -150,7 +152,8 @@
     </para>
 
     <para>
-Now, as the <systemitem class="username">root</systemitem> user:
+      Now, as the <systemitem class="username">root</systemitem> user
+      (notice that DESTDIR does not work properly as unpriviledged user):
     </para>
 
 <screen role="root"><userinput>make install                                 &amp;&amp;
@@ -284,17 +287,17 @@
         <seg>
           ab,           apachectl, apxs,     checkgid, dbmmanage, fcgistarter,
           htcacheclean, htdbm,     htdigest, htpasswd, httpd,
-httxt2dbm,    logresolve,      and rotatelogs
+          httxt2dbm,    logresolve,      rotatelogs, and suexec
         </seg>
         <seg>
-None
+          Several libraries under /usr/lib/httpd/modules/
         </seg>
         <seg>
           /etc/httpd,

Index: x/installing/x7lib.xml
===================================================================
--- x/installing/x7lib.xml	(révision 12873)
+++ x/installing/x7lib.xml	(révision 12874)
@@ -19,8 +19,8 @@
   <!ENTITY libXext-version                 "1.3.2">
   <!ENTITY libXext-md5sum                  "4376101e51bb2c6c44d9ab14344e85ad">
 
-<!ENTITY libFS-version                   "1.0.5">
-<!ENTITY libFS-md5sum                    "e3c77ca27942ebc5eb2ca99f29363515">
+  <!ENTITY libFS-version                   "1.0.6">
+  <!ENTITY libFS-md5sum                    "a8a0dbd2299b2568d8c919883f5c8501">
 
   <!ENTITY libICE-version                  "1.0.8">
   <!ENTITY libICE-md5sum                   "471b5ca9f5562ac0d6eac7a0bf650738">
@@ -249,12 +249,6 @@
   tar -xf $package
   pushd $packagedir
   case $packagedir in
-libFS-[0-9]* )
-sed -e '/#include &lt;X11/ i\#include &lt;X11\/Xtrans\/Xtransint.h>' \
--e 's/_FSTransReadv(svr->trans_conn/readv(svr->trans_conn->fd/' \
--i src/FSlibInt.c
-./configure $XORG_CONFIG
-;;
     libXfont-[0-9]* )
       ./configure $XORG_CONFIG --disable-devel-docs
     ;;

