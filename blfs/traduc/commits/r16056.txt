Révision 16056

fichiers modifiés :
   general/prog/openjdk.xml

Log :
Add a variable to allow building openjdk on Linux-4, and tag for gcc-5

Le robot a traité 27 % du commit anglais
Index: general/prog/openjdk.xml
===================================================================
--- general/prog/openjdk.xml	(révision 16055)
+++ general/prog/openjdk.xml	(révision 16056)
@@ -319,15 +319,7 @@
     -e '/DGifOpen/s/c)/c, NULL)/'     \
     -i jdk/src/share/native/sun/awt/splashscreen/splashscreen_gif.c</userinput></screen>
 
-<screen><userinput>sed 's/\([ \t]\)\]\([^\]\)/\1I]\2/g' \
--i hotspot/make/linux/makefiles/adjust-mflags.sh</userinput></screen>
--->
     <note>
       <para>
         Before proceeding, you should ensure that your environment
@@ -356,7 +348,9 @@
    --enable-unlimited-crypto  \
    --with-zlib=system         \
    --with-giflib=system       &amp;&amp;
-make DEBUG_BINARIES=true all  &amp;&amp;
+make DEBUG_BINARIES=true                 \
+     DISABLE_HOTSPOT_OS_VERSION_CHECK=ok \
+     all  &amp;&amp;
 find build/*/images/j2sdk-image -iname \*.diz -delete
 </userinput></screen>
 
@@ -582,8 +576,11 @@
     </para>
 
     <para>
-<command>make DEBUG_BINARIES=true all</command>: The build fails
-if DEBUG_BINARIES is not set to true.
+      <command>make DEBUG_BINARIES=true
+      DISABLE_HOTSPOT_OS_VERSION_CHECK=ok all</command>: The build fails if
+      DEBUG_BINARIES is not set to true. Furthermore, OS version checking in
+      hotspot's Makefile does not account for Linux version 4.x. Disabling the
+      test is harmless and allows building.
     </para>
 
     <para>

