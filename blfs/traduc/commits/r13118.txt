Révision 13118

fichiers modifiés :
   postlfs/security/polkit.xml
   general.ent
   gnome/platform/gsettings-desktop-schemas.xml
   gnome/platform/gnome-keyring.xml
   gnome/platform/gcr.xml
   x/lib/gtk+3.xml
   general/sysutils/colord.xml
   introduction/welcome/changelog.xml

Log :
gtk+-3.12.2, gsettings-desktop-schemas-3.12.2, gcr-3.12.2 and gnome-keyring-3.12.2. Fix Polkit-0.112 and Colord-1.2.0 to build without systemd.

Le robot a traité 47 % du commit anglais
Index: general/sysutils/colord.xml
===================================================================
--- general/sysutils/colord.xml	(révision 13117)
+++ general/sysutils/colord.xml	(révision 13118)
@@ -137,8 +137,9 @@
             --localstatedir=/var         \
             --with-daemon-user=colord    \
             --enable-vala                \
+            --enable-systemd-login=no    \
             --disable-bash-completion    \
            --disable-static             &amp;&amp;
 make</userinput></screen>
@@ -160,6 +161,14 @@
     <title>Command Explanations</title>
 
     <para>
+      <parameter>--enable-libsystemd-login=no</parameter>: This parameter fixes
+      building without <application>systemd</application>, which is not part
+      of LFS/BLFS. If you use <application>systemd</application>,
+      replace "no" by "yes".
+    </para>
+    <para>
       <parameter>--with-daemon-user=colord</parameter>: This
       switch is used so the <command>colord</command> daemon
       will run as an unprivileged user instead of

Index: introduction/welcome/changelog.xml
===================================================================
--- introduction/welcome/changelog.xml	(révision 13117)
+++ introduction/welcome/changelog.xml	(révision 13118)
@@ -48,6 +48,26 @@
       <para>May 18th, 2014</para>
       <itemizedlist>
         <listitem>
+          <para>[fernando] - Fix Polkit-0.112 and Colord-1.2.0 to build
+          without systemd.</para>
+        </listitem>
+        <listitem>
+          <para>[fernando] - gnome-keyring-3.12.2. Partially fixes
+          <ulink url="&blfs-ticket-root;5060">#5060</ulink>.</para>
+        </listitem>
+        <listitem>
+          <para>[fernando] - gcr-3.12.2. Partially fixes
+          <ulink url="&blfs-ticket-root;5060">#5060</ulink>.</para>
+        </listitem>
+        <listitem>
+          <para>[fernando] - gsettings-desktop-schemas-3.12.2. Partially fixes
+          <ulink url="&blfs-ticket-root;5060">#5060</ulink>.</para>
+        </listitem>
+        <listitem>
+          <para>[fernando] - gtk+-3.12.2. Fixes
+          <ulink url="&blfs-ticket-root;5061">#5061</ulink>.</para>
+        </listitem>
+        <listitem>
           <para>[pierre] - Fix imlib2 and libwebp for building with
           giflib-5.1.0. Fixes
           <ulink url="&blfs-ticket-root;5076">#5076</ulink> and

Index: postlfs/security/polkit.xml
===================================================================
--- postlfs/security/polkit.xml	(révision 13117)
+++ postlfs/security/polkit.xml	(révision 13118)
@@ -128,12 +128,12 @@
       commands:
     </para>
 
-<screen><userinput>./configure --prefix=/usr             \
---sysconfdir=/etc         \
---localstatedir=/var      \
---disable-static          \
---enable-libsystemd-login \
---with-authfw=shadow      &amp;&amp;
+<screen><userinput>./configure --prefix=/usr                \
+            --sysconfdir=/etc            \
+            --localstatedir=/var         \
+            --disable-static             \
+            --enable-libsystemd-login=no \
+            --with-authfw=shadow         &amp;&amp;
 make</userinput></screen>
 
     <para>
@@ -156,9 +156,10 @@
     <title>Command Explanations</title>
 
     <para>
-<parameter>--enable-libsystemd-login</parameter>: This parameter fixes
-building with <application>systemd</application>, if the system is running
-<application>sysvinit</application>.
+      <parameter>--enable-libsystemd-login=no</parameter>: This parameter fixes
+      building without <application>systemd</application>, which is not part
+      of LFS/BLFS. If you use <application>systemd</application>,
+      replace "no" by "yes".
     </para>
 
     <para>

Index: x/lib/gtk+3.xml
===================================================================
--- x/lib/gtk+3.xml	(révision 13117)
+++ x/lib/gtk+3.xml	(révision 13118)
@@ -130,6 +130,16 @@
 make</userinput></screen>
 
     <para>
+      Some tests fail if
+      <filename>/usr/share/glib-2.0/schemas/gschemas.compiled</filename> is not
+      found. If you wish to run the test suite, create (or update) the file
+      using the following command as the
+      <systemitem class="username">root</systemitem> user:
+    </para>
+<screen role="root"><userinput>glib-compile-schemas /usr/share/glib-2.0/schemas</userinput></screen>
+    <para>
       To test the results, issue <command>make check</command>.
     </para>
 

