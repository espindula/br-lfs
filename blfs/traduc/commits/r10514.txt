Révision 10514

fichiers modifiés :
   introduction/welcome/changelog.xml
   postlfs/security/mitkrb.xml
   postlfs/security/cyrus-sasl.xml
   general.ent
   server/other/openldap.xml

Log :
Some changes to blfs bootscripts. See BLFS book's changelog for more information.

Le robot a traité 12 % du commit anglais
Index: bootscripts/ChangeLog
===================================================================
--- bootscripts/ChangeLog	(revision 10513)
+++ bootscripts/ChangeLog	(revision 10514)
@@ -1,3 +1,8 @@
+2012-08-14 Armin K. <krejzi@email.com>
+   * Renamed cyrus-sasl bootscript to saslauthd
+   * Renamed openldap bootscript to slapd
+   * Renamed kerberos bootscript to krb5
 2012-06-02 Armin K. <krejzi@email.com>
    * Added BlueZ bootscript
 

Index: bootscripts/Makefile
===================================================================
--- bootscripts/Makefile	(revision 10513)
+++ bootscripts/Makefile	(revision 10514)
@@ -114,16 +114,16 @@
 	ln -sf  ../init.d/cups ${EXTDIR}/rc.d/rc5.d/S25cups
 	ln -sf  ../init.d/cups ${EXTDIR}/rc.d/rc6.d/K00cups
 
-install-cyrus-sasl: create-dirs
-	install -m ${MODE} blfs/init.d/cyrus-sasl ${EXTDIR}/rc.d/init.d/cyrus-sasl
-	install -m ${CONFMODE} blfs/sysconfig/cyrus-sasl ${EXTDIR}/sysconfig/cyrus-sasl
-	ln -sf  ../init.d/cyrus-sasl ${EXTDIR}/rc.d/rc0.d/K49cyrus-sasl
-	ln -sf  ../init.d/cyrus-sasl ${EXTDIR}/rc.d/rc1.d/K49cyrus-sasl
-	ln -sf  ../init.d/cyrus-sasl ${EXTDIR}/rc.d/rc2.d/S24cyrus-sasl
-	ln -sf  ../init.d/cyrus-sasl ${EXTDIR}/rc.d/rc3.d/S24cyrus-sasl
-	ln -sf  ../init.d/cyrus-sasl ${EXTDIR}/rc.d/rc4.d/S24cyrus-sasl
-	ln -sf  ../init.d/cyrus-sasl ${EXTDIR}/rc.d/rc5.d/S24cyrus-sasl
-	ln -sf  ../init.d/cyrus-sasl ${EXTDIR}/rc.d/rc6.d/K49cyrus-sasl
+install-saslauthd: create-dirs
+	install -m ${MODE} blfs/init.d/saslauthd ${EXTDIR}/rc.d/init.d/saslauthd
+	install -m ${CONFMODE} blfs/sysconfig/saslauthd ${EXTDIR}/sysconfig/saslauthd
+	ln -sf  ../init.d/saslauthd ${EXTDIR}/rc.d/rc0.d/K49saslauthd
+	ln -sf  ../init.d/saslauthd ${EXTDIR}/rc.d/rc1.d/K49saslauthd
+	ln -sf  ../init.d/saslauthd ${EXTDIR}/rc.d/rc2.d/S24saslauthd
+	ln -sf  ../init.d/saslauthd ${EXTDIR}/rc.d/rc3.d/S24saslauthd
+	ln -sf  ../init.d/saslauthd ${EXTDIR}/rc.d/rc4.d/S24saslauthd
+	ln -sf  ../init.d/saslauthd ${EXTDIR}/rc.d/rc5.d/S24saslauthd
+	ln -sf  ../init.d/saslauthd ${EXTDIR}/rc.d/rc6.d/K49saslauthd
 
 install-dbus: create-dirs
 	install -m ${MODE} blfs/init.d/dbus ${EXTDIR}/rc.d/init.d/
@@ -211,15 +211,15 @@
 	ln -sf  ../init.d/iptables ${EXTDIR}/rc.d/rc4.d/S19iptables
 	ln -sf  ../init.d/iptables ${EXTDIR}/rc.d/rc5.d/S19iptables
 
-install-kerberos: create-dirs
-	install -m ${MODE} blfs/init.d/kerberos ${EXTDIR}/rc.d/init.d/
-	ln -sf ../init.d/kerberos ${EXTDIR}/rc.d/rc0.d/K42kerberos
-	ln -sf ../init.d/kerberos ${EXTDIR}/rc.d/rc1.d/K42kerberos
-	ln -sf ../init.d/kerberos ${EXTDIR}/rc.d/rc2.d/K42kerberos
-	ln -sf ../init.d/kerberos ${EXTDIR}/rc.d/rc3.d/S28kerberos
-	ln -sf ../init.d/kerberos ${EXTDIR}/rc.d/rc4.d/S28kerberos
-	ln -sf ../init.d/kerberos ${EXTDIR}/rc.d/rc5.d/S28kerberos
-	ln -sf ../init.d/kerberos ${EXTDIR}/rc.d/rc6.d/K42kerberos
+install-krb5: create-dirs
+	install -m ${MODE} blfs/init.d/krb5 ${EXTDIR}/rc.d/init.d/
+	ln -sf ../init.d/krb5 ${EXTDIR}/rc.d/rc0.d/K42krb5
+	ln -sf ../init.d/krb5 ${EXTDIR}/rc.d/rc1.d/K42krb5
+	ln -sf ../init.d/krb5 ${EXTDIR}/rc.d/rc2.d/K42krb5
+	ln -sf ../init.d/krb5 ${EXTDIR}/rc.d/rc3.d/S28krb5
+	ln -sf ../init.d/krb5 ${EXTDIR}/rc.d/rc4.d/S28krb5
+	ln -sf ../init.d/krb5 ${EXTDIR}/rc.d/rc5.d/S28krb5
+	ln -sf ../init.d/krb5 ${EXTDIR}/rc.d/rc6.d/K42krb5
 
 install-lprng: create-dirs
 	install -m ${MODE} blfs/init.d/lprng      ${EXTDIR}/rc.d/init.d/
@@ -291,16 +291,16 @@
 	ln -sf  ../init.d/ntpd ${EXTDIR}/rc.d/rc5.d/S26ntpd
 	ln -sf  ../init.d/ntpd ${EXTDIR}/rc.d/rc6.d/K46ntpd
 
-install-openldap: create-dirs
-	install -m ${MODE} blfs/init.d/openldap ${EXTDIR}/rc.d/init.d/openldap
-	install -m ${CONFMODE} blfs/sysconfig/openldap ${EXTDIR}/sysconfig/openldap
-	ln -sf  ../init.d/openldap ${EXTDIR}/rc.d/rc0.d/K46openldap
-	ln -sf  ../init.d/openldap ${EXTDIR}/rc.d/rc1.d/K46openldap
-	ln -sf  ../init.d/openldap ${EXTDIR}/rc.d/rc2.d/S25openldap
-	ln -sf  ../init.d/openldap ${EXTDIR}/rc.d/rc3.d/S25openldap
-	ln -sf  ../init.d/openldap ${EXTDIR}/rc.d/rc4.d/S25openldap
-	ln -sf  ../init.d/openldap ${EXTDIR}/rc.d/rc5.d/S25openldap
-	ln -sf  ../init.d/openldap ${EXTDIR}/rc.d/rc6.d/K46openldap
+install-slapd: create-dirs
+	install -m ${MODE} blfs/init.d/slapd ${EXTDIR}/rc.d/init.d/slapd
+	install -m ${CONFMODE} blfs/sysconfig/slapd ${EXTDIR}/sysconfig/slapd
+	ln -sf  ../init.d/slapd ${EXTDIR}/rc.d/rc0.d/K46slapd
+	ln -sf  ../init.d/slapd ${EXTDIR}/rc.d/rc1.d/K46slapd
+	ln -sf  ../init.d/slapd ${EXTDIR}/rc.d/rc2.d/S25slapd
+	ln -sf  ../init.d/slapd ${EXTDIR}/rc.d/rc3.d/S25slapd
+	ln -sf  ../init.d/slapd ${EXTDIR}/rc.d/rc4.d/S25slapd
+	ln -sf  ../init.d/slapd ${EXTDIR}/rc.d/rc5.d/S25slapd
+	ln -sf  ../init.d/slapd ${EXTDIR}/rc.d/rc6.d/K46slapd
 
 install-postfix: create-dirs
 	install -m ${MODE} blfs/init.d/postfix    ${EXTDIR}/rc.d/init.d/
@@ -537,16 +537,16 @@
 	rm -f ${EXTDIR}/rc.d/rc5.d/S25cups
 	rm -f ${EXTDIR}/rc.d/rc6.d/K00cups
 
-uninstall-cyrus-sasl:
-	rm -f ${EXTDIR}/rc.d/init.d/cyrus-sasl
-	rm -f ${EXTDIR}/sysconfig/cyrus-sasl
-	rm -f ${EXTDIR}/rc.d/rc0.d/K49cyrus-sasl
-	rm -f ${EXTDIR}/rc.d/rc1.d/K49cyrus-sasl
-	rm -f ${EXTDIR}/rc.d/rc2.d/S24cyrus-sasl
-	rm -f ${EXTDIR}/rc.d/rc3.d/S24cyrus-sasl
-	rm -f ${EXTDIR}/rc.d/rc4.d/S24cyrus-sasl
-	rm -f ${EXTDIR}/rc.d/rc5.d/S24cyrus-sasl
-	rm -f ${EXTDIR}/rc.d/rc6.d/K49cyrus-sasl
+uninstall-saslauthd:
+	rm -f ${EXTDIR}/rc.d/init.d/saslauthd
+	rm -f ${EXTDIR}/sysconfig/saslauthd
+	rm -f ${EXTDIR}/rc.d/rc0.d/K49saslauthd
+	rm -f ${EXTDIR}/rc.d/rc1.d/K49saslauthd
+	rm -f ${EXTDIR}/rc.d/rc2.d/S24saslauthd
+	rm -f ${EXTDIR}/rc.d/rc3.d/S24saslauthd
+	rm -f ${EXTDIR}/rc.d/rc4.d/S24saslauthd
+	rm -f ${EXTDIR}/rc.d/rc5.d/S24saslauthd
+	rm -f ${EXTDIR}/rc.d/rc6.d/K49saslauthd
 
 uninstall-dhcp:
 	rm -f ${EXTDIR}/rc.d/init.d/dhcp
@@ -614,15 +614,15 @@
 	rm -f ${EXTDIR}/rc.d/rc4.d/S19iptables
 	rm -f ${EXTDIR}/rc.d/rc5.d/S19iptables
 
-uninstall-kerberos:
-	rm -f ${EXTDIR}/rc.d/init.d/kerberos
-	rm -f ${EXTDIR}/rc.d/rc0.d/K42kerberos
-	rm -f ${EXTDIR}/rc.d/rc1.d/K42kerberos
-	rm -f ${EXTDIR}/rc.d/rc2.d/K42kerberos
-	rm -f ${EXTDIR}/rc.d/rc3.d/S28kerberos
-	rm -f ${EXTDIR}/rc.d/rc4.d/S28kerberos
-	rm -f ${EXTDIR}/rc.d/rc5.d/S28kerberos
-	rm -f ${EXTDIR}/rc.d/rc6.d/K42kerberos
+uninstall-krb5:
+	rm -f ${EXTDIR}/rc.d/init.d/krb5
+	rm -f ${EXTDIR}/rc.d/rc0.d/K42krb5
+	rm -f ${EXTDIR}/rc.d/rc1.d/K42krb5
+	rm -f ${EXTDIR}/rc.d/rc2.d/K42krb5
+	rm -f ${EXTDIR}/rc.d/rc3.d/S28krb5
+	rm -f ${EXTDIR}/rc.d/rc4.d/S28krb5
+	rm -f ${EXTDIR}/rc.d/rc5.d/S28krb5
+	rm -f ${EXTDIR}/rc.d/rc6.d/K42krb5
 
 uninstall-lprng:
 	rm -f ${EXTDIR}/rc.d/init.d/lprng
@@ -694,16 +694,16 @@
 	rm -f ${EXTDIR}/rc.d/rc5.d/S26ntp
 	rm -f ${EXTDIR}/rc.d/rc6.d/K46ntp
 
-uninstall-openldap:
-	rm -f ${EXTDIR}/rc.d/init.d/openldap
-	rm -f ${EXTDIR}/sysconfig/openldap
-	rm -f ${EXTDIR}/rc.d/rc0.d/K46openldap
-	rm -f ${EXTDIR}/rc.d/rc1.d/K46openldap
-	rm -f ${EXTDIR}/rc.d/rc2.d/S25openldap
-	rm -f ${EXTDIR}/rc.d/rc3.d/S25openldap
-	rm -f ${EXTDIR}/rc.d/rc4.d/S25openldap
-	rm -f ${EXTDIR}/rc.d/rc5.d/S25openldap
-	rm -f ${EXTDIR}/rc.d/rc6.d/K46openldap
+uninstall-slapd:
+	rm -f ${EXTDIR}/rc.d/init.d/slapd
+	rm -f ${EXTDIR}/sysconfig/slapd
+	rm -f ${EXTDIR}/rc.d/rc0.d/K46slapd
+	rm -f ${EXTDIR}/rc.d/rc1.d/K46slapd
+	rm -f ${EXTDIR}/rc.d/rc2.d/S25slapd
+	rm -f ${EXTDIR}/rc.d/rc3.d/S25slapd
+	rm -f ${EXTDIR}/rc.d/rc4.d/S25slapd
+	rm -f ${EXTDIR}/rc.d/rc5.d/S25slapd
+	rm -f ${EXTDIR}/rc.d/rc6.d/K46slapd
 
 uninstall-postfix:
 	rm -f ${EXTDIR}/rc.d/init.d/postfix
@@ -841,7 +841,7 @@
 	install-bind \
 	install-bluetooth \
 	install-cups \
-	install-cyrus-sasl \
+	install-saslauthd \
 	install-dhcp \
 	install-exim \
 	install-fcron \
@@ -849,7 +849,7 @@
 	install-gpm \
 	install-heimdal \
 	install-iptables \
-	install-kerberos \
+	install-krb5 \
 	install-lprng \
 	install-mysql \
 	install-netfs \
@@ -857,7 +857,7 @@
 	install-nfs-client \
 	install-nfs-server \
 	install-ntp \
-	install-openldap \
+	install-slapd \
 	install-postfix \
 	install-postgresql \
 	install-proftpd \
@@ -879,7 +879,7 @@
 	uninstall-bind \
 	uninstall-bluetooth \
 	uninstall-cups \
-	uninstall-cyrus-sasl \
+	uninstall-saslauthd \
 	uninstall-dhcp \
 	uninstall-exim \
 	uninstall-fcron \
@@ -887,7 +887,7 @@
 	uninstall-gpm \
 	uninstall-heimdal \
 	uninstall-iptables \
-	uninstall-kerberos \
+	uninstall-krb5 \
 	uninstall-lprng \
 	uninstall-mysql \
 	uninstall-netfs \
@@ -895,7 +895,7 @@
 	uninstall-nfs-client \
 	uninstall-nfs-server \
 	uninstall-ntp \
-	uninstall-openldap \
+	uninstall-slapd \
 	uninstall-postfix \
 	uninstall-postgresql \
 	uninstall-proftpd \

Index: bootscripts/blfs/init.d/cyrus-sasl
===================================================================
--- bootscripts/blfs/init.d/cyrus-sasl	(revision 10513)
+++ bootscripts/blfs/init.d/cyrus-sasl	(revision 10514)
@@ -1,82 +0,0 @@
-#!/bin/sh
-########################################################################
-# Begin cyrus-sasl
-#
-# Description : Cyrus SASL Boot Script
-#
-# Authors     : Armin K. <krejzi@email.com>
-#
-# Version     : BLFS SVN
-#
-# Notes       : Not enabled by default.
-#
-########################################################################
-### BEGIN INIT INFO
-# Provides:            saslauthd
-# Required-Start:      $local_fs
-# Required-Stop:       $local_fs
-# Default-Start:       2 3 4 5
-# Default-Stop:        0 1 6
-# Short-Description:   saslauthd startup script
-# Description:         This script starts the saslauthd daemon. It is
-#                      configured using the file /etc/sysconfig/cyrus-sasl.
-# X-LFS-Provided-By:   BLFS
-### END INIT INFO
-. /lib/lsb/init-functions
-START="no"
-AUTHMECH=""
-OPTIONS=""
-if [ -f "/etc/sysconfig/cyrus-sasl" ]; then
-   . /etc/sysconfig/cyrus-sasl
-fi
-case "${1}" in
-   start)
-      if [ "$START" != "yes" ]; then
-         MSG="Configure saslauthd in /etc/sysconfig/cyrus-sasl"
-         log_failure_msg "$MSG and set START to yes"
-         exit 1
-      fi
-      if [ -z "$AUTHMECH" ]; then
-         MSG="You need to select auth mechanism in"
-         log_failure_msg "$MSG /etc/sysconfig/cyrus-sasl"
-         exit 1
-      fi
-      if [ ! -d /var/run/saslauthd ]; then
-         install -d -o root -g root -m 711 /var/run/saslauthd
-      fi
-      log_info_msg "Starting SASL Authentication Daemon saslauthd"
-      start_daemon /usr/sbin/saslauthd -a $AUTHMECH $OPTIONS
-      ;;
-   stop)
-      log_info_msg "Stopping SASL Authentication Daemon saslauthd"
-      killproc /usr/sbin/saslauthd
-      ;;
-   restart)
-      ${0} stop
-      sleep 1
-      ${0} start
-      ;;
-   status)
-      statusproc /usr/sbin/saslauthd
-      ;;
-   *)
-      echo "Usage: ${0} {start|stop|restart|status}"
-      exit 1
-      ;;
- esac
-exit 0
-# End cyrus-sasl

Index: bootscripts/blfs/init.d/kerberos
===================================================================
--- bootscripts/blfs/init.d/kerberos	(revision 10513)
+++ bootscripts/blfs/init.d/kerberos	(revision 10514)
@@ -1,63 +0,0 @@
-#!/bin/sh
-########################################################################
-# Begin kerberos
-#
-# Description : MIT Kerberos Boot Script.
-#
-# Authors     : Armin K. <krejzi@email.com>
-#
-# Version     : BLFS SVN
-#
-# Notes       :
-#
-########################################################################
-### BEGIN INIT INFO
-# Provides:          kerberos
-# Required-Start:    $local_fs $remote_fs $network $syslog
-# Required-Stop:     $local_fs $remote_fs $network $syslog
-# Default-Start:     2 3 4 5
-# Default-Stop:      0 1 6
-# Short-Description: MIT Kerberos KDC and Admin Server
-# Description:       Starts, stops or restarts the MIT Kerberos KDC
-#                    and Admin Server
-# X-LFS-Provided-By: BLFS
-### END INIT INFO
-. /lib/lsb/init-functions
-case "${1}" in
-   start)
-      log_info_msg "Starting Kerberos KDC krb5kdc"
-      start_daemon /usr/sbin/krb5kdc
-      log_info_msg "Starting Kerberos administrative server kadmind"
-      start_daemon /usr/sbin/kadmind
-      ;;
-   stop)
-      log_info_msg "Stopping Kerberos administrative server kadmind"
-      killproc /usr/sbin/kadmind
-      log_info_msg "Stopping Kerberos KDC krb5kdc"
-      killproc /usr/sbin/krb5kdc
-      ;;
-   restart)
-      ${0} stop
-      sleep 1
-      ${0} start
-      ;;
-   status)
-      statusproc /usr/sbin/krb5kdc
-      statusproc /usr/sbin/kadmind
-      ;;
-   *)
-      echo "Usage: ${0} {start|stop|restart|status}"
-      exit 1
-      ;;
-esac
-exit 0
-# End kerberos

Index: bootscripts/blfs/init.d/krb5
===================================================================
--- bootscripts/blfs/init.d/krb5	(revision 0)
+++ bootscripts/blfs/init.d/krb5	(revision 10514)
@@ -0,0 +1,68 @@
+#!/bin/sh
+########################################################################
+# Begin krb5
+#
+# Description : MIT Kerberos Boot Script.
+#
+# Authors     : Armin K. <krejzi@email.com>
+#
+# Version     : BLFS SVN
+#
+# Notes       :
+#
+########################################################################
+### BEGIN INIT INFO
+# Provides:          krb5
+# Required-Start:    $local_fs $remote_fs $network $syslog
+# Required-Stop:     $local_fs $remote_fs $network $syslog
+# Default-Start:     2 3 4 5
+# Default-Stop:      0 1 6
+# Short-Description: MIT Kerberos KDC and Admin Server
+# Description:       Starts, stops or restarts the MIT Kerberos KDC,
+#                    Admin Server and Database Propagation Server.
+# X-LFS-Provided-By: BLFS
+### END INIT INFO
+. /lib/lsb/init-functions
+case "${1}" in
+   start)
+      log_info_msg "Starting Kerberos KDC krb5kdc"
+      start_daemon /usr/sbin/krb5kdc
+      log_info_msg "Starting Kerberos administrative server kadmind"
+      start_daemon /usr/sbin/kadmind
+      log_info_msg "Starting Kerberos database propagation server kpropd"
+      start_daemon /usr/sbin/kpropd -S
+      ;;
+   stop)
+      log_info_msg "Stopping Kerberos database propagation server kpropd"
+      killproc /usr/sbin/kpropd
+      log_info_msg "Stopping Kerberos administrative server kadmind"
+      killproc /usr/sbin/kadmind
+      log_info_msg "Stopping Kerberos KDC krb5kdc"
+      killproc /usr/sbin/krb5kdc
+      ;;
+   restart)
+      ${0} stop
+      sleep 1
+      ${0} start
+      ;;
+   status)
+      statusproc /usr/sbin/krb5kdc
+      statusproc /usr/sbin/kadmind
+      statusproc /usr/sbin/kpropd
+      ;;
+   *)
+      echo "Usage: ${0} {start|stop|restart|status}"
+      exit 1
+      ;;
+esac
+exit 0
+# End krb5

Index: bootscripts/blfs/init.d/openldap
===================================================================
--- bootscripts/blfs/init.d/openldap	(revision 10513)
+++ bootscripts/blfs/init.d/openldap	(revision 10514)
@@ -1,72 +0,0 @@
-#!/bin/sh
-########################################################################
-# Begin openldap
-#
-# Description : OpenLDAP Boot Script
-#
-# Authors     : Armin K. <krejzi@email.com>
-#
-# Version     : BLFS SVN
-#
-# Notes       : Can be configured through /etc/sysconfig/openldap.
-#
-########################################################################
-### BEGIN INIT INFO
-# Provides:          slapd
-# Required-Start:    $remote_fs $network $syslog
-# Required-Stop:     $remote_fs $network $syslog
-# Default-Start:     2 3 4 5
-# Default-Stop:      0 1 6
-# Short-Description: OpenLDAP standalone server
-# X-LFS-Provided-By: BLFS
-### END INIT INFO
-. /lib/lsb/init-functions
-SLAPD_OPTIONS=""
-if [ -f "/etc/sysconfig/openldap" ]; then
-   . /etc/sysconfig/openldap
-fi
-case "${1}" in
-   start)
-      if [ ! -d /var/run/openldap ]; then
-         install -d -o root -g root -m 755 /var/run/openldap
-      fi
-      log_info_msg "Starting OpenLDAP"
-      if [ -z "$SLAPD_SERVICES" ]; then
-         start_daemon /usr/sbin/slapd $SLAPD_OPTIONS
-      else
-         start_daemon /usr/sbin/slapd -h "$SLAPD_SERVICES" $SLAPD_OPTIONS
-      fi
-      ;;
-   stop)
-      log_info_msg "Stopping OpenLDAP"
-      killproc /usr/sbin/slapd
-      ;;
-   restart)
-      ${0} stop
-      sleep 1
-      ${0} start
-      ;;
-   status)
-      statusproc /usr/sbin/slapd
-      ;;
-   *)
-      echo "Usage: ${0} {start|stop|restart|status}"
-      exit 1
-      ;;
-esac
-exit 0
-# End openldap

Index: bootscripts/blfs/init.d/saslauthd
===================================================================
--- bootscripts/blfs/init.d/saslauthd	(revision 0)
+++ bootscripts/blfs/init.d/saslauthd	(revision 10514)
@@ -0,0 +1,82 @@
+#!/bin/sh
+########################################################################
+# Begin saslauthd
+#
+# Description : Cyrus SASL Boot Script
+#
+# Authors     : Armin K. <krejzi@email.com>
+#
+# Version     : BLFS SVN
+#
+# Notes       : Not enabled by default.
+#
+########################################################################
+### BEGIN INIT INFO
+# Provides:            saslauthd
+# Required-Start:      $local_fs
+# Required-Stop:       $local_fs
+# Default-Start:       2 3 4 5
+# Default-Stop:        0 1 6
+# Short-Description:   saslauthd startup script
+# Description:         This script starts the saslauthd daemon. It is
+#                      configured using the file /etc/sysconfig/saslauthd.
+# X-LFS-Provided-By:   BLFS
+### END INIT INFO
+. /lib/lsb/init-functions
+START="no"
+AUTHMECH=""
+OPTIONS=""
+if [ -f "/etc/sysconfig/saslauthd" ]; then
+   . /etc/sysconfig/saslauthd
+fi
+case "${1}" in
+   start)
+      if [ "$START" != "yes" ]; then
+         MSG="Configure saslauthd in /etc/sysconfig/saslauthd"
+         log_warning_msg "$MSG and set START to yes"
+         exit 0
+      fi
+      if [ -z "$AUTHMECH" ]; then
+         MSG="You need to select auth mechanism in"
+         log_warning_msg "$MSG /etc/sysconfig/saslauthd"
+         exit 0
+      fi
+      if [ ! -d /var/run/saslauthd ]; then
+         install -d -o root -g root -m 711 /var/run/saslauthd
+      fi
+      log_info_msg "Starting SASL Authentication Daemon saslauthd"
+      start_daemon /usr/sbin/saslauthd -a $AUTHMECH $OPTIONS
+      ;;
+   stop)
+      log_info_msg "Stopping SASL Authentication Daemon saslauthd"
+      killproc /usr/sbin/saslauthd
+      ;;
+   restart)
+      ${0} stop
+      sleep 1
+      ${0} start
+      ;;
+   status)
+      statusproc /usr/sbin/saslauthd
+      ;;
+   *)
+      echo "Usage: ${0} {start|stop|restart|status}"
+      exit 1
+      ;;
+ esac
+exit 0
+# End saslauthd

Index: bootscripts/blfs/init.d/slapd
===================================================================
--- bootscripts/blfs/init.d/slapd	(revision 0)
+++ bootscripts/blfs/init.d/slapd	(revision 10514)
@@ -0,0 +1,72 @@
+#!/bin/sh
+########################################################################
+# Begin slapd
+#
+# Description : OpenLDAP Boot Script
+#
+# Authors     : Armin K. <krejzi@email.com>
+#
+# Version     : BLFS SVN
+#
+# Notes       : Can be configured through /etc/sysconfig/slapd.
+#
+########################################################################
+### BEGIN INIT INFO
+# Provides:          slapd
+# Required-Start:    $remote_fs $network $syslog
+# Required-Stop:     $remote_fs $network $syslog
+# Default-Start:     2 3 4 5
+# Default-Stop:      0 1 6
+# Short-Description: OpenLDAP standalone server
+# X-LFS-Provided-By: BLFS
+### END INIT INFO
+. /lib/lsb/init-functions
+SLAPD_OPTIONS=""
+if [ -f "/etc/sysconfig/slapd" ]; then
+   . /etc/sysconfig/slapd
+fi
+case "${1}" in
+   start)
+      if [ ! -d /var/run/openldap ]; then
+         install -d -o root -g root -m 755 /var/run/openldap
+      fi
+      log_info_msg "Starting OpenLDAP"
+      if [ -z "$SLAPD_SERVICES" ]; then
+         start_daemon /usr/sbin/slapd $SLAPD_OPTIONS
+      else
+         start_daemon /usr/sbin/slapd -h "$SLAPD_SERVICES" $SLAPD_OPTIONS
+      fi
+      ;;
+   stop)
+      log_info_msg "Stopping OpenLDAP"
+      killproc /usr/sbin/slapd
+      ;;
+   restart)
+      ${0} stop
+      sleep 1
+      ${0} start
+      ;;
+   status)
+      statusproc /usr/sbin/slapd
+      ;;
+   *)
+      echo "Usage: ${0} {start|stop|restart|status}"
+      exit 1
+      ;;
+esac
+exit 0
+# End slapd

Index: bootscripts/blfs/sysconfig/cyrus-sasl
===================================================================
--- bootscripts/blfs/sysconfig/cyrus-sasl	(revision 10513)
+++ bootscripts/blfs/sysconfig/cyrus-sasl	(revision 10514)
@@ -1,32 +0,0 @@
-# Begin /etc/sysconfig/cyrus-sasl
-# Change this to "yes" and select authentification mechanism below
-# to enable saslauthd
-START="no"
-# Which authentification mechanism should saslauthd use?
-#
-# These are some of the available options:
-# kerberos5 -- use Kerberos 5 (available if you compiled cyrus-sasl with 
-#              MIT Kerberos5 support).
-# pam       -- use PAM (available if you compiled cyrus-sasl with 
-#              Linux PAM support).
-# shadow    -- use the local shadow password file
-# sasldb    -- use the local sasldb database file
-# ldap      -- use LDAP (configuration is in /etc/saslauthd.conf) 
-#              (Available only if you compiled cyrus-sasl with
-#              OpenLDAP support and with --enable-ldapdb configure switch).
-#
-# Alternatively, you can run /usr/sbin/pluginviewer to see which plugins 
-# are available.
-AUTHMECH=""
-# Add any aditional options you want to pass to saslauthd command line.
-# See man 8 saslauthd for more information
-OPTIONS=""
-# End /etc/sysconfig/cyrus-sasl

Index: bootscripts/blfs/sysconfig/openldap
===================================================================
--- bootscripts/blfs/sysconfig/openldap	(revision 10513)
+++ bootscripts/blfs/sysconfig/openldap	(revision 10514)
@@ -1,13 +0,0 @@
-# Begin /etc/sysconfig/openldap
-# slapd normally serves ldap only on all TCP-ports 389. slapd can also
-# service requests on TCP-port 636 (ldaps) and requests via unix
-# sockets.
-# Example usage:
-#SLAPD_SERVICES="ldap://127.0.0.1:389/ ldaps:/// ldapi:///"
-# Add any aditional options you want to pass to slapd command line.
-# See man 8 slapd for more information
-SLAPD_OPTIONS=""
-# End /etc/sysconfig/openldap

Index: bootscripts/blfs/sysconfig/saslauthd
===================================================================
--- bootscripts/blfs/sysconfig/saslauthd	(revision 0)
+++ bootscripts/blfs/sysconfig/saslauthd	(revision 10514)
@@ -0,0 +1,32 @@
+# Begin /etc/sysconfig/saslauthd
+# Change this to "yes" and select authentification mechanism below
+# to enable saslauthd
+START="no"
+# Which authentification mechanism should saslauthd use?
+#
+# These are some of the available options:
+# kerberos5 -- use Kerberos 5 (available if you compiled saslauthd with 
+#              MIT Kerberos5 support).
+# pam       -- use PAM (available if you compiled saslauthd with 
+#              Linux PAM support).
+# shadow    -- use the local shadow password file
+# sasldb    -- use the local sasldb database file
+# ldap      -- use LDAP (configuration is in /etc/saslauthd.conf) 
+#              (Available only if you compiled saslauthd with
+#              OpenLDAP support and with --enable-ldapdb configure switch).
+#
+# Alternatively, you can run /usr/sbin/pluginviewer to see which plugins 
+# are available.
+AUTHMECH=""
+# Add any aditional options you want to pass to saslauthd command line.
+# See man 8 saslauthd for more information
+OPTIONS=""
+# End /etc/sysconfig/saslauthd

Index: bootscripts/blfs/sysconfig/slapd
===================================================================
--- bootscripts/blfs/sysconfig/slapd	(revision 0)
+++ bootscripts/blfs/sysconfig/slapd	(revision 10514)
@@ -0,0 +1,13 @@
+# Begin /etc/sysconfig/slapd
+# slapd normally serves ldap only on all TCP-ports 389. slapd can also
+# service requests on TCP-port 636 (ldaps) and requests via unix
+# sockets.
+# Example usage:
+#SLAPD_SERVICES="ldap://127.0.0.1:389/ ldaps:/// ldapi:///"
+# Add any aditional options you want to pass to slapd command line.
+# See man 8 slapd for more information
+SLAPD_OPTIONS=""
+# End /etc/sysconfig/slapd

Index: introduction/welcome/changelog.xml
===================================================================
--- introduction/welcome/changelog.xml	(revision 10513)
+++ introduction/welcome/changelog.xml	(revision 10514)
@@ -64,6 +64,21 @@
           if the directory is already present.</para>
         </listitem>
         <listitem>
+          <para>[krejzi] - Renamed cyrus-sasl bootscript to saslauthd
+          and made it not exit 1 if saslauthd is not configured in order
+          to prevent hang at boot.</para>
+        </listitem>
+        <listitem>
+          <para>[krejzi] - Renamed kerberos bootscript to krb5 and
+          made it start kpropd, too. </para>
+        </listitem>
+        <listitem>
+          <para>[krejzi] - Renamed openldap bootscript to slapd.</para>
+        </listitem>
+        <listitem>
+          <para>[krejzi] - Bumped bootscripts to 20120814.</para>
+        </listitem>
+        <listitem>
           <para>[krejzi] - XScreenSaver 5.19.</para>
         </listitem>
       </itemizedlist>

Index: postlfs/security/cyrus-sasl.xml
===================================================================
--- postlfs/security/cyrus-sasl.xml	(revision 10513)
+++ postlfs/security/cyrus-sasl.xml	(revision 10514)
@@ -208,18 +208,18 @@
       <title>Init Script</title>
 
       <para>If you need to run the <command>saslauthd</command> daemon at system
-      startup, install the <filename>/etc/rc.d/init.d/cyrus-sasl</filename>
+      startup, install the <filename>/etc/rc.d/init.d/saslauthd</filename>
       init script included in the <xref linkend="bootscripts"/>
-      package.</para>
+      package using the following command:</para>
 
       <indexterm zone="cyrus-sasl cyrus-sasl-init">
-        <primary sortas="f-cyrus-sasl-init">cyrus-sasl</primary>
+        <primary sortas="f-saslauthd">saslauthd</primary>
       </indexterm>
 
-<screen role="root"><userinput>make install-cyrus-sasl</userinput></screen>
+<screen role="root"><userinput>make install-saslauthd</userinput></screen>
 
       <note>
-        <para>You'll need to modify /etc/sysconfig/cyrus-sasl and replace the
+        <para>You'll need to modify /etc/sysconfig/saslauthd and replace the
         <option><replaceable>AUTHMECH</replaceable></option> parameter
         with your desired authentication mechanism.</para>
       </note>

Index: postlfs/security/mitkrb.xml
===================================================================
--- postlfs/security/mitkrb.xml	(revision 10513)
+++ postlfs/security/mitkrb.xml	(revision 10514)
@@ -402,13 +402,6 @@
           the package.
         </para>
 
-        <para>
-          Install the <filename>/etc/rc.d/init.d/kerberos</filename> init
-          script included in the <xref linkend="bootscripts"/> package.
-        </para>
-<screen role="root"><userinput>make install-kerberos</userinput></screen>
       </sect4>
 
       <sect4>
@@ -425,6 +418,24 @@
 
     </sect3>
 
+    <sect3 id="mitkrb-init">
+      <title>Init Script</title>
+      <para>
+        If you want to start <application>Kerberos</application> services
+        at boot, install the <filename>/etc/rc.d/init.d/krb5</filename> init
+        script included in the <xref linkend="bootscripts"/> package using
+        the following command:
+      </para>
+      <indexterm zone="mitkrb mitkrb-init">
+        <primary sortas="f-krb5">krb5</primary>
+      </indexterm>
+<screen role="root"><userinput>make install-krb5</userinput></screen>
+    </sect3>
   </sect2>
 
   <sect2 role="content">

Index: server/other/openldap.xml
===================================================================
--- server/other/openldap.xml	(revision 10513)
+++ server/other/openldap.xml	(revision 10514)
@@ -363,22 +363,22 @@
 
       <para>
         To automate the startup of the LDAP server at system bootup,
-        install the <filename>/etc/rc.d/init.d/openldap</filename> init script
+        install the <filename>/etc/rc.d/init.d/slapd</filename> init script
         included in the <xref linkend="bootscripts"/> package
         using the following command:
       </para>
 
       <indexterm zone="openldap openldap-init">
-        <primary sortas="f-openldap">openldap</primary>
+        <primary sortas="f-slapd">slapd</primary>
       </indexterm>
 
-<screen role="root"><userinput>make install-openldap</userinput></screen>
+<screen role="root"><userinput>make install-slapd</userinput></screen>
 
       <note>
         <para>
           The init script starts the daemon without any parameters.
           You'll need to modify the 
-          <filename>/etc/sysconfig/openldap</filename> to include the 
+          <filename>/etc/sysconfig/slapd</filename> to include the 
           parameters needed for your specific configuration. See the 
           <command>slapd</command> man page for parameter information.
         </para>
@@ -393,7 +393,7 @@
         Start the LDAP server using the init script:
       </para>
 
-<screen role="root"><userinput>/etc/rc.d/init.d/openldap start</userinput></screen>
+<screen role="root"><userinput>/etc/rc.d/init.d/slapd start</userinput></screen>
 
       <para>
         Verify access to the LDAP server with the following command:

