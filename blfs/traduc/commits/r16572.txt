Révision 16572

fichiers modifiés :
   introduction/welcome/changelog.xml
   postlfs/filesystems/lvm2.xml
   postlfs/filesystems/mdadm.xml

Log :
LVM and mdadm: Add a warning against kernel versions 4.1 and 4.2, which have a broken RAID implementation

Le robot a traité 1 % du commit anglais
Index: introduction/welcome/changelog.xml
===================================================================
--- introduction/welcome/changelog.xml	(révision 16571)
+++ introduction/welcome/changelog.xml	(révision 16572)
@@ -47,6 +47,11 @@
       <para>October 27th, 2015</para>
       <itemizedlist>
         <listitem>
+          <para>[pierre] - Add a note in the LVM and mdadm pages,
+          warning against versions 4.1 and 4.2 of the kernel, which have
+          a broken RAID implementation.</para>
+        </listitem>
+        <listitem>
           <para>[fernando] - Update to mesa-11.0.4. Fixes
           <ulink url="&blfs-ticket-root;7051">#7051</ulink>.</para>
         </listitem>

Index: postlfs/filesystems/lvm2.xml
===================================================================
--- postlfs/filesystems/lvm2.xml	(révision 16571)
+++ postlfs/filesystems/lvm2.xml	(révision 16572)
@@ -90,6 +90,17 @@
     <para condition="html" role="usernotes">User Notes:
       <ulink url="&blfs-wiki;/lvm2"/>
     </para>
+    <note>
+      <para>
+        Kernel versions in the 4.1 and 4.2 series have a broken RAID
+        implementation. If you want to use RAID type LV's, you should
+        install a kernel with version above 4.2.4. Note that several
+        tests use RAID logical volumes, and can generate a <quote>kernel
+        oops</quote> with faulty kernel version, which ususally renders the
+        system unusable.
+      </para>
+    </note>
   </sect2>
 
   <sect2 role="kernel" id="lvm2-kernel">
@@ -130,7 +141,6 @@
 
 <screen><userinput>./configure --prefix=/usr       \
             --exec-prefix=      \
---with-confdir=/etc \
             --enable-applib     \
             --enable-cmdlib     \
             --enable-pkgconfig  \
@@ -156,10 +166,11 @@
       <systemitem class="username">root</systemitem> user. Other targets are
       available and can be listed with <command>make -C test help</command>.
       The test timings are very dependent on the speed of the disk(s), and on
-the number of enabled kernel options. A number of tests may fail. Two
-tests have been reported to hang, and can be disabled via <command>rm
-test/shell/lvcreate-large-raid.sh</command> and <command>rm
-test/shell/snapshot-remove-dmsetup.sh</command>. The tests generate a lot
+      the number of enabled kernel options. A number of tests may fail.
+      One test has been reported to hang, and can be disabled via <command>rm
+      test/shell/snapshot-remove-dmsetup.sh</command>. Other tests may hang
+      with kernel versions in the 4.1 and 4.2 series (see above). They can be
+      removed as well if necessary. The tests generate a lot
       of kernel messages, which may clutter your terminal. You can disable them
       by issuing <command>dmesg -D</command> before running the tests (do not
       forget to issue <command>dmesg -E</command> when tests are done).
@@ -223,8 +234,9 @@
       <seglistitem>
         <seg>
           blkdeactivate, dmeventd (optional), dmsetup, fsadm, lvm, lvmconf,
-lvmdump, and vgimportclone. There are also numerous symbolic links to
-lvm that implement specific functionalities
+          lvmdump, lvmetad (optional), and vgimportclone. There are also
+          numerous symbolic links to lvm that implement specific
+          functionalities
         </seg>
         <seg>
           libdevmapper.so, liblvm2app.so and liblvm2cmd.so; optional:
@@ -334,6 +346,18 @@
         </listitem>
       </varlistentry>
 
+      <varlistentry id="lvmetad">
+        <term><command>lvmetad</command></term>
+        <listitem>
+          <para>
+            (optional) is the LVM metadata daemon.
+          </para>
+          <indexterm zone="lvm2 lvmetad">
+            <primary sortas="b-lvmetad">lvmetad</primary>
+          </indexterm>
+        </listitem>
+      </varlistentry>
       <varlistentry id="vgimportclone">
         <term><command>vgimportclone</command></term>
         <listitem>

Index: postlfs/filesystems/mdadm.xml
===================================================================
--- postlfs/filesystems/mdadm.xml	(révision 16571)
+++ postlfs/filesystems/mdadm.xml	(révision 16572)
@@ -58,6 +58,12 @@
 
     <para condition="html" role="usernotes">User Notes:
     <ulink url="&blfs-wiki;/mdadm"/></para>
+    <note>
+      <para>
+        Kernel versions in series 4.1 and 4.2 have a broken RAID
+        implementation. Use a kernel with version above 4.2.4.
+      </para>
+    </note>
 
   </sect2>
 

