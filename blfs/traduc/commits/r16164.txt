Révision 16164

fichiers supprimés :
   kde/intro
   kde/intro/kde-intro.xml
   kde/intro/pre-install-config.xml
   kde/intro/introduction.xml

fichiers déplacés (avec ou sans changements) :
intro
kde-intro.xml
pre-install-config.xml
introduction.xml

fichiers ajoutés :
   kde/plasma5/plasma5.xml
   kde/plasma5
   kde/kf5/kf5.xml
   kde/kf5/extra-cmake-modules.xml
   kde/kf5
   kde/kf5-apps/kf5-apps.xml
   kde/kf5-apps
   archive/kde/intro

fichiers modifiés :
   kde/kde.xml
   kde/add/add.xml
   kde/core/attica.xml
   kde/core/config.xml
   kde/core/phonon-backend-gstreamer.xml
   kde/core/oxygen-icons.xml
   kde/core/polkit-qt.xml
   kde/core/core.xml
   kde/core/phonon.xml

Log :
Reorganize KDE4 and put in placeholders for KF5 and Phonon 5. Oxygen Icons are now put in /usr.

Le robot a traité 64 % du commit anglais

ATTENTION : il faut relire les fichiers suivants qui sont ajoutés
Index: archive/kde/intro/introduction.xml
===================================================================
--- kde/intro/introduction.xml	2015-06-29 07:45:57.938630458 +0200
+++ archive@kde/intro/introduction.xml	2015-06-29 07:45:57.958629672 +0200
@@ -8,6 +8,7 @@
 <!--
 $LastChangedBy$
 $Date$
+-->
 
 <chapter id="kde-prereq">
   <?dbhtml filename="introduction.html"?>
@@ -15,6 +16,16 @@
   <title>Introduction</title>
 
   <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="kde-intro.xml"/>
-<xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="pre-install-config.xml"/>
+  <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="extra-cmake-modules.xml"/>
+  <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="phonon.xml"/>
+  <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="phonon-backend-gstreamer.xml"/>
+  <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="phonon-backend-vlc.xml"/>
+  <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="polkit-qt.xml"/>
 
 </chapter>
+Modification de propriétés sur archive/kde/intro/introduction.xml
+___________________________________________________________________
+Added: svn:keywords
+## -0,0 +1 ##
+LastChangedBy Date
+\ No newline at end of property

Index: archive/kde/intro/kde-intro.xml
===================================================================
--- kde@intro@kde-intro.xml.16164.temp	2015-06-29 07:45:56.798675223 +0200
+++ archive@kde@intro@kde-intro.xml.16164.temp	2015-06-29 07:45:56.808674830 +0200
@@ -15,19 +15,36 @@
 
   <title>Introduction to KDE</title>
 
-<para><application>KDE</application> Software Compilation 4 is a
-comprehensive desktop environment with a huge number of applications
-written for it and a huge amount of users. It is based on the
-<application>Qt</application> framework.</para>
+  <para><application>KDE</application> is a comprehensive desktop environment
+  with a huge number of applications written for it and a huge amount of users.
+  It is based on the <application>Qt</application> framework.</para>
+  <para>There are two versions of <application>KDE</application>. KDE4
+  is a mature version that combines libraries and the desktop environment
+  into one set of packages and has numerous appplications that can be
+  built on that base.  For KDE5, the libraries, now called KDE Frameworks
+  5 or KF5, are separate from the desktop environment called KDE Plasma 5.
+  Both envionments can be installed, but Plasma is not yet considered 
+  stable.</para>
   <para>For more information visit the official KDE project site at
   <ulink url="http://www.kde.org/"/>.</para>
 
-<sect2><title>Build order</title>
+  <sect2><title>Common Packages</title>
+  <para>There are several packages that are common to both versions of KDE.
+  These packages are presented in the following sections of this chapter.</para>
 
-<para>The core <application>KDE</application> packages are listed in the
+  <!-- <para>The core <application>KDE</application> packages are listed in the
   recommended and tested build order. The additional
  <application>KDE</application> packages can be built in any order.</para>-->
 
   </sect2>
 
 </sect1>
+Modification de propriétés sur archive/kde/intro/kde-intro.xml
+___________________________________________________________________
+Added: svn:keywords
+## -0,0 +1 ##
+LastChangedBy Date
+\ No newline at end of property

Index: kde/add/add.xml
===================================================================
--- kde/add/add.xml	(révision 16163)
+++ kde/add/add.xml	(révision 16164)
@@ -13,7 +13,7 @@
 <chapter id="kde-add">
   <?dbhtml filename="add.html"?>
 
-<title>KDE Additional Packages</title>
+  <title>KDE4 Additional Packages</title>
   <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="konsole.xml"/>
   <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="kate.xml"/>
   <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="ark.xml"/>

Index: kde/core/attica.xml
===================================================================
--- kde/core/attica.xml	(révision 16163)
+++ kde/core/attica.xml	(révision 16164)
@@ -64,13 +64,6 @@
       <xref linkend="qt4"/>
     </para>
 
-<bridgehead renderas="sect4">Optional</bridgehead>
-<para role="optional">
-<xref linkend="qt5"/> (requires
-<ulink url="http://quickgit.kde.org/index.php?p=extra-cmake-modules.git">
-extra-cmake-modules</ulink>)
-</para>
     <para condition="html" role="usernotes">User Notes:
     <ulink url="&blfs-wiki;/attica"/></para>
 

Index: kde/core/config.xml
===================================================================
--- kde/core/config.xml	(révision 16163)
+++ kde/core/config.xml	(révision 16164)
@@ -5,7 +5,7 @@
   %general-entities;
 ]>
 
-<sect1 id="kde-core-config" xreflabel="Starting KDE">
+<sect1 id="kde-core-config" xreflabel="Starting KDE4">
   <?dbhtml filename="config.html"?>
 
   <sect1info>
@@ -13,9 +13,9 @@
     <date>$Date$</date>
   </sect1info>
 
-<title>Starting KDE</title>
+  <title>Starting KDE4</title>
 
-<bridgehead renderas="sect3">KDE Startup Dependencies</bridgehead>
+  <bridgehead renderas="sect3">KDE4 Startup Dependencies</bridgehead>
 
   <bridgehead renderas="sect4">Optional</bridgehead>
   <para role="optional">
@@ -24,12 +24,12 @@
 
   <para>After <application>Kde-workspace</application> has been installed, the
   first important milestone has been reached. Now you need to configure your
-system to start KDE.</para>
+  system to start KDE4.</para>
 
   <sect2 role="content">
-<title>Starting KDE from the command prompt</title>
+  <title>Starting KDE4 from the command prompt</title>
 
-<para>To start <application>KDE</application> from the command prompt, you
+ <para>To start <application>KDE4</application> from the command prompt, you
  first need to modify your <filename>.xinitrc</filename> file:</para>
 
 <screen><userinput>cat &gt; ~/.xinitrc &lt;&lt; EOF
@@ -43,14 +43,14 @@
     <note><para>If you are not using <application>ConsoleKit</application>, remove
     <userinput>ck-launch-session</userinput>.</para></note>
 
-<para>You can now start KDE using the <command>startx</command> command.</para>
+    <para>You can now start KDE4 using the <command>startx</command> command.</para>
 
     </sect2>
 
     <sect2 role="content">
-<title>Starting KDE at boot</title>
+    <title>Starting KDE4 at boot</title>
 
-<para>KDE comes with a graphical login interface called KDM (the KDE Display
+    <para>KDE4 comes with a graphical login interface called KDM (the KDE4 Display
     Manager), which provides a customizable graphical login at boot. To use KDM,
     you need to edit your <filename>/etc/inittab</filename> file (as the
     <systemitem class="username">root</systemitem> user).
@@ -65,7 +65,7 @@
 
 <screen><userinput>sed -i 's#id:3:initdefault:#id:5:initdefault:#' /etc/inittab</userinput></screen>
 
-<para>You can now restart your system and see the KDE login
+    <para>You can now restart your system and see the KDE4 login
     screen.</para>
 
   </sect2>
@@ -78,16 +78,16 @@
     url="&kde-download-http;applications/&kde-apps-version;/src/kde-l10n/">
          &kde-download-http;applications/&kde-apps-version;/src/kde-l10n/</ulink>.
     See <xref linkend="kde-add-pkgs"/> for build instructions. If you are in a
-KDE session when installing a new language and configure KDE to use it, the
+    KDE4 session when installing a new language and configure KDE4 to use it, the
     session needs to be restarted, in order to see the effects.</para>
 
   </sect2>
 
   <sect2 role="content">
-<title>Installing further KDE packages</title>
+    <title>Installing further KDE4 packages</title>
 
     <para>Every subsequent package can be built while having
-<application>KDE</application> up and running, but remember to keep
+    <application>KDE4</application> up and running, but remember to keep
     <envar>&kde-dir;</envar> and <envar>&qt4-dir;</envar> set.</para>
 
   </sect2>

Index: kde/core/core.xml
===================================================================
--- kde/core/core.xml	(révision 16163)
+++ kde/core/core.xml	(révision 16164)
@@ -13,8 +13,9 @@
 <chapter id="kde4-core">
   <?dbhtml filename="core.html"?>
 
-<title>The KDE Core</title>
+  <title>The KDE4 Core</title>
 
+  <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="pre-install-config.xml"/>
   <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="automoc4.xml"/>
   <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="phonon.xml"/>
   <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="phonon-backend-gstreamer.xml"/>

Index: kde/core/oxygen-icons.xml
===================================================================
--- kde/core/oxygen-icons.xml	(révision 16163)
+++ kde/core/oxygen-icons.xml	(révision 16164)
@@ -74,10 +74,13 @@
     <para>Install <application>Oxygen-icons</application> by running
     the following commands:</para>
 
+    <note><para>Unlike most packages in this section, the icons are placed
+    in /usr so other applications can find them.</para></note>
 <screen><userinput>mkdir build &amp;&amp;
 cd    build &amp;&amp;
 
-cmake -DCMAKE_INSTALL_PREFIX=&kde-dir; -Wno-dev ..</userinput></screen>
+cmake -DCMAKE_INSTALL_PREFIX=/usr -Wno-dev ..</userinput></screen>
 
     <para>
       This package does not come with a test suite.

Index: kde/core/phonon-backend-gstreamer.xml
===================================================================
--- kde/core/phonon-backend-gstreamer.xml	(révision 16163)
+++ kde/core/phonon-backend-gstreamer.xml	(révision 16164)
@@ -69,15 +69,10 @@
     <xref linkend="gst10-plugins-ugly"/> (needed for MP3 support)
     </para>
 
-<bridgehead renderas="sect4">Optional</bridgehead>
-<para role="optional">
-<xref linkend="qt5"/>
-</para>
     <para condition="html" role="usernotes">User Notes:
     <ulink url="&blfs-wiki;/phonon-backend-gstreamer"/></para>
 
@@ -86,9 +81,16 @@
    <para>Install <application>Phonon-backend-gstreamer</application> by
    running the following commands:</para>
 
+    <note>
+      <para>
+        If you have both Qt4 and Qt5 installed, be sure to run
+        <userinput>source setqt4</userinput> before installing this package.
+      </para>
+    </note> 
 <screen><userinput>mkdir build &amp;&amp;
 cd    build &amp;&amp;
 
@@ -123,8 +125,8 @@
       <seglistitem>
         <seg>none</seg>
         <seg>phonon_gstreamer.so</seg>
-<seg>&kde-dir;/lib/kde4/plugins/phonon_backend and 
-&kde-dir;/share/kde4/services/phononbackends</seg>
+        <seg>/usr/lib/kde4/plugins/phonon_backend and 
+             /usr/share/kde4/services/phononbackends</seg>
       </seglistitem>
     </segmentedlist>
 <!--

Index: kde/core/phonon.xml
===================================================================
--- kde/core/phonon.xml	(révision 16163)
+++ kde/core/phonon.xml	(révision 16164)
@@ -30,8 +30,8 @@
     <title>Introduction to Phonon</title>
 
     <para><application>Phonon</application> is the multimedia API for KDE4.
-It replaces the old <application>aRts</application>, that is no longer
-supported by KDE. Phonon needs either the GStreamer or VLC backend.</para>
+    It replaces the old <application>aRts</application> package.
+    Phonon needs either the GStreamer or VLC backend.</para>
 
     &lfs77_checked; &gcc5_checked;
 
@@ -61,16 +61,14 @@
 
     <bridgehead renderas="sect4">Optional</bridgehead>
     <para role="optional">
-<xref linkend="pulseaudio"/>,
-<xref linkend="qt5"/> and
+      <xref linkend="pulseaudio"/> and
       <ulink url="http://projects.kde.org/projects/kdesupport/libqzeitgeist/">QZeitgeist</ulink>
     </para>
 
@@ -82,19 +80,24 @@
   <sect2 role="installation">
     <title>Installation of Phonon</title>
 
-<para>Make sure that <xref linkend="qt4"/> is compiled without the bundled
+    <para>Make sure <xref linkend="qt4"/> has been built without the bundled
     <application>Phonon</application> library. This package provides
     a better implementation.</para>
 
@@     @@
     <para>Install <application>Phonon</application> by running the following
     commands:</para>
 
-<!-- CMAKE_INSTALL_LIBDIR is used so the package doesn't write over lib64 symlink on 64 bit system -->
-<screen><userinput>mkdir build &amp;&amp;
+<screen><userinput>sed -i "s:BSD_SOURCE:DEFAULT_SOURCE:g" cmake/FindPhononInternal.cmake &amp;&amp;
+mkdir build &amp;&amp;
 cd    build &amp;&amp;
 
 cmake -DCMAKE_INSTALL_PREFIX=&kde-dir;                         \
@@ -115,6 +118,11 @@
     <title>Command Explanations</title>
 
     <para>
+      <command>sed ... cmake/FindPhononInternal.cmake</command>: Silence
+      a lot of warnings caused by the latest toolchain.
+    </para>
+    <para>
       <parameter>-DCMAKE_BUILD_TYPE=Release</parameter>: This switch is used
       to apply higher level of the compiler optimizations.
     </para>

Index: kde/core/pre-install-config.xml
===================================================================
--- kde@intro@pre-install-config.xml.16164.temp	2015-06-29 07:45:57.298655589 +0200
+++ kde@core@pre-install-config.xml.16164.temp	2015-06-29 07:45:57.318654804 +0200
@@ -13,7 +13,7 @@
     <date>$Date$</date>
   </sect1info>
 
-<title>KDE Pre-installation Configuration</title>
+  <title>KDE4 Pre-installation Configuration</title>
 
   <note><para>If you did not install <application>Xorg</application> in
   <filename class="directory">/usr</filename>, some of the 
@@ -111,3 +111,9 @@
 
   </sect2>
 </sect1>
+Modification de propriétés sur kde/core/pre-install-config.xml
+___________________________________________________________________
+Added: svn:keywords
+## -0,0 +1 ##
+LastChangedBy Date
+\ No newline at end of property

Index: kde/kde.xml
===================================================================
--- kde/kde.xml	(révision 16163)
+++ kde/kde.xml	(révision 16164)
@@ -13,11 +13,29 @@
 <part id="kde" xreflabel="KDE">
   <?dbhtml filename="kde.html" dir="kde"?>
 
-<title>KDE</title>
+  <title>Introduction to KDE</title>
+<partintro>
+  <para><application>KDE</application> is a comprehensive desktop environment
+  with a huge number of applications written for it and a huge amount of users.
+  It is based on the <application>Qt</application> framework.</para>
 
  <para>There are two versions of <application>KDE</application>. KDE4
  is a mature version that combines libraries and the desktop environment
@@     @@
<!--  <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="intro/introduction.xml"/>-->
   <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="core/core.xml"/>
   <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="add/add.xml"/>
+  <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="kf5/kf5.xml"/>
+  <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="kf5-apps/kf5-apps.xml"/>
+  <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="plasma5/plasma5.xml"/>
 <!--
   Language packs!
 -->

