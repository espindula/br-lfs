Révision 16585

fichiers modifiés :
   introduction/welcome/changelog.xml
   postlfs/filesystems/lvm2.xml
   general.ent
   packages.ent

Log :
Update to LVM2-2.02.133

Le robot a traité 34 % du commit anglais
Index: introduction/welcome/changelog.xml
===================================================================
--- introduction/welcome/changelog.xml	(révision 16584)
+++ introduction/welcome/changelog.xml	(révision 16585)
@@ -45,6 +45,16 @@
 -->
 
     <listitem>
+      <para>October 31st, 2015</para>
+      <itemizedlist>
+        <listitem>
+          <para>[pierre] - Update to LVM2-2.02.133. Fixes
+          <ulink url="&blfs-ticket-root;7067">#7067</ulink>.</para>
+        </listitem>
+      </itemizedlist>
+    </listitem>
+    <listitem>
       <para>October 30th, 2015</para>
       <itemizedlist>
         <listitem>

Index: postlfs/filesystems/lvm2.xml
===================================================================
--- postlfs/filesystems/lvm2.xml	(révision 16584)
+++ postlfs/filesystems/lvm2.xml	(révision 16585)
@@ -139,13 +139,18 @@
       commands:
     </para>
 
-<screen><userinput>./configure --prefix=/usr       \
+<screen><userinput>
+SAVEPATH=$PATH                  &amp;&amp;
+pathappend /sbin:/usr/sbin      &amp;&amp;
+./configure --prefix=/usr       \
             --exec-prefix=      \
             --enable-applib     \
             --enable-cmdlib     \
             --enable-pkgconfig  \
             --enable-udev_sync  &amp;&amp;
-make</userinput></screen>
+make                            &amp;&amp;
+PATH=$SAVEPATH                  &amp;&amp;
+unset SAVEPATH</userinput></screen>
 
     <para>
       The tests use <application>udev</application> for logical volume
@@ -170,11 +175,11 @@
     </para>
     <para>
       Those tests do not implement the <quote>expected fail</quote> possibility,
-and a small number of tests failures is expected by upstream. More
+      and a small number of test failures is expected by upstream. More
       failures may happen because some kernel options are missing. For example,
       the lack of the <emphasis>dm-delay</emphasis> device mapper target may
-explain up to 10 failures or so. Some tests are incorrectly flagged
-<quote>broken</quote> if
+      explain up to 10 failures or so. Some tests are flagged
+      <quote>warned</quote> if
       <ulink url='https://github.com/jthornber/thin-provisioning-tools'>
       thin-provisioning-tools</ulink> are not installed. A workaround is to
       add the following flags to <command>configure</command>:
@@ -190,10 +195,9 @@
      --with-cache-restore= \</userinput></screen>
 
     <para>
-One test has been reported to hang, and can be disabled via <command>rm
-test/shell/snapshot-remove-dmsetup.sh</command>. Other tests may hang
-with kernel versions in the 4.1 and 4.2 series (see above). They can be
-removed as well if necessary. The tests generate a lot
+      Some tests may hang with kernel versions in the 4.1 and 4.2 series (see
+      above). They can be removed if necessary, for example: <command>rm
+      test/shell/lvcreate-large-raid.sh</command>. The tests generate a lot
       of kernel messages, which may clutter your terminal. You can disable them
       by issuing <command>dmesg -D</command> before running the tests (do not
       forget to issue <command>dmesg -E</command> when tests are done).
@@ -211,6 +215,16 @@
     <title>Command Explanations</title>
 
     <para>
+      <command>pathappend /sbin:/usr/sbin</command>: The path
+      must contain <filename class="directory">/sbin</filename> and
+      <filename class='directory'>/usr/sbin</filename> for proper system tool
+      detection by the <command>configure</command> script. These instructions
+      ensure that it is properly set even if you build as an user. Note that
+      you need to provide equivalent commands if you have not set up your
+      startup files as in <xref linkend="postlfs-config-profile"/>.
+    </para>
+    <para>
       <parameter>--enable-applib</parameter>: This switch enables
       building of the shared application library.
     </para>

