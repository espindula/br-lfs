Révision 12753

fichiers modifiés :
   xfce/apps/vte2.xml
   networking/netlibs/libtirpc.xml
   networking/netlibs/libnl.xml
   networking/netprogs/rpcbind.xml
   networking/netprogs/samba.xml
   networking/netprogs/net-tools.xml
   networking/netprogs/wpa_supplicant.xml
   networking/netutils/networkmanager.xml
   networking/netutils/wicd.xml
   networking/netutils/avahi.xml
   x/lib/webkitgtk.xml
   general/genlib/libdaemon.xml

Log :
Some tags anfix, thanks to Armin K.

Le robot a traité 12 % du commit anglais
Index: general/genlib/libdaemon.xml
===================================================================
--- general/genlib/libdaemon.xml	(révision 12752)
+++ general/genlib/libdaemon.xml	(révision 12753)
@@ -34,7 +34,7 @@
       library that eases the writing of UNIX daemons.
     </para>
 
-&lfs74_checked;
+    &lfs75_checked;
 
     <bridgehead renderas="sect3">Package Information</bridgehead>
     <itemizedlist spacing="compact">

Index: networking/netlibs/libnl.xml
===================================================================
--- networking/netlibs/libnl.xml	(révision 12752)
+++ networking/netlibs/libnl.xml	(révision 12753)
@@ -35,7 +35,7 @@
       providing APIs to netlink protocol based Linux kernel interfaces.
     </para>
 
-&lfs74_checked;
+    &lfs75_checked;
 
     <bridgehead renderas="sect3">Package Information</bridgehead>
     <itemizedlist spacing="compact">

Index: networking/netlibs/libtirpc.xml
===================================================================
--- networking/netlibs/libtirpc.xml	(révision 12752)
+++ networking/netlibs/libtirpc.xml	(révision 12753)
@@ -72,6 +72,8 @@
       </listitem>
     </itemizedlist>
 
+    <!-- Not needed for LFS 7.5, Glibc RPC interface is exported again
     <bridgehead renderas="sect3">Additional Downloads</bridgehead>
     <itemizedlist spacing='compact'>
       <listitem>
@@ -102,10 +104,10 @@
       commands:
     </para>
 
-<screen><userinput>patch -Np1 -i ../libtirpc-&libtirpc-version;-remove_nis-1.patch &amp;&amp;
+<screen><userinput><!--patch -Np1 -i ../libtirpc-&libtirpc-version;-remove_nis-1.patch &amp;&amp;
 autoreconf -fi &amp;&amp;
 
-./configure --prefix=/usr     \
+-->./configure --prefix=/usr     \
             --sysconfdir=/etc \
             --disable-static  \
             --disable-gssapi  &amp;&amp;

Index: networking/netprogs/rpcbind.xml
===================================================================
--- networking/netprogs/rpcbind.xml	(révision 12752)
+++ networking/netprogs/rpcbind.xml	(révision 12753)
@@ -72,11 +72,12 @@
   <sect2 role="installation">
     <title>Installation of rpcbind</title>
 
+    <!-- Packages should adopt to standards, not the other way arround -->
     <para>In order to get <application>rpcbind</application> to work
-properly, first fix <filename>/etc/services</filename>. As the
-<systemitem class="username">root</systemitem> user:</para>
+    properly, first fix the package to use correct service name:</para>
 
<screen><userinput>sed -i "/servname/s:rpcbind:sunrpc:" src/rpcbind.c &amp;&amp;
sed -i "/error = getaddrinfo/s:rpcbind:sunrpc:" src/rpcinfo.c</userinput></screen>
@@ -111,7 +112,7 @@
       included in the <xref linkend="bootscripts"/> package.</para>
 
       <indexterm zone="rpcbind rpcbind-init">
-<primary sortas="f-portmap">portmap</primary>
+         <primary sortas="f-rpcbind">rpcbind</primary>
       </indexterm>
 
 <screen role="root"><userinput>make install-rpcbind</userinput></screen>

Index: networking/netprogs/samba.xml
===================================================================
--- networking/netprogs/samba.xml	(révision 12752)
+++ networking/netprogs/samba.xml	(révision 12753)
@@ -38,7 +38,7 @@
     Active Directory domain and a NetBIOS (rfc1001/1002) nameserver (which
     among other things provides LAN browsing support).</para>
 
-&lfs74_checked;
+    &lfs75_checked;
 
     <bridgehead renderas="sect3">Package Information</bridgehead>
     <itemizedlist spacing="compact">
@@ -66,7 +66,6 @@
 
     <bridgehead renderas="sect4">Required</bridgehead>
     <para role="required">
-<xref linkend="libtirpc"/> and
       <xref linkend="python2"/>
     </para>
 
@@ -111,9 +110,7 @@
     <para>Install <application>Samba</application> by running the following
     commands:</para>
 
-<screen><userinput>sed -i -e "/dmapi_lib/s/$/ldflags='-ltirpc',/" source3/wscript_build &amp;&amp;
-./configure                            \
+<screen><userinput>./configure                            \
     --prefix=/usr                      \
     --sysconfdir=/etc                  \
     --localstatedir=/var               \
@@ -166,18 +163,6 @@
   <sect2 role="commands">
     <title>Command Explanations</title>
 
-<para><command>sed ... source3/wscript_build</command>:
-This command enables the build to complete when using libtirpc instead of
-the deprecated glibc rpc functions.</para>
-<para><parameter>--sysconfdir=/etc</parameter>: Sets the configuration
-file directory to avoid the default of
-<filename class="directory">/usr/etc</filename>.</para>
-<para><parameter>--localstatedir=/var</parameter>: Sets the variable
-data directory to avoid the default of
-<filename class="directory">/usr/var</filename>.</para>
     <para><parameter>--enable-fhs</parameter>: Assigns all other file paths in
     a manner compliant with the Filesystem Hierarchy Standard (FHS).</para>
 

Index: networking/netprogs/wpa_supplicant.xml
===================================================================
--- networking/netprogs/wpa_supplicant.xml	(révision 12752)
+++ networking/netprogs/wpa_supplicant.xml	(révision 12753)
@@ -40,7 +40,7 @@
       access point.
     </para>
 
-&lfs74_checked;
+    &lfs75_checked;
 
     <bridgehead renderas="sect3">Package Information</bridgehead>
     <itemizedlist spacing="compact">

Index: networking/netutils/avahi.xml
===================================================================
--- networking/netutils/avahi.xml	(révision 12752)
+++ networking/netutils/avahi.xml	(révision 12753)
@@ -34,7 +34,7 @@
       facilitates service discovery on a local network.
     </para>
 
-&lfs74_checked;
+    &lfs75_checked;
 
     <bridgehead renderas="sect3">Package Information</bridgehead>
     <itemizedlist spacing="compact">

Index: networking/netutils/networkmanager.xml
===================================================================
--- networking/netutils/networkmanager.xml	(révision 12752)
+++ networking/netutils/networkmanager.xml	(révision 12753)
@@ -39,7 +39,7 @@
       detected and re-joined automatically the next time it's available.
     </para>
 
-&lfs74_checked;
+    &lfs75_checked;
 
     <bridgehead renderas="sect3">Package Information</bridgehead>
     <itemizedlist spacing="compact">

Index: networking/netutils/wicd.xml
===================================================================
--- networking/netutils/wicd.xml	(révision 12752)
+++ networking/netutils/wicd.xml	(révision 12753)
@@ -38,7 +38,7 @@
     url="http://projects.kde.org/projects/extragear/network/wicd-kde">here</ulink>.
     </para>
 
-&lfs74_checked;
+    &lfs75_checked;
 
     <bridgehead renderas="sect3">Package Information</bridgehead>
     <itemizedlist spacing="compact">

Index: xfce/apps/vte2.xml
===================================================================
--- xfce/apps/vte2.xml	(révision 12752)
+++ xfce/apps/vte2.xml	(révision 12753)
@@ -100,7 +100,9 @@
       commands:
     </para>
 
+<!-- both vte2 and vte3 install the same file in libexecdir, so overwrite this one -->
 <screen><userinput>./configure --prefix=/usr \
+            --libexecdir=/usr/lib/vte \
             --disable-static  &amp;&amp;
 make</userinput></screen>
 

Index: x/lib/webkitgtk.xml
===================================================================
--- x/lib/webkitgtk.xml	(révision 12752)
+++ x/lib/webkitgtk.xml	(révision 12753)
@@ -118,17 +118,6 @@
   <sect2 role="installation">
     <title>Installation of WebKitGTK+</title>
 
-<warning>
-<para>
-If you are building <application>WebKitGTK+</application>
-with <command>make</command> 3.82, make sure that you have built
-it with the following
-<ulink url="&patch-downloads;/make/make-3.82-upstream_fixes-3.patch">
-patch</ulink> applied or <application>WebKitGTK+</application>
-build will fail.
-</para>
-</warning>
     <para>
       If you have not installed <xref linkend="gtk-doc"/>, fix a bug that will
       cause <command>make install</command> to fail:
@@ -144,9 +133,7 @@
 <screen><userinput>sed -i '/parse-param/ a%lex-param {YYLEX_PARAM}' \
              Source/ThirdParty/ANGLE/src/compiler/glslang.y</userinput> &amp;&amp;
 <userinput>patch -Np1 -i ../webkitgtk-&webkitgtk-version;-fix_librt_linking-1.patch &amp;&amp;
-./configure --prefix=/usr \
---with-gtk=2.0 \
---disable-webkit2 &amp;&amp;
+./configure --prefix=/usr --with-gtk=2.0 --disable-webkit2 &amp;&amp;
 make</userinput></screen>
 
     <para>
@@ -206,8 +193,8 @@
           libjavascriptcoregtk-1.0.so and libwebkit-1.0.so
         </seg>
         <seg>
-/usr/include/webkit-1.0, /usr/share/webkit-1.0 and
-/usr/lib/webkitgtk2
+          /usr/include/webkit-1.0 and
+          /usr/share/webkit-1.0
         </seg>
       </seglistitem>
     </segmentedlist>

