Révision 11014

fichiers modifiés :
   multimedia/videoutils/ffmpeg.xml
   multimedia/libdriv/pulseaudio.xml
   general.ent
   xsoft/other/inkscape.xml
   introduction/welcome/changelog.xml

Log :
Updated FFmpeg to 1.1.2

Le robot a traité 24 % du commit anglais
Index: introduction/welcome/changelog.xml
===================================================================
--- introduction/welcome/changelog.xml	(revision 11013)
+++ introduction/welcome/changelog.xml	(revision 11014)
@@ -48,6 +48,9 @@
       <para>February 11th, 2013</para>
       <itemizedlist>
         <listitem>
+          <para>[randy] - Updated FFmpeg to 1.1.2.</para>
+        </listitem>
+        <listitem>
           <para>[krejzi] - Added wpa service configuration to
           wpa_supplicant instructions.</para>
         </listitem>

Index: multimedia/libdriv/pulseaudio.xml
===================================================================
--- multimedia/libdriv/pulseaudio.xml	(revision 11013)
+++ multimedia/libdriv/pulseaudio.xml	(revision 11014)
@@ -284,7 +284,7 @@
         <term><command>pamon</command></term>
         <listitem>
           <para>
-            is a symbolic link to pacat.
+            is a symbolic link to <command>pacat</command>.
            </para>
           <indexterm zone="pulseaudio pamon">
             <primary sortas="b-pamon">pamon</primary>
@@ -309,7 +309,7 @@
         <term><command>parec</command></term>
         <listitem>
           <para>
-            is a symbolic link to pacat.
+            is a symbolic link to <command>pacat</command>.
           </para>
           <indexterm zone="pulseaudio parec">
             <primary sortas="b-parec">parec</primary>
@@ -321,7 +321,7 @@
         <term><command>parecord</command></term>
         <listitem>
           <para>
-            is a symbolic link to pacat.
+            is a symbolic link to <command>pacat</command>.
           </para>
           <indexterm zone="pulseaudio parecord">
             <primary sortas="b-parecord">parecord</primary>
@@ -336,7 +336,7 @@
             is a tool that can be used to tell a local
             <application>PulseAudio</application> sound server to temporarily
             suspend access to the audio devices, to allow other applications
-            access them directly.
+            to access them directly.
           </para>
           <indexterm zone="pulseaudio pasuspender">
             <primary sortas="b-pasuspender">pasuspender</primary>

Index: multimedia/videoutils/ffmpeg.xml
===================================================================
--- multimedia/videoutils/ffmpeg.xml	(revision 11013)
+++ multimedia/videoutils/ffmpeg.xml	(revision 11014)
@@ -68,54 +68,75 @@
 
     <bridgehead renderas="sect3">FFmpeg Dependencies</bridgehead>
 
+    <!-- All dependencies are listed in the order as they are displayed in
+         the configure script. This makes it easy for readers (and editors)
+         to match up the dependency list with what is required or desired. -->
     <bridgehead renderas="sect4">Recommended</bridgehead>
     <para role="recommended">
       <xref linkend="faac"/>,
       <xref linkend="freetype2"/>,
       <xref linkend="lame"/>,
+      <xref linkend="openjpeg"/>,
+      <xref linkend="pulseaudio"/>,
+      <xref linkend="speex"/>,
       <xref linkend="libtheora"/>,
       <xref linkend="libvorbis"/>,
       <xref linkend="libvpx"/>,
-      <xref linkend="openjpeg"/>,
+      <xref linkend="xvid"/>,
       <xref linkend="openssl"/>,
       <xref linkend="sdl"/>,
-      <xref linkend="speex"/>,
       <xref linkend="xorg7-lib"/>,
-      <xref linkend="xvid"/>, and
       <xref linkend="yasm"/>
     </para>
 
     <bridgehead renderas="sect4">Optional</bridgehead>
     <para role="optional">
+      <xref linkend="fontconfig"/>,
+      <ulink url="http://www.piksel.org/frei0r">frei0r</ulink>,
       <xref linkend="gnutls"/>,
-      <ulink url="http://www.videolan.org/developers/x264.html">x264</ulink>,
-      <ulink url="http://sourceforge.net/projects/opencore-amr">OpenCore AMR</ulink>,
+      <ulink url="http://tipok.org.ua/node/17">libaacplus</ulink>,
+      <ulink url="http://code.google.com/p/libass/">libass</ulink>,
+      <ulink url="http://www.videolan.org/developers/libbluray.html">libbluray</ulink>,
+      <ulink url="http://caca.zoy.org/">libcaca</ulink>,
+      <ulink url="http://www.celt-codec.org/">libcelt</ulink>,
+      <ulink url="http://ftp.gnu.org/pub/gnu/libcdio/">libcdio</ulink>,
+      <ulink url="http://sourceforge.net/projects/libdc1394">libdc1394</ulink>,
+      <ulink url="http://sourceforge.net/projects/opencore-amr/files/fdk-aac/">fdk-aac</ulink>,
+      <ulink url="http://www.speech.cs.cmu.edu/flite/">Flite</ulink>,
       <ulink url="http://libgsm.sourcearchive.com/">GSM</ulink>,
-      <ulink url="http://sourceforge.net/projects/libdc1394">libdc1394</ulink>,
+      <ulink url="https://ieee1394.wiki.kernel.org/index.php/Libraries">libiec61883</ulink>,
+      <ulink url="https://github.com/dekkers/libilbc">libilbc</ulink>,
+      <ulink url="http://sourceforge.net/projects/modplug-xmms/">libmodplug</ulink>,
       <ulink url="http://svn.mplayerhq.hu/nut/src/trunk/">libnut</ulink> (SVN checkout),
-      <ulink url="http://xavs.sourceforge.net/">libxavs</ulink> (SVN checkout),
+      <ulink url="http://sourceforge.net/projects/opencore-amr">OpenCore AMR</ulink>,
+      <ulink url="http://opencv.org/">OpenCV</ulink>,
+      <ulink url="http://www.opus-codec.org/">Opus</ulink>,
       <ulink url="http://sourceforge.net/projects/librtmp">librtmp</ulink>,
       <ulink url="http://diracvideo.org/">libschroedinger</ulink>,
-      <ulink url="http://medialibrary.sourceforge.net/">MediaLibrary</ulink>,
-      <ulink url="http://connect.creativelabs.com/openal/default.aspx">OpenAL</ulink>,
-      <ulink url="http://tipok.org.ua/node/17">libaacplus</ulink>,
-      <ulink url="http://code.google.com/p/libass/">libass</ulink>,
-      <ulink url="http://www.celt-codec.org/">libcelt</ulink>,
-      <ulink url="http://ftp.gnu.org/pub/gnu/libcdio/">libcdio</ulink>,
-      <ulink url="http://sourceforge.net/projects/opencvlibrary/">libopencv</ulink>,
-      <ulink url="http://sourceforge.net/projects/libdc1394/">libdc1394</ulink>,
-      <ulink url="http://linuxtv.org/downloads/v4l-utils/">Video4Linux</ulink>, and
+      <ulink url="http://www.twolame.org/">TwoLAME</ulink>,
+      <ulink url="http://linuxtv.org/downloads/v4l-utils/">Video4Linux</ulink>,
+      <ulink url="http://sourceforge.net/projects/opencore-amr/files/vo-aacenc/">vo-aaenc</ulink>,
+      <ulink url="http://sourceforge.net/projects/opencore-amr/files/vo-amrwbenc/">vo-amrwbenc</ulink>,
+      <ulink url="http://www.videolan.org/developers/x264.html">x264</ulink>,
+      <ulink url="http://xavs.sourceforge.net/">libxavs</ulink> (SVN checkout),
+      <ulink url="http://connect.creativelabs.com/openal/default.aspx">OpenAL</ulink>, and
+      <!-- <ulink url="http://medialibrary.sourceforge.net/">MediaLibrary</ulink>, -->
       <ulink url="http://www.nongnu.org/texi2html">texi2html</ulink>
-        (to build HTML documentation).</para>
+        (to build HTML documentation)</para>
 
     <bridgehead renderas="sect4">Optional (For Hardware Video Decoding)</bridgehead>
     <para role="optional">
-      <ulink url="http://cgit.freedesktop.org/vaapi/libva/">VA API</ulink>
+      <ulink url="http://www.freedesktop.org/wiki/Software/vaapi">VA-API (libva)</ulink>
       with corresponding drivers, including:
      <ulink url="http://cgit.freedesktop.org/vaapi/intel-driver/">
      Intel Driver (i965 chipsets only)</ulink>,
@@ -126,9 +147,11 @@
   <sect2 role="installation">
     <title>Installation of FFmpeg</title>
 
-    <para>If you have not installed <application>Xorg</application> in
-    <filename class='directory'>/usr</filename>, tell <filename>configure</filename> 
-    where to find it:</para>
+    <para>
+      If <application>Xorg</application> is installed in a prefix other
+      than <filename class='directory'>/usr</filename>, the build will fail. Fix
+      this by issuing the following command:
+    </para>
 
 <screen><userinput>export LIBRARY_PATH=$XORG_PREFIX/lib</userinput></screen>
 
@@ -137,106 +160,223 @@
       commands:
     </para>
 
-<screen><userinput>./configure --prefix=/usr        \
-            --disable-debug      \
-            --enable-shared      \
-            --disable-static     \
+    <!-- The confiure optinos are listed in the order as they are displayed in
+         the configure script. This makes it easy for readers (and editors)
+         to match up the options with what is required or desired. -->
+<screen><userinput>sed -i 's/-lflite"/-lflite -lasound"/' configure &amp;&amp;
+./configure --prefix=/usr        \
             --enable-gpl         \
-            --enable-x11grab     \
-            --enable-postproc    \
             --enable-version3    \
             --enable-nonfree     \
+            --disable-static     \
+            --enable-shared      \
+            --enable-x11grab     \
             --enable-libfaac     \
             --enable-libfreetype \
             --enable-libmp3lame  \
             --enable-libopenjpeg \
+            --enable-libpulse    \
             --enable-libspeex    \
             --enable-libtheora   \
             --enable-libvorbis   \
             --enable-libvpx      \
             --enable-libxvid     \
-            --enable-libpulse    \
-            --enable-openssl     &amp;&amp;
-make</userinput></screen>
+            --enable-openssl     \
+            --disable-debug      &amp;&amp;
+make &amp;&amp;
+gcc tools/qt-faststart.c -o tools/qt-faststart &amp;&amp;
+unset LIBRARY_PATH</userinput></screen>
 
+    <para>
+      HTML documentation was built in the previous step if
+      <ulink url="http://www.nongnu.org/texi2html">texi2html</ulink> is
+      installed. If the HTML was built (check for any
+      <filename class="extension">.html</filename> files in the
+      <filename class="directory">doc</filename> directory) and you have
+      <xref linkend="texlive"/> installed and wish to build PDF and
+      Postscript versions of the documentation, issue the following commands:
+    </para>
 
-<screen><userinput>sed -i '/@top/d;/ignore$/d'    doc/*.texi                   &amp;&amp;
-sed -i '/@include avoptions/d' doc/avtools-common-opts.texi &amp;&amp;
+<screen><userinput>pushd doc &amp;&amp;
+for DOCNAME in `basename -s .html *.html`
+do
+    texi2pdf -b $DOCNAME.texi &amp;&amp;
+    texi2dvi -b $DOCNAME.texi &amp;&amp;
+    dvips -o    $DOCNAME.ps   \
+                $DOCNAME.dvi  &amp;&amp;
+done                          &amp;&amp;
+popd                          &amp;&amp;
+unset DOCNAME</userinput></screen>
 
-for DOC in doc/*.texi; do
-   makeinfo - -html - -no-split -o ${DOC%texi}html ${DOC}
-done</userinput></screen>
--->
     <para>
       If you have <xref linkend="doxygen"/> installed and wish to create the API
-      documentation (takes about 444 MB of space, 26 SBU), issue the command
-      <command>doxygen</command>.
+      documentation (takes about 300 MB of space), issue the command
+      <command>doxygen doc/Doxyfile</command>.
     </para>
 
-    <para>Now, as the <systemitem class="username">root</systemitem>
-    user:</para>
+    <para>
+      To properly test the installation you must have <xref linkend="rsync"/>
+      installed and follow the instructions for the
+      <ulink url="http://ffmpeg.org/fate.html">
+      FFmpeg Automated Testing Environment</ulink>. Note that the BLFS team has
+      not performed this regression testing.
+    </para>
 
-<screen role="root"><userinput>make install                                 &amp;&amp;
-mkdir -p           /usr/share/doc/ffmpeg-&ffmpeg-version; &amp;&amp;
-cp    -v doc/*.txt /usr/share/doc/ffmpeg-&ffmpeg-version;</userinput></screen>
+    <para>
+      Now, as the <systemitem class="username">root</systemitem> user:
+    </para>
 
-    <para>The tests, if desired, need to be run after installation.  
-    To test the package, run <command>make check</command>.</para>
+<screen role="root"><userinput>make install &amp;&amp;
+install -v -m755    tools/qt-faststart /usr/bin &amp;&amp;
+install -v -m755 -d /usr/share/doc/ffmpeg-&ffmpeg-version; &amp;&amp;
+install -v -m644    doc/*.txt \
+                    /usr/share/doc/ffmpeg-&ffmpeg-version;</userinput></screen>
 
     <para>
-      The <application>FFmpeg</application> source contains a tool called
-      <command>qt-faststart</command> that can modify QuickTime formatted movies
-      (mov or mp4) so that the header information is located at the beginning of
-      the file instead of the end. This allows video players to begin playing
-      the content before the entire file has been downloaded. An example of
-      where this is useful for preparing videos before uploading them to
-      YouTube. If need <command>qt-faststart</command>, you can compile it with
-      gcc. As the <systemitem class="username">root</systemitem> user:
+      If HTML documentation was built, issue the following command to install it:
     </para>
 
-<screen><userinput>gcc tools/qt-faststart.c -o /usr/bin/qt-faststart</userinput></screen>
+<screen role="root"><userinput>install -v -m644 doc/*.html \
+                 /usr/share/doc/ffmpeg-&ffmpeg-version;</userinput></screen>
 
     <para>
       If you used <command>doxygen</command> to create the API documentation,
-      install it by issuing the following commands as the
-      <systemitem class="username">root</systemitem> user:
+      install it (another 300 MB of space) by issuing the following commands
+      as the <systemitem class="username">root</systemitem> user:
     </para>
 
-<screen role="root"><userinput>mkdir -p         /usr/share/doc/ffmpeg-&ffmpeg-version;/api &amp;&amp;
-cp    -av doxy/* /usr/share/doc/ffmpeg-&ffmpeg-version;/api</userinput></screen>
+<screen role="root"><userinput>install -v -m755 -d /usr/share/doc/ffmpeg-&ffmpeg-version;/api &amp;&amp;
+install -v -m644    doc/doxy/html/* \
+                    /usr/share/doc/ffmpeg-&ffmpeg-version;/api</userinput></screen>
   </sect2>
 
   <sect2 role="commands">
     <title>Command Explanations</title>
 
     <para>
-      <option>--enable-gpl</option>: This switch enables the use of GPL code and
+      <command>sed -i ...</command>: This command adds the
+      <application>ALSA</application> library to the
+      <application>Flite</application> <envar>LDFLAGS</envar> variable and
+      enables the discovery of <application>Flite</application>.
+    </para>
+    <para>
+      <command>gcc tools/qt-faststart.c -o tools/qt-faststart</command>:
+      This builds the <command>qt-faststart</command> program which can
+      modify QuickTime formatted movies
+      (<filename class="extension">.mov</filename> or
+      <filename class="extension">.mp4</filename>) so that the header information
+      is located at the beginning of the file instead of the end. This allows
+      the movie file to begin playing before the entire file has been downloaded.
+    </para>
+    <para>
+      <parameter>--enable-gpl</parameter>: Enables the use of GPL code and
       permits support for postprocessing, swscale and many other features.
     </para>
 
     <para>
-      <option>--enable-shared</option>: This switch is needed to build the
-      shared libraries, otherwise only static libraries are built and installed.
+      <parameter>--enable-version3</parameter>: Enables the use of (L)GPL
+      version 3 code.
     </para>
 
+    <para>
+      <parameter>--enable-nonfree</parameter>: Enables the use of nonfree
+      code. Note that the resulting libraries and binaries will be
+      unredistributable.
+    </para>
     <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
       href="../../xincludes/static-libraries.xml"/>
 
     <para>
+      <parameter>--enable-shared</parameter>: Enables building shared libraries,
+      otherwise only static libraries are built and installed.
+    </para>
+    <para>
+      <parameter>--enable-x11grab</parameter>: Enables X11 grabbing.
+    </para>
+    <para>
+      <parameter>--enable-libfaac</parameter>: Enables AAC encoding via
+      <filename class="libraryfile">libfaac</filename>.
+    </para>
+    <para>
+      <parameter>--enable-libfreetype</parameter>: Enables the use of
+      <filename class="libraryfile">libfreetype</filename>.
+    </para>
+    <para>
+      <parameter>--enable-libmp3lame</parameter>: Enables MP3 encoding via
+      <filename class="libraryfile">libmp3lame</filename>.
+    </para>
+    <para>
+      <parameter>--enable-libopenjpeg</parameter>: Enables JPEG 2000 de/encoding
+      via <filename class="libraryfile">libopenjpeg</filename>.
+    </para>
+    <para>
+      <parameter>--enable-libpulse</parameter>: Enables
+      <application>Pulseaudio</application> input via
+      <filename class="libraryfile">libpulse</filename>.
+    </para>
+    <para>
+      <parameter>--enable-libspeex</parameter>: Enables
+      <application>Speex</application> de/encoding
+      via <filename class="libraryfile">libspeex</filename>.
+    </para>
+    <para>
+      <parameter>--enable-libtheora</parameter>: Enables
+      <application>Theora</application> encoding
+      via <filename class="libraryfile">libtheora</filename>.
+    </para>
+    <para>
+      <parameter>--enable-libvorbis</parameter>: Enables
+      <application>Vorbis</application> de/encoding
+      via <filename class="libraryfile">libvorbis</filename>.
+    </para>
+    <para>
+      <parameter>--enable-libvpx</parameter>: Enables VP8 de/encoding
+      via <filename class="libraryfile">libvpx</filename>.
+    </para>
+    <para>
+      <parameter>--enable-libxvid</parameter>: Enables
+      <application>Xvid</application> encoding
+      via <filename class="libraryfile">libxvidcore</filename>.
+    </para>
+    <para>
+      <parameter>--enable-openssl</parameter>: Enables
+      <application>OpenSSL</application> cryptography.
+    </para>
+    <para>
+      <parameter>--disable-debug</parameter>: Disables building debugging
+      symbols into the programs and libraries.
+    </para>
+    <para>
       <option>--enable-<replaceable>&lt;codec&gt;</replaceable></option>:
       <application>FFmpeg</application> comes with code to compile decoders for
       almost every codec you could think of. The only reason to enable a
       specific codec (and make <application>FFmpeg</application> link to the
-      prerequisite shared library installed on your system) is to make ffmpeg
-      compile an <emphasis>encoder</emphasis> for that codec.
-      <application>FFmpeg</application> is an excellent collection of decoders.
-      If you just want to use <application>FFmpeg</application> to watch video
-      or listen to music (via other applications like
-      <application>Gstreamer</application> or Xine) then you will not benefit
-      from linking FFmpeg to another library.
+      prerequisite shared library installed on your system) is to make
+      <application>FFmpeg</application> compile an <emphasis>encoder</emphasis>
+      for that codec. <application>FFmpeg</application> provides an excellent
+      collection of decoders. If you just want to use
+      <application>FFmpeg</application> to watch video or listen to music (via
+      other applications such as <application>Gstreamer</application> or
+      <application>Xine</application>) then you will not benefit from linking
+      <application>FFmpeg</application> to other codec libraries.
     </para>
 
   </sect2>

Index: xsoft/other/inkscape.xml
===================================================================
--- xsoft/other/inkscape.xml	(revision 11013)
+++ xsoft/other/inkscape.xml	(revision 11014)
@@ -112,7 +112,7 @@
   <sect2 role="installation">
     <title>Installation of Inkscape</title>
 
-    <para>If you installed <application>Xorg</application> in a prefix other
+    <para>If <application>Xorg</application> is installed in a prefix other
     than <filename class='directory'>/usr</filename>, the build will fail. Fix
     this by issuing the following command:</para>
 

