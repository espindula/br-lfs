Révision 15882

fichiers modifiés :
   postlfs/filesystems/mdadm.xml
   x/installing/xorg-server.xml
   x/lib/qt4.xml
   introduction/welcome/changelog.xml

Log :
mdadm, qt4, xorg-server: add gcc-5 fixes to the book.

Le robot a traité 12 % du commit anglais
Index: introduction/welcome/changelog.xml
===================================================================
--- introduction/welcome/changelog.xml	(révision 15881)
+++ introduction/welcome/changelog.xml	(révision 15882)
@@ -52,6 +52,10 @@
           a word. Fixes
           <ulink url="&blfs-ticket-root;6436">#6436</ulink>.</para>
         </listitem>
+        <listitem>
+          <para>[ken] - gcc-5 fixes for: mdadm-3.3.2, xorg-server-1.17.1,
+          qt-4.8.6.</para>
+        </listitem>
       </itemizedlist>
     </listitem>
 

Index: postlfs/filesystems/mdadm.xml
===================================================================
--- postlfs/filesystems/mdadm.xml	(révision 15881)
+++ postlfs/filesystems/mdadm.xml	(révision 15882)
@@ -88,10 +88,12 @@
     <title>Installation of mdadm</title>
 
     <para>
-First, fix a problem inroduced by <application>&gcc-490;</application>:
+      First, fix problems introduced by <application>&gcc-490;</application>
+      and <application>gcc-5</application>:
     </para>
 
-<screen><userinput>sed -i 's/Wall -Werror/Wall/' Makefile</userinput></screen>
+<screen><userinput>sed -i 's/Wall -Werror/Wall/' Makefile &amp;&amp;
+sed -i 's/\(^inline\)/static \1/' bitmap.c</userinput></screen>
 
     <para>Install <application>mdadm</application> by running the following
     commands:</para>

Index: x/installing/xorg-server.xml
===================================================================
--- x/installing/xorg-server.xml	(révision 15881)
+++ x/installing/xorg-server.xml	(révision 15882)
@@ -74,6 +74,12 @@
     <itemizedlist spacing="compact">
       <listitem>
         <para>
+          Required patch (if you are using gcc-5):
+          <ulink url="&patch-root;/xorg-server-&xorg-server-version;-gcc5_fixes-1.patch"/>
+        </para>
+      </listitem>
+      <listitem>
+        <para>
           Optional patch:
           <ulink url="&patch-root;/xorg-server-&xorg-server-version;-add_prime_support-1.patch"/>
         </para>
@@ -126,6 +132,13 @@
     <title>Installation of Xorg Server</title>
 
     <para>
+      If you are using gcc-5, apply the required patch by running
+      the following command:
+    </para>
+<screen><userinput>patch -Np1 -i ../xorg-server-&xorg-server-version;-gcc5_fixes-1.patch</userinput></screen>
+    <para>
       If you have downloaded the first optional patch, apply it by running
       the following command:
     </para>

Index: x/lib/qt4.xml
===================================================================
--- x/lib/qt4.xml	(révision 15881)
+++ x/lib/qt4.xml	(révision 15882)
@@ -75,6 +75,16 @@
       </listitem>
     </itemizedlist>
 
+    <bridgehead renderas="sect3">Additional Downloads</bridgehead>
+    <itemizedlist spacing="compact">
+      <listitem>
+        <para>
+          Required patch (if you are using gcc-5):
+          <ulink url="&patch-root;/qt-everywhere-opensource-src-&qt4-version;-gcc5_fixes-1.patch"/>
+        </para>
+      </listitem>
+    </itemizedlist>
     <bridgehead renderas="sect3">Qt Dependencies</bridgehead>
 
     <bridgehead renderas="sect4">Required</bridgehead>
@@ -154,6 +164,13 @@
 <screen><userinput>sed -i -e '631a if (image->isNull()) { state = Error; return -1; }' \
     src/gui/image/qgifhandler.cpp</userinput></screen>
 
+    <para>
+      If you are using gcc-5, apply the required patch by running
+      the following command:
+    </para>
+<screen><userinput>patch -Np1 -i ../qt-everywhere-opensource-src-&qt4-version;-gcc5_fixes-1.patch</userinput></screen>
 <!-- ==== Method 1 ====== -->
     <bridgehead renderas="sect3">Method 1: Installing in /usr</bridgehead>
 

