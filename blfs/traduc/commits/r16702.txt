Révision 16702

fichiers modifiés :
   packages.ent
   server/databases/lmdb.xml
   introduction/welcome/changelog.xml

Log :
Update to lmdb-0.9.7

Le robot a traité 31 % du commit anglais
Index: introduction/welcome/changelog.xml
===================================================================
--- introduction/welcome/changelog.xml	(révision 16701)
+++ introduction/welcome/changelog.xml	(révision 16702)
@@ -48,6 +48,10 @@
       <para>December 1st, 2015</para>
       <itemizedlist>
        <listitem>
+         <para>[bdubbs] - Update to lmdb-0.9.7.  Fixes 
+         <ulink url="&blfs-ticket-root;7195">#7195</ulink>.</para>
+        </listitem>
+       <listitem>
          <para>[fernando] - Update to lua-5.3.2. Added optional "Basic tests".
          Fixes <ulink url="&blfs-ticket-root;7193">#7193</ulink>.</para>
         </listitem>

Index: server/databases/lmdb.xml
===================================================================
--- server/databases/lmdb.xml	(révision 16701)
+++ server/databases/lmdb.xml	(révision 16702)
@@ -81,18 +81,18 @@
   <sect2 role="installation">
     <title>Installation of lmdb</title>
 
-<note><para>This package extracts to lmdb-LMDB_0.9.16.</para></note>
+    <note><para>This package extracts to lmdb-LMDB_&lmdb-version;.</para></note>
 
     <para>
       Install <application>lmdb</application> by running the following
       commands:
     </para>
 
-<screen><userinput>cd libraries/liblmdb               &amp;&amp;
-sed -i 's|/man/|/share&amp;|' Makefile &amp;&amp;
+<screen><userinput>cd libraries/liblmdb                     &amp;&amp;
+sed -i 's|prefix)/man|mandir)|' Makefile &amp;&amp;
+make                                     &amp;&amp;
+sed -i 's| liblmdb.a||'         Makefile</userinput></screen>
 
-make</userinput></screen>
     <para>
       This package does not come with a test suite.
     </para>
@@ -101,10 +101,27 @@
       Now, as the <systemitem class="username">root</systemitem> user:
     </para>
 
-<screen role="root"><userinput>make prefix=/usr install</userinput></screen>
+<screen role="root"><userinput>make prefix=/usr mandir=/usr/share/man install</userinput></screen>
 
   </sect2>
 
+  <sect2 role="commands">
+    <title>Command Explanations</title>
+    <para>
+      <command>sed ... prefix ... Makefile</command>: The Makefile creates the 
+      man pages directory during install if it is not present.  
+      This fixes the directory location.
+    </para>
+    <para>
+      <command>sed ... liblmdb.a ... Makefile</command>: The package executables
+      use a static library so it must be created.  This command suppresses installation
+      of the static library.
+    </para>
+  </sect2>  
   <sect2 role="content">
     <title>Contents</title>
 

