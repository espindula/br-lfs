Révision 10921

fichiers supprimés :
   kde/add/kde-base-artwork.xml

fichiers déplacés (avec ou sans changements) :
kde-base-artwork.xml

fichiers modifiés :
   introduction/welcome/changelog.xml
   postlfs/config/users.xml
   general.ent
   kde/add/kate.xml
   kde/add/kdeplasma-addons.xml
   kde/add/add.xml
   kde/add/kmix.xml
   kde/add/kdepim.xml
   kde/add/kdepim-runtime.xml
   kde/add/konsole.xml
   kde/add/gwenview.xml
   kde/add/kdeadmin.xml
   kde/add/ark.xml
   kde/add/okular.xml
   kde/add/libkcddb.xml
   kde/add/libkexiv2.xml
   kde/core/oxygen-icons.xml
   kde/core/kdepimlibs.xml
   kde/core/kde-runtime.xml
   kde/core/core.xml
   kde/core/kde-baseapps.xml
   kde/core/kde-workspace.xml
   kde/core/nepomuk-core.xml
   kde/core/kdelibs.xml
   kde/core/kactivities.xml

Log :
KDE 4.9.5

Le robot a traité 42 % du commit anglais

Index: kde/core/kde-runtime.xml
===================================================================
--- kde/core/kde-runtime.xml	(revision 10920)
+++ kde/core/kde-runtime.xml	(revision 10921)
@@ -83,6 +82,7 @@
 
     <bridgehead renderas="sect4">Optional</bridgehead>
     <para role="optional">
+    <xref linkend="gdb"/>,
     <xref linkend="pulseaudio"/>, 
     <xref linkend="xine-lib"/>, 
     <xref linkend="libcanberra"/>, 
@@ -110,24 +110,18 @@
 mkdir build &amp;&amp;
 cd build &amp;&amp;
 cmake -DCMAKE_INSTALL_PREFIX=&kde-dir; \
-      -DSYSCONF_INSTALL_DIR=/etc/kde \
+      -DSYSCONF_INSTALL_DIR=/etc \
+      -DCMAKE_BUILD_TYPE=Release \
       .. &amp;&amp;
 make</userinput></screen>
 
     <para>Now, as the <systemitem class="username">root</systemitem> user:</para>
 
-<screen role="root"><userinput>make install</userinput></screen>
+<screen role="root"><userinput>make install &amp;&amp;
+ln -s ../lib/kde4/libexec/kdesu &kde-dir;/bin/kdesu</userinput></screen>
 
   </sect2>
 
-  <sect2 role="commands">
-    <title>Command Explanations</title>
- <para><option>patch -Np1 -i ../kde-runtime-&kde-version;-rpc_fix-1.patch</option>:
- This patch fixes linking to <application>libtirpc</application>.</para>
-  </sect2>
   <sect2 role="content">
     <title>Contents</title>
 
@@ -137,7 +131,7 @@
       <segtitle>Installed Directories</segtitle>
 
       <seglistitem>
-        <seg>kcmshell4, kde-cp, kde-mv, kde-open, kde4, kde4-menu,
+        <seg>kcmshell4, kde-cp, kde-mv, kde-open, kdesu, kde4, kde4-menu,
         kdebugdialog, keditfiletype, kfile4, kglobalaccel, khelpcenter,
         khotnewstuff-upload, khotnewstuff4, kiconfinder, kioclient,
         kmimetypefinder, knotify4, kquitapp, kreadconfig, kstart, ksvgtopng,
@@ -148,24 +142,24 @@
       <?dbfo list-presentation="list"?>
       <?dbhtml list-presentation="table"?>
 
-      <varlistentry id="a-kde-runtime">
-        <term><command>kde-runtime</command></term>
+      <varlistentry id="kdesu">
+        <term><command>kdesu</command></term>
         <listitem>
-          <para>is a testing utility for kde-runtime-generated build trees.</para>
-          <indexterm zone="a-kde-runtime kde-runtime">
-            <primary sortas="b-kde-runtime">kdelibs</primary>
+          <para>Runs a program with elevated privileges.</para>
+          <indexterm zone="kde-runtime kdesu">
+            <primary sortas="b-kdesu">kdesu</primary>
           </indexterm>
         </listitem>
       </varlistentry>
 
     </variablelist>
--->
   </sect2>
 
 </sect1>

Index: kde/core/kde-workspace.xml
===================================================================
--- kde/core/kde-workspace.xml	(revision 10920)
+++ kde/core/kde-workspace.xml	(revision 10921)
@@ -108,20 +108,36 @@
   <sect2 role="installation">
     <title>Installation of Kde-workspace</title>
 
+    <para>
+      It is recommended to have a dedicated user and group to take
+      control of the <command>kdm</command> daemon after it is
+      started. Issue the following commands as the
+      <systemitem class="username">root</systemitem> user:
+    </para>
+<screen role="root"><userinput>groupadd -g 37 kdm &amp;&amp;
+useradd -c "KDM Daemon Owner" -d /var/lib/kdm -g kdm \
+        -u 37 -s /bin/false kdm &amp;&amp;
+install -o kdm -g kdm -dm755 /var/lib/kdm</userinput></screen>
     <para>Install <application>Kde-workspace</application> by running the following
     commands:</para>
 
 <screen><userinput>mkdir build &amp;&amp;
 cd build &amp;&amp;
 cmake -DCMAKE_INSTALL_PREFIX=&kde-dir; \
-      -DSYSCONF_INSTALL_DIR=/etc/kde \
+      -DSYSCONF_INSTALL_DIR=/etc \
+      -DCMAKE_BUILD_TYPE=Release \
       -DPYTHON_SITE_PACKAGES_INSTALL_DIR=/usr/lib/python2.7/site-packages \
       .. &amp;&amp;
 make</userinput></screen>
 
     <para>Now, as the <systemitem class="username">root</systemitem> user:</para>
 
-<screen role="root"><userinput>make install</userinput></screen>
+<screen role="root"><userinput>make install &amp;&amp;
+mkdir -p /usr/share/xsessions &amp;&amp;
+ln -sf &kde-dir;/share/apps/kdm/sessions/kde-plasma.desktop \
+       /usr/share/xsessions/kde-plasma.desktop</userinput></screen>
 
   </sect2>
 
@@ -133,6 +149,60 @@
 
   </sect2>
 
+  <sect2 role="configuration">
+    <title>Configuring KDE Workspace</title>
+    <sect3>
+      <title>Linux PAM Configuration</title>
+      <para>If you have built <application>KDE Workspace</application> with
+      <application>Linux PAM</application> support, create necesary 
+      configuration files by running the following commands as the
+      <systemitem class="username">root</systemitem> user:</para>
+<screen role="root"><userinput>cat &gt;&gt; /etc/pam.d/kde &lt;&lt; "EOF" &amp;&amp;
+# Begin /etc/pam.d/kde
+auth     requisite      pam_nologin.so
+auth     required       pam_env.so
+auth     required       pam_succeed_if.so uid &gt;= 1000 quiet
+auth     include        system-auth
+account  include        system-account
+password include        system-password
+session  include        system-session
+# End /etc/pam.d/kde
+EOF
+cat &gt; /etc/pam.d/kde-np &lt;&lt; "EOF" &amp;&amp;
+# Begin /etc/pam.d/kde-np
+auth     requisite      pam_nologin.so
+auth     required       pam_env.so
+auth     required       pam_succeed_if.so uid &gt;= 1000 quiet
+auth     required       pam_permit.so
+account  include        system-account
+password include        system-password
+session  include        system-session
+# End /etc/pam.d/kde-np
+EOF
+cat &gt; /etc/pam.d/kscreensaver &lt;&lt; "EOF"
+# Begin /etc/pam.d/kscreensaver
+auth    include system-auth
+account include system-account
+# End /etc/pam.d/kscreensaver
+EOF</userinput></screen>
+    </sect3>
+  </sect2>
   <sect2 role="content">
     <title>Contents</title>
 
@@ -158,24 +228,7 @@
       </seglistitem>
     </segmentedlist>
 
-      <varlistentry id="a-kde4baseworkspace">
-        <term><command>kde4baseworkspace</command></term>
-        <listitem>
-          <para>is a testing utility for kde4baseworkspace-generated build trees.</para>
-          <indexterm zone="a-kde4baseworkspace kde4baseworkspace">
-            <primary sortas="b-kde4baseworkspace">kdelibs</primary>
-          </indexterm>
-        </listitem>
-      </varlistentry>
-    </variablelist>
--->
   </sect2>
   
 </sect1>

Index: kde/core/kdelibs.xml
===================================================================
--- kde/core/kdelibs.xml	(revision 10920)
+++ kde/core/kdelibs.xml	(revision 10921)
@@ -118,13 +117,23 @@
   <sect2 role="installation">
     <title>Installation of Kdelibs</title>
 
+    <para>Fix file conflicts with <application>GNOME Menus</application> by running
+    the following commands:</para>
+<screen><userinput>sed -e "s@{SYSCONF_INSTALL_DIR}/xdg/menus@&amp; RENAME kde-applications.menu@g" \
+    -i kded/CMakeLists.txt &amp;&amp;
+sed -i "s@applications.menu@kde-&amp;@g" kded/kbuildsycoca.cpp</userinput></screen>
     <para>Install <application>Kdelibs</application> by running the following
     commands:</para>
 
+<!-- I wouldn't recommend installing D-Bus configuration files outside of /etc if kde-dir is /usr,
+     maybe kde-etc-dir should be introduced? -->
 <screen><userinput>mkdir build &amp;&amp;
 cd build &amp;&amp;
 cmake -DCMAKE_INSTALL_PREFIX=&kde-dir; \
-      -DSYSCONF_INSTALL_DIR=/etc/kde \
+      -DSYSCONF_INSTALL_DIR=/etc \
+      -DCMAKE_BUILD_TYPE=Release \
       -DDOCBOOKXML_CURRENTDTD_DIR=/usr/share/xml/docbook/xml-dtd-&DocBook-version; \
       .. &amp;&amp;
 make</userinput></screen>
@@ -138,12 +147,15 @@
   <sect2 role="commands">
     <title>Command Explanations</title>
 
-    <para><option>-DSYSCONF_INSTALL_DIR=/etc/kde</option>: This option is set to
-    install configuration files in /etc.</para>
-    <para><option>-DDOCBOOKXML_CURRENTDTD_DIR=...</option>: This option is used to
-    find the DTDs.</para>
-          
+    <para><option>-DSYSCONF_INSTALL_DIR=/etc</option>: This switch is used to install
+    configuration files in /etc.</para>
 
+    <para><option>-DCMAKE_BUILD_TYPE=Release</option>: This switch is used to apply
+    higher level of compiler optimizations.</para>
+    <para><option>-DDOCBOOKXML_CURRENTDTD_DIR=...</option>: This switch is used to
+    tell <command>cmake</command> where to find the XML DTDs.</para>          
   </sect2>
 
   <sect2 role="content">
@@ -165,24 +177,173 @@
       <?dbfo list-presentation="list"?>
       <?dbhtml list-presentation="table"?>
 
-      <varlistentry id="a-kde4libs">
-        <term><command>kde4libs</command></term>
+      <varlistentry id="checkXML">
+        <term><command>checkXML</command></term>
         <listitem>
-          <para>is a testing utility for kde4libs-generated build trees.</para>
-          <indexterm zone="a-kde4libs kde4libs">
-            <primary sortas="b-kde4libs">kdelibs</primary>
+          <para>
+            is a tool used to check for syntax errors in KDE DocBook
+            XML files.
+          </para>
+          <indexterm zone="kdelibs checkXML">
+            <primary sortas="b-checkXML">checkXML</primary>
           </indexterm>
         </listitem>
       </varlistentry>
 
+      <varlistentry id="kbuildsycoca4">
+        <term><command>kbuildsycoca4</command></term>
+        <listitem>
+          <para>
+            is used to rebuild the system configuration cache.
+          </para>
+          <indexterm zone="kdelibs kbuildsycoca4">
+            <primary sortas="b-kbuildsycoca4">kbuildsycoca4</primary>
+          </indexterm>
+        </listitem>
+      </varlistentry>
+      <varlistentry id="kconfig_compiler">
+        <term><command>kconfig_compiler</command></term>
+        <listitem>
+          <para>
+            is the KDE configuration compiler.
+          </para>
+          <indexterm zone="kdelibs kconfig_compiler">
+            <primary sortas="b-kconfig_compiler">kconfig_compiler</primary>
+          </indexterm>
+        </listitem>
+      </varlistentry>
+      <varlistentry id="kcookiejar4">
+        <term><command>kcookiejar4</command></term>
+        <listitem>
+          <para>
+            is the KDE HTTP cookie daemon.
+          </para>
+          <indexterm zone="kdelibs kcookiejar4">
+            <primary sortas="b-kcookiejar4">kcookiejar4</primary>
+          </indexterm>
+        </listitem>
+      </varlistentry>
+      <varlistentry id="kde4-config">
+        <term><command>kde4-config</command></term>
+        <listitem>
+          <para>
+            is used to print the KDE installation paths.
+          </para>
+          <indexterm zone="kdelibs kde4-config">
+            <primary sortas="b-kde4-config">kde4-config</primary>
+          </indexterm>
+        </listitem>
+      </varlistentry>
+      <varlistentry id="kded4">
+        <term><command>kded4</command></term>
+        <listitem>
+          <para>
+            is the KDE daemon.
+          </para>
+          <indexterm zone="kdelibs kded4">
+            <primary sortas="b-kded4">kded4</primary>
+          </indexterm>
+        </listitem>
+      </varlistentry>
+      <varlistentry id="kdeinit4">
+        <term><command>kdeinit4</command></term>
+        <listitem>
+          <para>
+            is the KDE process launcher.
+          </para>
+          <indexterm zone="kdelibs kdeinit4">
+            <primary sortas="b-kdeinit4">kdeinit4</primary>
+          </indexterm>
+        </listitem>
+      </varlistentry>
+      <varlistentry id="kjs">
+        <term><command>kjs</command></term>
+        <listitem>
+          <para>
+            is the KDE ECMAScript/JavaScript engine.
+          </para>
+          <indexterm zone="kdelibs kjs">
+            <primary sortas="b-kjs">kjs</primary>
+          </indexterm>
+        </listitem>
+      </varlistentry>
+      <varlistentry id="kjscmd">
+        <term><command>kjscmd</command></term>
+        <listitem>
+          <para>
+            is a tool used for launching KJSEmbed scripts from
+            the command line.
+          </para>
+          <indexterm zone="kdelibs kjscmd">
+            <primary sortas="b-kjscmd">kjscmd</primary>
+          </indexterm>
+        </listitem>
+      </varlistentry>
+      <varlistentry id="kross">
+        <term><command>kross</command></term>
+        <listitem>
+          <para>
+            is the KDE application used to run kross scripts.
+          </para>
+          <indexterm zone="kdelibs kross">
+            <primary sortas="b-kross">kross</primary>
+          </indexterm>
+        </listitem>
+      </varlistentry>
+      <varlistentry id="makekdewidgets">
+        <term><command>makekdewidgets</command></term>
+        <listitem>
+          <para>
+            is used to build Qt widget plugins from an ini style
+            description file.
+          </para>
+          <indexterm zone="kdelibs makekdewidgets">
+            <primary sortas="b-makekdewidgets">makekdewidgets</primary>
+          </indexterm>
+        </listitem>
+      </varlistentry>
+      <varlistentry id="meinproc4">
+        <term><command>meinproc4</command></term>
+        <listitem>
+          <para>
+            is used to convert DocBook files to HTML.
+          </para>
+          <indexterm zone="kdelibs meinproc4">
+            <primary sortas="b-meinproc4">meinproc4</primary>
+          </indexterm>
+        </listitem>
+      </varlistentry>
+      <varlistentry id="preparetips">
+        <term><command>preparetips</command></term>
+        <listitem>
+          <para>
+            is a script used to extract the text from a tips file.
+          </para>
+          <indexterm zone="kdelibs preparetips">
+            <primary sortas="b-preparetips">preparetips</primary>
+          </indexterm>
+        </listitem>
+      </varlistentry>
     </variablelist>
--->
   </sect2>
 
 </sect1>

Index: kde/core/kdepimlibs.xml
===================================================================
--- kde/core/kdepimlibs.xml	(revision 10920)
+++ kde/core/kdepimlibs.xml	(revision 10921)
@@ -100,10 +100,11 @@
     <para>Install <application>kdepimlibs</application> by running the following
     commands:</para>
 
+<!-- Again, nothing in sysconfdir -->
 <screen><userinput>mkdir build &amp;&amp;
 cd build &amp;&amp;
 cmake -DCMAKE_INSTALL_PREFIX=&kde-dir; \
-      -DSYSCONF_INSTALL_DIR=/etc/kde \
+      -DCMAKE_BUILD_TYPE=Release \
       .. &amp;&amp;
 make</userinput></screen>
 
@@ -112,14 +113,7 @@
 
   </sect2>
 
-    <para><option>- -xyz</option>: This option is set for ...</para>
-  </sect2>
--->
   <sect2 role="content">
     <title>Contents</title>
 
@@ -135,24 +129,7 @@
       </seglistitem>
     </segmentedlist>
 
-      <varlistentry id="a-kdepimlibs">
-        <term><command>kdepimlibs</command></term>
-        <listitem>
-          <para>is a testing utility for kdepimlibs-generated build trees.</para>
-          <indexterm zone="a-kdepimlibs kdepimlibs">
-            <primary sortas="b-kdepimlibs">kdepimlibs</primary>
-          </indexterm>
-        </listitem>
-      </varlistentry>
-    </variablelist>
--->
   </sect2>
 
 </sect1>

Index: kde/core/nepomuk-core.xml
===================================================================
--- kde/core/nepomuk-core.xml	(revision 10920)
+++ kde/core/nepomuk-core.xml	(revision 10921)
@@ -87,10 +87,11 @@
     <para>Install <application>nepomuk-core</application> by running the following
     commands:</para>
 
+<!-- Nothing is installed in sysconfdir ... -->
 <screen><userinput>mkdir build &amp;&amp;
 cd build &amp;&amp;
 cmake -DCMAKE_INSTALL_PREFIX=&kde-dir; \
-      -DSYSCONF_INSTALL_DIR=/etc/kde \
+      -DCMAKE_BUILD_TYPE=Release \
       .. &amp;&amp;
 make</userinput></screen>
 
@@ -128,24 +119,7 @@
       </seglistitem>
     </segmentedlist>
 
-      <varlistentry id="a-nepomuk-core">
-        <term><command>nepomuk-core</command></term>
-        <listitem>
-          <para>is a testing utility for nepomuk-core-generated build trees.</para>
-          <indexterm zone="a-nepomuk-core nepomuk-core">
-            <primary sortas="b-nepomuk-core">kdelibs</primary>
-          </indexterm>
-        </listitem>
-      </varlistentry>
-    </variablelist>
--->
   </sect2>
 
 </sect1>

Index: kde/core/oxygen-icons.xml
===================================================================
--- kde/core/oxygen-icons.xml	(revision 10920)
+++ kde/core/oxygen-icons.xml	(revision 10921)
@@ -56,23 +56,13 @@
     <para role="required">
     <xref linkend="cmake"/>
     </para>
--->
     <para condition="html" role="usernotes">User Notes:
     <ulink url="&blfs-wiki;/oxygen-icons"/></para>
 
@@ -94,22 +84,13 @@
     <segmentedlist>
       <segtitle>Installed Programs</segtitle>
       <segtitle>Installed Libraries</segtitle>
-      <segtitle>Installed Directories</segtitle>
+      <segtitle>Installed Directory</segtitle>
 
       <seglistitem>
         <seg>none</seg>

Index: postlfs/config/users.xml
===================================================================
--- postlfs/config/users.xml	(revision 10920)
+++ postlfs/config/users.xml	(revision 10921)
@@ -88,6 +88,7 @@
         <row><entry>mail    </entry><entry>  </entry><entry>34</entry></row>
         <row><entry>vmailman</entry><entry>35</entry><entry>35</entry></row>
         <row><entry>news    </entry><entry>36</entry><entry>36</entry></row>
+        <row><entry>kdm     </entry><entry>37</entry><entry>37</entry></row>
         <row><entry>mysql   </entry><entry>40</entry><entry>40</entry></row>
         <row><entry>postgres</entry><entry>41</entry><entry>41</entry></row>
         <row><entry>ftp     </entry><entry>45</entry><entry>45</entry></row>

