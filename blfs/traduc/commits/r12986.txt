Révision 12986

fichiers modifiés :
   postlfs/security/gnutls.xml
   introduction/welcome/changelog.xml

Log :
1 line gnutls-3.3.1: build with guile is back and the test suite is working, with added patch.

Le robot a traité 16 % du commit anglais
Index: introduction/welcome/changelog.xml
===================================================================
--- introduction/welcome/changelog.xml	(revision 12985)
+++ introduction/welcome/changelog.xml	(revision 12986)
@@ -48,6 +48,10 @@
       <para>April 21th, 2014</para>
       <itemizedlist>
         <listitem>
+          <para>[fernando] - gnutls-3.3.1: fixes to build with guile and for
+          the test suite.</para>
+        </listitem>
+        <listitem>
           <para>[fernando] - gnutls-3.3.1. Fixes
           <ulink url="&blfs-ticket-root;4979">#4979</ulink>.</para>
         </listitem>

Index: postlfs/security/gnutls.xml
===================================================================
--- postlfs/security/gnutls.xml	(revision 12985)
+++ postlfs/security/gnutls.xml	(revision 12986)
@@ -89,6 +89,16 @@
       </listitem>
     </itemizedlist>
 
+    <bridgehead renderas="sect3">Additional Downloads</bridgehead>
+    <itemizedlist spacing="compact">
+      <listitem>
+        <para>
+          Required patch:
+          <ulink url="&patch-root;/gnutls-&gnutls-version;-upstream_fixes-1.patch"/>
+        </para>
+      </listitem>
+    </itemizedlist>
     <bridgehead renderas="sect3">GnuTLS Dependencies</bridgehead>
 
     <bridgehead renderas="sect4">Required</bridgehead>
@@ -106,7 +116,7 @@
     <para role="optional">
       <ulink url="http://ftp.gnu.org/gnu/autogen/">autogen</ulink>,
       <xref linkend="gtk-doc"/>,
+      <xref linkend="guile"/>,
       <xref linkend="libidn"/>,
       <xref linkend="p11-kit"/>,
       <ulink url="http://sourceforge.net/projects/trousers/files/trousers/">Trousers</ulink> (Trusted Platform Module support),
@@ -133,14 +143,13 @@
       following commands:
     </para>
 
-<screen><userinput>./configure --prefix=/usr \
---disable-guile \
+<screen><userinput>patch -Np1 -i ../gnutls-&gnutls-version;-upstream_fixes-1.patch               &amp;&amp;
+./configure --prefix=/usr \
             --with-default-trust-store-file=/etc/ssl/ca-bundle.crt &amp;&amp;
 make</userinput></screen>
 
     <para>
-To test the results, issue: <command>make -k check</command>. Tests may
-fail for unknown reasons.
+      To test the results, issue: <command>make check</command>.
     </para>
 
     <para>
@@ -166,11 +175,6 @@
     <title>Command Explanations</title>
 
     <para>
-<parameter>--disable-guile</parameter>:
-Current version cannot be built with <xref linkend="guile"/>.
-</para>
-<para>
       <parameter>--with-default-trust-store-file=/etc/ssl/ca-bundle.crt</parameter>:
       This switch tells <command>configure</command> where to find the
       CA Certificates.
@@ -192,17 +196,17 @@
          gnutls-serv, ocsptool, p11tool, psktool, and srptool
         </seg>
         <seg>
-libgnutls.so, libgnutls-dane.so, libgnutls-openssl.so,
-and libgnutlsxx.so
-<!--      and /usr/lib/guile/2.0/guile-gnutls-v-2.so-->
+          libgnutls.so, libgnutls-dane.so,
+          libgnutls-openssl.so, libgnutlsxx.so, and
+          /usr/lib/guile/2.0/guile-gnutls-v-2.so
         </seg>
         <seg>
-/usr/include/gnutls and
-/usr/share/gtk-doc/html/gnutls
-<!--      and /usr/share/guile/site/gnutls-->
+          /usr/include/gnutls,
+          /usr/share/gtk-doc/html/gnutls, and
+          /usr/share/guile/site/gnutl
         </seg>
       </seglistitem>
     </segmentedlist>

