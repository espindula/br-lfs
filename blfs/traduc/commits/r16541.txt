Révision 16541

fichiers modifiés :
   general.ent
   packages.ent
   x/installing/mesa.xml
   x/lib/libdrm.xml
   general/prog/llvm.xml
   general/prog/elfutils.xml
   general/graphlib/harfbuzz.xml
   general/graphlib/freetype2.xml
   introduction/welcome/changelog.xml

Log :
• Update to freetype-2.6.1. • Update to harfbuzz-1.0.6. • libdrm-2.4.65 will build without Valgrind. • Update to elfutils-0.164. • Mesa-11.0.3: update to mesa-11.0.3-add_xdemos-2.patch. • LLVM-3.7.0: minor changes.

Le robot a traité 44 % du commit anglais
Index: general/graphlib/freetype2.xml
===================================================================
--- general/graphlib/freetype2.xml	(révision 16540)
+++ general/graphlib/freetype2.xml	(révision 16541)
@@ -133,12 +133,12 @@
       commands:
     </para>
 
-<screen><userinput>sed -i  -e "/AUX.*.gxvalid/s@^# @@" \
--e "/AUX.*.otvalid/s@^# @@" \
-modules.cfg                        &amp;&amp;
+<screen><userinput>sed -e "/AUX.*.gxvalid/s@^# @@" \
+    -e "/AUX.*.otvalid/s@^# @@" \
+    -i modules.cfg              &amp;&amp;
 
-sed -ri -e 's:.*(#.*SUBPIXEL.*) .*:\1:' \
-include/config/ftoption.h          &amp;&amp;
+sed -e 's:.*\(#.*SUBPIXEL.*\) .*:\1:' \
+    -i include/freetype/config/ftoption.h  &amp;&amp;
 
 ./configure --prefix=/usr --disable-static &amp;&amp;
 make</userinput></screen>

Index: general/graphlib/harfbuzz.xml
===================================================================
--- general/graphlib/harfbuzz.xml	(révision 16540)
+++ general/graphlib/harfbuzz.xml	(révision 16541)
@@ -117,6 +117,13 @@
 make</userinput></screen>
 
     <para>
+      If you wish to execute the test suite, fix one test that fails:
+    </para>
+<screen><userinput>sed -e 's/2048/4352/' \
+    -i test/shaping/tests/fuzzed.tests</userinput></screen>
+    <para>
       To test the results, issue: <command>make check</command>.
     </para>
 

Index: general/prog/elfutils.xml
===================================================================
--- general/prog/elfutils.xml	(révision 16540)
+++ general/prog/elfutils.xml	(révision 16541)
@@ -72,6 +72,13 @@
       </listitem>
     </itemizedlist>
 
+    <bridgehead renderas="sect3">elfutils Dependencies</bridgehead>
+    <bridgehead renderas="sect4">Optional</bridgehead>
+    <para role="optional">
+      <xref linkend="valgrind"/>
+    </para>
     <para condition="html" role="usernotes">
       User Notes: <ulink url="&blfs-wiki;/elfutils"/>
     </para>
@@ -118,6 +125,10 @@
       <application>Binutils</application> programs installed in LFS.
     </para>
 
+    <para>
+      <option>--enable-valgrind</option>: Run all tests under valgrind.
+    </para>
   </sect2>
 
   <sect2 role="content">

Index: general/prog/llvm.xml
===================================================================
--- general/prog/llvm.xml	(révision 16540)
+++ general/prog/llvm.xml	(révision 16541)
@@ -247,13 +247,15 @@
 do
  cp -rfv ../tools/clang/tools/$prog /usr/lib/clang-analyzer/ &amp;&amp;
   ln -sfv ../lib/clang-analyzer/$prog/$prog /usr/bin/
-done &amp;&amp;
+done
+unset prog &amp;&amp;
 
-ln -sfv /usr/bin/clang /usr/lib/clang-analyzer/scan-build/ &amp;&amp;
-mv -v /usr/lib/clang-analyzer/scan-build/scan-build.1 /usr/share/man/man1/ &amp;&amp;
-unset prog</userinput></screen>
+ln -sfv /usr/bin/clang \
+        /usr/lib/clang-analyzer/scan-build/ &amp;&amp;
+mv -v   /usr/lib/clang-analyzer/scan-build/scan-build.1 \
+        /usr/share/man/man1/</userinput></screen>
 
     <para>
       If you have built manual pages, install them by running the

Index: introduction/welcome/changelog.xml
===================================================================
--- introduction/welcome/changelog.xml	(révision 16540)
+++ introduction/welcome/changelog.xml	(révision 16541)
@@ -44,7 +44,30 @@
 -->
 
     <listitem>
+      <para>October 17th, 2015</para>
+      <itemizedlist>
+        <listitem>
+          <para>[fernando] - Update to elfutils-0.164. Fixes
+          <ulink url="&blfs-ticket-root;7027">#7027</ulink>.</para>
+        </listitem>
+        <listitem>
+          <para>[fernando] - libdrm-2.4.65 will build without Valgrind. Fixes
+          <ulink url="&blfs-ticket-root;7024">#7024</ulink>.</para>
+        </listitem>
+        <listitem>
+          <para>[fernando] - Update to harfbuzz-1.0.6. Fixes
+          <ulink url="&blfs-ticket-root;7017">#7017</ulink>.</para>
+        </listitem>
+        <listitem>
+          <para>[fernando] - Update to freetype-2.6.1. Fixes
+          <ulink url="&blfs-ticket-root;6993">#6993</ulink>.</para>
+        </listitem>
+      </itemizedlist>
+    </listitem>
+    <listitem>
       <para>October 16th, 2015</para>
       <itemizedlist>
         <listitem>

Index: x/installing/mesa.xml
===================================================================
--- x/installing/mesa.xml	(révision 16540)
+++ x/installing/mesa.xml	(révision 16541)
@@ -76,7 +76,7 @@
         <para>
           Recommended patch:
           <ulink
-url="&patch-root;/mesa-&mesa-version;-add_xdemos-1.patch"/>
+            url="&patch-root;/mesa-&mesa-version;-add_xdemos-2.patch"/>
           (installs 2 demo programs for testing Mesa - not needed if you
           install the <ulink url="ftp://ftp.freedesktop.org/pub/mesa/demos/">
           mesa-demos</ulink> package)
@@ -140,7 +140,7 @@
       command:
     </para>
 
-<screen><userinput>patch -Np1 -i ../mesa-&mesa-version;-add_xdemos-1.patch</userinput></screen>
+<screen><userinput>patch -Np1 -i ../mesa-&mesa-version;-add_xdemos-2.patch</userinput></screen>
 
     <para>
       Install <application>Mesa</application> by running the following

Index: x/lib/libdrm.xml
===================================================================
--- x/lib/libdrm.xml	(révision 16540)
+++ x/lib/libdrm.xml	(révision 16541)
@@ -105,9 +105,8 @@
     -i configure.ac &amp;&amp;
 autoreconf -fiv     &amp;&amp;
 
-./configure --prefix=/usr \
---enable-udev \
---disable-valgrind &amp;&amp;
+./configure --prefix=/usr --enable-udev &amp;&amp;
 make</userinput></screen>
 
     <para>
@@ -138,11 +137,12 @@
       <parameter>--enable-udev</parameter>: This parameter enables support for using
       <application>Udev</application> instead of <command>mknod</command>.
     </para>
+<!--
     <para>
-<parameter>--disable-valgrind</parameter>: This parameter fixes a hard dependency on
+      <parameter>-\-disable-valgrind</parameter>: This parameter fixes a hard dependency on
       <application>Valgrind</application>.
    </para> -->
   </sect2>

