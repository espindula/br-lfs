Révision 14863

fichiers modifiés :
   xsoft/graphweb/seamonkey.xml
   general/graphlib/libjpeg-turbo.xml

Log :
Clarify wording in SeaMonkey about optimization. Add note to libjpeg-turbo about installing over older versions of jpeg.

Le robot a traité 19 % du commit anglais
Index: general/graphlib/libjpeg-turbo.xml
===================================================================
--- general/graphlib/libjpeg-turbo.xml	(révision 14862)
+++ general/graphlib/libjpeg-turbo.xml	(révision 14863)
@@ -106,6 +106,16 @@
       To test the results, issue: <command>make test</command>.
     </para>
 
+    <note><para>
+      If installing <application>libjpeg-turbo</application> over an older jpeg
+      installation, not all library symbolic links are updated properly.  To fix
+      this before installation, run the following as the <systemitem
+      class="username">root</systemitem> user:</para>
+<screen role="root"><userinput>rm -f /usr/lib/libjpeg.so*</userinput></screen>
+    </note>
     <para>
       Now, as the <systemitem class="username">root</systemitem> user:
     </para>

Index: xsoft/graphweb/seamonkey.xml
===================================================================
--- xsoft/graphweb/seamonkey.xml	(révision 14862)
+++ xsoft/graphweb/seamonkey.xml	(révision 14863)
@@ -155,14 +155,7 @@
   <sect2 role="installation">
     <title>Installation of SeaMonkey</title>
 
-<screen><userinput>patch -p1 &lt; ../seamonkey-&seamonkey-version;-necko-wifi-1.patch</userinput></screen>
--->
     <para>
       The configuration of <application>SeaMonkey</application> is accomplished
       by creating a <filename>mozconfig</filename> file containing the desired
@@ -176,7 +169,7 @@
 
 <screen><?dbfo keep-together="auto"?><userinput>cat &gt; mozconfig &lt;&lt; "EOF"
 <literal># If you have a multicore machine, all cores will be used by default.
-# Exceptionally, you can reduce the number used of cores, e.g. to 1, by
+# If desired, you can reduce the number of cores used, e.g. to 1, by
 # uncommenting the next line and setting a valid number of CPU cores.
 #mk_add_options MOZ_MAKE_FLAGS="-j1"
 
@@ -249,19 +242,20 @@
 EOF</userinput></screen>
 
     <para>
-There is a problem in i686 systems, when build with
-<application>gcc</application> ranging from 4.8 to 4.9.1, and using the
-switch <quote>--enable-optimize</quote>. You have two alternatives, best
-one being the upgrade of <application>gcc</application> to version 4.9.2,
-because that switch implies better perfomance and smaller binaries.
-However, if you do not wish to upgrade gcc, disable the switch with:
+      There is a problem on i686 systems when building
+      <application>SeaMonkey</application> with <application>gcc</application>
+      versions ranging from 4.8 to 4.9.1 and using the switch
+      <quote>--enable-optimize</quote>. There are two alternatives. The best
+      one is to upgrade <application>gcc</application> to version 4.9.2 or later,
+      because it will give better perfomance and smaller binaries.  However, if
+      you do not wish to upgrade gcc, reduce the level of optimization with:
     </para>
 
-<screen><userinput>test $(uname -m) = "i686" &amp;&amp; sed -i 's/enable-optimize/disable-optimize/' mozconfig || true</userinput></screen>
+<screen><userinput>test $(uname -m) = "i686" &amp;&amp; sed -i 's/enable-optimize/&amp;=-O2/' mozconfig || true</userinput></screen>
 
     <note><para>
       If you are compiling <application>SeaMonkey</application> in chroot, make
-sure you have <envar>$SHELL</envar> environment variable set or prepend
+      sure you have the <envar>SHELL</envar> environment variable set or prepend
       <envar>SHELL=/bin/sh</envar> to the first make command below.
     </para></note>
 

