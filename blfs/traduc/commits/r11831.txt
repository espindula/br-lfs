Révision 11831

fichiers modifiés :
   general.ent
   server/databases/postgresql.xml
   introduction/welcome/changelog.xml

Log :
postgresql-9.3.0

Le robot a traité 16 % du commit anglais
Index: introduction/welcome/changelog.xml
===================================================================
--- introduction/welcome/changelog.xml	(révision 11830)
+++ introduction/welcome/changelog.xml	(révision 11831)
@@ -47,6 +47,10 @@
       <para>September 12th, 2013</para>
       <itemizedlist>
         <listitem>
+          <para>[ken] - Update to postgresql-9.3.0.  Fixes
+          <ulink url="&blfs-ticket-root;4049">#4049</ulink>.</para>
+        </listitem>
+        <listitem>
           <para>[fernando] - Update to cups-filters-1.0.38. Fixes
           <ulink url="&blfs-ticket-root;4009">#4009</ulink></para>
         </listitem>

Index: server/databases/postgresql.xml
===================================================================
--- server/databases/postgresql.xml	(révision 11830)
+++ server/databases/postgresql.xml	(révision 11831)
@@ -95,6 +95,8 @@
 
 <screen><userinput>sed -e "s@DEFAULT_PGSOCKET_DIR  \"/tmp\"@DEFAULT_PGSOCKET_DIR  \"/run/postgresql\"@" \
     -i src/include/pg_config_manual.h &amp;&amp;
+sed -i -e 's@psql\\"@&amp; -h /tmp@' src/test/regress/pg_regress{,_main}.c &amp;&amp;
+sed -i -e 's@gres\\"@&amp; -k /tmp@' src/test/regress/pg_regress.c &amp;&amp;
 ./configure --prefix=/usr          \
             --enable-thread-safety \
             --docdir=/usr/share/doc/postgresql-&postgresql-version; &amp;&amp;
@@ -102,11 +104,22 @@
 
     <para>To test the results, issue: <command>make check</command>.</para>
 
+    <para>There are a number of programs in the
+    <filename class="directory">contrib/</filename> directory.  If you wish to
+    build some of them, enter <command>make -C contrib</command> or
+    <command>make -C contrib/&lt;SUBDIR-NAME&gt;</command> for each subdirectory.
+    </para>
     <para>Now, as the <systemitem class="username">root</systemitem> user:</para>
 
 <screen role="root"><userinput>make install      &amp;&amp;
 make install-docs</userinput></screen>
 
+    <para>If you made any of the <filename class="directory">contrib/</filename>
+    programs, as the <systemitem class="username">root</systemitem> user:</para>
+<screen role="nodump/"><userinput>make -C contrib/&lt;SUBDIR-NAME&gt; install</userinput></screen>
     <!-- 'Upgrading' seems to only ever exist in the docs for *previous* version -->
     <note>
       <para>If you are upgrading an existing system and are going to install
@@ -153,9 +166,11 @@
     <title>Command Explanations</title>
 
     <para>
-<command>sed -e ...</command>: This sed changes server socket location
+      <command>sed -e ...</command>: These seds change server socket location
       from <filename class="directory">/tmp</filename> to
-<filename class="directory">/run/postgresql</filename>.
+      <filename class="directory">/run/postgresql</filename> and fix up the
+      regression tests to use <filename class="directory">/tmp</filename> so
+      that they can work reliably.
     </para>
 
     <para><parameter>--docdir=/usr/share/doc/postgresql-&postgresql-version;</parameter>:
@@ -166,6 +181,10 @@
     <filename class='libraryfile'>libpq</filename> and ECPG programs to safely
     control their private connection handles.</para>
 
+    <para><parameter>make -C contrib/&lt;SUBDIR-NAME&gt; ...</parameter>: replace
+    &lt;SUBDIR-NAME&gt; with the name of the subdirectory you wish to build or
+    install.</para>
     <para><option>--with-openssl</option>: build with support for
     <application>OpenSSL</application> encrypted connections.</para>
 
@@ -249,9 +268,11 @@
       <seglistitem>
         <seg>clusterdb, createdb, createlang, createuser, dropdb, droplang,
         dropuser, ecpg, initdb, pg_basebackup, pg_config, pg_controldata, pg_ctl,
-pg_dump, pg_dumpall, pg_resetxlog, pg_restore, pltcl_delmod,
+        pg_dump, pg_dumpall, pg_isready, pg_resetxlog, pg_restore, pltcl_delmod,
         pltcl_listmod, pltcl_loadmod, postgres, postmaster, psql,
-reindexdb, and vacuumdb</seg>
+        reindexdb, and vacuumdb. Optionally (in contrib/) oid2name, pg_archivecleanup,
+        pgbench, pg_standby, pg_test_fsync, pg_test_timing, pg_upgrade, pg_xlogdump,
+        vacuumlo,</seg>
         <seg>libecpg.{so,a}, libecpg_compat.{so,a}, libpgport.a, libpgtypes.{so,a},
         libpq.{so,a}, and various charset (and optionally, programming language)
         modules.</seg>
@@ -362,6 +383,27 @@
         </listitem>
       </varlistentry>
 
+      <varlistentry id="oid2name">
+        <term><command>oid2name</command></term>
+        <listitem>
+          <para>resolves OIDs (Object IDs) and file nodes in a PostgreSQL data
+          directory.</para>
+          <indexterm zone="postgresql oid2name">
+            <primary sortas="b-oid2name">oid2name</primary>
+          </indexterm>
+        </listitem>
+      </varlistentry>
+      <varlistentry id="pg_archivecleanup">
+        <term><command>pg_archivecleanup</command></term>
+        <listitem>
+          <para>clean up PostgreSQL WAL (write-ahead log) archive files.</para>
+          <indexterm zone="postgresql pg_archivecleanup">
+            <primary sortas="b-pg_archivecleanup">pg_archivecleanup</primary>
+          </indexterm>
+        </listitem>
+      </varlistentry>
       <varlistentry id="pg_basebackup">
         <term><command>pg_basebackup</command></term>
         <listitem>
@@ -428,6 +470,16 @@
         </listitem>
       </varlistentry>
 
+      <varlistentry id="pg_isready">
+        <term><command>pg_isready</command></term>
+        <listitem>
+          <para>check the connection status of a PostgreSQL server.</para>
+          <indexterm zone="postgresql pg_isready">
+            <primary sortas="b-pg_isready">pg_isready</primary>
+          </indexterm>
+        </listitem>
+      </varlistentry>
       <varlistentry id="pg_resetxlog">
         <term><command>pg_resetxlog</command></term>
         <listitem>
@@ -450,6 +502,68 @@
         </listitem>
       </varlistentry>
 
+      <varlistentry id="pg_standby">
+        <term><command>pg_standby</command></term>
+        <listitem>
+          <para>supports the creation of a PostgreSQL warm standby
+          server.</para>
+          <indexterm zone="postgresql pg_standby">
+            <primary sortas="b-pg_standby">pg_standby</primary>
+          </indexterm>
+        </listitem>
+      </varlistentry>
+      <varlistentry id="pg_test_fsync">
+        <term><command>pg_test_fsync</command></term>
+        <listitem>
+          <para>determine fastest wal_sync method for PostgreSQL.</para>
+          <indexterm zone="postgresql pg_test_fsync">
+            <primary sortas="b-pg_test_fsync">pg_test_fsync</primary>
+          </indexterm>
+        </listitem>
+      </varlistentry>
+      <varlistentry id="pg_test_timing">
+        <term><command>pg_test_timing</command></term>
+        <listitem>
+          <para>measure timing overhead.</para>
+          <indexterm zone="postgresql pg_test_timing">
+            <primary sortas="b-pg_test_timing">pg_test_timing</primary>
+          </indexterm>
+        </listitem>
+      </varlistentry>
+      <varlistentry id="pg_upgrade">
+        <term><command>pg_upgrade</command></term>
+        <listitem>
+          <para>upgrade a PostgreSQL server instance.</para>
+          <indexterm zone="postgresql pg_upgrade">
+            <primary sortas="b-pg_upgrade">pg_upgrade</primary>
+          </indexterm>
+        </listitem>
+      </varlistentry>
+      <varlistentry id="pg_xlogdump">
+        <term><command>pg_xlogdump</command></term>
+        <listitem>
+          <para>display a human-readable rendering of the write-ahead log of a
+          PostgreSQL database cluster.</para>
+          <indexterm zone="postgresql pg_xlogdump">
+            <primary sortas="b-pg_xlogdump">pg_xlogdump</primary>
+          </indexterm>
+        </listitem>
+      </varlistentry>
+      <varlistentry id="pgbench">
+        <term><command>pgbench</command></term>
+        <listitem>
+          <para>run a benchmark test on PostgreSQL.</para>
+          <indexterm zone="postgresql pgbench">
+            <primary sortas="b-pgbench">pgbench</primary>
+          </indexterm>
+        </listitem>
+      </varlistentry>
       <varlistentry id="pltcl_delmod">
         <term><command>pltcl_delmod</command></term>
         <listitem>
@@ -545,6 +659,16 @@
         </listitem>
       </varlistentry>
 
+      <varlistentry id="vacuumlo">
+        <term><command>vacuumlo</command></term>
+        <listitem>
+          <para>remove orphaned large objects from a PostgreSQL database.</para>
+          <indexterm zone="postgresql vacuumlo">
+            <primary sortas="b-vacuumlo">vacuumlo</primary>
+          </indexterm>
+        </listitem>
+      </varlistentry>
       <varlistentry id="libecpg">
         <term><filename class='libraryfile'>libecpg.{so,a}</filename></term>
         <listitem>

