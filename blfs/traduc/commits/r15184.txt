Révision 15184

fichiers modifiés :
   packages.ent
   introduction/welcome/changelog.xml
   postlfs/virtualization/qemu.xml

Log :
Update to qemu-2.2.0

Le robot a traité 34 % du commit anglais
Index: introduction/welcome/changelog.xml
===================================================================
--- introduction/welcome/changelog.xml	(révision 15183)
+++ introduction/welcome/changelog.xml	(révision 15184)
@@ -48,6 +48,10 @@
       <para>December 10th, 2014</para>
       <itemizedlist>
         <listitem>
+          <para>[bdubbs] - Update to qemu-2.2.0. Fixes
+          <ulink url="&blfs-ticket-root;5936">#5936</ulink>.</para>
+        </listitem>
+        <listitem>
           <para>[fernando] - Update to BIND-9.10.1-P1 and BIND
           Utilities-9.10.1-P1. Fixes
           <ulink url="&blfs-ticket-root;5932">#5932</ulink>.</para>

Index: postlfs/virtualization/qemu.xml
===================================================================
--- postlfs/virtualization/qemu.xml	(révision 15183)
+++ postlfs/virtualization/qemu.xml	(révision 15184)
@@ -143,7 +143,9 @@
     <para>Install <application>qemu</application> by running the following
     commands:</para>
 
-<screen><userinput>./configure --prefix=/usr \
+<screen><userinput>sed -i '/resource/ i#include &lt;sys/xattr.h&gt;' fsdev/virtfs-proxy-helper.c &amp;&amp;
+./configure --prefix=/usr \
             --sysconfdir=/etc \
             --docdir=/usr/share/doc/qemu-&qemu-version; \
             --target-list=x86_64-softmmu &amp;&amp;
@@ -158,11 +160,14 @@
 
     <para>
       You will need a dedicated group that will contain users (other than root)
-allowed to access the KVM device. Add the group by running the following
-command as the <systemitem class="username">root</systemitem> user:
+      allowed to access the KVM device.  Add the group and allow network
+      bridging connectivity for that group by running the following commands as
+      the <systemitem class="username">root</systemitem> user:
     </para>
 
-<screen role="root"><userinput>groupadd -g 61 kvm</userinput></screen>
+<screen role="root"><userinput>groupadd -g 61 kvm                         &amp;&amp;
+chgrp kvm  /usr/libexec/qemu-bridge-helper &amp;&amp;
+chmod 4750 /usr/libexec/qemu-bridge-helper</userinput></screen>
 
     <para>
       Add any users that might use the KVM device to that group:
@@ -195,6 +200,9 @@
   <sect2 role="commands">
     <title>Command Explanations</title>
 
+    <para><command>sed ... virtfs-proxy-helper.c</command>: Fix a build
+    problem introduced by recent glibc include files.</para>
     <para><parameter>--target-list=x86_64-softmmu</parameter>: This switch
     limits the build target to the x86_64 architecture.  For other 
     hardware emulation see the --target-list list in <command>configure</command>'s

