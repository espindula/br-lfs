Révision 12099

fichiers modifiés :
   x/lib/qt4.xml

Log :
prevent qt configure to write in / if building as root

Le robot a traité 0 % du commit anglais
Index: x/lib/qt4.xml
===================================================================
--- x/lib/qt4.xml	(révision 12098)
+++ x/lib/qt4.xml	(révision 12099)
@@ -214,6 +214,8 @@
 
 <screen><userinput>sed -i -e "/#if/d" -e "/#error/d" -e "/#endif/d" \
      config.tests/unix/libmng/libmng.cpp &amp;&amp;
+sed -i '/CONFIG -/ a\isEmpty(OUTPUT_DIR): OUTPUT_DIR = ../..' \
+     src/3rdparty/webkit/Source/WebKit2/DerivedSources.pro &amp;&amp;
 
 ./configure -prefix         /usr                 \
             -bindir         /usr/lib/qt4/bin     \
@@ -311,6 +313,8 @@
 
 <screen><userinput>sed -i -e "/#if/d" -e "/#error/d" -e "/#endif/d" \
      config.tests/unix/libmng/libmng.cpp &amp;&amp;
+sed -i '/CONFIG -/ a\isEmpty(OUTPUT_DIR): OUTPUT_DIR = ../..' \
+     src/3rdparty/webkit/Source/WebKit2/DerivedSources.pro &amp;&amp;
 
 export QTDIR=/opt/qt-&qt4-version;
 
@@ -373,8 +377,9 @@
     <title>Command Explanations</title>
 
     <para>
-<command>sed -i "..." ...</command>: This command fixes
-detection of <application>libmng</application> 2.0.
+      <command>sed -i ...</command>: First command fixes detection of
+      <application>libmng</application> 2.0 and second one prevents configure
+      script to write in root directory if building as privileged user.
     </para>
 
     <para>

