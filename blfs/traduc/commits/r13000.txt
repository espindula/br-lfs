Révision 13000

fichiers modifiés :
   xsoft/other/inkscape.xml
   x/lib/cairo.xml
   general/prog/ruby.xml
   general/graphlib/poppler.xml
   introduction/welcome/changelog.xml
   general.ent

Log :
1 line Fixes to Inkscape-0.48.4, Cairo-1.12.16, Poppler-0.26.0 and Ruby-2.1.1. Thanks Igor Z and Armin K.

Le robot a traité 15 % du commit anglais
Index: general.ent
===================================================================
--- general.ent	(revision 12999)
+++ general.ent	(revision 13000)
@@ -1,12 +1,12 @@
 <!-- $LastChangedBy$ $Date$ -->
 
+<!ENTITY day          "27">                   <!-- Always 2 digits -->
 <!ENTITY month        "04">                   <!-- Always 2 digits -->
 <!ENTITY year         "2014">
 <!ENTITY copyrightdate "2001-&year;">

Index: general/graphlib/poppler.xml
===================================================================
--- general/graphlib/poppler.xml	(revision 12999)
+++ general/graphlib/poppler.xml	(revision 13000)
@@ -152,14 +152,6 @@
 <screen><userinput>git clone git://git.freedesktop.org/git/poppler/test ../test</userinput></screen>
 
     <para>
-If you are building <application>Qt5</application> library, fix
-<application>Qt5</application> detection by running the
-following command:
-</para>
-<screen><userinput>sed -i -e "s:grep \"Qt 5\":grep \" 5\\\\.\":g" configure</userinput></screen>
-<para>
       If you are not building both  <application>Qt</application> libraries,
       jump to the following paragraph. In order to build both
       <application>Qt4</application> and <application>Qt5</application>

Index: general/prog/ruby.xml
===================================================================
--- general/prog/ruby.xml	(revision 12999)
+++ general/prog/ruby.xml	(revision 13000)
@@ -99,9 +99,7 @@
       commands:
     </para>
 
-<screen><userinput>sed -i ext/readline/readline.c \
--e "s:(Function \*)readline:(rl_hook_func_t \*)readline:" &amp;&amp;
-./configure --prefix=/usr   \
+<screen><userinput>./configure --prefix=/usr   \
             --enable-shared \
             --docdir=/usr/share/doc/ruby-&ruby-version; &amp;&amp; 
 make</userinput></screen>
@@ -122,12 +120,6 @@
     <title>Command Explanations</title>
 
     <para>
-<command>sed -i  ext/readline/readline.c ...</command>: This
-<command>sed</command> fixes building with
-<application>Readline</application> 6.x (x>2).
-</para>
-<para>
       <parameter>--enable-shared</parameter>: This switch enables building of
       the <filename class="libraryfile">libruby</filename> shared library.
     </para>

Index: introduction/welcome/changelog.xml
===================================================================
--- introduction/welcome/changelog.xml	(revision 12999)
+++ introduction/welcome/changelog.xml	(revision 13000)
@@ -45,6 +45,16 @@
 -->
 
     <listitem>
+      <para>April 27th, 2014</para>
+      <itemizedlist>
+        <listitem>
+          <para>[fernando] - Fixes to Inkscape-0.48.4, Cairo-1.12.16,
+          Poppler-0.26.0 and Ruby-2.1.1. Thanks Igor Z and Armin K.</para>
+        </listitem>
+      </itemizedlist>
+    </listitem>
+    <listitem>
       <para>April 24th, 2014</para>
       <itemizedlist>
         <listitem>

Index: x/lib/cairo.xml
===================================================================
--- x/lib/cairo.xml	(revision 12999)
+++ x/lib/cairo.xml	(revision 13000)
@@ -124,7 +124,8 @@
       commands:
     </para>
 
-<screen><userinput>./configure --prefix=/usr --disable-static &amp;&amp;
+<screen><userinput>CFLAGS="$CFLAGS -ffat-lto-objects" \
+./configure --prefix=/usr --disable-static &amp;&amp;
 make</userinput></screen>
 
     <para>
@@ -141,6 +142,11 @@
   <sect2 role="commands">
     <title>Command Explanations</title>
 
+    <para>
+      <command>CFLAGS="$CFLAGS -ffat-lto-objects"</command>: Fixes building
+      with GCC 4.9.
+    </para>
     <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
       href="../../xincludes/static-libraries.xml"/>
 

Index: xsoft/other/inkscape.xml
===================================================================
--- xsoft/other/inkscape.xml	(revision 12999)
+++ xsoft/other/inkscape.xml	(revision 13000)
@@ -141,7 +141,11 @@
       commands:
     </para>
 
-<screen><userinput>patch -Np1 -i ../inkscape-&inkscape-version;-gc-1.patch                                    &amp;&amp;
+<screen><userinput>sed -i src/extension/internal/pdfinput/pdf-parser.cpp \
+    -e "/GfxColorSpace::parse/s|NULL|&amp;, NULL|g"       \
+    -e "/lookupPattern/s:NULL:&amp;, NULL:g"              \
+    -e "/lookupShading/s:NULL:&amp;, NULL:g"              &amp;&amp;
+patch -Np1 -i ../inkscape-&inkscape-version;-gc-1.patch                                    &amp;&amp;
 patch -Np1 -i ../inkscape-&inkscape-version;-freetype-1.patch                              &amp;&amp;
 sed -e "s@commands_toolbox,@commands_toolbox@" -i src/widgets/desktop-widget.h &amp;&amp;
 ./configure --prefix=/usr                                                      &amp;&amp;
@@ -166,6 +170,11 @@
     <title>Command Explanations</title>
 
     <para>
+      <command>sed -i src/extension ...</command>:
+      This <command>sed</command> fixes building with poppler-0.26.0.
+    </para>
+    <para>
       <command>sed -e "s@commands_toolbox,@commands_toolbox@" ...</command>:
       This <command>sed</command> fixes building with GCC 4.8.
     </para>

