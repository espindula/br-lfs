Révision 15933

fichiers modifiés :
   pst/typesetting/biber.xml
   general/prog/perl-modules.xml
   introduction/welcome/changelog.xml
   packages.ent

Log :
biblatex-biber-2.0 with associated perl module changes : I also corrected some of the perl indexing re - vs :: and I have temporarily pointed the http download to my space on higgs until the tarball is safely in the correct place at anduin.

Le robot a traité 22 % du commit anglais
Index: general/prog/perl-modules.xml
===================================================================
--- general/prog/perl-modules.xml	(révision 15932)
+++ general/prog/perl-modules.xml	(révision 15933)
@@ -288,7 +288,7 @@
     Encode::EUCJPASCII-&Encode-EUCJPASCII-version;</bridgehead>
 
     <indexterm zone="perl-modules perl-encode-eucjpascii">
-<primary sortas="a-Encode-EUCJPASCII">Encode-EUCJPASCII</primary>
+      <primary sortas="a-Encode-EUCJPASCII">Encode::EUCJPASCII</primary>
     </indexterm>
 
     <para>Encode::EUCJPASCII provides an eucJP-open mapping. This module uses the
@@ -581,7 +581,7 @@
     IPC::Run3-&IPC-Run3-version;</bridgehead>
 
     <indexterm zone="perl-modules perl-ipc-run3">
-<primary sortas="a-IPC-Run3">IPC-Run3</primary>
+      <primary sortas="a-IPC-Run3">IPC::Run3</primary>
     </indexterm>
 
     <para>The IPC::Run3 module is used to run a subprocess with input/ouput
@@ -767,7 +767,7 @@
     Log-Log4perl-&Log-Log4perl-version; (a.k.a. Log::Log4perl)</bridgehead>
 
     <indexterm zone="perl-modules perl-log-log4perl">
-<primary sortas="a-Log-Log4perl">Log-Log4perl</primary>
+      <primary sortas="a-Log-Log4perl">Log::Log4perl</primary>
     </indexterm>
 
     <para>Log-Log4perl provides a Log4j implementation for
@@ -930,7 +930,7 @@
     </itemizedlist>
 
     <!-- Readonly::XS -->
-<bridgehead renderas="sect3" id="perl-readonly-xs"
+<!--    <bridgehead renderas="sect3" id="perl-readonly-xs"
     xreflabel="Readonly::XS-&Readonly-XS-version;">
     Readonly::XS-&Readonly-XS-version;</bridgehead>
 
@@ -968,7 +968,7 @@
     Regexp::Common-&Regexp-Common-version;</bridgehead>
 
     <indexterm zone="perl-modules perl-regexp-common">
-<primary sortas="a-Regexp-Common">Regexp-Common</primary>
+      <primary sortas="a-Regexp-Common">Regexp::Common</primary>
     </indexterm>
 
     <para>Regexp::Common provides commonly requested regular expressions. This
@@ -1035,7 +1035,7 @@
     Test-Command-&Test-Command-version; (Test::Command)</bridgehead>
 
     <indexterm zone="perl-modules perl-test-command">
-<primary sortas="a-Test::Command">Test::Command</primary>
+      <primary sortas="a-Test-Command">Test::Command</primary>
     </indexterm>
 
     <para>
@@ -1058,6 +1058,108 @@
       </listitem>
     </itemizedlist>
 
+    <!-- Test::Differences -->
+    <bridgehead renderas="sect3" id="perl-test-differences"
+    xreflabel="Test::Differences-&Test-Differences-version;">
+    Test::Differences-&Test-Differences-version;</bridgehead>
+    <indexterm zone="perl-modules perl-test-differences">
+      <primary sortas="a-Test-Differences">Test::Differences</primary>
+    </indexterm>
+    <para>Test::Differences - Test strings and data structures and show
+    differences if not ok. This module and its dependency modules use the
+    standard <xref linkend="perl-standard-install"/>.</para>
+    &lfs77_checked; &gcc5_checked;
+    <itemizedlist>
+      <listitem>
+        <para>
+          <ulink url="http://www.cpan.org/authors/id/D/DC/DCANTRELL/Test-Differences-&Test-Differences-version;.tar.gz">Test::Differences-&Test-Differences-version;</ulink>
+        </para>
+      </listitem>
+      <listitem>
+<literallayout>http://www.cpan.org/authors/id/D/DC/DCANTRELL/Test-Differences-&Test-Differences-version;.tar.gz
+MD5 sum: 473cce4879642e29d41bdfafd89c821d</literallayout>
+        <itemizedlist>
+          <listitem><literallayout><ulink url="http://search.cpan.org/~ovid/Text-Diff/">Text::Diff (for the testsuite)</ulink>
+(http://search.cpan.org/~ovid/Text-Diff/)</literallayout>
+            <itemizedlist>
+              <listitem><literallayout><ulink url="http://search.cpan.org/~tyemq/Algorithm-Diff/">Algorithm::Diff (for the testsuite)</ulink>
+(http://search.cpan.org/~tyemq/Algorithm-Diff/)</literallayout>
+              </listitem>
+            </itemizedlist>
+          </listitem>
+        </itemizedlist>
+      </listitem>
+    </itemizedlist>
+    <!-- Test::Pod -->
+    <bridgehead renderas="sect3" id="perl-test-pod"
+    xreflabel="Test::Pod-&Test-Pod-version;">
+    Test::Pod-&Test-Pod-version;</bridgehead>
+    <indexterm zone="perl-modules perl-test-pod">
+      <primary sortas="a-Test-Pod">Test::Pod</primary>
+    </indexterm>
+    <para>
+      Test::Pod checks for POD errors in files. It uses the standard
+      <xref linkend="perl-standard-install"/>.
+    </para>
+    &lfs77_checked; &gcc5_checked;
+    <itemizedlist>
+      <listitem>
+        <para>
+          <ulink url="http://www.cpan.org/authors/id/D/DW/DWHEELER/Test-Pod-&Test-Pod-version;.tar.gz">Test-Pod-&Test-Pod-version;</ulink>
+        </para>
+      </listitem>
+      <listitem>
+<literallayout>http://www.cpan.org/authors/id/D/DW/DWHEELER/Test-Pod-&Test-Pod-version;.tar.gz
+MD5 sum: c6bfd00ccdcb417d68fb3c0a0ec884c8</literallayout>
+      </listitem>
+    </itemizedlist>
+    <!-- Test::Pod::Coverage -->
+    <bridgehead renderas="sect3" id="perl-test-pod-coverage"
+    xreflabel="Test::Pod::Coverage-&Test-Pod-Coverage-version;">
+    Test::Pod::Coverage-&Test-Pod-Coverage-version;</bridgehead>
+    <indexterm zone="perl-modules perl-test-pod-coverage">
+      <primary sortas="a-Test-Pod-Coverage">Test::Pod::Coverage</primary>
+    </indexterm>
+    <para>Test::Pod::Coverage check for pod coverage. This module and its
+    dependency modules use the standard
+    <xref linkend="perl-standard-install"/>.</para>
+    &lfs77_checked; &gcc5_checked;
+    <itemizedlist>
+      <listitem>
+        <para>
+          <ulink url="http://www.cpan.org/authors/id/N/NE/NEILB/Test-Pod-Coverage-&Test-Pod-Coverage-version;.tar.gz">Test::Pod::Coverage-&Test-Pod-Coverage-version;</ulink>
+        </para>
+      </listitem>
+      <listitem>
+<literallayout>http://www.cpan.org/authors/id/N/NE/NEILB/Test-Pod-Coverage-&Test-Pod-Coverage-version;.tar.gz
+MD5 sum: c9ea5f4182415b13d2db18484a38c01b</literallayout>
+        <itemizedlist>
+          <listitem><literallayout><ulink url="http://search.cpan.org/~rclamp/Pod-Coverage/">Pod::Coverage (for the testsuite)</ulink>
+(http://search.cpan.org/~rclamp/Pod-Coverage/)</literallayout>
+            <itemizedlist>
+              <listitem><literallayout><ulink url="http://search.cpan.org/~andk/Devel-Symdump/">Devel::Symdump (for the testsuite)</ulink>
+(http://search.cpan.org/~andk/Devel-Symdump/)</literallayout>
+              </listitem>
+            </itemizedlist>
+          </listitem>
+        </itemizedlist>
+      </listitem>
+    </itemizedlist>
     <!-- Text::BibTeX -->
     <bridgehead renderas="sect3" id="perl-text-bibtex"
     xreflabel="Text::BibTeX-&Text-BibTeX-version;">
@@ -1078,7 +1180,7 @@
     <itemizedlist>
       <listitem>
         <para>
-<ulink url="http://www.cpan.org/authors/id/A/AM/AMBS/Text-BibTeX-&Text-BibTeX-version;.tar.gz">Text::BibTeX-&Text-BibTeX-version;</ulink>
+          <ulink url="http://www.cpan.org/authors/id/A/AM/AMBS/Text-BibTeX-&Text-BibTeX-version;.tar.gz">Text-BibTeX-&Text-BibTeX-version;</ulink>
         </para>
       </listitem>
       <listitem>
@@ -1137,6 +1239,35 @@
     </itemizedlist>
     -->
 
+    <!-- Text::Roman -->
+    <bridgehead renderas="sect3" id="perl-text-roman"
+    xreflabel="Text::Roman-&Text-Roman-version;">
+    Text::Roman-&Text-Roman-version;</bridgehead>
+    <indexterm zone="perl-modules perl-text-roman">
+      <primary sortas="a-Text-Roman">Text::Roman</primary>
+    </indexterm>
+    <para>
+      Text::Roman allows conversion between Roman and Arabic algorisms (number
+      systems, e.g. MCMXLV and 1945). This module uses the standard
+      <xref linkend="perl-standard-install"/>.
+    </para>
+    &lfs77_checked; &gcc5_checked;
+    <itemizedlist>
+      <listitem>
+        <para>
+          <ulink url="http://www.cpan.org/authors/id/S/SY/SYP/Text-Roman-&Text-Roman-version;.tar.gz">Text-Roman-&Text-Roman-version;</ulink>
+        </para>
+      </listitem>
+      <listitem>
+<literallayout>http://www.cpan.org/authors/id/S/SY/SYP/Text-Roman-&Text-Roman-version;.tar.gz
+MD5 sum: 1f6b09c0cc1f4425b565ff787a39fd83</literallayout>
+      </listitem>
+    </itemizedlist>
     <!-- Tk
     <bridgehead renderas="sect3" id="tk-perl"
     xreflabel="Tk-Perl-&Tk-Perl-version;">
@@ -1178,7 +1309,7 @@
     Unicode::Collate-&Unicode-Collate-version;</bridgehead>
 
     <indexterm zone="perl-modules perl-unicode-collate">
-<primary sortas="a-Unicode-Collate">Unicode-Collate</primary>
+      <primary sortas="a-Unicode-Collate">Unicode::Collate</primary>
     </indexterm>
 
     <para>Unicode::Collate  provides a Unicode collation algorithm. This module

Index: introduction/welcome/changelog.xml
===================================================================
--- introduction/welcome/changelog.xml	(révision 15932)
+++ introduction/welcome/changelog.xml	(révision 15933)
@@ -48,6 +48,15 @@
       <para>May 6th, 2015</para>
       <itemizedlist>
         <listitem>
+          <para>[ken] - Update to biblatex-biber-2.0 with consequential
+          changes to perl modules: remove Readonly::XS, add Test::Differences,
+          Test::Pod, Test::Pod::Coverage, Text::Roman. Fixes
+          <ulink url="&blfs-ticket-root;6433">#6433</ulink>. Special
+          thanks to Philip Kime for diagnosing my runtime problems: I had
+          an old (development) version of biblatex-3.0.tds and failed to
+          notice firefox had renamed the new download as '(1)'.</para>
+        </listitem>
+        <listitem>
           <para>[fernando] - Update to network-manager-applet-1.0.2. Fixes
           <ulink url="&blfs-ticket-root;6466">#6466</ulink>.</para>
         </listitem>

Index: pst/typesetting/biber.xml
===================================================================
--- pst/typesetting/biber.xml	(révision 15932)
+++ pst/typesetting/biber.xml	(révision 15933)
@@ -4,19 +4,20 @@
   <!ENTITY % general-entities SYSTEM "../../general.ent">
   %general-entities;
 
+<!-- temporarily point to higgs, until this is in the right place at anduin    
+  <!-- buildsize includes the installed biblatex -->
 
   <!ENTITY biblatex-download-ftp    "">
 
@@ -38,18 +39,10 @@
     <title>Introduction to biber</title>
 
     <para>Biber is a BibTeX replacement for users of biblatex, written in
-<application>Perl</application>. Unusually, the tarball itself is
-called just biblatex-biber.tar.gz but it will extract to a versioned
-directory. Please ensure you download it from the correct versioned
-directory at sourceforge.</para>
+    <application>Perl</application>. Upstream prefers to provide binaries
+    and no longer offers a source tarball, so that has been taken from the
+    tagged version in the git tree.</para>
 
-<para>This version fixes a problem when certain UTF-8 codepoints are
-used in the "key" value of a bibliography entry and current
-<application>perl</application> is used. It is shipped in current binary
-versions of <application>texlive</application> but requires a newer
-version of <application>biblatex</application> than is in the
-<application>texlive</application> source.</para>
     &lfs77_checked; &gcc5_checked;
 
     <bridgehead renderas="sect3">Package Information</bridgehead>
@@ -113,30 +106,28 @@
       <xref linkend="perl-list-allutils"/>
       <xref linkend="perl-regexp-common"/>
       <xref linkend="perl-text-bibtex"/>
+      <xref linkend="perl-text-roman"/>
       <!-- Collate.pm ships in perl, but is sometimes too old, and we like current
       versions.  Make the latest version required so that everyone is using the
-same version -->
+      same version.  In fact, the version in perl-5.20.2 is indeed too old for
+      biber-2.0 -->
       <xref linkend="perl-unicode-collate"/>
       <xref linkend="perl-unicode-linebreak"/>
       <xref linkend="perl-xml-libxml-simple"/>
       <xref linkend="perl-xml-libxslt"/>
       <xref linkend="perl-xml-writer"/> and
+      <!-- untarring biblatex requires that the texmf directories already exist -->
       <xref linkend="texlive"/>
     </para>
 
     <bridgehead renderas="sect4">Recommended</bridgehead>
     <para role="required">
-<xref linkend="perl-readonly-xs"/>, and
-<xref linkend="perl-file-which"/> (to run the testsuite)
+      <xref linkend="perl-file-which"/>,
+      <xref linkend="perl-test-differences"/>,
+      <xref linkend="perl-test-pod"/> and
+      <xref linkend="perl-test-pod-coverage"/> (all needed to run the testsuite)
     </para>
 
     <note>
@@ -157,9 +148,7 @@
     <para>Install <application>Biber</application> by running the following
     commands:</para>
 
-<screen><userinput>sed -i 's/use Encode;/&amp;\nuse File::Slurp;\nuse File::Spec;/' \
-lib/Biber/LaTeX/Recode.pm &amp;&amp;
-perl ./Build.PL &amp;&amp;
+<screen><userinput>perl ./Build.PL &amp;&amp;
 ./Build</userinput></screen>
 
     <para>To test the results, enter: <command>./Build test</command></para>
@@ -176,15 +165,10 @@
     <title>Command Explanations</title>
 
     <para>
-<parameter>sed -i 's/use Encode;/&amp;\nuse File::Slurp;\nuse File::Spec;/' ...</parameter>:
-this sed fixes a runtime error with current <application>perl</application>.
-</para>
-<para>
       <parameter>tar -xf biblatex-&biblatex-version;a.tds.tar.gz -C
       /opt/texlive/&texlive-year;/texmf-dist</parameter>:
-this installs the new <application>biblatex</application> files over the
-previous version.
+      this installs the new <application>biblatex</application> files over those
+      installed by <application>texlive</application>.
     </para>
 
     <para>

