Révision 12400

fichiers modifiés :
   general/prog/subversion.xml
   introduction/welcome/changelog.xml

Log :
Move SWIG and Python to recommended deps for subversion

Le robot a traité 2 % du commit anglais
Index: general/prog/subversion.xml
===================================================================
--- general/prog/subversion.xml	(révision 12399)
+++ general/prog/subversion.xml	(révision 12400)
@@ -87,8 +87,11 @@
 
     <bridgehead renderas="sect4">Recommended</bridgehead>
     <para role="recommended">
-<xref linkend="openssl"/> and
-<xref linkend="serf"/> (for handling http:// and https:// URLs)
+      <xref linkend="openssl"/>,
+      <xref linkend="python2"/> (with sqlite support for the tests),
+      <xref linkend="serf"/> (for handling http:// and https:// URLs), and
+      <xref linkend="swig"/> (for building Perl, Python and optionally Ruby
+      bindings)
     </para>
 
 <!-- support for berkeley db is deprecated since 1.8
@@ -111,7 +114,6 @@
       <xref linkend="cyrus-sasl"/>,
       <xref linkend="dbus"/>,
       <xref linkend="kdelibs"/> (for <ulink url="http://utils.kde.org/projects/kwalletmanager/">KWallet</ulink> support),
-<xref linkend="python2"/> (required to run the test suite) and
       <xref linkend="ruby"/>
     </para>
 
@@ -123,11 +125,6 @@
       and <xref linkend="junit"/> (to test the Java bindings)
     </para>
 
-<bridgehead renderas="sect4">Optional (for the SWIG Bindings)</bridgehead>
-<para role="optional">
-<xref linkend="swig"/>
-</para>
     <para condition="html" role="usernotes">
       User Notes: <ulink url="&blfs-wiki;/subversion"/>
     </para>
@@ -141,10 +138,14 @@
       commands:
     </para>
 
-<screen><userinput>./configure --prefix=/usr    \
+<screen><userinput>sed -i 's#Makefile.PL.in$#&amp; libsvn_swig_perl#' Makefile.in &amp;&amp;
+./configure --prefix=/usr    \
             --disable-static \
---with-apache-libexecdir=$(/usr/bin/apxs -q libexecdir) &amp;&amp;
-make</userinput></screen>
+            --with-apache-libexecdir &amp;&amp;
+make &amp;&amp;
+make swig-pl &amp;&amp;
+make swig-py swig_pydir=/usr/lib/python&python2-majorver;/site-packages/libsvn \
+     swig_pydir_extra=/usr/lib/python&python2-majorver;/site-packages/svn</userinput></screen>
 
     <para>
       If you have <xref linkend="doxygen"/> installed and you wish to build the
@@ -159,7 +160,7 @@
 
 <screen><userinput>make javahl</userinput></screen>
 
-<para>
+<!--    <para>
       If you have a multi core CPU and normally run <command>make</command> with
       multiple jobs (eg <command>make -j4</command>) then a bug in the
       <filename>Makefile</filename> will prevent the
@@ -168,16 +169,12 @@
     </para>
 
 <screen><userinput>sed -i 's#Makefile.PL.in$#&amp; libsvn_swig_perl#' Makefile.in</userinput></screen>
+-->
     <para>
-To compile the <application>Perl</application>,
-<application>Python</application> or <application>Ruby</application>
-bindings issue any of the following commands:
+      To compile <application>Ruby</application>
+      bindings, issue the following command:
     </para>
-<screen><userinput>make swig-pl &amp;&amp;
-make swig-py swig_pydir=/usr/lib/python&python2-majorver;/site-packages/libsvn \
-swig_pydir_extra=/usr/lib/python&python2-majorver;/site-packages/svn      &amp;&amp;
-make swig-rb</userinput></screen>
+<screen><userinput>make swig-rb</userinput></screen>
 
     <para>
       To test the results, issue: <command>make -k check</command>. One test
@@ -204,6 +201,9 @@
     </para>
 
 <screen role="root"><userinput>make install &amp;&amp;
+make install-swig-pl &amp;&amp;
+make install-swig-py swig_pydir=/usr/lib/python&python2-majorver;/site-packages/libsvn    \
+                     swig_pydir_extra=/usr/lib/python&python2-majorver;/site-packages/svn &amp;&amp;
 install -v -m755 -d /usr/share/doc/subversion-&subversion-version; &amp;&amp;
 cp      -v -R       doc/* \
                     /usr/share/doc/subversion-&subversion-version;</userinput></screen>
@@ -216,30 +216,44 @@
 <screen role="root"><userinput>make install-javahl</userinput></screen>
 
     <para>
-If you built any of the <application>SWIG</application> bindings, issue
-any of the following commands as the
-<systemitem class="username">root</systemitem> user to install them:
+      If you built the <application>SWIG</application>
+      <application>Ruby</application> bindings, issue the following commands
+      as the <systemitem class="username">root</systemitem> user to install
+      them:
     </para>
 
-<screen role="root"><userinput>make install-swig-pl &amp;&amp;
-make install-swig-py swig_pydir=/usr/lib/python&python2-majorver;/site-packages/libsvn    \
-swig_pydir_extra=/usr/lib/python&python2-majorver;/site-packages/svn &amp;&amp;
-make install-swig-rb</userinput></screen>
+<screen role="root"><userinput>make install-swig-rb</userinput></screen>
 
   </sect2>
 
   <sect2 role="commands">
     <title>Command Explanations</title>
 
+    <para>
+      <command>sed -i 's#Makefile.PL.in$...</command>: Corrects a
+       bug in the <filename>Makefile</filename>, which prevents using
+       parallel jobs for Perl bindings.
+    </para>
     <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
       href="../../xincludes/static-libraries.xml"/>
 
     <para>
-<parameter>--with-apache-libexecdir=...</parameter>:
+      <parameter>--with-apache-libexecdir</parameter>:
       This switch sets <application>Apache HTTPD</application>
       module install dir.
     </para>
 
+    <para>
+      <command>make swig-&lt;language&gt;</command>: Builds &lt;language&gt;
+      bindings.
+    </para>
+    <para>
+      <command>make install-swig-&lt;language&gt;</command>: Installs
+      &lt;language&gt; bindings.
+    </para>
   </sect2>
 
   <sect2 role="configuration">
@@ -303,10 +317,10 @@
         </seg>
         <seg>
           /usr/include/subversion-1,
-/usr/lib/perl5/site_perl/&lfs-perl-version;/auto/SVN (optional),
-/usr/lib/perl5/site_perl/&lfs-perl-version;/SVN (optional),
-/usr/lib/python&python2-majorver;/site-packages/libsvn (optional),
-/usr/lib/python&python2-majorver;/site-packages/svn (optional),
+          /usr/lib/perl5/site_perl/&lfs-perl-version;/auto/SVN,
+          /usr/lib/perl5/site_perl/&lfs-perl-version;/SVN,
+          /usr/lib/python&python2-majorver;/site-packages/libsvn,
+          /usr/lib/python&python2-majorver;/site-packages/svn,
           /usr/lib/ruby/site_ruby/&lt;x.y&gt;/i686-linux/svn (optional),
           /usr/lib/ruby/site_ruby/&lt;x.y&gt;/svn (optional),
 <!--      /usr/lib/svn-python/libsvn (optional),

Index: introduction/welcome/changelog.xml
===================================================================
--- introduction/welcome/changelog.xml	(révision 12399)
+++ introduction/welcome/changelog.xml	(révision 12400)
@@ -47,6 +47,10 @@
       <para>December 15th, 2013</para>
       <itemizedlist>
         <listitem>
+          <para>[pierre] - Move SWIG and Python to recommended deps for
+          Subversion.</para>
+        </listitem>
+        <listitem>
           <para>[fernando] - Gparted from a menu: "ssh-askpass" and "pkexec".
           Fixes <ulink url="&blfs-ticket-root;4454">#4454</ulink>.</para>
         </listitem>

