Révision 16163

fichiers modifiés :
   general.ent
   packages.ent
   x/lib/qt4.xml
   x/lib/qt5.xml
   general/prog/tcl.xml
   general/prog/valgrind.xml

Log :
Update qt4 and qt5 instructions Prep for KF5 Temove some tab characters

Le robot a traité 12 % du commit anglais
Index: general.ent
===================================================================
--- general.ent	(révision 16162)
+++ general.ent	(révision 16163)
@@ -156,3 +156,9 @@
                           building with multiple processors.  See <xref 
                           linkend='parallel-builds'/> for more information.</para></note>">
 
+<!-- KF5 entities -->
+<!ENTITY kf5-version       "5.11.0">
+<!ENTITY kf5-base          "5.11">
+<!ENTITY kf5-download-http "http://download.kde.org/stable/frameworks/&kf5-base;"> 
+<!ENTITY kf5-download-ftp  "ftp://ftp.kde.org/pub/kde/stable/frameworks/&kf5-base;">

Index: general/prog/tcl.xml
===================================================================
--- general/prog/tcl.xml	(révision 16162)
+++ general/prog/tcl.xml	(révision 16163)
@@ -180,12 +180,6 @@
     <title>Command Explanations</title>
 
     <para>
-<option>--without-tzdata</option>: This switch prevents installation
-of the shipped timezone data which are older than the ones provided
-in LFS.
-</para>
-<para>
       <parameter>$([ $(uname -m) = x86_64 ] &amp;&amp; echo
       --enable-64bit)</parameter>: This switch is used to enable 64 bit
       support in <application>Tcl</application> on 64 bit operating

Index: general/prog/valgrind.xml
===================================================================
--- general/prog/valgrind.xml	(révision 16162)
+++ general/prog/valgrind.xml	(révision 16163)
@@ -118,15 +118,15 @@
 
     <para>
       Install <application>Valgrind</application> by running the following
-commands:
-</para>
-
-<screen><userinput>sed -e 's#|3.\*#&amp;|4.\*#' \
--e 's/-mt//g'        \
--i configure         &amp;&amp;
-sed -i 's|/doc/valgrind||' docs/Makefile.in &amp;&amp;
-
-./configure --prefix=/usr \
+      commands:
+    </para>
+<screen><userinput>sed -e 's#|3.\*#&amp;|4.\*#' \
+    -e 's/-mt//g'        \
+    -i configure         &amp;&amp;
+sed -i 's|/doc/valgrind||' docs/Makefile.in &amp;&amp;
+./configure --prefix=/usr \
             --datadir=/usr/share/doc/valgrind-&valgrind-version; &amp;&amp;
 make</userinput></screen>
 

Index: x/lib/qt4.xml
===================================================================
--- x/lib/qt4.xml	(révision 16162)
+++ x/lib/qt4.xml	(révision 16163)
@@ -4,8 +4,11 @@
   %general-entities;
 
   <!ENTITY qt4-download-http
-"http://download.qt-project.org/official_releases/qt/4.8/&qt4-version;/qt-everywhere-opensource-src-&qt4-version;.tar.gz">
+           "&qt4-url;;/&qt4-version;/qt-everywhere-opensource-src-&qt4-version;.tar.gz">
   <!ENTITY qt4-download-ftp  " ">
   <!ENTITY qt4-md5sum        "d990ee66bf7ab0c785589776f35ba6ad">
   <!ENTITY qt4-size          "230 MB">
@@ -28,15 +31,15 @@
   </indexterm>
 
   <sect2 role="package">
-<title>Introduction to Qt</title>
+    <title>Introduction to Qt4</title>
 
     <para>
-<application>Qt</application> is a cross-platform application
-framework that is widely used for developing application software
-with a graphical user interface (GUI) (in which cases Qt is classified
-as a widget toolkit), and also used for developing non-GUI programs such
-as command-line tools and consoles for servers. One of the major users
-of <application>Qt</application> is <application>KDE</application>.
+      <application>Qt4</application> is a cross-platform application framework
+      that is widely used for developing application software with a graphical
+      user interface (GUI) (in which cases Qt4 is classified as a widget
+      toolkit), and also used for developing non-GUI programs such as
+      command-line tools and consoles for servers. One of the major users of
+      <application>Qt</application> is <application>KDE4</application>.
     </para>
 
     &lfs77_checked; &gcc5_checked;
@@ -114,31 +117,21 @@
   <sect2 role="qt4-prefix">
     <title>Setting the installation prefix</title>
 
-<bridgehead renderas="sect3">Installing in /usr</bridgehead>
+    <bridgehead renderas="sect3">Installing in /opt/qt4</bridgehead>
 
     <para>
-If you want to install <application>Qt4</application>
-in <filename class="directory">/usr</filename>, set the
+      The BLFS editors recommend installing <application>Qt4</application> in a
+      directory other than <filename class="directory">/usr</filename>, ie
+      <filename class="directory">/opt/qt4</filename>.  To do this, set the
       following environment variable:
     </para>
 
-<screen><userinput>export QT4PREFIX=/usr</userinput></screen>
-<bridgehead renderas="sect3">Installing in /opt/qt4</bridgehead>
-<para>
-If you want to install <application>Qt4</application>
-in a directory other than <filename
-class="directory">/usr</filename>, ie
-<filename class="directory">/opt/qt4</filename>, set
-the following environment variable:
-</para>
 <screen><userinput>export QT4PREFIX=/opt/qt4</userinput></screen>
 
     <tip>
@@ -166,16 +159,8 @@
   </sect2>
 
   <sect2 role="installation">
-<title>Installation of Qt</title>
+    <title>Installation of Qt4</title>
 
-<caution>
-<para>
-If you did not install some of the recommended dependencies, examine
-<command>./configure --help</command> output to check how to disable
-them or use internal versions bundled in the source tarball.
-</para>
-</caution>
     <warning>
       <para>
         If <application>Qt4</application> is being reinstalled into the
@@ -187,45 +172,61 @@
       </para>
     </warning>
 
+    <caution>
+      <para>
+        If you did not install some of the recommended dependencies, examine
+        <command>./configure --help</command> output to check how to disable
+        them or use internal versions bundled in the source tarball.
+      </para>
+    </caution>
     <note>
       <para>
         The build time and space required for the full
-<application>Qt</application> is quite long. The instructions below
-do not build the tutorials and examples. Removing the
+        <application>Qt3</application> is quite long. The instructions below do
+        not build the tutorials and examples. Removing the
         <parameter>-nomake</parameter> lines will create a complete build.
       </para>
     </note>
 
+    <note>
+      <para>
+        The BLFS editors do not recommend installing <application>Qt4</application>
+        into the /usr hierarchy because it becomes difficult to find
+        components and to update to a new version.  If you do want to install
+        <application>Qt4</application> in /usr, the directories need to
+        be specified explicitly.  In this case, set QT4PREFIX=/usr and add 
+        the following to the configure arguments below:</para>
+        <screen><userinput>-bindir         /usr/bin/qt4                \
+-plugindir      /usr/lib/qt4/plugins        \
+-importdir      /usr/lib/qt4/imports        \
+-headerdir      /usr/include/qt4            \
+-datadir        /usr/share/qt4              \
+-docdir         /usr/share/doc/qt4          \
+-translationdir /usr/share/qt4/translations \
+-demosdir       /usr/share/doc/qt4/demos    \
+-examplesdir    /usr/share/doc/qt4/examples </userinput></screen>
+    </note>
     <para>
-Install <application>Qt4</application> into the <filename
-class='directory'>/usr</filename> hierarchy by running the following
-commands:
+      Install <application>Qt4</application> by running the following commands:
     </para>
 
-<screen><userinput>./configure -prefix         $QT4PREFIX                        \
--sysconfdir     /etc/xdg                          \
--bindir         $QT4BINDIR                        \
--plugindir      $QT4PREFIX/lib/qt4/plugins        \
--importdir      $QT4PREFIX/lib/qt4/imports        \
--headerdir      $QT4PREFIX/include/qt4            \
--datadir        $QT4PREFIX/share/qt4              \
--docdir         $QT4PREFIX/share/doc/qt4          \
--translationdir $QT4PREFIX/share/qt4/translations \
--demosdir       $QT4PREFIX/share/doc/qt4/demos    \
--examplesdir    $QT4PREFIX/share/doc/qt4/examples \
--confirm-license   \
--opensource        \
--release           \
--dbus-linked       \
--openssl-linked    \
--system-sqlite     \
--no-phonon         \
--no-phonon-backend \
--no-openvg         \
--nomake demos      \
--nomake examples   \
--optimized-qmake   &amp;&amp;
+<screen><userinput>./configure -prefix           $QT4PREFIX \
+            -sysconfdir       /etc/xdg   \
+            -confirm-license             \
+            -opensource                  \
+            -release                     \
+            -dbus-linked                 \
+            -openssl-linked              \
+            -system-sqlite               \
+            -no-phonon                   \
+            -no-phonon-backend           \
+            -no-openvg                   \
+            -nomake demos                \
+            -nomake examples             \
+            -optimized-qmake             &amp;&amp;
 make</userinput></screen>
 
     <para>
@@ -233,42 +234,45 @@
     </para>
 
     <para>
-Remove references to the build directory from the
+      Now as the <systemitem class="username">root</systemitem> user:
+    </para>
+<screen role="root"><userinput>make install &amp;&amp;
+rm -rf $QT4PREFIX/tests</userinput></screen>
+    <para>
+      Remove references to the build directory from the installed
       <filename class="extension">.pc</filename> files by running
       the following command:
     </para>
 
-<screen><userinput>find . -name "*.pc" -exec perl -pi -e "s, -L$PWD/?\S+,,g" {} \;</userinput></screen>
+<screen><userinput>find $QT4PREFIX/lib/pkgconfig -name "*.pc" -exec perl -pi -e "s, -L$PWD/?\S+,,g" {} \;</userinput></screen>
 
-<para>Now as the <systemitem class="username">root</systemitem> user:</para>
-<screen role="root"><userinput>make install &amp;&amp;
-rm -rf /usr/tests</userinput></screen>
     <para>
-Remove references to the build directory from installed files by
-running the following command as the
+      Remove references to the build directory in the installed library dependency
+      (prl) files by running the following command as the
       <systemitem class="username">root</systemitem> user:
     </para>
 
-<screen role="root"><userinput>for file in 3Support CLucene Core DBus Declarative DesignerComponents \
-Designer Gui Help Multimedia Network OpenGL Script \
-ScriptTools Sql Svg Test UiTools WebKit XmlPatterns Xml phonon; do
+<screen role="root"><userinput>for file in $QT4PREFIX/lib/libQt*.prl; do
+     sed -r -e '/^QMAKE_PRL_BUILD_DIR/d'    \
+            -e 's/(QMAKE_PRL_LIBS =).*/\1/' \
+            -i $file
+done</userinput></screen>
 
-[ -e /usr/lib/libQt${file}.prl ] &amp;&amp;
-sed -r '/^QMAKE_PRL_BUILD_DIR/d;s/(QMAKE_PRL_LIBS =).*/\1/' \
--i /usr/lib/libQt${file}.prl
-done
-unset file</userinput></screen>
     <para>
-Install images and create the menu entries 
-for installed applications.  Be sure that the <envar>QT4PREFIX</envar>
-variable is defined in root's environment and 
-as the <systemitem class="username">root</systemitem> user:
+      Install images and create the menu entries for installed applications.
+      The <envar>QT4BINDIR</envar> variable is used here to point to the
+      directory for the executable programs.  If you have changed the bindir
+      above, <envar>QT4BINDIR</envar> will need to be adjusted below.  Be sure
+      that the <envar>QT4BINDIR</envar> variable is defined in root's
+      environment and as the <systemitem class="username">root</systemitem>
+      user:
     </para>
 
-<screen role="root"><userinput>install -v -Dm644 src/gui/dialogs/images/qtlogo-64.png \
+<screen role="root"><userinput>QT4BINDIR=$QT4PREFIX/bin
+install -v -Dm644 src/gui/dialogs/images/qtlogo-64.png \
                   /usr/share/pixmaps/qt4logo.png       &amp;&amp;
 
 install -v -Dm644 tools/assistant/tools/assistant/images/assistant-128.png \
@@ -289,7 +293,7 @@
 <literal>[Desktop Entry]
 Name=Qt4 Assistant 
 Comment=Shows Qt4 documentation and examples
-Exec=$QT4PREFIX/bin/assistant
+Exec=$QT4BINDIR/assistant
 Icon=assistant-qt4.png
 Terminal=false
 Encoding=UTF-8
@@ -301,7 +305,7 @@
 <literal>[Desktop Entry]
 Name=Qt4 Designer
 Comment=Design GUIs for Qt4 applications
-Exec=$QT4PREFIX/bin/designer
+Exec=$QT4BINDIR/designer
 Icon=designer-qt4.png
 MimeType=application/x-designer;
 Terminal=false
@@ -314,7 +318,7 @@
 <literal>[Desktop Entry]
 Name=Qt4 Linguist 
 Comment=Add translations to Qt4 applications
-Exec=$QT4PREFIX/bin/linguist
+Exec=$QT4BINDIR/linguist
 Icon=linguist-qt4.png
 MimeType=text/vnd.trolltech.linguist;application/x-linguist;
 Terminal=false
@@ -328,7 +332,7 @@
 Name=Qt4 QDbusViewer 
 GenericName=D-Bus Debugger
 Comment=Debug D-Bus applications
-Exec=$QT4PREFIX/bin/qdbusviewer
+Exec=$QT4BINDIR/qdbusviewer
 Icon=qdbusviewer-qt4.png
 Terminal=false
 Encoding=UTF-8
@@ -340,7 +344,7 @@
 <literal>[Desktop Entry]
 Name=Qt4 Config 
 Comment=Configure Qt4 behavior, styles, fonts
-Exec=$QT4PREFIX/bin/qtconfig
+Exec=$QT4BINDIR/qtconfig
 Icon=qt4logo.png
 Terminal=false
 Encoding=UTF-8
@@ -348,6 +352,14 @@
 Categories=Qt;Settings;</literal>
 EOF</userinput></screen>
 
+    <para>Some packages such as <xref linkend='vlc'/> look for certain
+    executables with a -qt4 suffix.  Run the following command as the root user
+    to create the necessary symlinks:</para>
+<screen role="root"><userinput>for file in moc uic rcc qmake lconvert lrelease lupdate; do
+  ln -sfrvn $QT4BINDIR/$file /usr/bin/$file-qt4
+done</userinput></screen>
   </sect2>
 
   <sect2 role="commands">
@@ -435,13 +447,14 @@
 <literal># Begin /etc/profile.d/qt4.sh
 
 QT4DIR=/usr
-export QT4DIR
+QTDIR=$QT4DIR
+export QT4DIR QTDIR
 
 # End /etc/profile.d/qt4.sh</literal>
 EOF</userinput></screen>
 
    <para>
-If you installed <application>Qt</application> in a location other
+      If you installed <application>Qt4</application> in a location other
       than /usr, you need to update the following configuration files so
       that <application>Qt</application> is correctly found by other packages
       and system processes.</para>
@@ -474,11 +487,12 @@
 <literal># Begin /etc/profile.d/qt4.sh
    
 QT4DIR=/opt/qt4
+QTDIR=$QT4DIR
    
-pathappend /opt/qt4/bin           PATH
-pathappend /opt/qt4/lib/pkgconfig PKG_CONFIG_PATH
+pathappend $QT4DIR/bin           PATH
+pathappend $QT4DIR/lib/pkgconfig PKG_CONFIG_PATH
    
export QT4DIR QTDIR
    

Index: x/lib/qt5.xml
===================================================================
--- x/lib/qt5.xml	(révision 16162)
+++ x/lib/qt5.xml	(révision 16163)
@@ -138,25 +137,15 @@
   <sect2 role="qt5-prefix">
     <title>Setting the installation prefix</title>
 
-<bridgehead renderas="sect3">Installing in /usr</bridgehead>
+    <bridgehead renderas="sect3">Installing in /opt/qt5</bridgehead>
 
     <para>
-If you want to install <application>Qt5</application>
-in <filename class="directory">/usr</filename>, set the
+      The BLFS editors recommend installing <application>Qt5</application> in a
+      directory other than <filename class="directory">/usr</filename>, ie
+      <filename class="directory">/opt/qt5</filename>.  To do this,  set the 
       following environment variable:
     </para>
 
-<screen><userinput>export QT5PREFIX=/usr</userinput></screen>
-<bridgehead renderas="sect3">Installing in /opt/qt5</bridgehead>
-<para>
-If you want to install <application>Qt5</application> in a directory
-other than <filename class="directory">/usr</filename>, ie <filename
-class="directory">/opt/qt4</filename>, set the following environment
-variable:
-</para>
 <screen><userinput>export QT5PREFIX=/opt/qt5</userinput></screen>
 
     <tip>
@@ -174,7 +163,7 @@
 
       <para>
         Later on, you may want to install other versions of
-<application>Qt4</application>. To do that, just remove the symlink
+        <application>Qt5</application>. To do that, just remove the symlink
         and use <filename class="directory">/opt/qt5</filename> as the
         prefix again. Which version of <application>Qt5</application> you
         use depends only on where the symlink points.
@@ -186,14 +175,6 @@
   <sect2 role="installation">
     <title>Installation of Qt5</title>
 
-<caution>
-<para>
-If you did not install some of the recommended dependencies, examine
-<command>./configure --help</command> output to check how to disable
-them or use internal versions bundled in the source tarball.
-</para>
-</caution>
     <warning>
       <para>
         If <application>Qt5</application> is being reinstalled into the
@@ -205,31 +186,60 @@
       </para>
     </warning>
 
+    <caution>
+      <para>
+        If you did not install some of the recommended dependencies, examine
+        <command>./configure --help</command> output to check how to disable
+        them or use internal versions bundled in the source tarball.
+      </para>
+    </caution>
+    <note>
+      <para>
+        The build time and space required for the full
+        <application>Qt5</application> is quite long. The instructions below
+        do not build the tutorials and examples. Removing the
+        <parameter>-nomake</parameter> line will create a complete build.
+      </para>
+    </note>
+    <note>
+      <para>
+        The BLFS editors do not recommend installing <application>Qt5</application>
+        into the /usr hierarchy because it becomes difficult to find
+        components and to update to a new version.  If you do want to install
+        <application>Qt5</application> in /usr, the directories need to
+        be specified explicitly.  In this case, set QT5PREFIX=/usr and add
+        the following to the configure arguments below:</para>
+        <screen><userinput>-bindir         /usr/bin/qt4                \
+-plugindir      /usr/lib/qt5/plugins        \
+-importdir      /usr/lib/qt5/imports        \
+-headerdir      /usr/include/qt5            \
+-datadir        /usr/share/qt5              \
+-docdir         /usr/share/doc/qt5          \
+-translationdir /usr/share/qt5/translations \
+-demosdir       /usr/share/doc/qt5/demos    \
+-examplesdir    /usr/share/doc/qt5/examples </userinput></screen>
+    </note>
     <para>
      Install <application>Qt5</application> by running the following commands:
     </para>
 
-<screen><userinput>./configure -prefix         $QT5PREFIX                        \
--sysconfdir     /etc/xdg                          \
--bindir         $QT5BINDIR                        \
--headerdir      $QT5PREFIX/include/qt5            \
--archdatadir    $QT5PREFIX/lib/qt5                \
--datadir        $QT5PREFIX/share/qt5              \
--docdir         $QT5PREFIX/share/doc/qt5          \
--translationdir $QT5PREFIX/share/qt5/translations \
--examplesdir    $QT5PREFIX/share/doc/qt5/examples \
--confirm-license  \
--opensource       \
--dbus-linked      \
--openssl-linked   \
--journald         \
--system-harfbuzz  \
--system-sqlite    \
--nomake examples  \
--no-rpath         \
--optimized-qmake  \
--skip qtwebengine &amp;&amp;
+<screen><userinput>./configure -prefix         $QT5PREFIX \
+            -sysconfdir     /etc/xdg   \
+            -confirm-license           \
+            -opensource                \
+            -dbus-linked               \
+            -openssl-linked            \
+            -journald                  \
+            -system-harfbuzz           \
+            -system-sqlite             \
+            -nomake examples           \
+            -no-rpath                  \
+            -optimized-qmake           \
+            -skip qtwebengine          &amp;&amp;
 
 make</userinput></screen>
 
@@ -238,40 +248,45 @@
     </para>
 
     <para>
-Remove references to the build directory from the
-<filename class="extension">.pc</filename> files by running
-the following command:
+      Now, as the <systemitem class="username">root</systemitem> user:
     </para>
 
-<screen><userinput>find . -name "*.pc" -exec perl -pi -e "s, -L$PWD/?\S+,,g" {} \;</userinput></screen>
+<screen role="root"><userinput>make install</userinput></screen>
 
     <para>
-Now, as the <systemitem class="username">root</systemitem> user:
+      Remove references to the build directory from the installed
+      <filename class="extension">.pc</filename> files by running
+      the following command:
     </para>
 
-<screen role="root"><userinput>make install</userinput></screen>
+<screen><userinput>find $QT5PREFIX/lib/pkgconfig -name "*.pc" -exec perl -pi -e "s, -L$PWD/?\S+,,g" {} \;</userinput></screen>
 
     <para>
-Remove references to the build directory from installed files by
-running the following commands as the
-<systemitem class="username">root</systemitem> user:
+      Remove references to the build directory from installed library dependency
+      (prl) and profile include (pri) files by running the following commands as 
+      the <systemitem class="username">root</systemitem> user:
     </para>
 
 <screen role="root"><userinput>sed -e "s:$PWD/qtbase:/usr/lib/qt5:g" \
--i /usr/lib/qt5/mkspecs/modules/qt_lib_bootstrap_private.pri &amp;&amp;
+    -i $QT5PREFIX/lib/qt5/mkspecs/modules/qt_lib_bootstrap_private.pri &amp;&amp;
 
-find /usr/lib/lib{qgsttools_p,Qt5*}.prl -exec sed -i -r \
+find $QT5PREFIX/lib/lib{qgsttools_p,Qt5*}.prl -exec sed -i -r \
      '/^QMAKE_PRL_BUILD_DIR/d;s/(QMAKE_PRL_LIBS =).*/\1/' {} \;</userinput></screen>
 
     <para>
-Install images and create the menu entries
-for installed applications.  Be sure that the <envar>QT5PREFIX</envar>
-variable is defined in root's environment and
-as the <systemitem class="username">root</systemitem> user:
+      Install images and create the menu entries for installed applications.
+      The <envar>QT4BINDIR</envar> variable is used here to point to the
+      directory for the executable programs.  If you have changed the bindir
+      above, <envar>QT4BINDIR</envar> will need to be adjusted below.  Be sure
+      that the <envar>QT5BINDIR</envar> variable is defined in root's
+      environment and as the <systemitem class="username">root</systemitem>
+      user:
     </para>
 
-<screen role="root"><userinput>install -v -dm755 /usr/share/pixmaps/                  &amp;&amp;
+<screen role="root"><userinput>QT5BINDIR=$QT5PREFIX/bin
 
+install -v -dm755 /usr/share/pixmaps/                  &amp;&amp;
 install -v -Dm644 qttools/src/assistant/assistant/images/assistant-128.png \
                   /usr/share/pixmaps/assistant-qt5.png &amp;&amp;
 
@@ -290,7 +305,7 @@
 <literal>[Desktop Entry]
 Name=Qt5 Assistant 
 Comment=Shows Qt5 documentation and examples
-Exec=$QT5PREFIX/bin/assistant
+Exec=$QT5BINDIR/assistant
 Icon=assistant-qt5.png
 Terminal=false
 Encoding=UTF-8
@@ -303,7 +318,7 @@
 Name=Qt5 Designer
 GenericName=Interface Designer
 Comment=Design GUIs for Qt5 applications
-Exec=$QT5PREFIX/bin/designer
+Exec=$QT5BINDIR/designer
 Icon=designer-qt5.png
 MimeType=application/x-designer;
 Terminal=false
@@ -316,7 +331,7 @@
 <literal>[Desktop Entry]
 Name=Qt5 Linguist
 Comment=Add translations to Qt5 applications
-Exec=$QT5PREFIX/bin/linguist
+Exec=$QT5BINDOR/linguist
 Icon=linguist-qt5.png
 MimeType=text/vnd.trolltech.linguist;application/x-linguist;
 Terminal=false
@@ -330,7 +345,7 @@
 Name=Qt5 QDbusViewer 
 GenericName=D-Bus Debugger
 Comment=Debug D-Bus applications
-Exec=$QT5PREFIX/bin/qdbusviewer
+Exec=$QT5BINDIR/qdbusviewer
 Icon=qdbusviewer-qt5.png
 Terminal=false
 Encoding=UTF-8
@@ -338,6 +353,14 @@
 Categories=Qt;Development;Debugger;</literal>
 EOF</userinput></screen>
 
+    <para>Some packages such as <xref linkend='vlc'/> look for certain
+    executables with a -qt5 suffix.  Run the following command as the root user
+    to create the necessary symlinks:</para>
+<screen role="root"><userinput>for file in moc uic rcc qmake lconvert lrelease lupdate; do
+  ln -sfrvn $QT5BINDIR/$file /usr/bin/$file-qt5
+done</userinput></screen>
   </sect2>
 
   <sect2 role="commands">
@@ -366,13 +389,6 @@
     </para>
 
     <para>
-<parameter>-nomake tests</parameter>: This switch
-disables building of the test programs included
-in the source tarball. Remove it if you want to build
-them.
-</para>
-<para>
       <parameter>-system-sqlite</parameter>: This switch enables use
       of the system version of <application>SQLite</application>.
     </para>
@@ -473,8 +489,8 @@
 
 QT5DIR=/opt/qt5
 
-pathappend /opt/qt5/bin           PATH
-pathappend /opt/qt5/lib/pkgconfig PKG_CONFIG_PATH
+pathappend $QT5DIR/bin           PATH
+pathappend $QT5DIR/lib/pkgconfig PKG_CONFIG_PATH
 
 export QT5DIR
 

