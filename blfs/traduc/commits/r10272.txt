Révision 10272

fichiers modifiés :
   introduction/welcome/changelog.xml
   general.ent
   xsoft/other/thunderbird.xml
   xsoft/office/libreoffice.xml

Log :
thunderbird-13.0

Le robot a traité 41 % du commit anglais
Index: introduction/welcome/changelog.xml
===================================================================
--- introduction/welcome/changelog.xml	(revision 10271)
+++ introduction/welcome/changelog.xml	(revision 10272)
@@ -42,6 +42,15 @@
 
 -->
     <listitem>
+      <para>June 6th, 2012</para>
+      <itemizedlist>
+        <listitem>
+          <para>[abenton] - Updated Thunderbird to 13.0.</para>
+        </listitem>
+      </itemizedlist>
+    </listitem>
+    <listitem>
       <para>June 5th, 2012</para>
       <itemizedlist>
         <listitem>

Index: xsoft/office/libreoffice.xml
===================================================================
--- xsoft/office/libreoffice.xml	(revision 10271)
+++ xsoft/office/libreoffice.xml	(revision 10272)
@@ -167,7 +167,8 @@
       commands:
     </para>
 
-<screen><userinput>./autogen.sh --prefix=/usr \
+<screen><userinput>sed -i 's# ORBit-2.0##' configure.in &amp;&amp;
+./autogen.sh --prefix=/usr \
   --disable-binfilter      \
   --disable-gconf          \
   --disable-mozilla        \
@@ -209,13 +210,13 @@
 for program in base calc draw impress math writer
 do
   echo '#!/bin/bash' > /usr/bin/${program}
-  echo "exec $SOFFICE --nologo --${program} \"\${@}\"" >> /usr/bin/${program}
+  echo "exec ${SOFFICE} --nologo --${program} \"\${@}\"" >> /usr/bin/${program}
   chmod 755 /usr/bin/${program}
 done          &amp;&amp;
 unset SOFFICE &amp;&amp;
-ln -sf ../lib/libreoffice/program/spadmin /usr/bin/printeradmin &amp;&amp;
-ln -sf ../lib/libreoffice/program/unopkg /usr/bin               &amp;&amp;
-cp sysui/desktop/man/{libreoffice,unopkg}.1 /usr/share/man/man1 &amp;&amp;
+ln -sfv ../lib/libreoffice/program/spadmin /usr/bin/printeradmin &amp;&amp;
+ln -sfv ../lib/libreoffice/program/unopkg /usr/bin               &amp;&amp;
+cp sysui/desktop/man/{libreoffice,unopkg}.1 /usr/share/man/man1  &amp;&amp;
 for res in 16 32 48 128 256
 do
   mkdir -p /usr/share/icons/hicolor/${res}x${res}/{apps,mimetypes}
@@ -231,6 +232,12 @@
     <title>Command Explanations</title>
 
     <para>
+      <command>sed -i 's# ORBit-2.0##' configure.in</command>: If you remove the
+      <option>--disable-gconf</option> configure will check for the deprecated
+      ORBit. This sed removes the check for ORBit.
+    </para>
+    <para>
       <option>--enable-gtk3</option>: Add this option if you've installed and
       want to use <application>Gtk+-3</application>.
     </para>
@@ -249,9 +256,8 @@
     </para>
 
     <para>
-      <option>--disable-gconf</option>: Compiling with support for
-      <application>GConf</application> requires the deprecated
-      <application>ORBit</application>.
+      <option>--disable-gconf</option>: Remove this option if you want to
+      compile Libre Office with GConf support.
     </para>
 
     <para>
@@ -283,8 +289,8 @@
       <option>--with-lang="pt-BR"</option>: This option sets what languages to
       support. en-US is always included by default. To list several languages,
       separate them with a space. For all languages, use --with-lang=ALL
+      For a list of the available languages, after you've run ./download:
+      <command>ls translations/source</command>.
     </para>
 
     <para>

Index: xsoft/other/thunderbird.xml
===================================================================
--- xsoft/other/thunderbird.xml	(revision 10271)
+++ xsoft/other/thunderbird.xml	(revision 10272)
@@ -73,16 +74,6 @@
       </listitem>
     </itemizedlist>
 
-    <bridgehead renderas="sect3">Additional Downloads</bridgehead>
-    <itemizedlist spacing="compact">
-      <listitem>
-        <para>
-          Required patch:
-          <ulink url="&patch-root;/thunderbird-&thunderbird-version;_gcc-4.7-1.patch"/>
-        </para>
-      </listitem>
-    </itemizedlist>
     <bridgehead renderas="sect3">Thunderbird Dependencies</bridgehead>
 
     <bridgehead renderas="sect4">Required</bridgehead>
@@ -159,6 +150,7 @@
 mk_add_options MOZ_OBJDIR=@TOPSRCDIR@/thunderbuild
 ac_add_options --disable-crashreporter
 ac_add_options --disable-debug
+ac_add_options --disable-debug-symbols
 ac_add_options --disable-installer
 ac_add_options --disable-static
 ac_add_options --disable-tests
@@ -179,13 +171,10 @@
       commands:
     </para>
 
-<screen><userinput>patch -p1 &lt; ../thunderbird-&thunderbird-version;_gcc-4.7-1.patch &amp;&amp;
-make -f client.mk &amp;&amp;
+<screen><userinput>make -f client.mk &amp;&amp;
 make -C thunderbuild/mail/installer</userinput></screen>
 
    <para>This package does not come with a test suite.</para>
@@ -201,9 +190,7 @@
       The above instructions just install the parts you need to run
       <application>Thunderbird</application>. Alternatively, if you want to
       install the full <application>Thunderbird</application> development
-      environment (Note, this installs more than half a gigabyte of extra files
-      and so is not recommended) as the
-      <systemitem class="username">root</systemitem> user:
+      environment, as the <systemitem class="username">root</systemitem> user:
     </para>
 
 <screen role="root"><userinput>make -C thunderbuild install</userinput></screen>
@@ -213,14 +200,6 @@
     <title>Command Explanations</title>
 
     <para>
-      <command>patch -p1 &lt;
-      ../thunderbird-&thunderbird-version;_gcc-4.7-1.patch</command>: This
-      patch fixes various files to ensure that
-      <application>Thunderbird</application> compiles with      
-      <application>GCC 4.7</application>.
-    </para>
-    <para>
       <command>make -f client.mk</command>: Mozilla products are packaged to
       allow the use of a configuration file which can be used to pass the
       configuration settings to the <command>configure</command> command.

