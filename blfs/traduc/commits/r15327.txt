Révision 15327

fichiers ajoutés :
   xsoft/other/asymptote.xml
   pst/typesetting/xindy.xml

fichiers modifiés :
   xsoft/other/other.xml
   packages.ent
   pst/printing/gs.xml
   pst/typesetting/tex-path.xml
   pst/typesetting/typesetting.xml
   pst/typesetting/texlive-pass1.xml
   introduction/welcome/changelog.xml

Log :
Add separate asymptote and indy. Various consistency edits and rephrasing Texlive pass 1 now describes itself as just texlive from source, the original texlive page is no longer rendered : I will archive the latter and then rename the pass1 file in later commits, then look at what might optionally xref to the binary page.

Le robot a traité 62 % du commit anglais

ATTENTION : il faut relire les fichiers suivants qui sont ajoutés
Index: introduction/welcome/changelog.xml
===================================================================
--- introduction/welcome/changelog.xml	(révision 15326)
+++ introduction/welcome/changelog.xml	(révision 15327)
@@ -48,6 +48,14 @@
       <para>January 11th, 2015</para>
       <itemizedlist>
         <listitem>
+          <para>[ken] - Separate asymptote and xindy from texlive.
+          Note that xindy does not at the moment work on i686. Remove
+          the second build of texlive.  Fixes
+          <ulink url="&blfs-ticket-root;5956">#5956</ulink>
+          and partly addresses
+          <ulink url="&blfs-ticket-root;5926">#5926</ulink>.</para>
+        </listitem>
+        <listitem>
           <para>[fernando] - Update to ffmpeg-2.5.3. Fixes
           <ulink url="&blfs-ticket-root;6025">#6025</ulink>.</para>
         </listitem>

Index: packages.ent
===================================================================
--- packages.ent	(révision 15326)
+++ packages.ent	(révision 15327)
@@ -746,8 +747,10 @@
 <!-- Chapter 47 -->
 <!ENTITY texlive-version              "20140525">
 <!-- the year is used when setting up PATHs in the tl-installer
-page, as well as to reference the directory in texlive -->
+ page, as well as to reference the directory in texlive, also
+ in asymptote (above) and xindy -->
 <!ENTITY texlive-year                 "2014">
 <!ENTITY biber-version                "1.9">
 <!ENTITY biblatex-version             "2.9">

Index: pst/printing/gs.xml
===================================================================
--- pst/printing/gs.xml	(révision 15326)
+++ pst/printing/gs.xml	(révision 15327)
@@ -181,7 +181,8 @@
     <note>
       <para>
         The shared library depends on <xref linkend="gtk2"/>. It is only used in
-external programs like <xref linkend="imagemagick"/>.
+        external programs like <xref linkend="asymptote"/> and
+        <xref linkend="imagemagick"/>.
       </para>
     </note>



















 

Index: pst/typesetting/texlive-pass1.xml
===================================================================
--- pst/typesetting/texlive-pass1.xml	(révision 15326)
+++ pst/typesetting/texlive-pass1.xml	(révision 15327)
@@ -21,57 +20,56 @@
 ]>
 
 
-<sect1 id="texpass1" xreflabel="texlive-&texlive-version;-source pass 1">
-<?dbhtml filename="texlive-pass1.html"?>
+<sect1 id="texlive" xreflabel="texlive-&texlive-version;">
+  <?dbhtml filename="texlive.html"?>
 
   <sect1info>
     <othername>$LastChangedBy$</othername>
     <date>$Date$</date>
   </sect1info>
 
-<title>texlive-&texlive-version;-source pass 1</title>
+  <title>texlive-&texlive-version;-source</title>
 
-<indexterm zone="texpass1">
-<primary sortas="a-texpass1">texlive-pass-1</primary>
+  <indexterm zone="texlive">
+    <primary sortas="a-texlive">texlive</primary>
   </indexterm>
 
   <sect2 role="package">
-<title>Introduction to TeX Live from source, pass 1</title>
+    <title>Introduction to TeX Live from source</title>
 
-<para>Most of TeX Live can be built from source without difficulty.
-However, <application>xindy</application> (for indexing) needs working
-versions of <command>latex</command> and <command>pdflatex</command>
-when configure is run, and the testsuite for <command>asy</command>
-(for vector graphics) will fail if TeX has not already been installed.
-</para>
+    <para>Most of TeX Live can be built from source without a pre-existing
+    installation, but <application>xindy</application> (for indexing) needs
+    working versions of <command>latex</command> and <command>pdflatex</command>
+    when configure is run, and the testsuite and install for
+    <command>asy</command> (for vector graphics) will fail if TeX has not
+    already been installed. Additionally, <application>biber</application> is
+    not provided within the <application>texlive</application> source.</para>
 
-<para>In addition, it is necessary to create various symlinks at the end of
-this install.</para>
+    <para>All of those packages are dealt with on their own pages and can be
+    built after installing this package and proceeding to
+    <xref linkend="tex-path"/>.</para>
 
-<para>We can later rebuild texlive in <xref linkend="texlive"/> to include
-xindy. There we will install xindy and also build and install asy.</para>
     &lfs76_checked;
 
     <bridgehead renderas="sect3">Package Information</bridgehead>
     <itemizedlist spacing="compact">
       <listitem>
-<para>Download (HTTP): <ulink url="&texlive-pass1-download-http;"/></para>
+        <para>Download (HTTP): <ulink url="&texlive-download-http;"/></para>
       </listitem>
       <listitem>
-<para>Download (FTP): <ulink url="&texlive-pass1-download-ftp;"/></para>
+        <para>Download (FTP): <ulink url="&texlive-download-ftp;"/></para>
       </listitem>
       <listitem>
-<para>Download MD5 sum: &texlive-pass1-md5sum;</para>
+        <para>Download MD5 sum: &texlive-md5sum;</para>
       </listitem>
       <listitem>
-<para>Download size: &texlive-pass1-size;</para>
+        <para>Download size: &texlive-size;</para>
       </listitem>
       <listitem>
-<para>Estimated disk space required: &texlive-pass1-buildsize;</para>
+        <para>Estimated disk space required: &texlive-buildsize;</para>
       </listitem>
       <listitem>
-<para>Estimated build time: &texlive-pass1-time;</para>
+        <para>Estimated build time: &texlive-time;</para>
       </listitem>
     </itemizedlist>
 
@@ -101,7 +99,7 @@
       </listitem>
     </itemizedlist>
 
-<bridgehead renderas="sect3">TeX Live from source pass 1 Dependencies</bridgehead>
+    <bridgehead renderas="sect3">TeX Live from source Dependencies</bridgehead>
 
     <bridgehead renderas="sect4">Recommended</bridgehead>
     <para role="recommended">
@@ -118,20 +116,20 @@
      href="../../xincludes/texoptional.xml"/>
 
     <bridgehead renderas="sect4">Runtime dependencies</bridgehead>
+    <!-- text for runtime deps, shared with tl-installer -->
     <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
      href="../../xincludes/texruntime.xml"/>
 
     <para condition="html" role="usernotes">User Notes:
-<ulink url="&blfs-wiki;/texlive-pass1"/></para>
+    <ulink url="&blfs-wiki;/texlive"/></para>
 
   </sect2>
 
   <sect2 role="installation">
-<title>Installation of TeX Live, pass 1</title>
+    <title>Installation of TeX Live</title>
 
     <para>
-Install TeX Live pass 1 by running the following commands:
+      Install TeX Live by running the following commands:
     </para>
 
 <!-- the configure switches should be identical to those in the
@@ -255,36 +253,36 @@
       <?dbfo list-presentation="list"?>
       <?dbhtml list-presentation="table"?>
 
-<varlistentry id="texpass1-programs">
+      <varlistentry id="texlive-programs">
         <term><command>TeX&nbsp;programs</command></term>
         <listitem>
           <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
           href="../../xincludes/texprogs.xml"/>
-<indexterm zone="texpass1 texpass1-programs">
-<primary sortas="b-texpass1-programs">TeX Live programs</primary>
+          <indexterm zone="texlive texlive-programs">
+            <primary sortas="b-texlive-programs">TeX Live programs</primary>
           </indexterm>
         </listitem>
       </varlistentry>
 
-<varlistentry id="libkpathsea-texpass1">
+      <varlistentry id="libkpathsea">
         <term><filename class="libraryfile">libkpathsea.so</filename></term>
         <listitem>
           <para>
             (kpathsearch) exists to look up a file in a list of directories.
           </para>
-<indexterm zone="texpass1 libkpathsea">
+          <indexterm zone="texlive libkpathsea">
             <primary sortas="c-libkpathsea">libkpathsea.so</primary>
           </indexterm>
         </listitem>
       </varlistentry>
 
-<varlistentry id="libptexenc-texpass1">
+      <varlistentry id="libptexenc">
         <term><filename class="libraryfile">libptexenc.so</filename></term>
         <listitem>
           <para>
             is a library for Japanese pTeX (publishing TeX).
           </para>
-<indexterm zone="texpass1 libptexenc">
+          <indexterm zone="texlive libptexenc">
             <primary sortas="c-libptexenc">libptexenc.so</primary>
           </indexterm>
         </listitem>

Index: pst/typesetting/tex-path.xml
===================================================================
--- pst/typesetting/tex-path.xml	(révision 15326)
+++ pst/typesetting/tex-path.xml	(révision 15327)
@@ -46,10 +46,10 @@
     /etc/profile</command>.</para>
 
     <para>If you arrived here after installing the TeX Live binary and do not
-wish to build from source, your installation is now complete. To continue
-building from source, please procede to <xref linkend="texlive"/>.</para>
+    wish to build from source, your installation is now complete.</para>
 
-<para>Alternatively, if you do not wish to install the programs for asy,
-xindy, and biber (on a from-source build) you can stop here.</para>
+    <para>Alternatively, if this is a from-source build you can now install
+    <xref linkend="asymptote"/>, <xref linkend="biber"/> and <xref
+    linkend="xindy"/> if you wish.</para>
 
 </sect1>

Index: pst/typesetting/typesetting.xml
===================================================================
--- pst/typesetting/typesetting.xml	(révision 15326)
+++ pst/typesetting/typesetting.xml	(révision 15327)
@@ -28,28 +28,32 @@
   linkend="tl-installer"/> instructions,. After installing, they can run
   <command>tlmgr</command> to update their system.</para>
 
-<para>Most people reading BLFS will wish to build from source. You can either
-do as BLFS used to do, by starting with <application>install-tl-unx</application>,
-or you can avoid the binary files completely and begin at
-<xref linkend="texpass1"/> which will install most of
+  <para>Most people reading BLFS will wish to build from source. BLFS used to
+  start by installing <application>install-tl-unx</application> and then use that
+  to bootstrap the build.  Nowadays, we build almost the whole of
+  <application>texlive</application> <emphasis>without</emphasis> a binary install,
+  by adding the separately-packaged texmf files into this build.  For this, begin
+  at <xref linkend="texlive"/> which will install most of
   <application>texlive</application>, together with <emphasis>all</emphasis> of the
-supporting files. This almost-complete install is then used to build two
-remaining parts of <application>texlive</application>, xindy and asy (that
-involves recompiling all of the package, but not reinstalling all of it).</para>
+  supporting files. This almost-complete install can then be used to build the
+  remaining parts of <application>texlive</application>, <xref
+  linkend="asymptote"/>, <xref linkend="xindy"/> and <xref linkend="biber"/>.
+  </para>
 
   <para>Because the texmf files (including documentation, fonts, scripts and
   supporting files) are all in one tarball, it is not practical to limit what
   gets extracted in a sensible way (e.g. to exclude one or other of the typesetting
-engines).</para>
+  engines) when building from source in this manner.</para>
 
-<para>After that, people building from source will wish to install <xref
-linkend="biber"/>, which is supplied separately, to complete the full
-installation.</para>
+  <para>In either case, BLFS installs into
+  <filename class="directory">/opt/texlive/&texlive-year;</filename> with the sole
+  exception of two libraries from the source install which are installed into
+  <filename class="directory">/usr/lib</filename> for convenience.</para>
 
   <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="tl-installer.xml"/>
   <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="texlive-pass1.xml"/>
   <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="tex-path.xml"/>
   <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="biber.xml"/>
+  <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="xindy.xml"/>
 
 </chapter>

Index: xsoft/other/other.xml
===================================================================
--- xsoft/other/other.xml	(révision 15326)
+++ xsoft/other/other.xml	(révision 15327)
@@ -18,6 +18,7 @@
     <para>These programs use the X Window System and don't fit easily into any
     of the other chapters.</para>
 
+  <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="asymptote.xml"/>
   <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="balsa.xml"/>
   <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="ekiga.xml"/>
   <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="feh.xml"/>

