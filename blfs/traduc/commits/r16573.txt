Révision 16573

fichiers modifiés :
   postlfs/filesystems/lvm2.xml

Log :
Add further explanations for LVM2 tests. Thanks to Fernando for interesting discussions

Le robot a traité 5 % du commit anglais
Index: postlfs/filesystems/lvm2.xml
===================================================================
--- postlfs/filesystems/lvm2.xml	(révision 16572)
+++ postlfs/filesystems/lvm2.xml	(révision 16573)
@@ -166,7 +166,30 @@
       <systemitem class="username">root</systemitem> user. Other targets are
       available and can be listed with <command>make -C test help</command>.
       The test timings are very dependent on the speed of the disk(s), and on
-the number of enabled kernel options. A number of tests may fail.
+      the number of enabled kernel options.
+    </para>
+    <para>
+      Those tests do not implement the <quote>expected fail</quote> possibility,
+      and a small number of tests failures is expected by upstream. More
+      failures may happen because some kernel options are missing. For example,
+      the lack of the <emphasis>dm-delay</emphasis> device mapper target may
+      explain up to 10 failures or so. Some tests are incorrectly flagged
+      <quote>broken</quote> if
+      <ulink url='https://github.com/jthornber/thin-provisioning-tools'>
+      thin-provisioning-tools</ulink> are not installed. A workaround is to
+      add the following flags to <command>configure</command>:
+    </para>
+<screen role="nodump"><userinput>     --with-thin-check=    \
+     --with-thin-dump=     \
+     --with-thin-repair=   \
+     --with-thin-restore=  \
+     --with-cache-check=   \
+     --with-cache-dump=    \
+     --with-cache-repair=  \
+     --with-cache-restore= \</userinput></screen>
+    <para>
       One test has been reported to hang, and can be disabled via <command>rm
       test/shell/snapshot-remove-dmsetup.sh</command>. Other tests may hang
       with kernel versions in the 4.1 and 4.2 series (see above). They can be

