Révision 10997

fichiers modifiés :
   general/sysutils/fcron.xml

Log :
Use upstream fixes

Le robot a traité 3 % du commit anglais
Index: general/sysutils/fcron.xml
===================================================================
--- general/sysutils/fcron.xml	(revision 10996)
+++ general/sysutils/fcron.xml	(revision 10997)
@@ -57,6 +57,16 @@
       </listitem>
     </itemizedlist>
 
+    <bridgehead renderas="sect3">Additional Downloads</bridgehead>
+    <itemizedlist spacing="compact">
+      <listitem>
+        <para>
+          Required patch:
+          <ulink url="&patch-root;/fcron-&fcron-version;-sendmail_upstream-1.patch"/>
+        </para>
+      </listitem>
+    </itemizedlist>
     <bridgehead renderas="sect3">Fcron Dependencies</bridgehead>
 
     <bridgehead renderas="sect4">Optional</bridgehead>
@@ -108,16 +118,12 @@
 <screen role="root"><userinput>groupadd -g 22 fcron &amp;&amp;
 useradd -d /dev/null -c "Fcron User" -g fcron -s /bin/false -u 22 fcron</userinput></screen>
 
-    <para><application>Fcron</application> does not handle the <option>--without-sendmail</option>
-    option correctly. Fix it by running he following commands:</para>
-    
-<screen><userinput>sed -i.bak 's/x"$USE_SENDMAIL" != x ;/x"$USE_SENDMAIL" != x0 ;/' configure &amp;&amp;
-sed -i.bak '/clear_forcemail(cl->cl_option);/d' fileconf.c</userinput></screen>
     <para>Install <application>Fcron</application> by running the following
     commands:</para>
 
-<screen><userinput>./configure --prefix=/usr --sysconfdir=/etc \
+<screen><userinput>patch -Np1 -i ../fcron-&fcron-version;-sendmail_upstream-1.patch &amp;&amp;
+autoconf &amp;&amp;
+./configure --prefix=/usr --sysconfdir=/etc \
     --localstatedir=/var --without-sendmail --with-boot-install=no \
     --with-dsssl-dir=/usr/share/sgml/docbook/dsssl-stylesheets-&docbook-dsssl-version; &amp;&amp;
 make</userinput></screen>
@@ -133,6 +139,11 @@
   <sect2 role="commands">
     <title>Command Explanations</title>
 
+    <para><command>patch -Np1 -i fcron...</command>: The current <application>fcron</application>
+    does not handle the <parameter>--without-sendmail</parameter> correctly. This patch fixes
+    the <filename>configure.in</filename> and a few other sources. The <command>autoconf</command>
+    is required to rebuild <filename>configure</filename> using the fixed input file.</para>
+    
     <para><parameter>--without-sendmail</parameter>: By default,
     <application>Fcron</application> will attempt to use the
     <command>sendmail</command> command from an <xref linkend="server-mail"/>

