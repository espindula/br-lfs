Révision 14864

fichiers modifiés :
   xsoft/graphweb/seamonkey.xml
   xsoft/graphweb/firefox.xml

Log :
Tweak text concerning 686 optimization in seamonkey and firefox.

Le robot a traité 7 % du commit anglais
Index: xsoft/graphweb/firefox.xml
===================================================================
--- xsoft/graphweb/firefox.xml	(révision 14863)
+++ xsoft/graphweb/firefox.xml	(révision 14864)
@@ -228,16 +228,18 @@
 mk_add_options MOZ_OBJDIR=@TOPSRCDIR@/firefox-build-dir</literal>
 EOF</userinput></screen>
 
-<para>
-There is a problem in i686 systems, when build with
-<application>gcc</application> ranging from 4.8 to 4.9.1, and using the
-switch <quote>--enable-optimize</quote>. You have two alternatives, best
-one being the upgrade of <application>gcc</application> to version 4.9.2,
-because that switch implies better perfomance and smaller binaries.
-However, if you do not wish to upgrade gcc, disable the switch with:
+    <note><para>
+      There is a problem on i686 systems when building
+      <application>Firefox</application> with <application>gcc</application>
+      versions ranging from 4.8 to 4.9.1 and using the switch
+      <quote>--enable-optimize</quote>. There are two alternatives. The best
+      one is to upgrade <application>gcc</application> to version 4.9.2 or later
+      because it will give better perfomance and smaller binaries.  However, if
+      you do not wish to upgrade gcc, reduce the level of optimization with:
     </para>
 
-<screen><userinput>test $(uname -m) = "i686" &amp;&amp; sed -i 's/enable-optimize/disable-optimize/' mozconfig || true</userinput></screen>
+<screen><userinput>test $(uname -m) = "i686" &amp;&amp; sed -i 's/enable-optimize/&amp;=-O2/' mozconfig || true</userinput></screen>
+    </note>
 
     <para>
       Compile <application>Firefox</application> by issuing the following
@@ -288,13 +290,6 @@
     <title>Command Explanations</title>
 
     <para>
-<command>test $(uname -m) = "i686" &amp;&amp; sed ...</command>:
-On this version of seamonkey, an old bug has reappeared in 32-bit builds.
-With optimization, the install fails<!-- with a Python error-->.  This
-command will fix i686 builds and preserve the optimization on x86_64.
-</para>
-<para>
       <command>make -f client.mk ...</command>: Mozilla products are packaged to
       allow the use of a configuration file which can be used to pass the
       configuration settings to the <command>configure</command> command.

Index: xsoft/graphweb/seamonkey.xml
===================================================================
--- xsoft/graphweb/seamonkey.xml	(révision 14863)
+++ xsoft/graphweb/seamonkey.xml	(révision 14864)
@@ -241,17 +241,18 @@
 mk_add_options MOZ_OBJDIR=@TOPSRCDIR@/moz-build-dir</literal>
 EOF</userinput></screen>
 
-<para>
+    <note><para>
       There is a problem on i686 systems when building
       <application>SeaMonkey</application> with <application>gcc</application>
       versions ranging from 4.8 to 4.9.1 and using the switch
@@     @@
     </para>
 
 <screen><userinput>test $(uname -m) = "i686" &amp;&amp; sed -i 's/enable-optimize/&amp;=-O2/' mozconfig || true</userinput></screen>
+    </note>
 
     <note><para>
       If you are compiling <application>SeaMonkey</application> in chroot, make
@@ -309,13 +310,6 @@
     <title>Command Explanations</title>
 
     <para>
-<command>test $(uname -m) = "i686" &amp;&amp; sed ...</command>:
-On this version of seamonkey, an old bug has reappeared in 32-bit builds.
-With optimization, the install fails<!-- with a Python error-->.  This
-command will fix i686 builds and preserve the optimization on x86_64.
-</para>
-<para>
       <command>mkdir -vp mozilla/moz-build-dir</command>: fixes a build failure
       of Makefile at the beginning of the build, where a file cannot be found.
     </para>

