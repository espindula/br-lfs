Révision 12645

fichiers modifiés :
   general.ent
   server/other/openldap.xml

Log :
openldap-2.4.39. Fix again. Thanks Armin K.

Le robot a traité 16 % du commit anglais
Index: general.ent
===================================================================
--- general.ent	(révision 12644)
+++ general.ent	(révision 12645)
@@ -1,12 +1,12 @@
 <!-- $LastChangedBy$ $Date$ -->
 
+<!ENTITY day          "29">                   <!-- Always 2 digits -->
 <!ENTITY month        "01">                   <!-- Always 2 digits -->
 <!ENTITY year         "2014">
 <!ENTITY copyrightdate "2001-&year;">

Index: server/other/openldap.xml
===================================================================
--- server/other/openldap.xml	(révision 12644)
+++ server/other/openldap.xml	(révision 12645)
@@ -206,15 +206,26 @@
 
 <screen role="root"><userinput>make install &amp;&amp;
 
-chown -v -R ldap:ldap /var/lib/openldap                           &amp;&amp;
-chmod -v 0644 /var/lib/openldap/DB_CONFIG.example                 &amp;&amp;
-chmod -v 0644 /etc/openldap/{slapd.{conf,ldif},DB_CONFIG.example} &amp;&amp;
+chmod -v 700 /var/lib/openldap                                         &amp;&amp;
+chown -v -R ldap:ldap /var/lib/openldap                                &amp;&amp;
+chmod -v 640 /etc/openldap/{slapd.{conf,ldif},DB_CONFIG.example}       &amp;&amp;
+chown -v root:ldap /etc/openldap/{slapd.{conf,ldif},DB_CONFIG.example} &amp;&amp;
+install -v -dm700 -o ldap -g ldap /etc/openldap/slapd.d                &amp;&amp;
 
 install -v -dm755  /usr/share/doc/openldap-&openldap-version; &amp;&amp;
 cp -vfr doc/drafts /usr/share/doc/openldap-&openldap-version; &amp;&amp;
 cp -vfr doc/rfc    /usr/share/doc/openldap-&openldap-version; &amp;&amp;
 cp -vfr doc/guide  /usr/share/doc/openldap-&openldap-version;</userinput></screen>
 
+    <para>
+      Having slapd configuration files and ldap databases in /var/lib/openldap
+      readable by anyone is a SECURITY ISSUE, especially since a file stores
+      admin password in PLAIN TEXT. That's why mode 640 and root:ldap ownership
+      were used. Owner is root, so only root can modify the file, and group is
+      ldap, so that the group which owns slapd daemon could read but not modify
+      the file in case of a security breach. 
+    </para>
   </sect2>
 
   <sect2 role="commands">

