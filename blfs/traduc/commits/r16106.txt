Révision 16106

fichiers modifiés :
   introduction/welcome/changelog.xml
   general.ent
   x/lib/gtk+3.xml

Log :
Fix Gtk3 window resize bug (after upstream committed patch).

Le robot a traité 29 % du commit anglais
Index: introduction/welcome/changelog.xml
===================================================================
--- introduction/welcome/changelog.xml	(révision 16105)
+++ introduction/welcome/changelog.xml	(révision 16106)
@@ -45,6 +45,17 @@
 -->
 
     <listitem>
+      <para>June 10th, 2015</para>
+      <itemizedlist>
+        <listitem>
+          <para>[fernando] - Resize window does not work for some gtk3
+          applications. Fixes
+          <ulink url="&blfs-ticket-root;6590">#6590</ulink>.</para>
+        </listitem>
+      </itemizedlist>
+    </listitem>
+    <listitem>
       <para>June 9th, 2015</para>
       <itemizedlist>
         <listitem>

Index: x/lib/gtk+3.xml
===================================================================
--- x/lib/gtk+3.xml	(révision 16105)
+++ x/lib/gtk+3.xml	(révision 16106)
@@ -124,7 +124,15 @@
       commands:
     </para>
 
-<screen><userinput>./configure --prefix=/usr             \
+<screen><userinput>sed -e '/priv->decorated ||$/ a\    return;\n' \
+    -e 's/\(.*priv->decorated\) ||$/\1)/' \
+    -e '/(!gtk_window_should/ i\  if (!priv->client_decorated &amp;&amp;' \
+    -e '/ !priv->client_decorated) ||/ s/(!/!(/' \
+    -e 's/ !priv->client_decorated) ||//' \
+    -e 's/!\(gtk_window_supports.*\)/  \1)/' \
+    -i gtk/gtkwindow.c &amp;&amp;
+./configure --prefix=/usr             \
             --sysconfdir=/etc         \
             --enable-broadway-backend \
             --enable-x11-backend      \
@@ -171,6 +179,12 @@
     <title>Command Explanations</title>
 
     <para>
+      <command>sed ... -i gtk/gtkwindow.c</command>: fix
+      <application>Gtk3</application> window resize bug (after upstream
+      committed patch).
+    </para>
+    <para>
       <parameter>--enable-broadway-backend</parameter>: switch enables the
       HTML5 GTK backend.
     </para>

