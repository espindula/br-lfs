Révision 11446

fichiers modifiés :
   general/prog/java.xml
   general/prog/apache-ant.xml
   general/prog/junit.xml
   introduction/welcome/changelog.xml
   general.ent

Log :
Update to apache-ant-1.9.2

Le robot a traité 29 % du commit anglais
Index: general/prog/apache-ant.xml
===================================================================
--- general/prog/apache-ant.xml	(révision 11445)
+++ general/prog/apache-ant.xml	(révision 11446)
@@ -29,9 +29,6 @@
   <sect2 role="package">
     <title>Introduction to Apache Ant</title>
 
-<warning><para>Under revison do not use for now.</para></warning>
     <para>The <application>Apache Ant</application> package is a
     <application>Java</application>-based build tool. In theory, it is kind of
     like <command>make</command>, but without <command>make</command>'s
@@ -42,7 +39,7 @@
     a target tree that executes various tasks. Each task is run by an object
     that implements a particular task interface.</para>
 
-&lfs72_checked;
+    &lfs73_checked;
 
     <bridgehead renderas="sect3">Package Information</bridgehead>
     <itemizedlist spacing="compact">
@@ -70,7 +67,7 @@
 
     <bridgehead renderas="sect4">Required</bridgehead>
     <para role="required">
+      A JDK (<xref linkend="java-bin"/> or <xref linkend="openjdk"/>) 
     </para>
 
     <bridgehead renderas="sect4">Recommended</bridgehead>
@@ -91,7 +88,8 @@
       requirements of various packages installed using
       <application>Apache Ant</application>. Review the table at
       <ulink url="http://ant.apache.org/manual/install.html#librarydependencies"/>
-for any prerequisite libraries you may need.</para>
+      for any prerequisite libraries you may need. Place any needed libraries 
+      in <filename>lib/optional</filename>.</para>
     </note>
 
     <para>If it is not possible to install the recommended
@@ -99,12 +97,12 @@
     <application>Apache Ant</application> by removing the reference to the test
     instructions (note that the tests will not be performed):</para>
 
-<screen><userinput>sed -i 's;jars,test-jar;jars;' build.xml</userinput></screen>
+<screen><userinput>sed -i 's/jars,test-jar/jars/' build.xml</userinput></screen>
 
     <para>otherwise copy the <application>junit</application> jar file to the
     local directory tree.</para>
 
-<screen><userinput>cp -v /usr/share/junit-&junit-version;/junit-&junit-version;.jar lib/optional/junit.jar</userinput></screen>
+<screen><userinput>cp -v /usr/share/java/junit-&junit-version;.jar lib/optional</userinput></screen>
 
     <para>Install <application>Apache Ant</application> by running the following
     commands:</para>
@@ -124,12 +122,12 @@
   <sect2 role="commands">
     <title>Command Explanations</title>
 
-<para><command>sed -i 's;jars...</command>: If the
+    <para><command>sed -i 's/jars...</command>: If the
     <application>JUnit</application> package is not installed, the regression
     tests cannot be performed.</para>
 
     <para><command>cp -v
-/usr/share/junit-&junit-version;/&junit-version;.jar ...</command>:
+    /usr/share/java/junit-&junit-version;.jar ...</command>:
     This command copies the JUnit jar file into the directory where Apache Ant
     will look for it.</para>
 

Index: general/prog/java.xml
===================================================================
--- general/prog/java.xml	(révision 11445)
+++ general/prog/java.xml	(révision 11446)
@@ -59,13 +59,13 @@
   file.  These act as library files.</para>
 
   <para>The JVM can search for and use classes in jar files automatically.  It
-uses the <envar>CLASSPATH</envar> envronment variable to search for jar files.
-This a a standard list of colon-separated directory namesi similar to
-the <envar>PATH</envar> envronment variable.</para>
+  uses the <envar>CLASSPATH</envar> environment variable to search for jar files.
+  This is a standard list of colon-separated directory names similar to
+  the <envar>PATH</envar> environment variable.</para>
  
   &lfs73_checked;
 
-<sect2 id="java-bin">
+  <sect2 id="java-bin" xreflabel="Java Binary">
     <title>Installing a binary JDK</title>
 
     <para>Creating a JVM from source requires a set of circular dependencies.
@@ -112,7 +112,7 @@
     </itemizedlist>
  
     <para>Begin by extracting the appropriate binary tarball for your
-architeciture and changing to the extracted directory. Install the binary
+    architecture and changing to the extracted directory. Install the binary
     <application>OpenJDK</application> with the following commands as the
     <systemitem class="username">root</systemitem> user:</para>
 

Index: general/prog/junit.xml
===================================================================
--- general/prog/junit.xml	(révision 11445)
+++ general/prog/junit.xml	(révision 11446)
@@ -38,7 +38,7 @@
     assertions for testing expected results, test fixtures for sharing common
     test data, and test runners for running tests.</para>
 
-&lfs72_checked;
+<!--    &lfs73_checked; -->
 
     <bridgehead renderas="sect3">Package Information</bridgehead>
     <itemizedlist spacing="compact">
@@ -62,10 +62,30 @@
       </listitem>
     </itemizedlist>
 
+    <bridgehead renderas="sect3">Required Additional Downloads</bridgehead>
+    <itemizedlist spacing="compact">
+      <listitem>
+        <para>
+          <ulink url="http://anduin.linuxfromscratch.org/sources/other/junit-4.11.jar">junit-4.11.jar
+          (http//anduin.linuxfromscratch.org/sources/other/junit-4.11.jar)
+          </ulink>
+        </para>
+      </listitem>
+      <listitem>
+        <para>
+          <ulink url="http://hamcrest.googlecode.com/files/hamcrest-1.3.tgz">hamcrest-1.3.tgz
+          (http//hamcrest.googlecode.com/files/hamcrest-1.3.tgz)
+          </ulink>
+        </para>
+      </listitem>
+    </itemizedlist>
+ 
     <bridgehead renderas="sect3">JUnit Dependencies</bridgehead>
 
     <bridgehead renderas="sect4">Required</bridgehead>
@@ -75,32 +95,43 @@
   <sect2 role="installation">
     <title>Installation of JUnit</title>
 
-<para>Install <application>JUnit</application> by running the following
+    <para>To do a full build of JUnit from source, <xref linkend='apache-ant'/>
+    is required.  However JUnit is a circular depedency of Apache Ant.  Copy
+    the JUnit jar file to get started.  Then come back to build from source, if
+    desired.</para>
+    <para>Install the <application>JUnit</application> jar file by running the following
     commands as the <systemitem class="username">root</systemitem> user:</para>
 
-<screen role="root"><userinput>install -v -m755 -d /usr/share/{,doc/}junit-&junit-version; &amp;&amp;
-chown -R root:root .                             &amp;&amp;
-cp -v -R junit* org  /usr/share/junit-&junit-version;       &amp;&amp;
-cp -v -R *.html *doc /usr/share/doc/junit-&junit-version;</userinput></screen>
+<screen role="root"><userinput>install -v -m755 -d /usr/share/java &amp;&amp;
+cp -v junit.jar  /usr/share/java</userinput></screen>
 
+    <para>Now install the required hamcrest jar files.  Extract the hamcrest-1.3.tgz
+    files change to the extracted directory.  Then, as the 
+    <systemitem class="username">root</systemitem> user:</para>
+<screen role="root"><userinput>install -v -m755 -d /usr/share/java/hamcrest        &amp;&amp;
+cp -v hamcrest-all-1.3.jar /usr/share/java/hamcrest &amp;&amp; 
+ln -sv  hamcrest/hamcrest-all-1.3.jar /usr/share/java/hamcrest.jar </userinput></screen>
     <para>Add the <filename
     class='libraryfile'>junit-&junit-version;.jar</filename> and <filename
     class='directory'>/usr/share/junit-&junit-version;</filename> directory to
     your system <envar>CLASSPATH</envar> environment variable:</para>
 
 <screen><userinput>export CLASSPATH=$CLASSPATH:\
-/usr/share/junit-&junit-version;/junit-&junit-version;.jar:/usr/share/junit-&junit-version;</userinput></screen>
+/usr/share/java/junit-&junit-version;.jar:/usr/share/java/hamcrest.jar</userinput></screen>
+<!--
     <para>To run the <application>JUnit</application> regression self-tests,
+    you'll need to have <xref linkend="openjdk"/>,<!- - <xref linkend="jdk"/>,- -> or
     <ulink url="http://jikes.sourceforge.net/">Jikes</ulink> installed and the
     <envar>CLASSPATH</envar> environment variable updated. Then, as an
     unprivileged user, issue:</para>
 
 <screen><userinput>java org.junit.runner.JUnitCore org.junit.tests.AllTests</userinput></screen>
+-->
   </sect2>
+<!--
   <sect2 role="content">
     <title>Contents</title>
 
@@ -136,5 +167,5 @@
     </variablelist>
 
   </sect2>
+-->
 </sect1>

Index: introduction/welcome/changelog.xml
===================================================================
--- introduction/welcome/changelog.xml	(révision 11445)
+++ introduction/welcome/changelog.xml	(révision 11446)
@@ -47,6 +47,9 @@
       <para>July 17th, 2013</para>
       <itemizedlist>
         <listitem>
+          <para>[bdubbs] - Update to apache-ant-1.9.2.</para>
+        </listitem>
+        <listitem>
           <para>[igor] - Bazaar-2.5.1.</para>
         </listitem>
       </itemizedlist>

