Révision 12817

fichiers modifiés :
   introduction/welcome/changelog.xml
   xincludes/setqt.xml
   general.ent
   xsoft/office/libreoffice.xml
   x/lib/webkitgtk2.xml
   x/lib/webkitgtk.xml
   x/lib/qt4.xml
   x/lib/qt5.xml

Log :
Tweaks, reformats and fixes: setqt, Qt-5.2.1, Qt-4.8.5, LibreOffice-4.2.0, WebKitGTK+-1.10.2 and WebKitGTK+-2.2.4.

Le robot a traité 14 % du commit anglais
Index: introduction/welcome/changelog.xml
===================================================================
--- introduction/welcome/changelog.xml	(révision 12816)
+++ introduction/welcome/changelog.xml	(révision 12817)
@@ -45,6 +45,17 @@
 -->
 
     <listitem>
+      <para>March 4th, 2014</para>
+      <itemizedlist>
+        <listitem>
+          <para>[fernando] - Tweaks, reformats and fixes: setqt, Qt-5.2.1,
+          Qt-4.8.5, LibreOffice-4.2.0, WebKitGTK+-1.10.2 and
+          WebKitGTK+-2.2.4.</para>
+        </listitem>
+      </itemizedlist>
+    </listitem>
+    <listitem>
       <para>March 3rd, 2014</para>
       <itemizedlist>
         <listitem>

Index: xincludes/setqt.xml
===================================================================
--- xincludes/setqt.xml	(révision 12816)
+++ xincludes/setqt.xml	(révision 12817)
@@ -18,12 +18,12 @@
 
 <screen role="root"><userinput>cat &gt; /usr/bin/setqt4 &lt;&lt; 'EOF'
 <literal>if [ "x$QT5DIR" != "x/usr" ]; then pathremove  $QT5DIR/bin; fi
-if [ "x$QTDIR"  != "x/usr" ]; then pathprepend $QTDIR/bin;  fi
+if [ "x$QT4DIR" != "x/usr" ]; then pathprepend $QT4DIR/bin; fi
 echo $PATH</literal>
 EOF</userinput></screen>
 
 <screen role="root"><userinput>cat &gt; /usr/bin/setqt5 &lt;&lt; 'EOF'
-<literal>if [ "x$QTDIR"  != "x/usr" ]; then pathremove  $QTDIR/bin;  fi
+<literal>if [ "x$QT4DIR" != "x/usr" ]; then pathremove  $QT4DIR/bin; fi
 if [ "x$QT5DIR" != "x/usr" ]; then pathprepend $QT5DIR/bin; fi
 echo $PATH</literal>
 EOF</userinput></screen>

Index: x/lib/qt4.xml
===================================================================
--- x/lib/qt4.xml	(révision 12816)
+++ x/lib/qt4.xml	(révision 12817)
@@ -155,7 +155,7 @@
       commands:
     </para>
 
-<screen><userinput>export QTLINK=/usr
+<screen><userinput>export QT4LINK=/usr
 
 sed -i -e "/#if/d" -e "/#error/d" -e "/#endif/d" \
      config.tests/unix/libmng/libmng.cpp &amp;&amp;
@@ -231,8 +231,8 @@
       <filename class="directory">/opt</filename> directory.
     </para>
 
-<screen><userinput>export QTDIR=/opt/qt-&qt4-version; &amp;&amp;
-export QTLINK=/opt/qt4 &amp;&amp;
+<screen><userinput>export QT4DIR=/opt/qt-&qt4-version; &amp;&amp;
+export QT4LINK=/opt/qt4 &amp;&amp;
 
 sed -i -e "/#if/d" -e "/#error/d" -e "/#endif/d" \
      config.tests/unix/libmng/libmng.cpp &amp;&amp;
@@ -240,7 +240,7 @@
 sed -i '/CONFIG -/ a\isEmpty(OUTPUT_DIR): OUTPUT_DIR = ../..' \
      src/3rdparty/webkit/Source/WebKit2/DerivedSources.pro &amp;&amp;
 
-./configure -prefix $QTDIR       \
+./configure -prefix     $QT4DIR  \
             -sysconfdir /etc/xdg \
             -confirm-license     \
             -opensource          \
@@ -264,7 +264,7 @@
     </para>
 
 <screen role="root"><userinput>make install
-ln -svfn $QTDIR /opt/qt4</userinput></screen>
+ln -svfn $QT4DIR /opt/qt4</userinput></screen>
 
     <para>
       Remove references to the build directory from installed files by
@@ -272,12 +272,12 @@
       <systemitem class="username">root</systemitem> user:
     </para>
 
-<screen role="root"><userinput>for file in `basename -a -s .prl $QTDIR/lib/lib*.prl`; do
+<screen role="root"><userinput>for file in `basename -a -s .prl $QT4DIR/lib/lib*.prl`; do
        sed -r -e '/^QMAKE_PRL_BUILD_DIR/d'    \
               -e 's/(QMAKE_PRL_LIBS =).*/\1/' \
--i $QTDIR/lib/${file}.prl
+              -i $QT4DIR/lib/${file}.prl
 
-perl -pi -e "s, -L$PWD/?\S+,,g" $QTDIR/lib/pkgconfig/${file##lib}.pc
+   perl -pi -e "s, -L$PWD/?\S+,,g" $QT4DIR/lib/pkgconfig/${file##lib}.pc
 done
 
 unset file</userinput></screen>
@@ -287,7 +287,7 @@
 
       <para>
         For all methods, install images and create the menu entries 
-for installed applications.  Be sure that the <envar>QTLINK</envar>
+        for installed applications.  Be sure that the <envar>QT4LINK</envar>
         variable is defined in root's environment and 
         as the <systemitem class="username">root</systemitem> user:
       </para>
@@ -313,7 +313,7 @@
 <literal>[Desktop Entry]
 Name=Qt4 Assistant 
 Comment=Shows Qt4 documentation and examples
-Exec=$QTLINK/bin/assistant
+Exec=$QT4LINK/bin/assistant
 Icon=assistant-qt4.png
 Terminal=false
 Encoding=UTF-8
@@ -325,7 +325,7 @@
 <literal>[Desktop Entry]
 Name=Qt4 Designer
 Comment=Design GUIs for Qt4 applications
-Exec=$QTLINK/bin/designer
+Exec=$QT4LINK/bin/designer
 Icon=designer-qt4.png
 MimeType=application/x-designer;
 Terminal=false
@@ -338,7 +338,7 @@
 <literal>[Desktop Entry]
 Name=Qt4 Linguist 
 Comment=Add translations to Qt4 applications
-Exec=$QTLINK/bin/linguist
+Exec=$QT4LINK/bin/linguist
 Icon=linguist-qt4.png
 MimeType=text/vnd.trolltech.linguist;application/x-linguist;
 Terminal=false
@@ -352,7 +352,7 @@
 Name=Qt4 QDbusViewer 
 GenericName=D-Bus Debugger
 Comment=Debug D-Bus applications
-Exec=$QTLINK/bin/qdbusviewer
+Exec=$QT4LINK/bin/qdbusviewer
 Icon=qdbusviewer-qt4.png
 Terminal=false
 Encoding=UTF-8
@@ -364,7 +364,7 @@
 <literal>[Desktop Entry]
 Name=Qt4 Config 
 Comment=Configure Qt4 behavior, styles, fonts
-Exec=$QTLINK/bin/qtconfig
+Exec=$QT4LINK/bin/qtconfig
 Icon=qt4logo.png
 Terminal=false
 Encoding=UTF-8
@@ -464,8 +464,8 @@
 <screen role="root"><userinput>cat &gt; /etc/profile.d/qt4.sh &lt;&lt; EOF
 <literal># Begin /etc/profile.d/qt4.sh
 
-QTDIR=/usr
-export QTDIR
+QT4DIR=/usr
+export QT4DIR
 
 # End /etc/profile.d/qt4.sh</literal>
 EOF</userinput></screen>
@@ -503,12 +503,12 @@
 <screen role="root"><userinput>cat &gt; /etc/profile.d/qt4.sh &lt;&lt; EOF
 <literal># Begin /etc/profile.d/qt4.sh
    
-QTDIR=/opt/qt4
+QT4DIR=/opt/qt4
    
 pathappend /opt/qt4/bin           PATH
 pathappend /opt/qt4/lib/pkgconfig PKG_CONFIG_PATH
    
-export QTDIR
+export QT4DIR
    
 # End /etc/profile.d/qt4.sh</literal>
 EOF</userinput></screen>

Index: x/lib/qt5.xml
===================================================================
--- x/lib/qt5.xml	(révision 12816)
+++ x/lib/qt5.xml	(révision 12817)
@@ -453,7 +453,7 @@
 <screen role="root"><userinput>cat &gt; /etc/profile.d/qt5.sh &lt;&lt; EOF
 <literal># Begin /etc/profile.d/qt5.sh
 
-QTDIR=/usr
+QT5DIR=/usr
 export QT5DIR
 
 # End /etc/profile.d/qt5.sh</literal>

Index: x/lib/webkitgtk2.xml
===================================================================
--- x/lib/webkitgtk2.xml	(révision 12816)
+++ x/lib/webkitgtk2.xml	(révision 12817)
@@ -158,13 +158,21 @@
       Now, as the <systemitem class="username">root</systemitem> user:
     </para>
 
-<screen role="root"><userinput>make install</userinput></screen>
+<screen role="root"><userinput>make install                                    &amp;&amp;
+rm -rf /usr/share/gtk-doc/html/webkitgtk-2.0    &amp;&amp;
+mv -vi /usr/share/gtk-doc/html/webkitgtk{,-2.0}</userinput></screen>
   </sect2>
 
   <sect2 role="commands">
     <title>Command Explanations</title>
 
     <para>
+      <command>mv -vi /usr/share/gtk-doc/html/webkitgtk{,-2.0}</command>:
+      There is a conflict with the directory installed with same name by
+      <xref linkend="webkitgtk"/>.
+    </para>
+    <para>
       <option>--enable-introspection</option>: This switch enables support for
       <application>Gobject Introspection</application> and is required for a
       <application>GNOME</application> Desktop. Remove if you don't have
@@ -209,8 +217,7 @@
         </seg>
         <seg>
           /usr/include/webkitgtk-3.0, 
-/usr/lib/webkitgtk3,
-/usr/share/gtk-doc/html/webkitgtk,
+          /usr/share/gtk-doc/html/webkitgtk-2.0,
           /usr/share/gtk-doc/html/webkit2gtk and
           /usr/share/webkitgtk-3.0
         </seg>

Index: x/lib/webkitgtk.xml
===================================================================
--- x/lib/webkitgtk.xml	(révision 12816)
+++ x/lib/webkitgtk.xml	(révision 12817)
@@ -148,13 +148,21 @@
       Now, as the <systemitem class="username">root</systemitem> user:
     </para>
 
-<screen role="root"><userinput>make install</userinput></screen>
+<screen role="root"><userinput>make install                                    &amp;&amp;
+rm -rf /usr/share/gtk-doc/html/webkitgtk-1.0    &amp;&amp;
+mv -vi /usr/share/gtk-doc/html/webkitgtk{,-1.0}</userinput></screen>
   </sect2>
 
   <sect2 role="commands">
     <title>Command Explanations</title>
 
     <para>
+      <command>mv -vi /usr/share/gtk-doc/html/webkitgtk{,-1.0}</command>:
+      There is a conflict with the directory installed with same name by
+      <xref linkend="webkitgtk2"/>.
+    </para>
+    <para>
       <command>sed ... Source/ThirdParty/ANGLE/src/compiler/glslang.y</command>:
       This command corrects a problem caused by the most recent version of
       Bison.
@@ -191,10 +199,11 @@
           jsc-1
         </seg>
         <seg>
-libjavascriptcoregtk-1.0.so and libwebkit-1.0.so
+          libjavascriptcoregtk-1.0.so and libwebkitgtk-1.0.so
         </seg>
         <seg>
-/usr/include/webkit-1.0 and
+          /usr/include/webkit-1.0,
+          /usr/share/gtk-doc/html/webkitgtk-1.0 and
           /usr/share/webkit-1.0
         </seg>
       </seglistitem>

