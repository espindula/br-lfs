Révision 12917

fichiers modifiés :
   general.ent
   pst/printing/gs.xml
   introduction/welcome/changelog.xml

Log :
Update to ghostscript-9.14. Thanks Armin K. for fixing to build with system zlib.

Le robot a traité 34 % du commit anglais
Index: introduction/welcome/changelog.xml
===================================================================
--- introduction/welcome/changelog.xml	(révision 12916)
+++ introduction/welcome/changelog.xml	(révision 12917)
@@ -48,6 +48,11 @@
       <para>March 30th, 2014</para>
       <itemizedlist>
         <listitem>
+          <para>[fernando] - Update to ghostscript-9.14. Thanks Armin K. for
+          fixing to build with system zlib. Fixes
+          <ulink url="&blfs-ticket-root;4867">#4867</ulink>.</para>
+        </listitem>
+        <listitem>
           <para>[fernando] - Add patch to BlueZ-5.17. Thanks Armin K. Fixes to
           work properly with gnome-bluetooth and_or kde bluedevil.
           Fixes <ulink url="&blfs-ticket-root;3759">#3759</ulink>.</para>

Index: pst/printing/gs.xml
===================================================================
--- pst/printing/gs.xml	(révision 12916)
+++ pst/printing/gs.xml	(révision 12917)
@@ -7,10 +7,10 @@
   <!ENTITY gs-download-http
   "http://downloads.ghostscript.com/public/ghostscript-&gs-version;.tar.bz2">
   <!ENTITY gs-download-ftp  " ">
-<!ENTITY gs-md5sum        "7179bb1ed4f6f453147e6f7e1f210ce8">
+  <!ENTITY gs-md5sum        "75f2e8ab8891d052ade9b64eb4eb5294">
   <!ENTITY gs-size          "30 MB">
   <!ENTITY gs-buildsize
-"127 MB (includes installing libgs.so, add 5 MB if the fonts are installed)">
+  "212 MB (includes installing libgs.so, add 5 MB if the fonts are installed)">
   <!ENTITY gs-time
   "2.3 SBU (includes building and installing libgs.so)">
 
@@ -158,8 +158,9 @@
       <application>libjpeg</application>, and <application>libpng</application>:
     </para>
 
-<screen><userinput>rm -rf expat freetype lcms2 jpeg libpng</userinput></screen>
+<screen><userinput>sed -i 's/ZLIBDIR=src/ZLIBDIR=$includedir/' configure.ac configure &amp;&amp;
+rm -rf expat freetype lcms2 jpeg libpng</userinput></screen>
+<!--
     <note>
       <para>
         If you have a multicore computer and try to run make with multiple
@@ -233,6 +234,11 @@
     <title>Command Explanations</title>
 
     <para>
+      <command>sed -i 's/ZLIBDIR=src/ZLIBDIR=$includedir/' ... </command>:
+      Fix to build with system <application>zlib</application>.
+    </para>
+    <para>
       <command>rm -rf zlib</command>:
       <application>zlib</application> was installed as part of LFS.
     </para>
@@ -280,17 +286,17 @@
 
       <seglistitem>
         <seg>
-bdftops, dvipdf, eps2eps, fixmswrd.pl, font2c, gs, gsbj,
-gsc (from soinstall), gsdj, gsdj500, gslj, gslp, gsnd, gsx
-(from soinstall), lprsetup.sh, pdf2dsc, pdf2ps,
-pf2afm, pfbtopfa, printafm, ps2ascii, ps2epsi, ps2pdf, ps2pdf12,
-ps2pdf13, ps2pdf14, ps2pdfwr, ps2ps, ps2ps2, pv.sh, unix-lpr.sh, and
-wftopfa
+          dvipdf, eps2eps, font2c, gs, gsbj, gsc (from soinstall), gsdj,
+          gsdj500, gslj, gslp, gsnd, gsx (from soinstall), lprsetup.sh,
+          pdf2dsc, pdf2ps, pf2afm, pfbtopfa, pphs, printafm, ps2ascii,
+          ps2epsi, ps2pdf, ps2pdf12, ps2pdf13, ps2pdf14, ps2pdfwr,
+          ps2ps, ps2ps2, unix-lpr.sh, and wftopfa
           <!-- I don't see bdftops,fixmswrd.pl or pv.sh on my builds [ I don't
           have any bdf tools from xorg ] but they are still referenced in
           base/unixinst.mak -->
         </seg>
-<seg>libgs.so</seg>
+        <seg>libgs.so and
+             /usr/lib/ghostscript/&gs-version;/X11.so</seg>
         <seg>
           /usr/include/ghostscript,
           /usr/lib/ghostscript,

