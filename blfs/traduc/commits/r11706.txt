Révision 11706

fichiers modifiés :
   general.ent
   pst/printing/gs.xml
   introduction/welcome/changelog.xml

Log :
ghostscript-9.09

Le robot a traité 14 % du commit anglais
Index: introduction/welcome/changelog.xml
===================================================================
--- introduction/welcome/changelog.xml	(révision 11705)
+++ introduction/welcome/changelog.xml	(révision 11706)
@@ -47,6 +47,10 @@
       <para>August 26th, 2013</para>
       <itemizedlist>
         <listitem>
+          <para>[ken] - Update to ghostscript-9.09.  Fixes
+          <ulink url="&blfs-ticket-root;3996">#3996</ulink>.</para>
+        </listitem>
+        <listitem>
           <para>[bdubbs] - Update to samba-4.0.9.  Fixes
           <ulink url="&blfs-ticket-root;3994">#3994</ulink>.</para>
         </listitem>

Index: pst/printing/gs.xml
===================================================================
--- pst/printing/gs.xml	(révision 11705)
+++ pst/printing/gs.xml	(révision 11706)
@@ -7,12 +7,12 @@
   "http://downloads.ghostscript.com/public/ghostscript-&gs-version;.tar.bz2">
   <!ENTITY gs-download-ftp  " ">
   <!ENTITY gs-buildsize
-"215 MB (includes installing libgs.so and both font tarballs)">
+  "189 MB (includes installing libgs.so, add 5 MB if the fonts are installed)">
   <!ENTITY gs-time
-"3.3 SBU (includes building and installing libgs.so)">
+  "2.2 SBU (includes building and installing libgs.so)">
 
   <!ENTITY gs-standard-fonts-download
   "&sourceforge-repo;/gs-fonts/ghostscript-fonts-std-8.11.tar.gz">
@@ -44,9 +44,10 @@
 
     <para><application>Ghostscript</application> is a versatile processor
     for PostScript data with the ability to render PostScript to different
-targets.</para>
+    targets. It used to be part of the cups printing stack, but is no longer
+    used for that.</para>
 
-&lfs73_checked;
+    &lfs74_checked;
 
     <bridgehead renderas="sect3">Package Information</bridgehead>
     <itemizedlist spacing="compact">
@@ -72,6 +73,8 @@
 
     <bridgehead renderas="sect3">Additional Downloads</bridgehead>
 
+      <para>If you wish, you can download additional fonts.</para>
     <itemizedlist spacing="compact">
       <title>Standard Fonts</title>
       <listitem>
@@ -116,8 +119,7 @@
       <xref linkend="fontconfig"/>,
       <xref linkend="gtk2"/>,
       <xref linkend="cups"/>,
-<xref linkend="jasper"/>,
-<xref linkend="lcms"/>,
+      <xref linkend="lcms"/> (not used by default, nor if lcms2 is present or found),
       <xref linkend="libidn"/>,
       <xref linkend="x-window-system"/> and
       <ulink url="http://packages.debian.org/unstable/source/libpaper">libpaper</ulink>
@@ -153,11 +155,10 @@
       If you have installed these dependencies on your system, remove the
       copies of <application>expat</application>,
       <application>freetype</application>, <application>lcms2</application>,
-<application>libjpeg</application>, <application>libpng</application>,
-and <application>libtiff</application>:
+      <application>libjpeg</application>, and <application>libpng</application>:
     </para>
 
-<screen><userinput>rm -rf expat freetype lcms2 jpeg libpng tiff</userinput></screen>
+<screen><userinput>rm -rf expat freetype lcms2 jpeg libpng</userinput></screen>
 
     <note>
       <para>
@@ -169,21 +170,11 @@
       </para>
     </note>
 
-<note>
-<para>
-If you have installed Cups and your printer is <emphasis>not</emphasis>
-a postscript printer you will need to add
-<option>--with-install-cups</option> to the configure options below.
-(This option makes Ghostscript compile and install the gstoraster filter
-and the gstoraster.convs configuration file that allow Cups to convert a
-PostScript file to raster.)
-</para>
-</note>
     <para>Compile <application>Ghostscript</application>:</para>
 
-<screen><userinput>rm -rf jasper lcms zlib &amp;&amp;
-./configure --prefix=/usr --enable-dynamic --with-system-libtiff LIBS=-lz &amp;&amp;
+<screen><userinput>rm -rf zlib &amp;&amp;
+./configure --prefix=/usr --disable-compile-inits \
+ --enable-dynamic --with-system-libtiff &amp;&amp;
 make</userinput></screen>
 
     <note>
@@ -207,7 +198,7 @@
       following command (issue from an X Windows terminal):
     </para>
 
-<screen><userinput>bin/gs -Ilib -dBATCH examples/tiger.eps</userinput></screen>
+<screen><userinput>bin/gs -Ilib -IResource/Init -dBATCH examples/tiger.eps</userinput></screen>
 
     <para>
       Now, as the <systemitem class="username">root</systemitem> user:
@@ -221,12 +212,12 @@
 install -v -m644 base/*.h /usr/include/ghostscript &amp;&amp;
 ln -v -s ghostscript /usr/include/ps</userinput></screen>
 
-<para>Now install the documentation:</para>
+    <para>Now make the documentation accessible from the normal place:</para>
 
 <screen role="root"><userinput>ln -sfv ../ghostscript/&gs-version;/doc /usr/share/doc/ghostscript-&gs-version;</userinput></screen>
 
     <para>
-To finish the installation, unpack all fonts you've downloaded to
+      If you have downloaded any fonts, unpack them to
       <filename class="directory">/usr/share/ghostscript</filename> and ensure
       the ownerships of the files are
       <systemitem class="username">root</systemitem>:
@@ -242,26 +233,18 @@
     <title>Command Explanations</title>
 
     <para>
-<command>rm -rf jasper lcms zlib</command>: The
-<application>Ghostscript</application> build system defaults to using its
-own version of <ulink url="http://www.openjpeg.org/">OpenJpeg</ulink> for
-JPEG 2000 files <!-- I can't get it to compile using a system installed
-version of openjpeg. It seems the ghostscript version has been heavily
-modified... --> so jasper source can be removed. The default color
-management system is now <application>lcms2</application> so the
-<application>lcms</application> source is not needed.
-<application>Zlib</application> was installed as part of LFS.
+      <command>rm -rf zlib</command>:
+      <application>zlib</application> was installed as part of LFS.
     </para>
 
     <para>
-<option>--with-system-libtiff</option>: Remove this option if you've not
-installed <xref linkend="libtiff"/>.
+      <command>--disable-compile-inits</command>: This option makes
+      <command>gs</command> and <filename>libgs.so</filename> slightly smaller.
     </para>
 
     <para>
-<parameter>LIBS=-lz</parameter>: Use the <envar>LIBS</envar> variable to
-tell the linker (ld) to link against the system installed
-<application>zlib</application>.
+      <option>--with-system-libtiff</option>: Remove this option if you've not
+      installed <xref linkend="libtiff"/>.
     </para>
 
     <para>
@@ -280,6 +263,12 @@
       <command>ln -sfv ../ghostscript-&gs-version;/doc ...</command>: This puts
       a symbolic link to the documentation where it is expected to be found.
     </para>
+    <para>
+      <option>--disable-cups</option>: this option will save a tiny amount of
+      space by not linking <command>gs</command> and <filename>libgs.so</filename>
+      to the <xref linkend="cups"/> libraries if you have installed those.
+    </para>
   </sect2>
 
   <sect2 role="content">
@@ -291,12 +280,15 @@
 
       <seglistitem>
         <seg>
-bdftops, dumphint, dvipdf, eps2eps, fixmswrd.pl, font2c, gs, gsbj,
+          bdftops, dvipdf, eps2eps, fixmswrd.pl, font2c, gs, gsbj,
           gsc (from soinstall), gsdj, gsdj500, gslj, gslp, gsnd, gsx
          (from soinstall), lprsetup.sh, pdf2dsc, pdf2ps,
           pf2afm, pfbtopfa, printafm, ps2ascii, ps2epsi, ps2pdf, ps2pdf12,
           ps2pdf13, ps2pdf14, ps2pdfwr, ps2ps, ps2ps2, pv.sh, unix-lpr.sh, and
           wftopfa
+          <!-- I don't see bdftops,fixmswrd.pl or pv.sh on my builds [ I don't
+          have any bdf tools from xorg ] but they are still referenced in
+          base/unixinst.mak -->
         </seg>
         <seg>libgs.so</seg>
         <seg>

