Révision 16659

fichiers modifiés :
   introduction/welcome/changelog.xml
   postlfs/virtualization/qemu.xml

Log :
Clarified qemu install instructions

Le robot a traité 6 % du commit anglais
Index: introduction/welcome/changelog.xml
===================================================================
--- introduction/welcome/changelog.xml	(révision 16658)
+++ introduction/welcome/changelog.xml	(révision 16659)
@@ -48,6 +48,10 @@
       <para>November 15th, 2015</para>
       <itemizedlist>
         <listitem>
+          <para>[bdubbs] - Clarified qemu install instructions. Fixes
+          <ulink url="&blfs-ticket-root;7132">#7132</ulink>.</para>
+        </listitem>
+        <listitem>
           <para>[fernando] - Update to xmlto-0.0.27. Fixes
           <ulink url="&blfs-ticket-root;7127">#7127</ulink>.</para>
         </listitem>

Index: postlfs/virtualization/qemu.xml
===================================================================
--- postlfs/virtualization/qemu.xml	(révision 16658)
+++ postlfs/virtualization/qemu.xml	(révision 16659)
@@ -150,14 +150,25 @@
     <para>Install <application>qemu</application> by running the following
     commands:</para>
 
-<screen><userinput>./configure --prefix=/usr                      \
---sysconfdir=/etc                  \
---libexecdir=/usr/lib/qemu         \
-$([ $(uname -m) = i686 ]           &amp;&amp;
-echo --target-list=i386-softmmu)   \
-$([ $(uname -m) = x86_64 ]         &amp;&amp;
-echo --target-list=x86_64-softmmu) \
+    <note><para>Qemu is capable of running many targets.  The build process
+    is also capable of building multiple targets at one time in a 
+    comma delimited list assigned to <option>--target-list</option>. Run
+    <command>./configure --help</command> to get a complete list of
+    available targets.</para></note>
+<screen><userinput>if [ $(uname -m) = i686 ]; then
+   QEMU_ARCH=i386-softmmu
+else
+   QEMU_ARCH=x86_64-softmmu
+fi
+./configure --prefix=/usr            \
+            --sysconfdir=/etc        \
+            --target-list=$QEMU_ARCH \
             --docdir=/usr/share/doc/qemu-&qemu-version; &amp;&amp;
+unset QEMU_ARCH &amp;&amp;
 make</userinput></screen>
 
     <para>To run the built in tests, run <command>make V=1 -k check</command>.
@@ -199,7 +210,7 @@
     -->
 
     <para>For convenience you may want to create a symbolic link to run
-<command>qemu-system-x86_64</command>:</para>
+    the installed program. For instance:</para>
 
     <screen role="root"><userinput>ln -sv qemu-system-x86_64 /usr/bin/qemu</userinput></screen>
     </note>
@@ -209,20 +220,6 @@
   <sect2 role="commands">
     <title>Command Explanations</title>
 
-<para><parameter>$([ $(uname -m) = i686 ] &amp;&amp;
-echo --target-list=i386-softmmu)</parameter>: This switch
-tests and, if true, limits the build target to the i386 architecture.  For
-other hardware emulation see the --target-list list in
-<command>configure</command>'s help output.  Omitting the target option will
-build all architectures.</para>
-<para><parameter>$([ $(uname -m) = x86_64 ] &amp;&amp;
-echo --target-list=x86_64-softmmu)</parameter>: This switch
-tests and, if true, limits the build target to the x86_64 architecture.  For
-other hardware emulation see the --target-list list in
-<command>configure</command>'s help output.  Omitting the target option will
-build all architectures.</para>
     <para>
       <option>--audio-drv-list=alsa</option>: This switch sets the audio driver
       to ALSA. For other drivers see the --audio-drv-list list in
@@ -245,7 +242,8 @@
 
     <note><para>The following instructions assume you have created the optional
     symbolic link, <userinput>qemu</userinput>.  Additionally, you must run
-<userinput>qemu</userinput> from an X Window System based terminal.</para></note>
+    <userinput>qemu</userinput> from an X Window System based terminal 
+    (either locally or over ssh).</para></note>
 
     <para>To install an operating system, download an iso of your choice or use
     a pre-installed cdrom device.  For the purposes of this example, use

