Révision 10285

fichiers modifiés :
   introduction/welcome/changelog.xml
   general.ent
   xsoft/graphweb/firefox.xml
   xsoft/graphweb/seamonkey.xml
   xsoft/other/thunderbird.xml

Log :
seamonkey-2.10

Le robot a traité 16 % du commit anglais
Index: introduction/welcome/changelog.xml
===================================================================
--- introduction/welcome/changelog.xml	(revision 10284)
+++ introduction/welcome/changelog.xml	(revision 10285)
@@ -42,6 +42,15 @@
 
 -->
     <listitem>
+      <para>June 9th, 2012</para>
+      <itemizedlist>
+        <listitem>
+          <para>[abenton] - Updated Seamonkey to 2.10.</para>
+        </listitem>
+      </itemizedlist>
+    </listitem>
+    <listitem>
       <para>June 8th, 2012</para>
       <itemizedlist>
         <listitem>

Index: xsoft/graphweb/firefox.xml
===================================================================
--- xsoft/graphweb/firefox.xml	(revision 10284)
+++ xsoft/graphweb/firefox.xml	(revision 10285)
@@ -139,7 +139,7 @@
       following command:
     </para>
 
-<screen><userinput>cat &gt; mozconfig &lt;&lt; "EOF"
+<screen><userinput>cat &gt; mozconfig &lt;&lt; EOF
 # If you have a multicore machine you can speed up the build by running
 # several jobs at once, but if you have a single core, delete this line:
 mk_add_options MOZ_MAKE_FLAGS="-j4"
@@ -158,7 +158,7 @@
 
 # If you have installed xulrunner uncomment these two lines:
 # ac_add_options --with-system-libxul
-# ac_add_options --with-libxul-sdk=/usr/lib/xulrunner-devel-&xulrunner-version;
+# ac_add_options --with-libxul-sdk=$(pkg-config --variable=sdkdir libxul)
 
 # Uncomment these if you have installed them:
 # ac_add_options --enable-startup-notification
@@ -220,8 +220,8 @@
 tar -xvf firefox-build-dir/dist/firefox-&firefox-version;.en-US.linux-$(uname -m).tar.bz2 \
   -C /usr/lib/firefox-&firefox-version; --strip-components=1 &amp;&amp;
 ln -sfv ../lib/firefox-&firefox-version;/firefox /usr/bin &amp;&amp;
-mkdir -p /usr/lib/mozilla/plugins &amp;&amp;
-ln -sv ../mozilla/plugins /usr/lib/firefox-&firefox-version; &amp;&amp;
+mkdir -pv /usr/lib/mozilla/plugins &amp;&amp;
+ln -sfv ../mozilla/plugins /usr/lib/firefox-&firefox-version; &amp;&amp;
 chown -R -v root:root /usr/lib/firefox-&firefox-version;</userinput></screen>
 
     <para>
@@ -237,8 +237,8 @@
 /usr/lib/xulrunner-&xulrunner-version;/xulrunner /usr/lib/firefox-&firefox-version;/application.ini "${@}"
 HERE_DOC
 chmod 755 /usr/bin/firefox &amp;&amp;
-mkdir -p /usr/lib/mozilla/plugins &amp;&amp;
-ln -sv ../mozilla/plugins /usr/lib/firefox-&firefox-version;</userinput></screen>
+mkdir -pv /usr/lib/mozilla/plugins &amp;&amp;
+ln -sfv ../mozilla/plugins /usr/lib/firefox-&firefox-version;</userinput></screen>
 
     <bridgehead renderas="sect3" id="npapi-firefox" xreflabel="Firefox">
       NPAPI Headers
@@ -251,8 +251,9 @@
       <systemitem class="username">root</systemitem> user:
     </para>
 
-<screen role="root"><userinput>mkdir /usr/include/npapi
-cp dom/plugins/base/*.h /usr/include/npapi</userinput></screen>
+<screen role="root"><userinput>rm -rf /usr/include/npapi &amp;&amp;
+mkdir -v /usr/include/npapi &amp;&amp;
+cp -v dom/plugins/base/*.h /usr/include/npapi</userinput></screen>
   </sect2>
 
   <sect2 role="commands">
@@ -333,7 +334,7 @@
       <systemitem class="username">root</systemitem> user:
     </para>
 
-<screen role="root"><userinput>mkdir -p /usr/share/applications &amp;&amp;
+<screen role="root"><userinput>mkdir -pv /usr/share/applications &amp;&amp;
 cat &gt; /usr/share/applications/firefox.desktop &lt;&lt; "EOF" &amp;&amp;
 [Desktop Entry]
 Encoding=UTF-8

Index: xsoft/graphweb/seamonkey.xml
===================================================================
--- xsoft/graphweb/seamonkey.xml	(revision 10284)
+++ xsoft/graphweb/seamonkey.xml	(revision 10285)
@@ -86,8 +86,8 @@
     <itemizedlist spacing="compact">
       <listitem>
         <para>
-          Required patch if you're using <application>GCC-4.7</application>:
-          <ulink url="&patch-root;/seamonkey-&seamonkey-version;_gcc-4.7-1.patch"/>
+          Required patch:
+          <ulink url="&patch-root;/seamonkey-&seamonkey-version;-package-manifest-1.diff"/>
         </para>
       </listitem>
     </itemizedlist>
@@ -146,7 +146,8 @@
       issuing the following command:
     </para>
 
-<screen><?dbfo keep-together="auto"?><userinput>cat &gt; .mozconfig &lt;&lt; "EOF"
+<screen><?dbfo keep-together="auto"?><userinput>patch -p1 &lt; ../seamonkey-&seamonkey-version;-package-manifest-1.diff &amp;&amp;
+cat &gt; mozconfig &lt;&lt; "EOF"
 # If you have a multicore machine you can speed up the build by running
 # several jobs at once, but if you have a single core, delete this line:
 mk_add_options MOZ_MAKE_FLAGS="-j4"
@@ -196,8 +197,7 @@
       command:
     </para>
 
-<screen><userinput>patch -p1 &lt; ../seamonkey-&seamonkey-version;_gcc-4.7-1.patch &amp;&amp;
-make -f client.mk &amp;&amp;
+<screen><userinput>make -f client.mk &amp;&amp;
 make -C moz-build-dir/suite/installer</userinput></screen>
 
     <para>
@@ -212,12 +212,13 @@
       commands as the <systemitem class="username">root</systemitem> user:
     </para>
 
-<screen role="root"><userinput>mkdir -p /usr/lib/seamonkey-&seamonkey-version; &amp;&amp;
+<screen role="root"><userinput>rm -rf /usr/lib/seamonkey-&seamonkey-version; &amp;&amp;
+mkdir -pv /usr/lib/seamonkey-&seamonkey-version; &amp;&amp;
 tar xf moz-build-dir/mozilla/dist/seamonkey-&seamonkey-version;.en-US.linux-$(uname -m).tar.bz2 \
   -C /usr/lib/seamonkey-&seamonkey-version; --strip-components=1 &amp;&amp;
-ln -s ../lib/seamonkey-&seamonkey-version;/seamonkey /usr/bin &amp;&amp;
+ln -sfv ../lib/seamonkey-&seamonkey-version;/seamonkey /usr/bin &amp;&amp;
 mkdir -pv /usr/lib/mozilla/plugins &amp;&amp;
-ln -svf ../mozilla/plugins /usr/lib/seamonkey-&seamonkey-version; &amp;&amp;
+ln -sfv ../mozilla/plugins /usr/lib/seamonkey-&seamonkey-version; &amp;&amp;
 cp -v moz-build-dir/mozilla/dist/man/man1/seamonkey.1 /usr/share/man/man1</userinput></screen>
 
     <bridgehead renderas="sect3" id="npapi-seamonkey" xreflabel="Seamonkey">
@@ -231,8 +232,9 @@
       <systemitem class="username">root</systemitem> user:
     </para>
 
-<screen role="root"><userinput>mkdir /usr/include/npapi
-cp mozilla/dom/plugins/base/*.h /usr/include/npapi</userinput></screen>
+<screen role="root"><userinput>rm -rf /usr/include/npapi &amp;&amp;
+mkdir -v /usr/include/npapi &amp;&amp;
+cp -v mozilla/dom/plugins/base/*.h /usr/include/npapi</userinput></screen>
 
     <bridgehead renderas="sect3" id="devel-seamonkey" xreflabel="Seamonkey">
       All the Development Libraries and Headers
@@ -251,9 +253,10 @@
 
     <para>
       <command>patch -p1 &lt;
-      ../seamonkey-&seamonkey-version;_gcc-4.7-1.patch</command>: This patch
-      fixes various files to ensure that <application>Seamonkey</application>
-      compiles with <application>GCC 4.7</application>.
+      ../seamonkey-&seamonkey-version;-package-manifest-1.diff</command>: This
+      patch fixes the installer so it can cope with the situation where
+      Seamonkey was configured with --enable-system-sqlite, --with-system-nspr,
+      --with-system-nss and --disable-updater.
     </para>
 
     <para>
@@ -341,7 +344,7 @@
       <systemitem class="username">root</systemitem> user:
     </para>
 
-<screen role="root"><userinput>mkdir -p /usr/share/applications &amp;&amp;
+<screen role="root"><userinput>mkdir -pv /usr/share/applications &amp;&amp;
 cat &gt; /usr/share/applications/seamonkey.desktop &lt;&lt; "EOF" &amp;&amp;
 [Desktop Entry]
 Encoding=UTF-8
@@ -354,7 +357,7 @@
 StartupNotify=true
 Terminal=false
 EOF
-ln -sv -f /usr/lib/seamonkey-&seamonkey-version;/chrome/icons/default/seamonkey.png /usr/share/pixmaps</userinput></screen>
+ln -sfv /usr/lib/seamonkey-&seamonkey-version;/chrome/icons/default/seamonkey.png /usr/share/pixmaps</userinput></screen>
   </sect2>
 
   <sect2 role="content">

Index: xsoft/other/thunderbird.xml
===================================================================
--- xsoft/other/thunderbird.xml	(revision 10284)
+++ xsoft/other/thunderbird.xml	(revision 10285)
@@ -181,10 +181,10 @@
       commands as the <systemitem class="username">root</systemitem> user:
     </para>
 
-<screen role="root"><userinput>mkdir -p /usr/lib/thunderbird-&thunderbird-version; &amp;&amp;
+<screen role="root"><userinput>mkdir -pv /usr/lib/thunderbird-&thunderbird-version; &amp;&amp;
 tar xf thunderbuild/mozilla/dist/thunderbird-&thunderbird-version;.en-US.linux-$(uname -m).tar.bz2 \
   -C /usr/lib/thunderbird-&thunderbird-version; --strip-components=1 &amp;&amp;
-ln -s ../lib/thunderbird-&thunderbird-version;/thunderbird /usr/bin</userinput></screen>
+ln -sfv ../lib/thunderbird-&thunderbird-version;/thunderbird /usr/bin</userinput></screen>
 
     <para>
       The above instructions just install the parts you need to run
@@ -283,7 +283,7 @@
       <systemitem class="username">root</systemitem> user:
     </para>
 
-<screen role="root"><userinput>mkdir -p /usr/share/applications &amp;&amp;
+<screen role="root"><userinput>mkdir -pv /usr/share/applications &amp;&amp;
 cat &gt; /usr/share/applications/thunderbird.desktop &lt;&lt; "EOF" &amp;&amp;
 [Desktop Entry]
 Encoding=UTF-8
@@ -296,7 +296,7 @@
 StartupNotify=true
 Terminal=false
 EOF
-ln -svf /usr/lib/thunderbird-&thunderbird-version;/chrome/icons/default/default256.png \
+ln -sfv /usr/lib/thunderbird-&thunderbird-version;/chrome/icons/default/default256.png \
   /usr/share/pixmaps/thunderbird.png</userinput></screen>
     </sect3>
   </sect2>

