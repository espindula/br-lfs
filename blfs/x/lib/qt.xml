<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

  <!ENTITY qt-download-http "http://releases.qt-project.org/qt4/source/qt-everywhere-opensource-src-&qt-version;.tar.gz">
  <!ENTITY qt-download-ftp  " ">
  <!ENTITY qt-md5sum        "3c1146ddf56247e16782f96910a8423b">
  <!ENTITY qt-size          "228 Mio">
  <!ENTITY qt-buildsize     "1.8 GB (full), 619 (essential)">
  <!ENTITY qt-time          "69 SBU (full), 54 SBU (essential)">
]>

<sect1 id="qt" xreflabel="Qt-&qt-version;">
  <?dbhtml filename="qt.html" ?>

  <sect1info>
    <othername>$LastChangedBy: rthomsen $</othername>
    <date>$Date: 2012-07-21 18:40:52 +0200 (Sat, 21 Jul 2012) $</date>
  </sect1info>

  <title>Qt-&qt-version;</title>

  <indexterm zone="qt">
    <primary sortas="a-qt">Qt</primary>
  </indexterm>

  <sect2 role="package">
    <title>Introduction à Qt</title>

    <para><application>Qt</application> is a cross-platform application 
    framework that is widely used for developing application software 
    with a graphical user interface (GUI) (in which cases Qt is classified 
    as a widget toolkit), et also used for developing non-GUI programs such 
    as command-line tools et consoles for servers. One of the major users 
    of <application>Qt</application> is <application>KDE</application>.</para>

    &lfs71_checked;    
    
    <bridgehead renderas="sect3">Information sur le paquet </bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>Téléchargement (HTTP) : <ulink url="&qt-download-http;"/></para>
      </listitem>
      <listitem>
        <para>Téléchargement (FTP) : <ulink url="&qt-download-ftp;"/></para>
      </listitem>
      <listitem>
        <para>Somme de contrôle MD5 du téléchargement : &qt-md5sum;</para>
      </listitem>
      <listitem>
        <para>Taille du téléchargement : &qt-size;</para>
      </listitem>
      <listitem>
        <para>Estimation de l'espace disque requis : &qt-buildsize;</para>
      </listitem>
      <listitem>
        <para>Estimation du temps de construction : &qt-time;</para>
      </listitem>
    </itemizedlist>


    <bridgehead renderas="sect3">Additional Téléchargements</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>GLib 2.32 patch: <ulink
	url="&patch-root;/qt-everywhere-opensource-src-&qt-version;-glib_fix-1.patch"/>
        </para>
       </listitem>
    </itemizedlist>

    
    <bridgehead renderas="sect3">Dépendances de Qt</bridgehead>

    <bridgehead renderas="sect4">Requises</bridgehead>
    <para role="required"><xref linkend="x-window-system"/></para>

    <bridgehead renderas="sect4">Recommandées</bridgehead>
    <para role="recommended">
      <xref linkend="dbus"/>,
      <xref linkend="libjpeg"/>,
      <xref linkend="libmng"/>,
      <xref linkend="libtiff"/>,
      <xref linkend="libpng"/> et
      <xref linkend="pkgconfig"/> (needed to use D-Bus, GLib, GTK et PulseAudio)
    </para>

    <bridgehead renderas="sect4">Facultative</bridgehead>
    <para role="optional">
      <!--<xref linkend="nas"/>,-->
      <xref linkend="gst-plugins-base"/>,
      <xref linkend='pulseaudio'/>,
      <xref linkend='glib2'/>,
      <xref linkend="gtk2"/>,
      <xref linkend="openssl"/>,
      <xref linkend="cups"/>,
      <xref linkend="mysql"/>,
      <xref linkend="postgresql"/>,
      <xref linkend="unixodbc"/> et
      <xref linkend="sqlite"/>
    </para>

    <para condition="html" role="usernotes">Notes utilisateur :
    <ulink url="&blfs-wiki;/qt"/></para>

  </sect2>

  <sect2 role="installation">
    <title>Installation de Qt</title>

    <para>There are several ways to install a complicated package such as
    <application>Qt</application>. The files are not completely position
    independent. Installation procedures execute the program
    <command>pkg-config</command> to determine the location of package
    executables, libraries, headers, et other files. For
    <application>Qt</application>, <command>pkg-config</command> will look
    for the appropriate <filename>lib/pkgconfig/Qt*.pc</filename> files which
    must be modified if relocating the package. These files are set up correctly
    by the build process.</para>

    <para>The default installation places the files in
    <filename class='directory'>/usr/local/qt/</filename>. Many commercial
    distributions place the files in the system's
    <filename class='directory'>/usr</filename> hierarchy. The package can
    also be installed in an arbitrary directory.</para>

    <para>The advantage of installing in 
    <filename class='directory'>/usr</filename> is that no updates to the
    <filename>/etc/ld.so.conf</filename> or
    <filename>/etc/man_db.conf</filename> files are required. The package
    files are distributed within several subdirectories of the
    <filename class='directory'>/usr</filename> hierarchy.
    This is the method that most commercial distributions use.</para>

    <caution>
      <para>If <application>Qt</application> is being reinstalled et the
      <filename class='directory'>/usr</filename>
      directory is used as the prefix, run the following commands from a
      console or non-Qt based window manager.  It overwrites
      <application>Qt</application> libraries that should not be in use during
      the install process.</para>
    </caution>

    <note>
      <para>The build time et space required for the full
      <application>Qt</application> is quite long.  The instructions below do
      not build the tutorials et examples.  Removing the
      <parameter>-nomake</parameter> lines will create a complete build.</para>
    </note>

    <para>The method recommended by the <application>Qt</application>
    developers does not use the /usr directory prefix. It has the advantage of
    keeping all the package files consolidated in a dedicated directory
    hierarchy. By using this method, an update can be made without overwriting
    a previous installation et users can easily revert to a previous version
    by changing one symbolic link.</para>

    <para>The <application>Qt</application> developers use a default location
    of <filename class='directory'>/usr/local/qt/</filename>, however the
    procedure below puts the files in <filename
    class='directory'>/opt/qt-&qt-version;/</filename>
    et then creates a symbolic link to <filename>/opt/qt/</filename>.</para>
    
    <para>Configure <application>Qt</application> by running the
    following </para>

<screen><userinput>patch -Np1 -i ../qt-everywhere-opensource-src-&qt-version;-glib_fix-1.patch &amp;&amp;
sed -i '/-Werror/d' src/3rdparty/webkit/Source/WebKit.pri &amp;&amp;
./configure -prefix /opt/qt-&qt-version;  \
            -release               \
            -nomake examples       \
            -nomake demos          \
            -system-sqlite         \
            -no-nis                \
	    -opensource            \
	    -confirm-license &amp;&amp;
make</userinput></screen>
    
    <note><title>Phonon</title>
    <para>If <application>KDE</application> is intended to be installed, add
    <option>-no-phonon</option> to the <command>./configure</command> command
    above. While installing <application>KDE</application>, a separate version of the
    <application>Phonon</application> libraries will be installed which better
    matches the needs of the <application>KDE</application> desktop.</para></note>
           
    <para>This package does not come with a test suite.</para>

    <para>Now, as the <systemitem class="username">root</systemitem>
    user:</para>

<screen role="root"><userinput>make install</userinput></screen>

    <para>If you installed <application>Qt</application> in the /opt directory,
    again as the <systemitem class="username">root</systemitem> user issue:</para>

<screen role="root"><userinput>ln -svfn qt-&qt-version; /opt/qt</userinput></screen>

  </sect2>

  <sect2 role="commands">
    <title>Explications des commandes</title>

    <para><command>patch -Np1 -i qt-everywhere-...</command> :
    The patch fixes compiling with <application>GLib</application> 2.32.</para>
    
    <para><command>sed -i '/-Werror/d'...</command> :
    This sed prevents some compiler warnings being treated as errors when 
    compiling with <application>GCC</application> 4.7. You can omit it if
    you are compiling with older <application>GCC</application> versions.
    </para>
   
    <para><parameter>-release</parameter> :
    This switch disables building with debugging symbols.</para>
    
    <para><parameter>-nomake examples, -nomake demos</parameter> :
    These switches disable building programs that are only of interest
    to a <application>Qt</application> developer.</para>
    
    <para><parameter>-system-sqlite</parameter> :
    Use the system version of <application>SQLite</application>.</para>
    
    <para><parameter>-no-nis</parameter> :
    Disable support for Network Information Service (NIS).</para>
    
    <para><parameter>-opensource</parameter> :
    Install the opensource version of <application>Qt</application>.</para>
    
    <para><parameter>-confirm-license</parameter> :
    Accept license without prompting user during configuration.</para>

    <para><parameter>-plugin-sql-<replaceable>&lt;driver&gt;</replaceable></parameter>
    or <parameter>-qt-sql-<replaceable>&lt;driver&gt;</replaceable></parameter> :
    These switches build SQL support into the <application>Qt</application>
    libraries.</para>

    <note>
      <para>To check if <application>mysql</application> is autodetected
      properly, examine the output of <command>./configure -qt-sql-mysql
      -help</command>. Other database support will require similar
      <command>configure</command> parameters.</para>
    </note>
    
    <para>There are several optional directories that can be specified in the
    <command>./configure</command> line.  These include
    <option>-bindir</option>, <option>-libdir</option>,
    <option>-docdir</option>, et <option>-headerdir</option>.  For a complete
    list, run <command>./configure -help</command>.</para>

  </sect2>

  <sect2 role="configuration">
    <title>Configuring Qt</title>

    <sect3 id='qt-config'>
      <title>Configuration Information</title>

      <para>If you installed <application>Qt</application> in a location other
      than /usr, you also need to update the following configuration files so
      that <application>Qt</application> is correctly found by other packages
      et system processes.</para>

      <para>As the <systemitem class="username">root</systemitem> user, update
      the <filename>/etc/ld.so.conf</filename> file et the dynamic linker's
      run-time cache file:</para>

<screen role="root"><userinput>cat &gt;&gt; /etc/ld.so.conf &lt;&lt; "EOF"
<literal># Begin Qt addition

/opt/qt/lib

# End Qt addition</literal>
EOF
ldconfig</userinput></screen>

      <indexterm zone="qt qt-config">
        <primary sortas="e-etc-ld.so.conf">/etc/ld.so.conf</primary>
      </indexterm>

      <para>As the <systemitem class="username">root</systemitem> user, create 
      the <filename>/etc/profile.d/qt.sh</filename> file:</para>

<screen role="root"><userinput>cat &gt; /etc/profile.d/qt.sh &lt;&lt; "EOF"
<literal># Begin /etc/profile.d/qt.sh

QTDIR=/opt/qt

pathappend /opt/qt/bin           PATH
pathappend /opt/qt/lib/pkgconfig PKG_CONFIG_PATH

export QTDIR

# End /etc/profile.d/qt.sh</literal>
EOF</userinput></screen>
      
    </sect3>
  </sect2>

  <sect2 role="content">
    <title>Contenu</title>

    <segmentedlist>
      <segtitle>Programmes installés</segtitle>
      <segtitle>Bibliothèques installées</segtitle>
      <segtitle>Répertoires installés</segtitle>

      <seglistitem>
        <seg>assistant, assistant_adp, designer, lconvert, linguist, lrelease,
        lupdate, moc, pixeltool, qcollectiongenerator, qdbus, qdbuscpp2xml,
        qdbusviewer, qdbusxml2cpp, qhelpconverter, qhelpgenerator,qmake,
        qt3to4, qtconfig, qtdemo, rcc, uic, uic3 et xmlpatterns</seg>

        <seg>libphonon.so, libQt3Support.so, libQtAssistantClient.so,
        libQtCLucene.so, libQtCore.so, libQtDesigner.so, libQtDBus.so,
        libQtDesignerComponents.so, libQtGui.so, libQtHelp.so, libQtNetwork.so,
        libQtOpenGL.so, libQtScript.so, libQtScriptTools.so, libQtSql.so,
        libQtSvg.so, libQtTest.so, libQtUiTools.a, libQtWebKit.so, libQtXml.so,
        libQtXmlPatterns.so et numerous plugin modules installed in
        <filename class='directory'>/opt/qt/plugins</filename></seg>

        <seg>/opt/qt-&qt-version;</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Description courte</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="qt-assistant">
        <term><command>assistant</command></term>
        <listitem>
          <para>is a tool for presenting on-line documentation.</para>
          <indexterm zone="qt qt-assistant">
            <primary sortas="b-assistant">assistant</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="qt-designer">
        <term><command>designer</command></term>
        <listitem>
          <para>is a full-fledged GUI builder. It includes
          powerful features such as preview mode, automatic widget
          layout, support for custom widgets, et an advanced
          property editor.</para>
          <indexterm zone="qt qt-designer">
            <primary sortas="b-designer">designer</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="qt-linguist">
        <term><command>linguist</command></term>
        <listitem>
          <para>provides support for translating applications into
          local languages.</para>
          <indexterm zone="qt qt-linguist">
            <primary sortas="b-linguist">linguist</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="qt-lrelease">
        <term><command>lrelease</command></term>
        <listitem>
          <para>is a simple command line tool. It reads a Qt project
          file et produces message files used by the application.</para>
          <indexterm zone="qt qt-lrelease">
            <primary sortas="b-lrelease">lrelease</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="qt-lupdate">
        <term><command>lupdate</command></term>
        <listitem>
          <para>reads a Qt project file, finds the translatable
          strings in the specified source, header et Qt Designer
          interface files, et produces or updates the translation
          files listed in the project file.</para>
          <indexterm zone="qt qt-lupdate">
            <primary sortas="b-lupdate">lupdate</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="qt-moc">
        <term><command>moc</command></term>
        <listitem>
          <para>generates Qt meta object support code.</para>
          <indexterm zone="qt qt-moc">
            <primary sortas="b-moc">moc</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="qt-pixeltool">
        <term><command>pixeltool</command></term>
        <listitem>
          <para>is a desktop magnifier et as you move your mouse around
          the screen it will show the magnified contents in its window.</para>
          <indexterm zone="qt qt-pixeltool">
            <primary sortas="b-pixeltool">pixeltool</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="qt-qmake">
        <term><command>qmake</command></term>
        <listitem>
          <para>qmake uses information stored in project files to
          determine what should go in the makefiles it generates.</para>
          <indexterm zone="qt qt-qmake">
            <primary sortas="b-qmake">qmake</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="qt-qt3to4">
        <term><command>qt3to4</command></term>
        <listitem>
          <para>qt3to4 is a tool to help update Qt3 code to Qt4.</para>
          <indexterm zone="qt qt-qt3to4">
            <primary sortas="b-qt3to4">qt3to4</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="qt-qtconfig">
        <term><command>qtconfig</command></term>
        <listitem>
          <para>is used to customize the appearance of Qt applications.</para>
          <indexterm zone="qt qt-qtconfig">
            <primary sortas="b-qtconfig">qtconfig</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="qt-qtdemo">
        <term><command>qtdemo</command></term>
        <listitem>
          <para>is a portal into various demonstrations of Qt
          applications.</para>
          <indexterm zone="qt qt-qtdemo">
            <primary sortas="b-qtdemo">qtdemo</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="qt-rcc">
        <term><command>rcc</command></term>
        <listitem>
          <para>is a resource compiler used in conjunction with designer.</para>
          <indexterm zone="qt qt-rcc">
            <primary sortas="b-rcc">rcc</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="qt-uic">
        <term><command>uic</command></term>
        <listitem>
          <para>is a Qt user interface compiler.</para>
          <indexterm zone="qt qt-uic">
            <primary sortas="b-uic">uic</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="qt-uic3">
        <term><command>uic3</command></term>
        <listitem>
          <para>is a tool to generate Qt4 code out of
          user interface files generated by the Qt3
          version of designer.</para>
          <indexterm zone="qt qt-uic3">
            <primary sortas="b-uic3">uic3</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
