<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

  <!ENTITY gtk2-download-http "&gnome-download-http;/gtk+/2.24/gtk+-&gtk2-version;.tar.xz">
  <!ENTITY gtk2-download-ftp  "&gnome-download-ftp;/gtk+/2.24/gtk+-&gtk2-version;.tar.xz">
  <!ENTITY gtk2-md5sum        "5408d4a70ac132f7c439d7de40e83aff">
  <!ENTITY gtk2-size          "12.2 Mio">
  <!ENTITY gtk2-buildsize     "337 Mio">
  <!ENTITY gtk2-time          "2.7 SBU">
]>

<sect1 id="gtk2" xreflabel="gtk+-&gtk2-version;">
  <?dbhtml filename="gtk2.html" ?>

  <sect1info>
    <othername>$LastChangedBy: randy $</othername>
    <date>$Date: 2010-11-25 23:16:26 +0100 (jeu 25 nov 2010) $</date>
  </sect1info>

  <title>GTK+-&gtk2-version;</title>

  <indexterm zone="gtk2">
    <primary sortas="a-gtk2">gtk2</primary>
  </indexterm>

  <sect2 role="package">
    <title>Introduction à gtk+-2</title>

    <para>Le paquet <application>gtk+-2</application> contient les bibliothèques
    <application>gtk+-2</application>. Elles sont utiles pour créer des interfaces
    graphiques pour les applications.</para>

    &lfs70_checked;
	
    <bridgehead renderas="sect3">Informations sur le paquet</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>Téléchargement (HTTP)&nbsp;: <ulink url="&gtk2-download-http;"/></para>
      </listitem>
      <listitem>
        <para>Téléchargement (FTP)&nbsp;: <ulink url="&gtk2-download-ftp;"/></para>
      </listitem>
      <listitem>
        <para>Somme de contrôle MD5 du téléchargement&nbsp;: &gtk2-md5sum;</para>
      </listitem>
      <listitem>
        <para>Taille du téléchargement&nbsp;: &gtk2-size;</para>
      </listitem>
      <listitem>
        <para>Estimation de l'espace disque requis&nbsp;: &gtk2-buildsize;</para>
      </listitem>
      <listitem>
        <para>Estimation du temps de construction&nbsp;: &gtk2-time;</para>
      </listitem>
    </itemizedlist>

    <bridgehead renderas="sect3">Dépendances de gtk+-2</bridgehead>

    <bridgehead renderas="sect4">Requises</bridgehead>
    <para role="required"><xref linkend="cairo"/> (compilé avec le support de
    libX11), <xref linkend="gdk-pixbuf"/>, le
    <xref linkend="x-window-system"/> (en particulier libX11, libXext et
    libXrender), <xref linkend="pango"/> et <xref linkend="atk"/></para>

    <bridgehead renderas="sect4">Recommandées</bridgehead>
    <para role="recommended"><xref linkend="hicolor-icon-theme"/></para>

    <bridgehead renderas="sect4">Facultatives</bridgehead>
    <para role="optional"><xref linkend="cups"/>,
    <!-- <ulink url="http://beagle-project.org/Main_Page">libbeagle</ulink>,
    This beagle page appears to be just adverts -->
    <!-- <ulink url="http://sourceforge.net/projects/openprinting/">papi</ulink>,
    I think papi is just for solaris. It was a bugger to compile... -->
    <!-- <ulink url="http://www.tracker-project.org/">Tracker</ulink>
    This tracker page is a dead link -->
    <xref linkend="gobject-introspection"/> and
    <xref linkend="gtk-doc"/>.</para>

    <para condition="html" role="usernotes">Notes utilisateur&nbsp;:
    <ulink url="&blfs-wiki;/gtk+2"/></para>

  </sect2>

  <sect2 role="installation">
    <title>Installation de gtk+-2</title>

    <para>Installez <application>gtk+-2</application> en lançant
    les commandes suivantes&nbsp;:</para>

<screen><userinput>sed -i '/db2html/i@HAVE_DOCBOOK_TRUE@\t   mkdir gtk-tut; \\
/gtk-tut html/i@HAVE_DOCBOOK_TRUE@\t   mv *.html gtk-tut; \\' \
    docs/tutorial/Makefile.in &amp;&amp;
sed -i '/db2html/i@HAVE_DOCBOOK_TRUE@\t   mkdir gtk-faq; \\
/gtk-faq html/i@HAVE_DOCBOOK_TRUE@\t   mv *.html gtk-faq; \\' \
    docs/faq/Makefile.in &amp;&amp;
sed -i 's#^\(      gtk_icon_view_\)l#\1queue_l#' gtk/gtkiconview.c &amp;&amp;
./configure --prefix=/usr --sysconfdir=/etc &amp;&amp;
make</userinput></screen>

    <para>Pour tester les résultats, lancez&nbsp;: <command>make check</command>. 
    Remarquez que vous devez lancer les tests depuis une session avec la
    possibilité d'affichage X Window (donc pas depuis un terminal en texte/console) 
    car les tests essaient d'ouvrir une fenêtre X, et que les tests peuvent 
    prendre vraiment très longtemps. En utilisant une session X Windows, les tests devraient
	prendre moins de 0.3 SBU</para>

    <para>Maintenant, en tant qu'utilisateur <systemitem class="username">root</systemitem>&nbsp;:</para>

<screen role="root"><userinput>make install &amp;&amp;
sed -i 's/#man_MANS/man_MANS/' docs/reference/gtk/Makefile &amp;&amp;
make -C docs/reference/gtk install-man &amp;&amp;
install -v -m755 -d /usr/share/doc/gtk+-&gtk2-version; &amp;&amp;
cp -v -R docs/faq/html /usr/share/doc/gtk+-&gtk2-version;/faq &amp;&amp;
cp -v -R docs/tutorial/html /usr/share/doc/gtk+-&gtk2-version;/tutorial &amp;&amp;
install -v -m644 docs/*.txt /usr/share/doc/gtk+-&gtk2-version;</userinput></screen>

    <warning>
      <para>Si vous avez installé le paquet sur votre système en utilisant la méthode
      <quote>DESTDIR</quote>, deux ficheirs importants ne seront pas installés et
      devront être copiés et/ou générés. Générez-les en utilisant les commandes
      suivantes en tant qu'utilisateur <systemitem class="username">root</systemitem>&nbsp;:</para>

<screen role="root"><userinput>gdk-pixbuf-query-loaders > /etc/gtk-2.0/gdk-pixbuf.loaders &amp;&amp;
gtk-query-immodules-2.0  > /etc/gtk-2.0/gtk.immodules</userinput></screen>

    </warning>

  </sect2>

  <sect2 role="commands">
    <title>Explication des commandes</title>

    <para><command>sed -i '/db2html/i@HAVE_DOCBOOK...</command>&nbsp;: Si
    vous avez installé 
    <xref linkend="docbook-utils"/>, (notamment si configure trouve 
    db2html) il essaiera de l'utiliser pour reconstruire certaines de ses
    documentation html et il échouera du fait de bogues dans certains Makefiles.
    Ces seds corrigent les Makefiles.</para>

    <para><command>sed -i...gtk/gtkiconview.c</command>&nbsp;: Ceci corrige un
    bogue dans gtk+-2.24.8 qui fait planter certaines applications (comme
    lxappearance).</para>

    <para><parameter>--sysconfdir=/etc</parameter>&nbsp;: Ce paramètre installe
    les fichiers de configuration dans <filename class="directory">/etc</filename>
    et non dans <filename class="directory">/usr/etc</filename>.</para>

    <para><command>sed -i 's/#man_MANS...</command> et
    <command>make -C docs...install-man</command> ces commandes installent
    les pages de man de gtk-builder-convert, gtk-query-immodules-2.0 et
    gtk-update-icon-cache.</para>

    <para><option>--enable-gtk-doc</option>&nbsp;: Ce paramètre reconstruira
    la documentation de l'API pendant la commande <command>make</command>.
    Assurez-vous de vraiment vouloir reconstruire cette documentation (et
    que vous n'êtes pas satisfait de ce qui est déjà inclu dans l'arborescence
    des sources) car cela prend beaucoup de temps.</para>

  </sect2>

  <sect2 role="configuration">
    <title>Configuration de gtk+-2</title>

    <sect3 id="gtk2-config">
      <title>Fichiers de config</title>
      <para><filename>~/.gtkrc-2.0</filename> and
      <filename>/etc/gtk-2.0/gtkrc</filename></para>

      <indexterm zone="gtk2 gtk2-config">
        <primary sortas="e-AA.gtkrc-2.0">~/.gtkrc-2.0</primary>
      </indexterm>

      <indexterm zone="gtk2 gtk2-config">
        <primary sortas="e-etc-path-gtkrc">/etc/gtk-2.0/gtkrc</primary>
      </indexterm>
    </sect3>

    <sect3><title>Informations de configuration</title>

      <para>Les thèmes Gtk changent l'aspect des applications gtk. On peut
      utiliser un thème d'icône de Gtk pour modifier l'aspect des icônes qui
      apparaissent sur la barre d'outils de l'application. Si vous avez installé 
      un thème Gtk (comme 
       <xref linkend="gnome-themes"/>) ou un thème d'icône Gtk (tel que
       <xref linkend="gnome-icon-theme"/>) vous pouvez régler vos préférnces 
       dans
       <filename>~/.gtkrc-2.0</filename>:</para>

<screen><userinput>cat &gt; ~/gtkrc-2.0 &lt;&lt; "EOF"
include "/usr/share/themes/<replaceable>Glider</replaceable>/gtk-2.0/gtkrc"
gtk-icon-theme-name = "<replaceable>hicolor</replaceable>"
EOF</userinput></screen>

      <para>Beaucoup plus d'autres thèmes sont disponibles sur 
      <ulink url="http://gnome-look.org/">Gnome-Look.org</ulink> and other
      places.</para>
      <para>Une fois que vous vous êtes décidé sur un thème, vous pouvez (en
      tant qu'utilisateur
      <systemitem class="username">root</systemitem>) en faire celui par défaut
      pour tout le système&nbsp;:</para>

<screen role="root"><userinput>cat &gt; /etc/gtk-2.0/gtkrc &lt;&lt; "EOF"
include "/usr/share/themes/<replaceable>Clearlooks</replaceable>/gtk-2.0/gtkrc"
gtk-icon-theme-name = "<replaceable>elementary</replaceable>"
EOF</userinput></screen>

      <para>
      <ulink url="http://sourceforge.net/projects/lxde/files/LXAppearance/">
      LXAppearance</ulink> est une application gtk+-2 qui peut vous aider à 
      choisir vos thèmes préférés.</para>

    </sect3>

  </sect2>

  <sect2 role="content">
    <title>Contenu</title>

    <segmentedlist>
      <segtitle>Programmes installés</segtitle>
      <segtitle>Bibliothèques installées</segtitle>
      <segtitle>Répertoires installés</segtitle>

      <seglistitem>
         <seg>gdk-pixbuf-csource, gdk-pixbuf-query-loaders, gtk-builder-convert,
         gtk-demo, gtk-query-immodules-2.0, and gtk-update-icon-cache</seg>
        <seg>libpixmap.so, im-am-et.so, im-cedilla.so, im-cyrillic-translit.so,
        im-inuktitut.so, im-ipa.so, im-multipress.so, im-thai.so, im-ti-er.so,
        im-ti-et.so, im-viqr.so, im-xim.so, libprintbackend-cups.so
        libprintbackend-file.so, libprintbackend-lpr.so,
        libferret.so, libgail.so, libgailutil.so, libgdk-x11-2.0.so and
        libgtk-x11-2.0.so</seg>
        <seg>/etc/gtk-2.0, /usr/include/gail-1.0,
        /usr/include/gtk-2.0, /usr/include/gtk-unix-print-2.0},
        /usr/lib/gtk-2.0, /usr/share/doc/gtk+-&gtk2-version;,
        /usr/share/gtk-doc/html/gail-libgail-util,
        /usr/share/gtk-doc/html/gdk-pixbuf, /usr/share/gtk-doc/html/gtk,
        /usr/share/themes/Default, /usr/share/themes/Emacs and
        /usr/share/themes/Raleigh</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Descriptions courtes</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="gtk-builder-convert">
        <term><command>gtk-builder-convert</command></term>
        <listitem>
          <para>converti les fichiers glade en fichier XML qui peuvent être chargés par
          GtkBuilder.</para>
          <indexterm zone="gtk2 gtk-builder-convert">
            <primary
            sortas="b-gtk-builder-convert">gtk-builder-convert</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="gtk-demo">
        <term><command>gtk-demo</command></term>
        <listitem>
          <para>démontre les fonctionnalités de <application>gtk+-2</application> et
          fournit du code pour des exemples.</para>
          <indexterm zone="gtk2 gtk-demo">
            <primary
            sortas="b-gtk-demo">gtk-demo</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="gtk-query-immodules-2.0">
        <term><command>gtk-query-immodules-2.0</command></term>
        <listitem>
          <para>rassemble des informations sur les modules de méthodes d'entrée
          chargeables pour <application>gtk+-2</application> et l'écrit sur
          la sortie standard.</para>
          <indexterm zone="gtk2 gtk-query-immodules-2.0">
            <primary
            sortas="b-gtk-query-immodules-2.0">gtk-query-immodules-2.0</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="gtk-update-icon-cache">
        <term><command>gtk-update-icon-cache</command></term>
        <listitem>
          <para>crée des fichiers de cache mmap()able pour des thèmes d'icône.</para>
          <indexterm zone="gtk2 gtk-update-icon-cache">
            <primary sortas="b-gtk-update-icon-cache">gtk-update-icon-cache</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="gtk2libs">
        <term>Bibliothèques gtk+-2</term>
        <listitem>
          <para>fournit une API pour implémenter des interfaces graphiques.</para>
          <indexterm zone="gtk2 gtk2libs">
            <primary sortas="c-gtk2libs">Bibliothèques gtk+</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
