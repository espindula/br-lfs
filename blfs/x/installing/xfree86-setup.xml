<sect1 id="x-setup">
<?dbhtml filename="xfree86-setup.html" dir="x"?>
<title>Composants XFree86</title>

<sect2>
<title>Vérification de l'installation Direct Rendering Infrastructure (<acronym>DRI</acronym>)</title>
<para><acronym>DRI<acronym> est un ensemble de travail permettant aux logiciels
d'accéder au matériel graphique d'une manière efficace et sûre. Il est installé
avec <application>XFree86</application> par défaut si vous disposez d'une carte
vidéo le supportant. Pour vérifier si <acronym>DRI<acronym> est installé
correctement, vérifiez le fichier de traces <filename>/var/log/XFree86.0.log</filename>
pour des indications comme:</para>

<screen>(II) R128(0): Direct rendering enabled</screen>

<para>A partir d'un <command>xterm</command>, lancez <command>glxinfo</command>
et cherchez la phrase:</para>
<screen>direct rendering: Yes</screen>

<para>Vous pouvez aussi lancer le programme de test <command>glxgears</command>.
Ce programme affiche une fenêtre avec trois engrenages tournants. 
<command>xterm</command> affichera le nombre d'images par cinq secondes, ce qui est
une mesure de performance raisonnable. La fenêtre est redimensionnable, et le temps
d'affichage des images écrites chaque seconde sont extrêmement dépendantes de la taille
de la fenêtre.</para>
 
<para>Pour résoudre les problèmes éventuels, voir le guide de l'utilisateur
<acronym>DRI</acronym> sur <userinput><ulink
url="http://dri.sourceforge.net/doc/DRIuserguide.html"/></userinput>.
</para>
</sect2>

<!-- ================================================== -->

<sect2>
<title>Ajouter des polices <application>TrueType</application> à <application>XFree86</application></title>

<para>Le support des polices <application>TrueType</application> est intégré à
<application>XFree86</application>. Les éléments suivants ont besoin d'être
complétés pour rendre les polices disponibles.</para>

<itemizedlist>

<listitem><para>Etablir un répertoire pour les polices et y placer toutes les polices
<application>TrueType</application> souhaitées.</para></listitem>

<listitem><para>Créer les fichiers <filename>fonts.scale</filename> et
<filename>fonts.dir</filename> dans le répertoire des polices
<application>TrueType</application>.</para></listitem>

<listitem><para>S'assurer que le module <application>TrueType</application> est
chargé dans <filename>XF86Config</filename>.</para></listitem>

<listitem><para>S'assurer que la variable <parameter>FontPath</parameter> dans
<filename>XF86Config</filename> contient le répertoire des polices
<application>TrueType</application>.</para></listitem>

</itemizedlist>

<sect3><title>Etablir un répertoire des polices <application>TrueType</application></title>

<para>La construction d'<application>XFree86</application> faite ci-dessus crée
un répertoire pour les polices <application>TrueType</application>: <filename
class="directory">/usr/X11R6/lib/X11/fonts/TTF</filename>. Ce répertoire dispose
déjà de quelques polices <application>TrueType</application> et est configuré
correctement. Si ce répertoire est satisfaisant, copiez toutes les autres polices
<application>TrueType</application> que vous souhaitez dans ce répertoire. Sinon,
créez un nouveau répertoire, de préférence dans le répertoire
<filename class="directory">/usr/X11R6/lib/X11/fonts/</filename> et placez vos
polices <application>TrueType</application> ici.
</para></sect3>

<sect3><title>Créer <filename>fonts.scale</filename> et
<filename>fonts.dir</filename></title>

<para>Maintenant, allez dans le répertoire où se trouvent vos polices
<application>TrueType</application> et lancez
<screen><userinput>mkfontscale &amp;&amp;
mkfontdir</userinput></screen></para></sect3>

<sect3><title>S'assurer que <application>TrueType</application> est chargé dans <filename>XF86Config</filename></title> 
<para>La section "Module" devrait ressembler à ceci:
<screen>Section "Module"
        ...
        Load  "freetype"
        ...
EndSection</screen></para></sect3>

<sect3><title>S'assurer que la variable <parameter>FontPath</parameter> dans
<filename>XF86Config</filename> pointe vers le répertoire des polices <application>TrueType</application></title>
<para>Le section "Files" devrait ressembler à ceci:
<screen>Section "Files"
        ...
	FontPath
	"/usr/X11R6/lib/X11/fonts/<replaceable>[TruetypeDir]</replaceable>/"
        ...
EndSection</screen></para>
</sect3>

<sect3><title>Mettre à jour les fichiers de cache des polices</title> 
<para>Finalement, pour mettre à jour tous les fichiers de cache des polices
spécifiés dans <filename>/etc/fonts/fonts.conf</filename>, lancez
<screen><userinput>fc-cache</userinput></screen>
</para>

<para><application>XFree86</application> sera maintenant capable d'utiliser les
polices <application>TrueType</application> lorsqu'il sera relancé.
Vous pouvez vérifier si les nouvelles polices sont disponibles avec les programmes
<command>xlsfonts</command>  et <command>xfontsel</command>.</para>

<note><para>Vous devriez relancer <command>mkfontscale</command> et
<command>mkfontdir</command> à chaque fois que vous ajoutez ou supprimez des polices
TrueType. Vous devriez aussi relancer <command>fc-cache</command> à chaque fois que
vous ajoutez ou enlevez des polices.</para></note>

</sect3>
</sect2>

<!-- ================================================== -->
<sect2>
<title>Configurer les claviers</title>
<para>Dans cette version d'<application>XFree86</application>, il a été dit que les plans de codage du clavier
non-latin n'incluaient pas le configuration pour les entrées latin et non-latin, ce qui
était auparavant le cas. Pour configurer un clavier en latin et non-latin, modifiez
l'option du pilote du clavier XkbLayout dans la section InputDevice du fichier
<filename>XF86Config</filename>. Par exempe:</para>

<screen>   Section "InputDevice"
     Identifier          "Keyboard0"
     Driver              "Keyboard"
     Option "XkbModel"   "pc105"
     Option "XkbLayout"  "en_US,ru"
     Option "XkbOptions" "grp:switch,grp:alt_shift_toggle,grp_led:scroll"
   EndSection</screen>

<para>Dans cet exemple, vous pouvez utiliser la combinaison Alt-Shift pour passer
d'un plan de codage à un autre et utiliser la <acronym>LED</acronym> "Scroll Lock" pour indiquer lorsque le
deuxième plan est actif.</para>
</sect2>

<!-- ================================================== -->
<sect2>
<title>Configurer xdm</title>
<para><command>xdm</command> apporte un utilitaire de connexion graphique et est
normalement configuré avec <command>/etc/inittab</command>. La plupart des informations
dont vous avez besoin pour personnaliser <command>xdm</command> se trouve dans sa
page man. Pour exécuter xdm au lancement, modifiez le niveau d'initialisation par
défaut à 5 et ajoutez les lignes suivantes à <filename>/etc/inittab</filename>:</para>

<para><screen><userinput># Lancez xdm en tant que service séparé
x:5:respawn:/usr/X11R6/bin/xdm -nodaemon</userinput></screen></para>
</sect2>

<!-- ================================================== -->
<sect2>
<title>Utiliser les ressources d'<application>XFree86</application></title>
<para>Il existe beaucoup d'options pouvant être configurées dans
<application>XFree86</application> et les clients
<application>X</application> via les ressources. Des ressources typiques sont
configurées dans le fichier <filename>~/.Xresources</filename>.</para>

<para>La répartition du fichier <filename>~/.Xresources</filename> consiste en une liste
de spécifications de la forme:</para>

<screen>object.subobject[.subobject...].attribute: value</screen>

<para>Typiquement, les composants d'une spécification de ressource sont liés ensemble
par un lien <emphasis>serré</emphasis>, représenté par un point (.),
ou <emphasis>lâche</emphasis>, représenté par une astérisque (*).
Un lien serré indique que les composants de chaque côté du point doivent être
directement associés comme défini dans l'implémentation. Une astérisque est un caractère
spécial signifiant un nombre illimité d'une hiérarchie définie.
Par exemple, XFree86 offre deux nouveaux curseurs: redglass et whiteglass. Pour utiliser
une de ces ressources, vous avez besoin d'ajouter la ligne suivante:</para>

<screen>Xcursor.theme: whiteglass</screen>

<para>Néanmoins, vous pouvez spécifier que le fond de tous les cliens avec:</para>

<screen>*background: blue</screen>

<para>Des variables de ressources plus spécifiques vont surenchérir des noms moins
spécifiques.</para>

<para>Des définitions de ressources sont disponibles dans les pages man de chaque client.
</para>

<para>Pour charger vos ressourcesn, le programme <command>xrdb</command> doit être
appelé avec les paramètres appropriés. Typiquement, la première fois que vous chargez les
ressources, vous utilisez:</para>

<screen><userinput>xrdb -load &lt;filename&gt;</userinput></screen>

<para>Pour ajouter des ressources à la base de données
<application>XFree86</application> en mémoire, utilisez:</para>
<screen><userinput>xrdb -merge &lt;filename&gt;</userinput></screen>

<para>L'instruction <command>xrdb</filename> est généralement placé dans
<filename>~/.xinitrc</filename> ou <filename>~/.xsession</filename>.
Pour plus d'informations, voir la page man xrdb.</para>
</sect2>

</sect1>

