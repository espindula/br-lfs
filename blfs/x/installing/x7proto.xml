<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;
  <!ENTITY x7proto-download-http "http://xorg.freedesktop.org/releases/individual/proto/">
  <!ENTITY x7proto-download-ftp  "ftp://ftp.x.org/pub/individual/proto/">
  <!ENTITY x7proto-size          "3.0 Mo">
  <!ENTITY x7proto-buildsize     "25 Mo">
  <!ENTITY x7proto-time          "0.8 SBU">
  <!ENTITY bigreqsproto-version            "1.1.2">
  <!ENTITY bigreqsproto-md5sum             "1a05fb01fa1d5198894c931cf925c025">
  <!ENTITY compositeproto-version          "0.4.2">
  <!ENTITY compositeproto-md5sum           "98482f65ba1e74a08bf5b056a4031ef0">
  <!ENTITY damageproto-version             "1.2.1">
  <!ENTITY damageproto-md5sum              "998e5904764b82642cc63d97b4ba9e95">
  <!ENTITY dmxproto-version                "2.3.1">
  <!ENTITY dmxproto-md5sum                 "4ee175bbd44d05c34d43bb129be5098a">
  <!ENTITY dri2proto-version               "2.8">
  <!ENTITY dri2proto-md5sum                "b2721d5d24c04d9980a0c6540cb5396a">
  <!ENTITY fixesproto-version              "5.0">
  <!ENTITY fixesproto-md5sum               "e7431ab84d37b2678af71e29355e101d">
  <!ENTITY fontsproto-version              "2.1.2">
  <!ENTITY fontsproto-md5sum               "c5f4f1fb4ba7766eedbc9489e81f3be2">
  <!ENTITY glproto-version                 "1.4.16">
  <!ENTITY glproto-md5sum                  "3847963c1b88fd04a030b932b0aece07">
  <!ENTITY inputproto-version              "2.2">
  <!ENTITY inputproto-md5sum               "13c8aedaf98a92e282b7e456c0a5bed9">
  <!ENTITY kbproto-version                 "1.0.6">
  <!ENTITY kbproto-md5sum                  "677ea8523eec6caca86121ad2dca0b71">
  <!ENTITY randrproto-version              "1.4.0">
  <!ENTITY randrproto-md5sum               "ce4d0b05675968e4c83e003cc809660d">
  <!ENTITY recordproto-version             "1.14.2">
  <!ENTITY recordproto-md5sum              "1b4e5dede5ea51906f1530ca1e21d216">
  <!ENTITY renderproto-version             "0.11.1">
  <!ENTITY renderproto-md5sum              "a914ccc1de66ddeb4b611c6b0686e274">
  <!ENTITY resourceproto-version           "1.2.0">
  <!ENTITY resourceproto-md5sum            "cfdb57dae221b71b2703f8e2980eaaf4">
  <!ENTITY scrnsaverproto-version          "1.2.2">
  <!ENTITY scrnsaverproto-md5sum           "edd8a73775e8ece1d69515dd17767bfb">
  <!ENTITY videoproto-version              "2.3.1">
  <!ENTITY videoproto-md5sum               "c3b348c6e2031b72b11ae63fc7f805c2">
  <!ENTITY xcmiscproto-version             "1.2.2">
  <!ENTITY xcmiscproto-md5sum              "5f4847c78e41b801982c8a5e06365b24">
  <!ENTITY xextproto-version               "7.2.1">
  <!ENTITY xextproto-md5sum                "eaac343af094e6b608cf15cfba0f77c5">
  <!ENTITY xf86bigfontproto-version        "1.2.0">
  <!ENTITY xf86bigfontproto-md5sum         "120e226ede5a4687b25dd357cc9b8efe">
  <!ENTITY xf86dgaproto-version            "2.1">
  <!ENTITY xf86dgaproto-md5sum             "a036dc2fcbf052ec10621fd48b68dbb1">
  <!ENTITY xf86driproto-version            "2.1.1">
  <!ENTITY xf86driproto-md5sum             "1d716d0dac3b664e5ee20c69d34bc10e">
  <!ENTITY xf86vidmodeproto-version        "2.3.1">
  <!ENTITY xf86vidmodeproto-md5sum         "e793ecefeaecfeabd1aed6a01095174e">
  <!ENTITY xineramaproto-version           "1.2.1">
  <!ENTITY xineramaproto-md5sum            "9959fe0bfb22a0e7260433b8d199590a">
  <!ENTITY xproto-version                  "7.0.23">
  <!ENTITY xproto-md5sum                   "d4d241a4849167e4e694fe73371c328c">
]>

<sect1 id="xorg7-proto" xreflabel="Xorg Protocol Headers">
  <?dbhtml filename="x7proto.html"?>

  <sect1info>
    <othername>$LastChangedBy&nbsp;: krejzi $</othername>
    <date>$Date&nbsp;: 2012-10-08 08:05:45 +0200 (Mon, 08 Oct 2012) $</date>
  </sect1info>

  <title>En-têtes du protocole Xorg</title>

  <indexterm zone="xorg7-proto">
    <primary sortas="a-xorg7-proto">Xorg Protocol Headers</primary>
  </indexterm>

  <sect2 role="package">
    <title>Introduction aux en-têtes du protocole Xorg</title>

    <para>Les en-têtes du protocole <application>Xorg</application> fournissent
    les fichiers d'en-tête requis pour construire le système et pour permettre à
    d'autres applications de se construire contre le système X Window installé.</para>

   &lfs72_checked;

    <bridgehead renderas="sect3">Informations sur le paquet</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>Téléchargement (HTTP)&nbsp;: <ulink url="&x7proto-download-http;"/></para>
      </listitem>
      <listitem>
        <para>Téléchargement (FTP)&nbsp;: <ulink url="&x7proto-download-ftp;"/></para>
      </listitem>
      <listitem>
        <para>Taille du téléchargement&nbsp;: &x7proto-size;</para>
      </listitem>
      <listitem>
        <para>Estimation de l'espace disque requis&nbsp;: &x7proto-buildsize;</para>
      </listitem>
      <listitem>
        <para>Estimation du temps de construction&nbsp;: &x7proto-time;</para>
      </listitem>
    </itemizedlist>

    <bridgehead renderas="sect3">Dépendances des entêtes du protocole Xorg</bridgehead>

    <bridgehead renderas="sect4">Requises</bridgehead>
    <para role="required"> <xref linkend="util-macros"/></para>

    <bridgehead renderas="sect4">Recommandées</bridgehead>
    <para role="required"> <xref linkend="sudo"/> et
    <xref linkend="wget"/></para>

    <bridgehead renderas="sect4">Facultatives</bridgehead>
    <para role="optional"> <xref linkend="fop"/> et <xref linkend="xmlto"/>
    (pour construire la documentation supplémentaire)</para>

    <note><para>C'est une dépendance réciproque avec <xref linkend="fop"/>. Si
    vous souhaitez construire la documentation, vous devrez réinstaller les entêtes de protocole 
    après la fin de l'installation et après que
    <xref linkend="fop"/> aura été installé.</para></note>

    <para condition="html" role="usernotes">Notes utilisateur&nbsp;:
    <ulink url='&blfs-wiki;/Xorg7ProtocolHeaders'/></para>

  </sect2>

  <sect2>
    <title>Téléchargement des en-têtes du protocole Xorg</title>

    <para>Tout d'abord, créez une liste des fichieq à télécharger. Ce fichier
    sera utilisé également pour vérifier l'intégrité des téléchargements après 
    leur accomplissement&nbsp;:</para>

<screen><userinput>cat &gt; proto-&xorg-version;.md5 &lt;&lt; "EOF"
&bigreqsproto-md5sum;  bigreqsproto-&bigreqsproto-version;.tar.bz2
&compositeproto-md5sum;  compositeproto-&compositeproto-version;.tar.bz2
&damageproto-md5sum;  damageproto-&damageproto-version;.tar.bz2
&dmxproto-md5sum;  dmxproto-&dmxproto-version;.tar.bz2
&dri2proto-md5sum;  dri2proto-&dri2proto-version;.tar.bz2
&fixesproto-md5sum;  fixesproto-&fixesproto-version;.tar.bz2
&fontsproto-md5sum;  fontsproto-&fontsproto-version;.tar.bz2
&glproto-md5sum;  glproto-&glproto-version;.tar.bz2
&inputproto-md5sum;  inputproto-&inputproto-version;.tar.bz2
&kbproto-md5sum;  kbproto-&kbproto-version;.tar.bz2
&randrproto-md5sum;  randrproto-&randrproto-version;.tar.bz2
&recordproto-md5sum;  recordproto-&recordproto-version;.tar.bz2
&renderproto-md5sum;  renderproto-&renderproto-version;.tar.bz2
&resourceproto-md5sum;  resourceproto-&resourceproto-version;.tar.bz2
&scrnsaverproto-md5sum;  scrnsaverproto-&scrnsaverproto-version;.tar.bz2
&videoproto-md5sum;  videoproto-&videoproto-version;.tar.bz2
&xcmiscproto-md5sum;  xcmiscproto-&xcmiscproto-version;.tar.bz2
&xextproto-md5sum;  xextproto-&xextproto-version;.tar.bz2
&xf86bigfontproto-md5sum;  xf86bigfontproto-&xf86bigfontproto-version;.tar.bz2
&xf86dgaproto-md5sum;  xf86dgaproto-&xf86dgaproto-version;.tar.bz2
&xf86driproto-md5sum;  xf86driproto-&xf86driproto-version;.tar.bz2
&xf86vidmodeproto-md5sum;  xf86vidmodeproto-&xf86vidmodeproto-version;.tar.bz2
&xineramaproto-md5sum;  xineramaproto-&xineramaproto-version;.tar.bz2
&xproto-md5sum;  xproto-&xproto-version;.tar.bz2
EOF</userinput></screen>

    <para>Pour télécharger les fichiers nécessaires en utilisant <application>wget</application>,
    utilisez les commandes suivantes&nbsp;:</para>

<screen><userinput>mkdir proto &amp;&amp;
cd proto &amp;&amp;
grep -v '^#' ../proto-&xorg-version;.md5 | awk '{print $2}' | wget -i- -c      -B http://xorg.freedesktop.org/releases/individual/proto/ &amp;&amp;
md5sum -c ../proto-&xorg-version;.md5</userinput></screen>

  </sect2>

  <sect2 role="installation">
    <title>Installation des en-têtes du protocole Xorg</title>

    &as_root;

    <para>Tout d'abord, démarrez un sous-shell d'où on sortira en cas d'erreur&nbsp;:</para>
    
<screen><userinput>bash -e</userinput></screen>

    <para>Installez toutes les applications en lançant les commandes suivantes&nbsp;:</para>
    
<screen><userinput>for package in $(grep -v '^#' ../proto-&xorg-version;.md5 | awk '{print $2}')
do
  packagedir=${package%.tar.bz2}
  tar -xf $package
  pushd $packagedir
  ./configure $XORG_CONFIG
  as_root make install
  popd
  rm -r $packagedir
done</userinput></screen>

    <para>Enfin, quittez le shell démarré tout à l'heure&nbsp;:</para>

<screen><userinput>exit</userinput></screen>

  </sect2>

  <sect2 role="commands">
    <title>Explication des commandes</title>
    <para><command>bash -e</command>&nbsp;: Cette commande démarre un sous-shell
    qui quittera si une commande retourne une autre valeur que 0, ce qui ferait
    sortir immédiatement de la boucle loop si une erreur se produit. Ceci
    élimine aussi le besoin d'utiliser <command>&amp;&amp;</command> partout
    dans le livre.</para>
  </sect2>

  <sect2 role="content">
    <title>Contenu</title>

    <segmentedlist>
      <segtitle>Répertoires installés</segtitle>

      <seglistitem>
        <seg>
          <envar>$XORG_PREFIX</envar>/include/GL,
          <envar>$XORG_PREFIX</envar>/include/X11,
          <envar>$XORG_PREFIX</envar>/lib/pkgconfig,
          <envar>$XORG_PREFIX</envar>/share/doc/bigreqsproto,
          <envar>$XORG_PREFIX</envar>/share/doc/compositeproto,
          <envar>$XORG_PREFIX</envar>/share/doc/damageproto,
          <envar>$XORG_PREFIX</envar>/share/doc/dri2proto,
          <envar>$XORG_PREFIX</envar>/share/doc/fixesproto,
          <envar>$XORG_PREFIX</envar>/share/doc/fontsproto,
          <envar>$XORG_PREFIX</envar>/share/doc/inputproto,
          <envar>$XORG_PREFIX</envar>/share/doc/kbproto,
          <envar>$XORG_PREFIX</envar>/share/doc/randrproto,
          <envar>$XORG_PREFIX</envar>/share/doc/recordproto,
          <envar>$XORG_PREFIX</envar>/share/doc/renderproto,
          <envar>$XORG_PREFIX</envar>/share/doc/resourceproto,
          <envar>$XORG_PREFIX</envar>/share/doc/scrnsaverproto,
          <envar>$XORG_PREFIX</envar>/share/doc/videoproto,
          <envar>$XORG_PREFIX</envar>/share/doc/xcmiscproto,
          <envar>$XORG_PREFIX</envar>/share/doc/xextproto et
          <envar>$XORG_PREFIX</envar>/share/doc/xproto
        </seg>
      </seglistitem>
    </segmentedlist>

  </sect2>

</sect1>
