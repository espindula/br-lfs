<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;
]>

<sect1 id="x-setup" xreflabel="X Window System Components">
  <?dbhtml filename="x-setup.html"?>

  <sect1info>
    <othername>$LastChangedBy: dj $</othername>
    <date>$Date: 2010-10-14 05:27:03 +0200 (jeu 14 oct 2010) $</date>
  </sect1info>

  <title>Composants du système X Window</title>

  <para condition="html" role="usernotes">Notes utilisateur&nbsp;:
  <ulink url='&blfs-wiki;/XWindowSystemComponents'/></para>

  <sect2 role="configuration" id='X11R6-compat-symlink'
         xreflabel="Creating an X11R6 Compatibility Symlink">

    <title>Créer un lien symbolique de compatibilité X11R6</title>

    <para>Jusqu'à récemment (relativement), presque tous les installations de
    <application>X Window</application> qu'on effectuait ou qui venaient à être
    faites se faisaient dans le répertoire 
    <filename class='directory'>/usr/X11R6</filename>. C'était le
    standard pendant des années. Les développeurs l'ont pris à leur compte et ont
    écrit leur script d'installation de paquet pour qu'il cherche
    <application>X</application> à l'endroit standard. Les choses ont changé et
    aujourd'hui, la tendance est d'installer 
    <application>X</application> dans
    <filename class='directory'>/usr</filename>. Certaines personnes veulent
    l'installer à un endroit personnalisé.</para>

    <para>De nombreux développeurs de paquets n'ont pas tenu compte du changement
    et leurs paquets essaient toujours de trouver <application>X</application> 
    dans <filename class='directory'>/usr/X11R6</filename> et, par conséquent,
    ils échouent lorsqu'on essaie de construire le paquet. Bien que cela ne soit
    pas difficile, pour la plupart des paquets, de 'bidouiller' le script
    d'installation pour corriger le problème, ce n'est pas la solution à long 
    terme du problème. Les développeurs en amont doivent moderniser
    leurs scripts d'installation et eliminer du coup le problème.</para>

    <para>En attendant, vous pouvez créer un lien symbolique pour satisfaire
    l'exigence de <filename class='directory'>/usr/X11R6</filename> de façon
    à ne pas être incommodé par un échec de construction du paquet causé par ce
    problème connu. Si vous souhaitez créer le lien symbolique, exécutez la 
    commande suivante en tant qu'utilisateur <systemitem class="username">root</systemitem>
    (assurez-vous de modifier 
    <replaceable>&lt;$XORG_PREFIX&gt;</replaceable> comme il faut)&nbsp;:</para>

<screen role="root"><userinput>ln -vsf <replaceable>&lt;$XORG_PREFIX&gt;</replaceable> /usr/X11R6</userinput></screen>

 <!--   <para>Les paquets dans Xorg stockent par défaut leurs fichiers de
    configuration dans <filename class="directory">$XORG_PREFIX/lib/X11</filename>.
    C'est complètement contraire aux lignes directrices du FHS. Corrigez l'installation
    de <filename class="directory">/etc/X11</filename> et créez des liens
    symboliques à l'endroit d'origine avec ces commandes en tant qu'utilisateur
    <systemitem class="username">root</systemitem>&nbsp;:</para>

<screen role="root"><userinput>mkdir -p /etc/X11 &amp;&amp;
for file in $XORG_PREFIX/{lib/X11/xinit,share/X11/{app-defaults,twm}}
do
     mv -v $file /etc/X11/ 2&gt; /dev/null &amp;&amp;
     ln -v -s /etc/X11/$(basename $file) $file
done
</userinput></screen>
-->
  </sect2>

  <sect2 role="configuration" id='xconfig'>
    <title>Configuration du système X Window</title>

    <para>En tant qu'utilisateur <systemitem class="username">root</systemitem>,
    créez un fichier de configuration de base pour le système X Window avec la
    commande suivante&nbsp;:</para>

<screen><userinput>cd ~ &amp;&amp;
Xorg -configure</userinput></screen>

    <indexterm zone="x-setup xconfig">
      <primary sortas="e-etc-X11-xorg-conf">/etc/X11/xorg.conf</primary>
    </indexterm>

    <para>L'écran deviendra noir et il se peut que vous entendiez du bruit dans
    le moniteur. Cette commande créera un fichier,
    <filename>xorg.conf.new</filename>, dans votre répertoire home.</para>
<!--
    <para>Les versions récentes de <application>xorg-server</application> 
    obligent à utiliser le pilote d'entrée evdev et ignorent les périphériques 
    d'entrée de base définis dans
    <filename>xorg.conf</filename>. Il s'en suivra un affichage X qui paraît 
    verrouillé si vous utilisez les périphériques d'entée de base et si vous
    n'avez pas mis en place les bons fichiers de configuration d'entrée (ajoutés
    plus tard). Ajoutez les lignes suivantes au nouveau fichier de configuration
    <application>Xorg</application> pour contourner cela, lancez&nbsp;:</para>

<screen><userinput>cat &gt;&gt; ~/xorg.conf.new &lt;&lt; "EOF"
Section "ServerFlags"
	Option "AllowEmptyInput" "false"
EndSection
EOF</userinput></screen>
-->
    <para>Éditez le fichier de configuration nouvellement créé pour l'adapter
    à votre système. Les détails sur ces fichiers se trouvent dans la page de
    man de<filename>xorg.conf.5x</filename>. Certaines choses qu'il se peut que
    vous vouliez modifier sont&nbsp;:</para>

    <itemizedlist>
      <listitem>
        <para>Section "Files". Modifier l'ordre des chemins de police recherchés.
        Prur pourriez vouloir mettre les polices 75dpi au-dessus des polices 
        100dpi si votre système s'approche de 75 points par pouce. Vous pourriez
        vouloir supprimer complètement des répertoires de police.</para>
      </listitem>
      <listitem>
        <para>Section "Module". Si vous allez installer les pilotes NVIDIA,
        supprimez la ligne "dri".</para>
      </listitem>
      <listitem>
        <para>Sections "InputDevice". Il se peut que vous vouliez modifier
        la vitesse d'autorépétition du clavier en ajoutant
        <option>Option "Autorepeat" "250 30"</option>.</para>
      </listitem>
      <listitem>
        <para>Section "Monitor". Spécifiez les valeurs <option>VertRefresh</option>
        et <option>HorizSync</option> si le système ne détecte pas
        automatiquement le moniteur et ses réglages.</para>
      </listitem>
      <listitem>
        <para>Section "Device". Il se peut que vous vouliez régler certaines des
        options disponibles pour la carte graphique que vous avez sélectionnée. 
        Une description des paramètres du pilote se trouve dans la page de man
        de votre pilote.</para>
      </listitem>
      <listitem><para>Section "Screen". Add a DefaultDepth statement such as:
        <option>DefaultDepth 24</option>. Dans la SubSection de votre profondeur
        par défaut, ajoutez une ligne modes telle que&nbsp;:
        <option>Modes "1600x1200" "1280x1024" "1024x768"</option>. Le premier
        mode listé sera en principe la résolution de départ.</para>
      </listitem>
    </itemizedlist>

    <para>Testez le szstème avec la commande suivante&nbsp;:</para>

<screen><userinput>X -retro -config ~/xorg.conf.new</userinput></screen>

    <para>Vous n'aurez qu'un fond d'écran gris avec un pointeur X-shaped, mais
    cela confirme que le système fonctionne. Quittez avec
    <keycap>Control+Alt+Effacement</keycap>. Si le système ne fonctionne pas,
    jetez un &oelig;il sur <filename>/var/log/Xorg.0.log</filename> pour voir
    ce qui ne va pas.</para>

    <para>En tant qu'utilisateur <systemitem class="username">root</systemitem>,
    déplacez le fichier de configuration dans le répertoire&nbsp;:</para>

<screen role="root"><userinput>install -v -m644 ~/xorg.conf.new /etc/X11/xorg.conf</userinput></screen>
 
    <para>En tant qu'utilisateur <systemitem class="username">root</systemitem>,
    créez <filename>.xinitrc</filename>&nbsp;:</para>

<screen><userinput>cat &gt; ~/.xinitrc &lt;&lt; "EOF"
<literal># Begin .xinitrc file
xterm  -g 80x40+0+0   &amp;
xclock -g 100x100-0+0 &amp;
twm</literal>
EOF</userinput></screen>

    <para>Ceci donne un écran de départ avec une petite horloge gérée par un
    gestionnaire de fenêtre simple, Tab Window Manager (gestionnaire de fenêtre
    en onglets). Pour des détails sur
    <command>twm</command>, voir la page de man.</para>

    <indexterm zone="x-setup xconfig">
      <primary sortas="e-AA.xinitrc">~/.xinitrc</primary>
    </indexterm>

    <note>
      <para>Tant la configuration de <application>Xorg</application> par défaut
      que celle de BLFS incluent <application>xterm</application>. La distribution
      modulaire de <application>Xorg</application> n'inclut plus
      <application>xterm</application> et il en résulte que la commande
      <command>startx</command> échouera si vous n'avez pas installé
      <xref linkend="xterm2"/> en utilisant le système X Window modulaire.
      Vous pouvez supprimer la ligne <application>xterm</application> du
      fichier de config ci-dessus pour régler le serveur x ou installer un autre
      émulateur de terminal et faire des modifications adéquates.</para>
    </note>

    <para>Lorsque c'est nécessaire, le système X Window crée le répertoire
    <filename class='directory'>/tmp/.ICE-unix</filename> s'il n'existe pas. Si
    ce répertoire n'appartient pas à <systemitem class="username">root</systemitem>,
    les délais de démarrage du système X Window s'allongent de quelques secondes
    et envoient aussi un avertissement dans le fichier journal. Cela touche
    aussi le démarrage d'autres applications. Pour améliorer la performance, on
    vous conseille de créer à la main le répertoire avant que le système X
    Window l'utilise. Ajoutez la création de fichier à
    <filename>/etc/sysconfig/createfiles</filename>, dont la source est le script
    de démarrage <filename>/etc/rc.d/init.d/cleanfs</filename>.</para>

<screen role="root"><userinput>cat &gt;&gt; /etc/sysconfig/createfiles &lt;&lt; "EOF"
/tmp/.ICE-unix dir 1777 root root
EOF</userinput></screen>

    <indexterm zone="x-setup xconfig">
      <primary
      sortas="e-etc-sysconfig-createfiles">/etc/sysconfig/createfiles</primary>
    </indexterm>

    <para>Démarrez <application>X</application> avec&nbsp;:</para>

<screen><userinput>startx</userinput></screen>

    <para>et un <application>système X Window</application> opérationnel de base
    devrait s'afficher.</para>

  </sect2>

  <sect2 id='dri'>
    <title>Vérifier l'installation de la <foreignphrase>Direct Rendering 
    Infrastructure</foreignphrase> (DRI)</title>

    <indexterm zone="x-setup dri">
      <primary sortas="g-DRI">DRI</primary>
    </indexterm>

    <para>DRI est un environnement pour permettre aux logiciels d'accéder au 
    matériel graphique de manière sécurisée et efficace. On l'installe par
    défaut dans <application>X</application> si vous avez une carte graphique 
    supportée. Pour activer le <foreignphrase>direct rendering</foreignphrase> 
    en utilisant l'implémentation OpenGL  de
    <xref linkend="mesalib"/> (construit péparément avec <xref linkend="xorg7"/>
    il faut charger les modules "glx" et "dri". En outre, les n&oelig;uds de
    périphérique créés dans <filename class="directory">/dev/dri</filename> 
    doivent avoir les bons droits pour vos utilisateurs. Un fichier
    <filename>xorg.conf</filename> modèle pourrait ressembler à&nbsp;:</para>

<screen><literal>Section "Module"
    ...
    Load  "glx"
    Load  "dri"
    ...
EndSection
...
Section "DRI"
    Group "video"
    Mode  0660
EndSection</literal></screen>

    <para>Les périphériques DRI ne sont accessibles à aucun utilisateur sauf
      <systemitem class="username">root</systemitem> et les membres du groupe
      <systemitem class="groupname">video</systemitem>. Ajoutez les utilisateurs
      qui pourraient utiliser X à ce groupe&nbsp;:</para>

<screen role="root"><userinput>usermod -a -G video <replaceable>&lt;nomutilisateur&gt;</replaceable></userinput></screen>

    <note><para>Il se peut que la configuration DRI diffère si vous utilisez 
    d'autres pilotes tels que ceux de 
    <ulink url="http://www.nvidia.com/page/home.html">NVIDIA</ulink> ou
    <ulink url="http://www.ati.com/">ATI</ulink>.</para>
    </note>

    <para>Pour vérifier que DRI est installé correctement, vérifiez que le fichier
    journal <filename>/var/log/Xorg.0.log</filename> contient des lignes
    comme&nbsp;:</para>

<screen><literal>(II) R128(0)&nbsp;: Direct rendering enabled</literal></screen>

    <para>Si vous avez opté pour l'installation du paquet Mesa-Demos lors
    de l'installation de <xref linkend="mesalib"/>, depuis un <command>xterm</command>, 
    lancez <command>glxinfo</command> et cherchez la phrase&nbsp;:</para>

<screen><computeroutput>direct rendering: Yes</computeroutput></screen>

    <para>Si <foreignphrase>direct rendering</foreignphrase> n'est pas activé,
    vous pouvez ajouter de la verbosité en lançant <command>LIBGL_DEBUG=verbose glxinfo</command>.  
    Ceci montrera les pilotes, les n&oelig;uds de périphérique et les fichiers
    utilisés par le système DRI.</para>

    <para>De nouveau, si vous avez ajouté le paquet Mesa-Demos, vous pouvez
    également lancer le programme de test <command>glxgears</command>. Ce
    programme fait apparaître une fenêtre de trois onglets à bascule. 
    <command>xterm</command> affichera le nombre de cadres dessinés toutes les
    cinq secondes, donc c'est une évaluation raisonnable. La fenêtre est
    échelonable et les cadres dessinés par seconde dépendent beaucoup de la
    taille de la fenêtre.</para>

    <indexterm zone="x-setup dri">
      <primary sortas="b-glxgears">glxgears</primary>
    </indexterm>

    <indexterm zone="x-setup dri">
      <primary sortas="b-glxinfo">glxinfo</primary>
    </indexterm>

    <para>Pour des problèmes et du dépannage, regardez le guide des utilisateurs
    de DRI sur
    <ulink url="http://dri.sourceforge.net/doc/DRIuserguide.html"/>.</para>

  </sect2>

<!-- ================================================== -->

  <sect2 id='fonts'>
    <title>Configurer les polices</title>

    <para>Il y a deux systèmes de police dans le
    <application>Système X Window</application>. Le premier est le protocole
    de polices au c&oelig;ur de X est le deuxième est Xft. Le toolkits qui
    utilise le protocole de polices du c&oelig;ur de X inclut les clones Xt, 
    Xaw, Motif et GTK+-1.2. Les toolkits qui utilisent Xft incluent GTK+-2 et 
    Qt et ils utilisent <application>Fontconfig</application> pour le contrôle.
    Les deux systèmes de police devraient être configuré pour un bon traitement
    des polices dans le <application>système X Window</application>.</para>

    <indexterm zone="x-setup fonts">
      <primary sortas="e-etc-X11-xorg-conf">/etc/X11/xorg.conf</primary>
    </indexterm>

    <sect3>
      <title>Protocole de police du c&oelig;ur de X</title>

      <indexterm zone="x-setup fonts">
        <primary sortas="g-core-x-font">Core X Font Protocol</primary>
      </indexterm>

      <para>Le protocole de police du c&oelig;ur de X trouve les polices dans
      le fichier de configuration du serveur (<filename>xorg.conf</filename>).
      S'il n'existe aucun chemin de police dans le fichier de configuration,
      le serveur se rabattra sur un chemin interne codé en dur de
	  <filename class="directory">$XORG_PREFIX>/share/fonts/X11</filename>.
	  Pour chaque répertoire du chemin, le serveur lit trois fichiers&nbsp;:</para>

      <itemizedlist>
        <listitem>
          <para><filename>fonts.dir</filename> - associe les fichiers de police
          aux noms de police&semi; mis à jour avec <command>mkfontdir</command></para>
        </listitem>
        <listitem>
          <para><filename>fonts.alias</filename> - définit les aliases (tels que
          "9x18") pour les polices existantes</para>
        </listitem>
        <listitem>
          <para><filename>fonts.scale</filename> - liste les polices échelonables&semi;
          mis à jour avec <command>mkfontscale</command></para>
        </listitem>
      </itemizedlist>

      <para>Le protocole de police du c&oelig;ur de X utilise des noms tels que
      <systemitem>-misc-fixed-medium-r-normal--13-120-75-75-c-80-iso8859-1</systemitem>.
      Ces polices sont affichées par le serveur <application>X</application> 
      sans anticipation. Le serveur lui-même utilise la police "cursor" pour
      dessiner le pointeur, et la spécification du protocole exige que la police
      "fixed" soit disponible.</para>

      <para>Les polices échelonables telles que Type1 et TrueType, sont lues
      depuis les fichiers <filename>fonts.scale</filename> par le serveur.  Le
      protocole de police du c&oelig;ur de X utilise le module "freetype" pour
      l'affichage non aliassé de ces polices. Assurez-vous que le module "freetype" 
      est chargé dans le fichier <filename>xorg.conf</filename> en l'ajoutant à
      la section "Module"&nbsp;:</para>

<screen><literal>Section "Module"
    ...
    Load  "freetype"
    ...
EndSection</literal></screen>

      <para>L'encodage utilisé fait partie du nom de la police, comme
      "-iso8859-1". Il est important que les applications supportant une interface
      non en anglais spécifient bien l'encodage pour que les bons glyphs soient
      utilisés. On peut contrôler cela par les ressources de <application>X</application>
      qui seront décrites plus tard.</para>

      <para>Dans certains cas, les applications se fient aux polices nommées
      "fixed" ou quelque chose comme "9x18". Dans ces cas, il est important que
      le fichier <filename>fonts.alias</filename> spécifie le bon encodage.
      Les utilisateurs d'encodages ISO-8859-<replaceable>X</replaceable> où
      <replaceable>X</replaceable> != 1 devraient modifier le fichier
      <filename>/usr/lib/X11/fonts/misc/fonts.alias</filename> en 
      remplaçant la chaîne "iso8859-1" par le bon nom d'encodage. On fait cela
      en lançant la commande suivante en tant qu'utilisateur <systemitem
      class="username">root</systemitem>, en mettant la bonne valeur à la place
      de <replaceable>&lt;X&gt;</replaceable>&nbsp;:</para>

<screen role="root"><userinput>sed -i 's,iso8859-1\( \|$\),iso8859-<replaceable>&lt;X&gt;</replaceable>\1,g' \
    /usr/lib/X11/fonts/{75dpi,100dpi,misc}/fonts.alias</userinput></screen>

      <para>Les utilisateurs de polices cyrilliques ont des aliases bien définis
      <filename>/usr/lib/X11/fonts/cyrillic/fonts.alias</filename>.  Cependant,
      ce fichier ne sera pas utilisé, sauf si on met en premier le répertoire
      <filename class="directory">/usr/lib/X11/fonts/cyrillic</filename> dans
      le chemin de recherche des polices. Sinon, le fichier
      <filename>/usr/lib/X11/fonts/misc/fonts.alias</filename> file sera
      utilisé.</para>

    </sect3>

    <sect3 id="xft-font-protocol"  xreflabel="Xft Font Protocol">
      <title>Protocole de polices Xft</title>

      <indexterm zone="x-setup fonts">
        <primary sortas="g-truetype">TrueType Fonts</primary>
      </indexterm>

      <para>Xft offre un affichage de polices non aliassé via 
      <application>Freetype</application> et les polices sont contrôlées côté
      client en utilisant <application>Fontconfig</application>. Le chemin de
      recherche par défaut est <filename class="directory">/usr/share/fonts</filename>
      et <filename class="directory">~/.fonts</filename>.
      <application>Fontconfig</application> cherche les répertoires de son
      chemin de façon récursive et il maintient un cache des caractéristiques de
      police dans des fichiers <filename>fonts.cache-1</filename> de chaque
      répertoire. Si le cache s'avère obsolète, il est ignoré et les informations
      sont (lentement) récupérées à partir des polices elles-mêmes. Ce cache
      peut être régénéré en utilisant la commande <command>fc-cache</command> 
      n'importe quand. Vous pouvez voir la liste des polices que connaît
      <application>Fontconfig</application> en lançant la commande
      <command>fc-list</command>.</para>

      <para>Les polices de <application>X</application> n'ont pas été installées
      à un endroit que connaît <application>Fontconfig</application>. Ceci
      empêche <application>Fontconfig</application> d'utiliser les polices
      mal affichées Type 1 ou les polices non échelonables bitmappées. Des
      liens symboliques ont été créés depuis les répertoires
      <filename class="directory">OTF</filename> et <filename
      class="directory">TTF</filename> des polices <application>X</application>
      vers <filename
      class="directory">/usr/share/fonts/X11-{OTF,TTF}</filename>. Ceci
      permet à <application>Fontconfig</application> d'utiliser les polices
      OpenType et TrueType que fournit <application>X</application> (qui sont
      échelonables et de grande qualité).</para>

      <para><application>Fontconfig</application> utilise des noms tels que 
      "Monospace 12" pour définir les polices. Les applications utilisent en
      général des noms de polices génériques tels que "Monospace", "Sans" et "Serif".
      <application>Fontconfig</application> convertit ces noms en polices dont
      tous les caractères couvrent l'orthographe des langues indiquées par les
      paramètres de la locale. La connaissance de ces noms de police est
      incluse dans <filename>/etc/fonts/fonts.conf</filename>. Les polices
      non listées dans ce fichier restent utilisables par <application>Fontconfig</application>,
      mais elles ne seront pas accessibles par leurs noms de famille 
      génériques.</para>

      <para>Les polices échelonables standards fournies avec <application>X</application>
      offrent un affichage très pauvre de l'Unicode. Vous pourriez remarquer que
      dans les applications qui utilisent <application>Xft</application>,
      certains caractères apparaissent comme des cases avec quatre chiffres 
      binaires dedans. Dans ce cas, c'est qu'un réglage de police avec les glyphs 
      disponibles n'a pu être trouvé. D'autres fois, des applications qui
      n'utilisent pas d'autres familles de police par défaut et n'acceptent pas
      les substitutions de <application>Fontconfig</application> afficheront
      des lignes vides quand la police par défaut ne couvre pas l'orthograpfe de
      la langue de l'utilisateur. Cela se produit par exemple avec
      <application>Fluxbox</application> dans la locale
      ru_RU.KOI8-R.</para>

      <para>Pour fournir une meilleure prise en charge de l'Unicode, il est
      recommandé d'installer ces polices&nbsp;:</para>

      <itemizedlist>
        <listitem>
          <para><ulink url="http://dejavu.sourceforge.net/">polices DejaVu</ulink>
          - Ces polices remplacent les polices Bitstream Vera et offrent des
          scripts basés sur le Latin avec des accents et les glyphs Cyrilliques.
          </para>
        </listitem>
        <listitem>
          <para><ulink
          url="http://download.savannah.nongnu.org/releases/freefont/">FreeFont</ulink>
          - Ce jeu de polices couvre presque tous les caractères non CJK mais
          il n'est pas très joli visuellement. <application>Fontconfig</application> 
          l'utilisera en dernier recours pour remplacer les noms de famille des
          polices génériques.</para>
        </listitem>
        <listitem>
          <para><ulink
          url="http://corefonts.sourceforge.net/">Microsoft Core fonts</ulink>
          - Ces polices offrent une prise en charge légèrement meilleure de 
          l'Unicode que FreeFont, mais on les suggère davantage. Assurez-vous
          de lire la licence avant de les utiliser. Ces polices sont listées
          dans les aliases <filename>/etc/fonts/fonts.conf</filename> par 
          défaut.</para>
        </listitem>
        <listitem>
          <para><ulink
          url="http://cle.linux.org.tw/fonts/FireFly">Police Firefly New Sung</ulink>
          - Cette police fournit la prise en charge du chinois. Cette police
          n'est pas listée dans les aliases <filename>/etc/fonts/fonts.conf</filename> 
          par défaut. 
          </para>
        </listitem>
        <listitem>
          <para><ulink
          url="http://cle.linux.org.tw/fonts/Arphic">Polices Arphic</ulink> -
          Un jeu de polices chinoises similaires à la police Firefly New Sung.
          Ces polices sont listées dans les aliases
          <filename>/etc/fonts/fonts.conf</filename> par défaut.
          </para>
        </listitem>
        <listitem>
          <para><ulink
          url="http://sourceforge.jp/projects/efont/">Polices Kochi</ulink> -
          Elles fournissent des caractères japonais, et elles sont listées dans
          les aliases de <filename>/etc/fonts/fonts.conf</filename> par défaut.</para>
        </listitem>
        <listitem>
          <para><ulink
          url="http://kldp.net/projects/baekmuk/">Polices Baekmuk</ulink>
          - Ces polices offrent la prise en charge du coréen et elles sont listées
          dans les aliases de <filename>/etc/fonts/fonts.conf</filename> par
          défaut. 
          </para>
        </listitem>
      </itemizedlist>

      <para>La liste ci-dessus ne permettra pas une prise en charge totale de 
      l'Unicode. Pour plus d'informations, merci de visiter le <ulink
      url="http://unifont.org/fontguide/">Unicode Font Guide</ulink> (guide des
      polices Unicode).</para>

      <para>Pour exemple, imaginons l'installation des polices DejaVu. 
      À partir du répertoire des sources déballées, lancez les commandes
      suivantes en tant qu'utilisateur 
      <systemitem class="username">root</systemitem>&nbsp;:</para>

<screen role="root"><userinput>install -v -d -m755 /usr/share/fonts/dejavu &amp;&amp;
install -v -m644 *.ttf /usr/share/fonts/dejavu &amp;&amp;
fc-cache -v /usr/share/fonts/dejavu</userinput></screen>

    </sect3>

  </sect2>

<!-- ================================================== -->

  <sect2>
    <title>Régler les claviers</title>

    <para>Dans cette version de <application>X</application>, les agencements de
    clavier non Latins n'incluent pas les configurations latines comme cela était
    le cas précédemment. Pour paramétrer un clavier pour l'entrée en latin et 
    non latin, modifiez l'option du pilote clavier XkbLayout dans la section
    InputDevice du fichier <filename>xorg.conf</filename>. Par exemple&nbsp;:</para>

<screen><literal>Section "InputDevice"
    Identifier          "Keyboard0"
    Driver              "kbd"
    Option "XkbModel"   "pc105"
    Option "XkbLayout"  "en_US,ru"
    Option "XkbOptions" "grp:switch,grp:alt_shift_toggle,grp_led:scroll"
EndSection</literal></screen>

    <para>Dans cet exemple, vous pouvez utiliser la combinaison <keycap>Alt+Shift</keycap>
    pour basculer entre les agencements de clavier utiliser la touche LED
    Verrouillage du défilement pour indiquer quand le deuxième agencement est 
    actif.</para>

  </sect2>

<!-- ================================================== -->
<!--
  <sect2 id='xdm'>
    <title>Réglage de XDM</title>

    <para><command>xdm</command> offre une possibilité d'identification en 
    graphique et il est paramétré normalement dans <filename>/etc/inittab</filename>. 
    La plupart des informations dont vous avez besoin pour personnaliser
    <command>xdm</command> se trouvent dans sa page de man. Pour exécuter
    <command>xdm</command> lors du démarrage, modifiez le niveau d'initialisation
    par défaut à 5 et ajoutez les lignes suivantes à
    <filename>/etc/inittab</filename>&nbsp;:</para>

    <indexterm zone="x-setup xdm">
      <primary sortas="b-xdm">xdm</primary>
    </indexterm>

<screen><literal># Run xdm as a separate service
x:5:respawn:/usr/X11R6/bin/xdm -nodaemon</literal></screen>

    <para>Si <application>Linux-PAM</application> est installé sur votre
    système, vous devriez créer une entrée PAM pour <command>xdm</command> en
    copiant l'entrée <command>login</command> en utilisant la
    commande suivante&nbsp;:</para>

    <indexterm zone="x-setup xdm">
      <primary sortas="e-etc-pam.d/xdm">/etc/pam.d/xdm</primary>
    </indexterm>

<screen role="root"><userinput>cp -v /etc/pam.d/login /etc/pam.d/xdm</userinput></screen>

  </sect2>
-->

<!-- ================================================== -->

  <sect2 id='x-resources'>
    <title>Utilisation des ressources X</title>

    <para>De nombreuses options peuvent se régler dans les clients
    <application>X</application> et <application>X</application> par les
    ressources. Les ressources se règlent généralement dans le fichier
    <filename>~/.Xresources</filename>.</para>

    <para>L'agencement du fichier <filename>~/.Xresources</filename>
    consiste dans une liste de spécifications ayant la forme de</para>

    <indexterm zone="x-setup x-resources">
      <primary sortas="e-AA.xresources">~/.Xresources</primary>
    </indexterm>

<screen><literal>objet.sousobject[.sousobject...].attribut: valeur</literal></screen>

    <para>Les composants d'une spécification de resssource sont reliées
    avec des associations <emphasis>tight</emphasis>, représentées par un point (.), ou
    <emphasis>loose</emphasis>, représentées par une astérisque (*). Une
    association tight indique que les composants de part et d'autre du point 
    doivent être directement à côté les uns des autres, comme défini dans une
    implémentation spécifique. Une astérisque est un caractère joker signifiant
    que n'importe quel nombre de niveaux dans une hiérarchie définie peut figurer
    entre les composants. Par exemple, X offre deux curseurs spéciaux&nbsp;: 
    redglass et whiteglass (verre rouge et blanc). Pour utiliser une de ces
    ressources, vous devez ajouter la ligne suivante&nbsp;:</para>

<screen><literal>Xcursor.theme: whiteglass</literal></screen>

    <para>Cependant, vous pouvez spécifier le fond de tous les clients avec&nbsp;:</para>

<screen><literal>*background: blue</literal></screen>

    <para>Des variables de  ressources plus spécifiques écraseront des noms 
    moins spécifiques.</para>

    <para>Vous pouvez trouver les définitions de ressource dans les pages de man
    de chaque client respectif.</para>

    <para>Pour charger vos ressources, le programme <command>xrdb</command>
    doit être appelé avec les paramètres adaptés. En général, la première fois
    qu'on charge les ressources, on utilise&nbsp;:</para>

<screen><userinput>xrdb -load &lt;filename&gt;</userinput></screen>

    <para>Pour ajouter des ressources à la base de données en mémoire de
    <application>X</application>, utilisez&nbsp;:</para>

<screen><userinput>xrdb -merge &lt;filename&gt;</userinput></screen>

    <para>On met en général l'instruction <command>xrdb</command> dans
    <filename>~/.xinitrc</filename> ou <filename>~/.xsession</filename>.
    Pour plus d'informations, voir la page de man <command>xrdb</command>.</para>

    <indexterm zone="x-setup x-resources">
      <primary sortas="b-xrdb">xrdb</primary>
    </indexterm>

  </sect2>

</sect1>
