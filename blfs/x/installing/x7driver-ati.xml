<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;
  <!ENTITY radeon-wiki "http://wiki.x.org/wiki/RadeonFeature">
  <!ENTITY radeon-marketing-names "&radeon-wiki;#Decoder_ring_for_engineering_vs_marketing_names">
  <!ENTITY xorg-ati-driver-version "7.2.0">
  <!ENTITY xorg-ati-driver-download-http "&xorg-download-http;/driver/xf86-video-ati-&xorg-ati-driver-version;.tar.bz2">
  <!ENTITY xorg-ati-driver-download-ftp  "&xorg-download-ftp;/driver/xf86-video-ati-&xorg-ati-driver-version;.tar.bz2">
  <!ENTITY xorg-ati-driver-md5sum        "5ab9a826699e5c86ef89fca43ebb3821">
  <!ENTITY xorg-ati-driver-size          "806 Ko">
  <!ENTITY xorg-ati-driver-buildsize     "18 Mo">
  <!ENTITY xorg-ati-driver-time          "0.2 SBU">
]>
  <sect2 id="xorg-ati-driver" xreflabel="Xorg ATI Driver-&xorg-ati-driver-version;">
    <title>Xorg ATI Driver-&xorg-ati-driver-version;</title>
    <indexterm zone="xorg-ati-driver">
      <primary sortas="a-xorg-ati-driver">xorg-ati-driver</primary>
    </indexterm>
    <sect3 role="package">
      <title>Introduction à Xorg ATI Driver</title>
      <para>
       Le paquet <application>Xorg ATI Driver</application> contient le pilote vidéo X.Org
        pour les cartes graphiques ATI Radeon incluant tous les chipsets de R100 à R900 et les nouveaux Radeon HD.
    </para>
      &lfs74_checked;
      <note>
        <para>
          Pour un rendu direct fonctionnel avec les nouvelles cartes (chipsets r300 et au dela),
          vous devrez activer la construction des pilotes  Gallium radeonsi r300 et r600 dans les instructions
          <xref linkend="mesalib"/>. Egalement, quelques cartes demanderont qu'un Firmware
          soit disponible quand le pilote du noyau est chargé. Le Firmware peut être obtenu depuis
          <ulink url="http://git.kernel.org/cgit/linux/kernel/git/firmware/linux-firmware.git/tree/">ce</ulink> site.
          Voir
          "Configuration pour des firmwares supplémentaires" dessous.
        </para>
      </note>
      <bridgehead renderas="sect4">Information sur le paquet </bridgehead>
      <itemizedlist spacing="compact">
        <listitem>
          <para>
            Téléchargement (HTTP) : <ulink url="&xorg-ati-driver-download-http;"/>
          </para>
        </listitem>
        <listitem>
          <para>
            Téléchargement (FTP) : <ulink url="&xorg-ati-driver-download-ftp;"/>
          </para>
        </listitem>
        <listitem>
          <para>
            Somme de contrôle MD5 du téléchargement : &xorg-ati-driver-md5sum;
          </para>
        </listitem>
        <listitem>
          <para>
            Taille du téléchargement : &xorg-ati-driver-size;
          </para>
        </listitem>
        <listitem>
          <para>
            Estimation de l'espace disque requis : &xorg-ati-driver-buildsize;
          </para>
        </listitem>
        <listitem>
          <para>
            Estimation du temps de construction : &xorg-ati-driver-time;
          </para>
        </listitem>
      </itemizedlist>
      <bridgehead renderas="sect4">Dépendances de Xorg ATI Driver</bridgehead>
      <bridgehead renderas="sect5">Requises</bridgehead>
      <para role="required">
        <xref linkend="xorg-server"/>
      </para>
      <bridgehead renderas="sect5">Recommandées</bridgehead>
      <para role="optional">
        <xref linkend="glamor-egl"/>
      </para>
      <note>
        <para>
          C'est <emphasis>requis pour les GPU "Southern Islands"
        </emphasis> mais facultatifs pour les GPU  R300 à R700, Evergreen et "Northern Islands"
        - voir le lien dans "Accélération Glamor" dessous.
        </para>
      </note>
      <para condition="html" role="usernotes">
        Notes utilisateur : <ulink url="&blfs-wiki;/xorg-ati-driver"/>
      </para>
    </sect3>
    <sect3 role="kernel" id="xorg-ati-driver-kernel">
      <title>Configuration du noyau</title>
      <para>
         Activer les options suivantes dans la configuration du noyau et recompilez le noyau si nécessaire&nbsp;:
      </para>
<screen>
<literal>Device Drivers  ---&gt;
  Graphics support ---&gt;
    ATI Radeon: Y or M</literal>
</screen>
      <indexterm zone="xorg-ati-driver xorg-ati-driver-kernel">
        <primary sortas="d-xorg-ati-driver">xorg-ati-driver</primary>
      </indexterm>
    </sect3>
    <sect3 role="kernel" id="xorg-ati-firmware-kernel">
      <title>Configuration du noyau pour des firmwares supplémentaires</title>
      <para>
      Si vous devez installer un firmware, installez le(s) fichier(s) et ensuite pointez sur eux
      dans la configuration du noyau et recompilez le noyau si nécéssaire. Pour trouver les firmware dont vous
      avez besoin, consultez le décodeur <ulink url="&radeon-marketing-names;"> Decoder ring for engineering vs marketing names</ulink>.
      Téléchargez les firmwares pour votre carte qui sont nommés en :
      <filename><replaceable>&lt;ENGINEERING_NAME&gt;</replaceable>_rlc.bin</filename>,
      etc. Notez que pour les familles R600 et R700, les firmwares génériques  <filename>R600_rlc.bin</filename> et
      <filename>R700_rlc.bin</filename>
      sont nécessaires en supplément du firmware spécifique au modèle, alors que pour les dernières
      générations (Evergreen, "Northern Islands" et probablement "Southern Islands") vous aurez besoin
      de <filename>BTC_rlc.bin</filename> en supplément du firmware spécifique au modèle. Après, il y a un
      exemple pour une Radeon HD6470, qui est basée sur un GPU "Northern Islands" avec une carte réseau qui
      demande aussi le firmware :
     </para>
<screen>
<literal>CONFIG_EXTRA_FIRMWARE="radeon/BTC_rlc.bin radeon/CAICOS_mc.bin radeon/CAICOS_me.bin radeon/CAICOS_pfp.bin radeon/CAICOS_smc.bin rtl_nic/rtl8168e-3.fw"
CONFIG_EXTRA_FIRMWARE_DIR="/lib/firmware"</literal>
</screen>
      <tip>
        <para>
           Vous pouvez vérifier la sortie de <command>dmesg</command> après le démarrage pour voir
          les firmwares qui sont manquants.
       </para>
      </tip>
      <indexterm zone="xorg-ati-driver xorg-ati-firmware-kernel">
        <primary sortas="d-xorg-ati-firmware">xorg-ati-firmware</primary>
      </indexterm>
    </sect3>
    <sect3 role="installation">
      <title>Installation de Xorg ATI Driver</title>
      <para>
        Installez <application>Xorg ATI Driver</application> en lançant les commandes suivantes :
         
      </para>
<screen>
<userinput>./configure $XORG_CONFIG --enable-glamor &amp;&amp;
make</userinput>
</screen>
      <para>
        Ce paquet n'a pas de suite de tests.
      </para>
      <para>
        Maintenant, en tant qu'utilisateur <systemitem class="username">root</systemitem> :
      </para>
<screen role="root">
<userinput>make install</userinput>
</screen>
    </sect3>
    <sect3>
      <title>Explications des commandes</title>
      <para>
         <parameter>--enable-glamor</parameter>&nbsp;: Ce paramètre active la
         nouvelle accélération basé sur GL. Ainsi la spécification de cela dans
	 la construction, nécessite d'être disponible à l'exécution (voir ensuite).
	 C'est, cependant, activé par défaut pour Radeon 
        "Southern Islands" et les nouveaux GPUs.
      </para>
    </sect3>
    <sect3>
      <title>Accélération Glamor</title>
      <para>
        Glamor est une bibliothèque d'accélération qui utilise les capacités des cartes 3D pour accéléré le rendu 2D.
         L'accélération de Glamor est requise pour les GPU Radéon
        "Southern Islands" qui utilisent le pilote "radeonsi" Gallium3D de
         <xref linkend="mesalib"/>. Pour voir quelles cartes fonctionne avec
        "Southern Islands" , lisez
        <ulink url="&radeon-marketing-names;">
        Decoder ring for engineering vs marketing names</ulink>. Merci de noter que l'accélération
        Glamor peut être utilisée aussi bien avec d'autres chips, depuis R300, mais il n'y a pas eu de tests actuellement.
     </para>
      <para>
         L'accélération Glamor n'est pas active par défaut pour les chipsets
	 qui n'utilise pas le pilote "radeonsi" de Gallium3D. Vous devez utiliser un fichier
        <filename>xorg.conf</filename> pour l'activer. Pour activer Glamor
	pour les autres cartes que "Southern Islands" et plus,
        créez le <filename>/etc/X11/xorg.conf</filename> suivant en tant qu'utilisateur
        <systemitem class="username">root</systemitem>&nbsp;:
     </para>
<screen role="root">
<userinput>cat &gt;&gt; /etc/X11/xorg.conf &lt;&lt; "EOF"
<literal>Section "Module"
        Load "dri2"
        Load "glamoregl"
EndSection
Section "Device"
        Identifier "radeon"
        Driver "radeon"
        Option "AccelMethod" "glamor"
EndSection</literal>
EOF</userinput>
</screen>
    </sect3>
    <sect3 role="content">
      <title>Contenu</title>
      <segmentedlist>
        <segtitle>Pilotes Xorg installés</segtitle>
        <seglistitem>
          <seg>
            ati_drv.so et radeon_drv.so
          </seg>
        </seglistitem>
      </segmentedlist>
      <variablelist>
        <bridgehead renderas="sect4">Description courte</bridgehead>
        <?dbfo list-presentation="list"?>
        <?dbhtml list-presentation="table"?>
        <varlistentry id="ati_drv">
          <term><filename class="libraryfile">ati_drv.so</filename></term>
          <listitem>
            <para>
             est un pilote enveloppe pour les cartes video ATI qui détecte le matériel vidéo ATI et
                          charge le pilote radeon, mach64 ou r128.
           </para>
            <indexterm zone="xorg-ati-driver ati_drv">
              <primary sortas="c-ati_drv">ati_drv.so</primary>
            </indexterm>
          </listitem>
        </varlistentry>
        <varlistentry id="radeon_drv">
          <term><filename class="libraryfile">radeon_drv.so</filename></term>
          <listitem>
            <para>
             est un pilote vidéo Xorg pour les cartes basées sur une ATI Radeon.
           </para>
            <indexterm zone="xorg-ati-driver radeon_drv">
              <primary sortas="c-radeon_drv">radeon_drv.so</primary>
            </indexterm>
          </listitem>
        </varlistentry>
      </variablelist>
    </sect3>
  </sect2>
  
 
