<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;
  <!ENTITY mesalib-download-http " ">
  <!ENTITY mesalib-download-ftp  "ftp://ftp.freedesktop.org/pub/mesa/&mesalib-version;/MesaLib-&mesalib-version;.tar.bz2">
  <!ENTITY mesalib-md5sum        "dc45d1192203e418163e0017640e1cfc">
  <!ENTITY mesalib-size          "5.9 Mo">
  <!ENTITY mesalib-buildsize     "685 Mo">
  <!ENTITY mesalib-time          "5.5 SBU">
  <!ENTITY glu-download-http " ">
  <!ENTITY glu-download-ftp  "ftp://ftp.freedesktop.org/pub/mesa/glu/glu-&glu-version;.tar.bz2">
  <!ENTITY glu-md5sum        "be9249132ff49275461cf92039083030">
  <!ENTITY glu-size          "484 Ko">
  <!ENTITY glu-buildsize     "13 Mo">
  <!ENTITY glu-time          "0.2 SBU">
]>

<sect1 id="mesalib" xreflabel="MesaLib-&mesalib-version;">
  <?dbhtml filename="mesalib.html"?>

  <sect1info>
    <othername>$LastChangedBy&nbsp;: krejzi $</othername>
    <date>$Date&nbsp;: 2012-12-30 19:28:02 +0100 (Sun, 30 Dec 2012) $</date>
  </sect1info>

  <title>MesaLib-&mesalib-version;</title>

  <indexterm zone="mesalib">
    <primary sortas="a-MesaLib">MesaLib</primary>
  </indexterm>

  <sect2 role="package">
    <title>Introduction à MesaLib</title>

    <para><application>Mesa</application> est une bibliothèque graphique 
    compatible OpenGL 3D.</para>

    &lfs72_checked;

    <bridgehead renderas="sect3">Informations sur le paquet</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>Téléchargement (HTTP)&nbsp;: <ulink url="&mesalib-download-http;"/></para>
      </listitem>
      <listitem>
        <para>Téléchargement (FTP)&nbsp;: <ulink url="&mesalib-download-ftp;"/></para>
      </listitem>
      <listitem>
        <para>Somme de contrôle MD5 du téléchargement&nbsp;: &mesalib-md5sum;</para>
      </listitem>
      <listitem>
        <para>Taille du téléchargement&nbsp;:
        &mesalib-size;</para>
      </listitem>
      <listitem>
        <para>Estimation de l'espace disque requis&nbsp;:
        &mesalib-buildsize;</para>
      </listitem>
      <listitem>
        <para>Estimation du temps de construction&nbsp;:
        &mesalib-time;</para>
      </listitem>
    </itemizedlist>

    <bridgehead renderas="sect3">Téléchargements supplémentaires</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>Correctif requis: 
        Téléchargement (HTTP) de GLU: <ulink url="&glu-download-http;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Téléchargement (FTP) de GLU: <ulink url="&glu-download-ftp;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Somme de contrôle MD5 du téléchargement de GLU: &glu-md5sum;
        </para>
      </listitem>
      <listitem>
        <para>
          Taille du téléchargement de GLU: &glu-size;
       </para>
      </listitem>
      <listitem>
        <para>
          Estimation de l'espace disque requis de GLU: &glu-buildsize;
        </para>
      </listitem>
      <listitem>
       <para>
          Estimation du temps de construction de GLU: &glu-time;
       </para>
      </listitem>
    </itemizedlist>
    <bridgehead renderas="sect3">Correctifs supplémentaires</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>
            Correctif recommandé&nbsp;:
         <ulink url="&patch-root;/MesaLib-&mesalib-version;-add_xdemos-5.patch"/>
          (Nécessaire pour tester l'installation de Xorg par les instructions de BLFS).
       </para>
      </listitem>
    </itemizedlist>

   <bridgehead renderas="sect3">Dépendances de MesaLib</bridgehead>

    <bridgehead renderas="sect4">Requises</bridgehead>
    <para role="required">
      <xref linkend="expat"/>,
      <xref linkend="libdrm"/>,
      <xref linkend="libxml2"/>,
      <xref linkend="makedepend"/> et,
      <xref linkend="xorg7-lib"/>
    </para>

   <bridgehead renderas="sect4">Recommandées</bridgehead>
    <para role="recommended">
      <xref linkend="llvm"/>
   </para>
   
    <note>
      <para>Le module <application>Python</application> <application>libxml2</application>
      doit avoir été construit pendant l'installation de <application>libxml2</application>
     ou alors la construction de <application>MesaLib</application> échouera.</para>
    </note>

    <para condition="html" role="usernotes">Notes utilisateur&nbsp;:
    <ulink url="&blfs-wiki;/mesalib"/></para>

  </sect2>

  <sect2 role="installation">
    <title>Installation de MesaLib</title>

    <note><para>Sans autres paquets, l'archive
    <filename>MesaLib-&mesalib-version;.tar.bz2</filename>
    sera extraite dans le repertoire
    <filename class="directory">Mesa-&mesalib-version;</filename>.</para></note>

    <para>
      Si vous avez téléchargé le correctif recommandé, appliquez le en lançant les commandes suivantes:
    </para>
<screen><userinput>patch -Np1 -i ../MesaLib-&mesalib-version;-add_xdemos-5.patch</userinput></screen>
    <para>
     Installez <application>MesaLib</application> en lançant les commandes
    suivantes&nbsp;:</para>

<screen><userinput>autoreconf -fi &amp;&amp;
./configure CFLAGS="-O2" CXXFLAGS="-O2"    \
            --prefix=/usr                  \
  --sysconfdir=/etc     \
  --enable-texture-float \
  --enable-gles1          \
  --enable-gles2         \
  --enable-openvg        \
  --enable-osmesa        \
  --enable-xa            \
  --enable-gbm           \
  --enable-gallium-egl   \
  --enable-gallium-gbm   \
  --enable-glx-tls       \
  --with-egl-platforms="drm,x11" \
  --with-gallium-drivers="nouveau,r300,r600,svga,swrast" &amp;&amp;
make</userinput></screen>

    <para>
      Si vous avez appliqué le correctif recommandé, construisez les programmes de démo en lançant la commande suivante:
    </para>
<screen><userinput>make -c xdemos DEMOS_PREFIX=/usr</userinput></screen>
    <para>
        Ce paquet n'est pas fourni avec une suite de tests.</para>

    <para>Maintenant, en tant qu'utilisateur <systemitem class="username">root</systemitem>&nbsp;:</para>

<screen role="root"><userinput>make install</userinput></screen>

    <para>
      Si vous avez construit les programmes de démo, installez les en lançant la commande suivante en tant qu'utilisateur
    <systemitem class="username">root</systemitem>&nbsp;:</para>

<screen role="root"><userinput>make -C xdemos DEMOS_PREFIX=/usr install</userinput></screen>

    <para>
     Si vous le souhaitez, installez les documentations facultatives en lançant les commandes suivantes en tant qu'utilisateur
      <systemitem class="username">root</systemitem>&nbsp;:
    </para>
<screen role="root"><userinput>install -v -dm755 /usr/share/doc/MesaLib-&mesalib-version; &amp;&amp;
cp -rfv docs/* /usr/share/doc/MesaLib-&mesalib-version;</userinput></screen>

  </sect2>

  <sect2 role="installation">
    <title>Installation de GLU</title>

    <para>
      Installez <application>GLU</application> en lançant les commandes suivantes:
     </para>      
<screen><userinput>./configure --prefix=/usr --disable-static &amp;&amp;
make</userinput></screen>
     <para>
      Ce paquet n'a pas de suite de tests.
    </para>
    <para>
      Maintenant, en tant qu'utilisateur <systemitem class="username">root</systemitem>&nbsp;:
    </para>
<screen role="root"><userinput>make install</userinput></screen>
  </sect2>
  <sect2 role="commands">
    <title>Explications des commandes</title>


     <para>
      <parameter>CFLAGS="-O2" CXXFLAGS="-O2"</parameter>: Par défaut,
      <application>Autoconf</application> initialise CFLAGS et CXXFLAGS à
      "-g -O2". Ce qui fait que les binaires et les bibliothèques sont construits
      avec les symboles de déboguage ce qui fait qu'ils sont plus lourd. Il est recommandé
      que vous écrasiez
      les drapeaux par défauts pour omettre le paramètre -g pour avoir au final des
      bibliothèques plus légeres.
    </para>

     <para>
      <option>--enable-texture-float</option>&nbsp;: Ce paramètre active les
      textures et les tampons d'affichage de points flottants. Merci de consulter
      <filename>docs/patents.txt</filename> pour voir s un problème légal existe
      en cas d'utilisation de cette fonctionnalité.
    </para>

    <para>
      <option>--enable-gles1</option>&nbsp;: Ce paramètre active le support
      de l'API d'OpenGL ES 1.x.
    </para>

    <para>
      <option>--enable-gles2</option>&nbsp;: Ce paramètre active le support de
      l'API d'OpenGL ES 2.x.
    </para>
 
    <para>
      <option>--enable-openvg</option>&nbsp;: Ce paramètre active le support de
      l'API d'OpenVG.
    </para>
    <para>
      <option>--enable-osmesa</option>&nbsp;: Ce paramètre active la construction
      de la bibliothèque <filename class="libraryfile">libOSMesa</filename>.
    </para>
    <para>
       <option>--enable-xa</option>&nbsp;: Ce paramètre active la construction de
      l'API d'accélération XA X (Requise pour le pilote 3D de VMware).
    </para>

  <para>
     <option>--enable-gbm</option>&nbsp;: Ce paramètre active la construction de
      la bibliothèque de <application>Mesa</application> Graphics Buffer Manager.
   </para>

  <para>
     <option>--enable-gallium-egl</option>&nbsp;: Ce paramètre active le tracker facultatif
      de EGL pour Gallium.
   </para>

      <para>
      <option>--enable-gallium-gbm</option>&nbsp;: Ce paramètre active le tracker facultatif
      de GBM pour Gallium.
    </para>

    <para>
      <option>--enable-glx-tls</option>&nbsp;: Ce paramètre active le support
      TLS dans GLX.
    </para>

     <para>
      <parameter>--with-egl-platforms="..."</parameter>&nbsp;: Ce paramètre contrôle pour quel plateforme
      EGL doit être construit. Les plateformes disponibles sont drm, x11 et wayland.
    </para>
    <para>
      <parameter>--with-gallium-drivers="..."</parameter>&nbsp;: Ce paramètre
      contrôle quels sont les pilotes Gallium qui doivent être construits. Les pilotes disponibles
      sont&nbsp;!
      i915, nouveau, r300, r600, svga and swrast. Vous devez effacer
      r300, r600 de la liste si vous n'installez pas
       <xref linkend="llvm"/>.
    </para>
    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
      href="../../xincludes/static-libraries.xml"/>


  </sect2>

  <sect2 role="content">
    <title>Contenu</title>

    <segmentedlist>
      <segtitle>Programmes installés optionnellement</segtitle>
      <segtitle>Bibliothèques installées</segtitle>
      <segtitle>Répertoires installés</segtitle>

      <seglistitem>
        <seg>
          glxgears et glxinfo
        </seg>
        <seg>
          libdricore9.0.0.so, libEGL.so, libgbm.so, libglapi.so,
          libGLESv1_CM.so, libGLESv2.so, libGL.so, libGLU.so,
          libOpenVG.so, libOSMesa.so et libxatracker.so
        </seg>
        <seg>
          /usr/include/EGL,
          /usr/include/GL,
          /usr/include/GLES,
          /usr/include/GLES2,
          /usr/include/KHR,
          /usr/include/VG et
          /usr/lib/dri
        </seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Descriptions courtes</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="glxgears">
        <term><filename>glxgears</filename></term>
        <listitem>
          <para>est une démo GL utile pour dépanner des problèmes graphiques.</para>
          <indexterm zone="mesalib glxgears">
            <primary sortas="b-glxgears">glxgears</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="glxinfo">
        <term><filename>glxinfo</filename></term>
        <listitem>
          <para>est un programme de diagnostique affichant des informations
          sur le matériel graphique et les bibliothèques GL installées.</para>
          <indexterm zone="mesalib glxinfo">
            <primary sortas="b-glxinfo">glxinfo</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libdricore">
        <term><filename class="libraryfile">libdricore9.0.0.so</filename></term>
        <listitem>
          <para>
            contient les routines courantes DRI utilisées par les pilotes DRI de <application>Mesa</application>.
          </para>
          <indexterm zone="mesalib libdricore">
            <primary sortas="c-libdricore">libdricore9.0.0.so</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="libEGL">
        <term><filename class='libraryfile'>libEGL.so</filename></term>
        <listitem>
          <para>fournit nativement un interface de plateforme graphique qui est définie
          avec les spécifications EGL-1.4.</para>
          <indexterm zone="mesalib libEGL">
            <primary sortas="c-libGL">libEGL.so</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="libgbm">
        <term><filename class="libraryfile">libgbm.so</filename></term>
        <listitem>
          <para>
            est la bibliothèque de gestion du tampon graphique de <application>Mesa</application>.
          </para>
          <indexterm zone="mesalib libgbm">
            <primary sortas="c-libgbm">libgbm.so</primary>
          </indexterm>
       </listitem>
      </varlistentry>
      <varlistentry id="libGLESv1_CM">
        <term><filename class="libraryfile">libGLESv1_CM.so</filename></term>
        <listitem>
          <para>
           est la bibliothèque  OpenGL ES 1.1 de <application>Mesa</application>.
          </para>
          <indexterm zone="mesalib libGLESv1_CM">
            <primary sortas="c-libGLESv1_CM">libGLESv1_CM.so</primary>
         </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="libGLES2">
        <term><filename class="libraryfile">libGLES2.so</filename></term>
       <listitem>
          <para>
            est la bibliothèque  OpenGL ES 2.0 de <application>Mesa</application>.
         </para>
          <indexterm zone="mesalib libGLES2">
            <primary sortas="c-libGLES2">libGLES2.so</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="libGL">
        <term><filename class='libraryfile'>libGL.so</filename></term>
        <listitem>
          <para>est la bibliothèque principale OpenGL de <application>Mesa</application> .</para>
          <indexterm zone="mesalib libGL">
            <primary sortas="c-libGL">libGL.so</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libGLU">
        <term><filename class='libraryfile'>libGLU.so</filename></term>
        <listitem>
          <para>est la bibliothèque de l'outil OpenGL de <application>Mesa</application>.</para>
          <indexterm zone="mesalib libGLU">
            <primary sortas="c-libGLU">libGLU.so</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="libOpenVG">
        <term><filename class="libraryfile">libOpenVG.so</filename></term>
        <listitem>
          <para>
            est la bibliothèque OpenVG 1.0 de <application>Mesa</application>.
          </para>
         <indexterm zone="mesalib libOpenVG">
            <primary sortas="c-libOpenVG">libOpenVG.so</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="libOSMesa">
        <term><filename class="libraryfile">libOSMesa.so</filename></term>
        <listitem>
          <para>
            est la bibliothèque de rendu hors-ligne de <application>Mesa</application>.
         </para>
          <indexterm zone="mesalib libOSMesa">
            <primary sortas="c-libOSMesa">libOSMesa.so</primary>
          </indexterm>
        </listitem>
      </varlistentry>

        <varlistentry id="libxatracker">
        <term><filename class='libraryfile'>libxatracker.so</filename></term>
        <listitem>
          <para>est la bibliothèque d'accélération de Xorg Gallium3D.</para>
          <indexterm zone="mesalib libxatracker">
            <primary sortas="c-libxatracker">libxatracker.so</primary>
          </indexterm>
        </listitem>
      </varlistentry>

     </variablelist>

  </sect2>

</sect1>
