msgid ""
msgstr ""

#. type: Content of the systemd-download-http entity
#: blfs-en/general/sysutils/systemd.xml:7
msgid "http://anduin.linuxfromscratch.org/sources/other/systemd/systemd-&systemd-version;.tar.xz"
msgstr ""

#. type: Content of the systemd-md5sum entity
#: blfs-en/general/sysutils/systemd.xml:9
msgid "2647855c8f9cdf824953f1091db2d2b2"
msgstr ""

#. type: Content of the systemd-size entity
#: blfs-en/general/sysutils/systemd.xml:10
msgid "3,840 KB"
msgstr ""

#. type: Content of the systemd-buildsize entity
#: blfs-en/general/sysutils/systemd.xml:11
msgid "447 MB"
msgstr ""

#. type: Content of the systemd-time entity
#: blfs-en/general/sysutils/systemd.xml:12
msgid "6.4 SBU"
msgstr ""

#. type: Content of: <sect1><sect1info>
#: blfs-en/general/sysutils/systemd.xml:20
msgid ""
"<othername>$LastChangedBy: igor $</othername> <date>$Date: 2016-08-28 "
"11:28:15 +0200 (Sun, 28 Aug 2016) $</date>"
msgstr ""

#. type: Content of: <sect1><title>
#: blfs-en/general/sysutils/systemd.xml:24
msgid "Systemd-&systemd-version;"
msgstr ""

#. type: Content of: <sect1><indexterm><primary>
#: blfs-en/general/sysutils/systemd.xml:27
msgid "systemd"
msgstr ""

#. type: Content of: <sect1><sect2><title>
#: blfs-en/general/sysutils/systemd.xml:31
msgid "Introduction to systemd"
msgstr ""

#. type: Content of: <sect1><sect2><para>
#: blfs-en/general/sysutils/systemd.xml:34
msgid ""
"While <application>systemd</application> was installed when building LFS, "
"there are many features provided by the package that were not included in "
"the initial installation because <application>Linux-PAM</application> was "
"not yet installed.  The <application>systemd</application> package needs to "
"be rebuilt to provide a working <command>systemd-logind</command> service, "
"which provides many additional features for dependent packages."
msgstr ""

#. type: Content of: <sect1><sect2><bridgehead>
#: blfs-en/general/sysutils/systemd.xml:45
msgid "Package Information"
msgstr ""

#. type: Content of: <sect1><sect2><itemizedlist><listitem><para>
#: blfs-en/general/sysutils/systemd.xml:48
msgid "Download (HTTP): <ulink url=\"&systemd-download-http;\"/>"
msgstr ""

#. type: Content of: <sect1><sect2><itemizedlist><listitem><para>
#: blfs-en/general/sysutils/systemd.xml:51
msgid "Download (FTP): <ulink url=\"&systemd-download-ftp;\"/>"
msgstr ""

#. type: Content of: <sect1><sect2><itemizedlist><listitem><para>
#: blfs-en/general/sysutils/systemd.xml:54
msgid "Download MD5 sum: &systemd-md5sum;"
msgstr ""

#. type: Content of: <sect1><sect2><itemizedlist><listitem><para>
#: blfs-en/general/sysutils/systemd.xml:57
msgid "Download size: &systemd-size;"
msgstr ""

#. type: Content of: <sect1><sect2><itemizedlist><listitem><para>
#: blfs-en/general/sysutils/systemd.xml:60
msgid "Estimated disk space required: &systemd-buildsize;"
msgstr ""

#. type: Content of: <sect1><sect2><itemizedlist><listitem><para>
#: blfs-en/general/sysutils/systemd.xml:63
msgid "Estimated build time: &systemd-time;"
msgstr ""

#. type: Content of: <sect1><sect2><bridgehead>
#: blfs-en/general/sysutils/systemd.xml:67
msgid "systemd Dependencies"
msgstr ""

#. type: Content of: <sect1><sect2><bridgehead>
#: blfs-en/general/sysutils/systemd.xml:69
msgid "Required"
msgstr ""

#. type: Content of: <sect1><sect2><para>
#: blfs-en/general/sysutils/systemd.xml:71
msgid "<xref linkend=\"linux-pam\"/>"
msgstr ""

#. type: Content of: <sect1><sect2><bridgehead>
#: blfs-en/general/sysutils/systemd.xml:74
msgid "Recommended Runtime Dependency"
msgstr ""

#. type: Content of: <sect1><sect2><para>
#: blfs-en/general/sysutils/systemd.xml:76
msgid "<xref linkend=\"polkit\"/>"
msgstr ""

#. type: Content of: <sect1><sect2><bridgehead>
#: blfs-en/general/sysutils/systemd.xml:79
msgid "Optional"
msgstr ""

#. type: Content of: <sect1><sect2><para>
#: blfs-en/general/sysutils/systemd.xml:81
msgid ""
"<xref linkend=\"cacerts\"/>, <xref linkend=\"curl\"/>, <xref "
"linkend=\"elfutils\"/>, <xref linkend=\"gnutls\"/>, <xref "
"linkend=\"iptables\"/>, <xref linkend=\"libgcrypt\"/>, <xref "
"linkend=\"libidn\"/>, <xref linkend=\"libxkbcommon\"/>, <xref "
"linkend=\"python2\"/> or <xref linkend=\"python3\"/>, <xref "
"linkend=\"qemu\"/>, <xref linkend=\"valgrind\"/>, <xref linkend=\"zsh\"/> "
"(for the zsh completions), <ulink "
"url=\"https://www.kernel.org/pub/linux/utils/cryptsetup/\">cryptsetup</ulink>, "
"<ulink url=\"http://sourceforge.net/projects/gnu-efi/\">gnu-efi</ulink>, "
"<ulink "
"url=\"https://www.kernel.org/pub/linux/utils/kernel/kexec/\">kexec-tools</ulink>, "
"<ulink "
"url=\"https://www.gnu.org/software/libmicrohttpd/\">libmicrohttpd</ulink>, "
"<ulink "
"url=\"http://sourceforge.net/projects/libseccomp/\">libseccomp</ulink>, "
"<ulink url=\"http://lxml.de/\">lxml</ulink> (Python Module), <ulink "
"url=\"https://github.com/Cyan4973/lz4\">lz4</ulink>, <ulink "
"url=\"http://fukuchi.org/works/qrencode/\">qrencode</ulink>, <ulink "
"url=\"http://sourceforge.net/projects/linuxquota/\">quota-tools</ulink> and "
"<ulink url=\"https://pypi.python.org/pypi/Sphinx\">Sphinx</ulink>"
msgstr ""

#. type: Content of: <sect1><sect2><note><para>
#: blfs-en/general/sysutils/systemd.xml:108
msgid ""
"In order to build the <application>systemd</application> "
"<application>Python</application> module, the "
"<application>lxml</application> package needs to be installed for the "
"corresponding <application>Python</application> version (2 or 3).  Note that "
"<command>configure</command> defaults to <application>Python "
"2</application>. In order to build the module for <application>Python "
"3</application>, make sure you pass the <envar>PYTHON=python3</envar> "
"environment variable to the <command>configure</command> command below."
msgstr ""

#. type: Content of: <sect1><sect2><bridgehead>
#: blfs-en/general/sysutils/systemd.xml:122
msgid "Optional (to rebuild the manual pages)"
msgstr ""

#. type: Content of: <sect1><sect2><para>
#: blfs-en/general/sysutils/systemd.xml:124
msgid ""
"<xref linkend=\"DocBook\"/>, <xref linkend=\"docbook-xsl\"/> and <xref "
"linkend=\"libxslt\"/>"
msgstr ""

#. type: Content of: <sect1><sect2><para>
#: blfs-en/general/sysutils/systemd.xml:129
msgid "User Notes: <ulink url=\"&blfs-wiki;/systemd\"/>"
msgstr ""

#. type: Content of: <sect1><sect2><title>
#: blfs-en/general/sysutils/systemd.xml:135
msgid "Installation of systemd"
msgstr ""

#. type: Content of: <sect1><sect2><para>
#: blfs-en/general/sysutils/systemd.xml:147
msgid "Disable two tests that always fail:"
msgstr ""

#. type: Content of: <sect1><sect2><screen>
#: blfs-en/general/sysutils/systemd.xml:150
#, no-wrap
msgid ""
"<userinput>sed -e 's:test/udev-test.pl ::g'  \\\n"
"    -e 's:test-copy$(EXEEXT) ::g' \\\n"
"    -i Makefile.in</userinput>"
msgstr ""

#. type: Content of: <sect1><sect2><para>
#: blfs-en/general/sysutils/systemd.xml:155
msgid ""
"Rebuild <application>systemd</application> by running the following "
"commands:"
msgstr ""

#. type: Content of: <sect1><sect2><screen>
#: blfs-en/general/sysutils/systemd.xml:159
#, no-wrap
msgid ""
"<userinput>cc_cv_CFLAGS__flto=no               \\\n"
"XSLTPROC=\"/usr/bin/xsltproc\"         \\\n"
"./configure --prefix=/usr            \\\n"
"            --sysconfdir=/etc        \\\n"
"            --localstatedir=/var     \\\n"
"            --with-rootprefix=       \\\n"
"            --with-rootlibdir=/lib   \\\n"
"            --enable-split-usr       \\\n"
"            --disable-firstboot      \\\n"
"            --disable-ldconfig       \\\n"
"            --disable-sysusers       \\\n"
"            --without-python         \\\n"
"            --with-default-dnssec=no \\\n"
"            --docdir=/usr/share/doc/systemd-&systemd-version; &amp;&amp;\n"
"make</userinput>"
msgstr ""

#. type: Content of: <sect1><sect2><note><para>
#: blfs-en/general/sysutils/systemd.xml:177
msgid ""
"For the best results, make sure you run the testsuite from a system that is "
"booted by the same <application>systemd</application> version you are "
"rebuilding."
msgstr ""

#. type: Content of: <sect1><sect2><para>
#: blfs-en/general/sysutils/systemd.xml:184
msgid "To test the results, issue: <command>make -k check</command>."
msgstr ""

#. type: Content of: <sect1><sect2><warning><para>
#: blfs-en/general/sysutils/systemd.xml:189
msgid ""
"Installing the package will overwrite all files installed by "
"<application>systemd</application> in LFS. It is critical that nothing uses "
"either <application>systemd</application> or <application>Udev</application> "
"libraries during the installation.  The best way to ensure that these "
"libraries are not being used is to run the installation in rescue mode. To "
"switch to rescue mode, run the following command as the <systemitem "
"class=\"username\">root</systemitem> user (from a TTY):"
msgstr ""

#. type: Content of: <sect1><sect2><warning><screen>
#: blfs-en/general/sysutils/systemd.xml:199
#, no-wrap
msgid "<userinput>systemctl start rescue.target</userinput>"
msgstr ""

#. type: Content of: <sect1><sect2><para>
#: blfs-en/general/sysutils/systemd.xml:203
msgid "Now, as the <systemitem class=\"username\">root</systemitem> user:"
msgstr ""

#. type: Content of: <sect1><sect2><screen>
#: blfs-en/general/sysutils/systemd.xml:206
#, no-wrap
msgid "<userinput>make install</userinput>"
msgstr ""

#. type: Content of: <sect1><sect2><para>
#: blfs-en/general/sysutils/systemd.xml:209
msgid ""
"Move the NSS libraries to <filename class=\"directory\">/lib</filename> by "
"running the following command as the <systemitem "
"class=\"username\">root</systemitem> user:"
msgstr ""

#. type: Content of: <sect1><sect2><screen>
#: blfs-en/general/sysutils/systemd.xml:214
#, no-wrap
msgid ""
"<userinput>mv -v /usr/lib/libnss_{myhostname,mymachines,resolve}.so.2 "
"/lib</userinput>"
msgstr ""

#. type: Content of: <sect1><sect2><para>
#: blfs-en/general/sysutils/systemd.xml:217
msgid ""
"Remove an unnecessary directory by running the following command as the "
"<systemitem class=\"username\">root</systemitem> user:"
msgstr ""

#. type: Content of: <sect1><sect2><screen>
#: blfs-en/general/sysutils/systemd.xml:221
#, no-wrap
msgid "<userinput>rm -rfv /usr/lib/rpm</userinput>"
msgstr ""

#. type: Content of: <sect1><sect2><title>
#: blfs-en/general/sysutils/systemd.xml:226
msgid "Configuring systemd"
msgstr ""

#. type: Content of: <sect1><sect2><para>
#: blfs-en/general/sysutils/systemd.xml:229
msgid ""
"The <filename>/etc/pam.d/system-sesion</filename> file needs to be modified "
"and a new file needs to be created in order for "
"<command>systemd-logind</command> to work correctly. Run the following "
"commands as the <systemitem class=\"username\">root</systemitem> user:"
msgstr ""

#. type: Content of: <sect1><sect2><screen>
#: blfs-en/general/sysutils/systemd.xml:235
#, no-wrap
msgid ""
"<userinput>cat &gt;&gt; /etc/pam.d/system-session &lt;&lt; \"EOF\"\n"
"<literal># Begin Systemd addition\n"
"    \n"
"session   required    pam_loginuid.so\n"
"session   optional    pam_systemd.so\n"
"\n"
"# End Systemd addition</literal>\n"
"EOF\n"
"\n"
"cat &gt; /etc/pam.d/systemd-user &lt;&lt; \"EOF\"\n"
"<literal># Begin /etc/pam.d/systemd-user\n"
"\n"
"account  required pam_access.so\n"
"account  include  system-account\n"
"\n"
"session  required pam_env.so\n"
"session  required pam_limits.so\n"
"session  include  system-session\n"
"\n"
"auth     required pam_deny.so\n"
"password required pam_deny.so\n"
"\n"
"# End /etc/pam.d/systemd-user</literal>\n"
"EOF</userinput>"
msgstr ""

#. type: Content of: <sect1><sect2><para>
#: blfs-en/general/sysutils/systemd.xml:261
msgid ""
"At this point, you should reload the systemd daemon, and reenter multi-user "
"mode with the following commands (as the <systemitem "
"class=\"username\">root</systemitem> user):"
msgstr ""

#. type: Content of: <sect1><sect2><screen>
#: blfs-en/general/sysutils/systemd.xml:266
#, no-wrap
msgid ""
"<userinput>systemctl daemon-reload\n"
"systemctl start multi-user.target</userinput>"
msgstr ""

#. type: Content of: <sect1><sect2><warning><para>
#: blfs-en/general/sysutils/systemd.xml:269
msgid ""
"If upgrading from a previous version of systemd and an initrd is used for "
"system boot, you should generate a new initrd before rebooting the system."
msgstr ""

#. type: Content of: <sect1><sect2><title>
#: blfs-en/general/sysutils/systemd.xml:276
msgid "Contents"
msgstr ""

#. type: Content of: <sect1><sect2><para>
#: blfs-en/general/sysutils/systemd.xml:279
msgid ""
"A list of the installed files, along with their short descriptions can be "
"found at <ulink "
"url=\"&lfs-root;/chapter06/systemd.html#contents-systemd\"/>."
msgstr ""

#. type: Content of: <sect1><sect2><para>
#: blfs-en/general/sysutils/systemd.xml:285
msgid ""
"Listed below are the newly installed libraries and directories along with "
"short descriptions."
msgstr ""

#. type: Content of: <sect1><sect2><segmentedlist><segtitle>
#: blfs-en/general/sysutils/systemd.xml:290
msgid "Installed Programs"
msgstr ""

#. type: Content of: <sect1><sect2><segmentedlist><segtitle>
#: blfs-en/general/sysutils/systemd.xml:291
msgid "Installed Libraries"
msgstr ""

#. type: Content of: <sect1><sect2><segmentedlist><segtitle>
#: blfs-en/general/sysutils/systemd.xml:292
msgid "Installed Directories"
msgstr ""

#. type: Content of: <sect1><sect2><segmentedlist><seglistitem><seg>
#: blfs-en/general/sysutils/systemd.xml:296 blfs-en/general/sysutils/systemd.xml:303
msgid "None"
msgstr ""

#. type: Content of: <sect1><sect2><segmentedlist><seglistitem><seg>
#: blfs-en/general/sysutils/systemd.xml:299
msgid "pam_systemd.so (in <filename class=\"directory\">/lib/security</filename>)"
msgstr ""

#. type: Content of: <sect1><sect2><variablelist><bridgehead>
#: blfs-en/general/sysutils/systemd.xml:309
msgid "Short Descriptions"
msgstr ""

#. type: Content of: <sect1><sect2><variablelist><varlistentry><term>
#: blfs-en/general/sysutils/systemd.xml:314
msgid "<filename class=\"libraryfile\">pam_systemd.so</filename>"
msgstr ""

#. type: Content of: <sect1><sect2><variablelist><varlistentry><listitem><para>
#: blfs-en/general/sysutils/systemd.xml:317
msgid ""
"is a PAM module used to register user sessions with the "
"<application>systemd</application> login manager, "
"<command>systemd-logind</command>."
msgstr ""

#. type: Content of: <sect1><sect2><variablelist><varlistentry><listitem><indexterm><primary>
#: blfs-en/general/sysutils/systemd.xml:322
msgid "pam_systemd.so"
msgstr ""
