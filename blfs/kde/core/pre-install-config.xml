<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;
]>

<sect1 id="kde-pre-install-config">
  <?dbhtml filename="pre-install-config.html"?>

  <sect1info>
    <othername>$LastChangedBy: randy $</othername>
    <date>$Date: 2007-04-04 21:42:53 +0200 (mer, 04 avr 2007) $</date>
  </sect1info>

  <title>Configuration de préinstallation de KDE</title>

  <para>À partir de vos préférence, réglez <envar>KDE_PREFIX</envar>.</para>

  <para>Une option est de mettre <application>KDE</application> dans la hiérarchie
  <filename class='directory'>/usr</filename>. Ceci crée un paramétrage
  plus simple mais c'est plus difficiles d'essayer plusieurs versions
  de <application>KDE</application>.</para>

<screen><userinput>export KDE_PREFIX=/usr</userinput></screen>

  <para>Une méthode de construction de plusieurs versions installe 
  <application>KDE</application> dans la hiérarchie <filename
  class='directory'>/opt</filename>&nbsp;:</para>

<screen><userinput>export KDE_PREFIX=/opt/kde-&kde-version;</userinput></screen>

  <para>Souvenez-vous d'exécuter <command>ldconfig</command> après l'installation
  des bibliothèques pour mettre à jour le cache de bibliothèques.</para>

  <para>Si vous n'installez pas <application>KDE</application> dans
  <filename class="directory">/usr</filename>, vous devrez
  faire quelques modifications de configuration&nbsp;:</para>

  <para>Vous devriez envisager d'installer le paquet <xref linkend="desktop-file-utils"/>.
  Bien qu'il ne soit pas requis, ce paquet vous permettra d'utiliser facilement 
  les fichiers <filename>.desktop</filename> existant dans 
  <filename class='directory'>/usr/share/applications</filename> (et dans
  tout autre endroit identifié par <envar>XDG_DATA_DIRS</envar>), et d'ajouter
  automatiquement ces applications au système de menu de <application>KDE</application>.</para>

  <para>Ajoutez à votre profil système ou personnel&nbsp;:</para>

<screen><literal>export PATH=$PATH:/opt/kde-&kde-version;/bin
export PKG_CONFIG_PATH=$PKG_CONFIG_PATH:/opt/kde-&kde-version;/lib/pkgconfig</literal></screen>

  <para>Ajoutez à votre <filename>/etc/ld.so.conf</filename>&nbsp;:</para>

<screen role="root"><userinput>cat &gt;&gt; /etc/ld.so.conf &lt;&lt; "EOF"
<literal># Début du supplément kde de /etc/ld.so.conf

/opt/kde-&kde-version;/lib

# Fin du supplément kde</literal>
EOF</userinput></screen>

  <indexterm zone="kde-pre-install-config">
    <primary sortas="e-etc-ld.so.conf">/etc/ld.so.conf</primary>
  </indexterm>

  <para>Ajoutez à votre <filename>/etc/man_db.conf</filename>&nbsp;:</para>

<screen role="root"><userinput>cat &gt;&gt; /etc/man_db.conf &lt;&lt; "EOF"
<literal># Début du supplément kde de man_db.conf

MANDATORY_MANPATH /opt/kde-&kde-version;/man

# Début du supplément kde de man_db.conf</literal>
EOF</userinput></screen>

  <indexterm zone="kde-pre-install-config">
    <primary sortas="e-etc-man_db.conf">/etc/man_db.conf</primary>
  </indexterm>

  <tip>
    <para>Si vous préférez installer KDE dans <filename
    class="directory">/opt</filename>, un truc pour éviter les changements de
    configuration  ci-dessus à chaque fois que vous installez une nouvelle version
    est de remplacez <filename
    class="directory">/opt/kde-&kde-version;</filename> par <filename
    class="directory">/opt/kde</filename> et de créer un lien symbolique de
    <filename
    class="directory">/opt/kde-&kde-version;</filename> vers <filename
    class="directory">/opt/kde</filename>.</para>

<screen role="root"><userinput>ln -v -sf kde-&kde-version; /opt/kde</userinput></screen>
  </tip>

</sect1>
